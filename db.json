{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/silian.txt","path":"silian.txt","modified":1,"renderable":0},{"_id":"themes/landscape/source/css/jquery-disqus-proxy.css","path":"css/jquery-disqus-proxy.css","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/style.styl","path":"css/style.styl","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/blank.gif","path":"fancybox/blank.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_loading.gif","path":"fancybox/fancybox_loading.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_loading@2x.gif","path":"fancybox/fancybox_loading@2x.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_overlay.png","path":"fancybox/fancybox_overlay.png","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_sprite.png","path":"fancybox/fancybox_sprite.png","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_sprite@2x.png","path":"fancybox/fancybox_sprite@2x.png","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.css","path":"fancybox/jquery.fancybox.css","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.js","path":"fancybox/jquery.fancybox.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.pack.js","path":"fancybox/jquery.fancybox.pack.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/js/jquery-disqus-proxy.js","path":"js/jquery-disqus-proxy.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/js/script.js","path":"js/script.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/101.jpg","path":"css/images/101.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/102.jpg","path":"css/images/102.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/103.jpg","path":"css/images/103.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/104.jpg","path":"css/images/104.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/105.jpg","path":"css/images/105.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/106.jpg","path":"css/images/106.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/107.jpg","path":"css/images/107.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/108.jpg","path":"css/images/108.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/112.jpg","path":"css/images/112.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/113.jpg","path":"css/images/113.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/114.jpg","path":"css/images/114.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/115.jpg","path":"css/images/115.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/116.jpg","path":"css/images/116.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/120.jpg","path":"css/images/120.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/121.jpg","path":"css/images/121.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/122.jpg","path":"css/images/122.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/123.jpg","path":"css/images/123.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/124.jpg","path":"css/images/124.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/125.jpg","path":"css/images/125.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/126.jpg","path":"css/images/126.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/127.jpg","path":"css/images/127.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/128.jpg","path":"css/images/128.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/129.jpg","path":"css/images/129.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/130.jpg","path":"css/images/130.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/131.jpg","path":"css/images/131.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/132.jpg","path":"css/images/132.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/136.jpg","path":"css/images/136.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/135.jpg","path":"css/images/135.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/137.jpg","path":"css/images/137.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/138.jpg","path":"css/images/138.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/140.jpg","path":"css/images/140.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/141.gif","path":"css/images/141.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/148.jpg","path":"css/images/148.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/149.jpg","path":"css/images/149.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/151.gif","path":"css/images/151.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/152.jpg","path":"css/images/152.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/153.jpg","path":"css/images/153.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/157.jpg","path":"css/images/157.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/164.gif","path":"css/images/164.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/163.jpg","path":"css/images/163.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/166.jpg","path":"css/images/166.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/167.jpg","path":"css/images/167.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/169.jpg","path":"css/images/169.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/17.jpg","path":"css/images/17.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/170.jpg","path":"css/images/170.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/172.jpg","path":"css/images/172.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/173.jpg","path":"css/images/173.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/174.jpg","path":"css/images/174.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/175.jpg","path":"css/images/175.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/176.jpg","path":"css/images/176.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/177.jpg","path":"css/images/177.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/178.jpg","path":"css/images/178.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/179.jpg","path":"css/images/179.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/18.jpg","path":"css/images/18.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/180.jpg","path":"css/images/180.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/181.jpg","path":"css/images/181.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/182.jpg","path":"css/images/182.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/183.jpg","path":"css/images/183.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/184.jpg","path":"css/images/184.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/185.jpg","path":"css/images/185.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/187.jpg","path":"css/images/187.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/188.jpg","path":"css/images/188.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/189.jpg","path":"css/images/189.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/190.jpg","path":"css/images/190.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/191.jpg","path":"css/images/191.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/192.jpg","path":"css/images/192.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/193.jpg","path":"css/images/193.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/194.jpg","path":"css/images/194.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/195.jpg","path":"css/images/195.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/196.jpg","path":"css/images/196.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/197.gif","path":"css/images/197.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/199.jpg","path":"css/images/199.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/2.jpg","path":"css/images/2.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/200.jpg","path":"css/images/200.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/201.jpg","path":"css/images/201.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/202.jpg","path":"css/images/202.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/203.jpg","path":"css/images/203.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/204.jpg","path":"css/images/204.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/205.jpg","path":"css/images/205.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/206.jpg","path":"css/images/206.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/207.jpg","path":"css/images/207.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/208.jpg","path":"css/images/208.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/209.jpg","path":"css/images/209.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/21.jpg","path":"css/images/21.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/210.jpg","path":"css/images/210.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/212.jpg","path":"css/images/212.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/213.jpg","path":"css/images/213.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/214.jpg","path":"css/images/214.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/215.jpg","path":"css/images/215.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/216.jpg","path":"css/images/216.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/218.jpg","path":"css/images/218.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/219.jpg","path":"css/images/219.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/22.jpg","path":"css/images/22.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/220.jpg","path":"css/images/220.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/221.jpg","path":"css/images/221.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/223.jpg","path":"css/images/223.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/224.jpg","path":"css/images/224.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/226.jpg","path":"css/images/226.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/225.jpg","path":"css/images/225.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/227.jpg","path":"css/images/227.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/228.jpg","path":"css/images/228.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/229.jpg","path":"css/images/229.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/23.jpg","path":"css/images/23.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/230.jpg","path":"css/images/230.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/231.jpg","path":"css/images/231.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/232.jpg","path":"css/images/232.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/233.jpg","path":"css/images/233.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/235.jpg","path":"css/images/235.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/236.jpg","path":"css/images/236.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/237.jpg","path":"css/images/237.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/238.jpg","path":"css/images/238.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/239.jpg","path":"css/images/239.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/24.jpg","path":"css/images/24.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/240.jpg","path":"css/images/240.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/25.jpg","path":"css/images/25.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/27.jpg","path":"css/images/27.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/28.jpg","path":"css/images/28.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/29.jpg","path":"css/images/29.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/30.jpg","path":"css/images/30.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/34.jpg","path":"css/images/34.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/35.jpg","path":"css/images/35.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/37.jpg","path":"css/images/37.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/38.jpg","path":"css/images/38.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/4.jpg","path":"css/images/4.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/41.jpg","path":"css/images/41.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/42.jpg","path":"css/images/42.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/43.jpg","path":"css/images/43.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/47.jpg","path":"css/images/47.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/48.jpg","path":"css/images/48.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/49.jpg","path":"css/images/49.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/5.jpg","path":"css/images/5.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/51.jpg","path":"css/images/51.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/53.jpg","path":"css/images/53.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/55.jpg","path":"css/images/55.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/56.jpg","path":"css/images/56.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/57.jpg","path":"css/images/57.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/58.jpg","path":"css/images/58.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/59.jpg","path":"css/images/59.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/6.jpg","path":"css/images/6.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/60.jpg","path":"css/images/60.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/61.jpg","path":"css/images/61.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/62.jpg","path":"css/images/62.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/63.jpg","path":"css/images/63.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/66.jpg","path":"css/images/66.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/67.jpg","path":"css/images/67.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/68.jpg","path":"css/images/68.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/69.jpg","path":"css/images/69.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/7.jpg","path":"css/images/7.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/70.jpg","path":"css/images/70.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/71.jpg","path":"css/images/71.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/72.jpg","path":"css/images/72.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/73.jpg","path":"css/images/73.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/74.jpg","path":"css/images/74.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/75.jpg","path":"css/images/75.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/76.jpg","path":"css/images/76.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/77.jpg","path":"css/images/77.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/78.jpg","path":"css/images/78.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/79.jpg","path":"css/images/79.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/80.jpg","path":"css/images/80.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/81.jpg","path":"css/images/81.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/82.jpg","path":"css/images/82.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/83.jpg","path":"css/images/83.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/84.jpg","path":"css/images/84.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/85.jpg","path":"css/images/85.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/86.jpg","path":"css/images/86.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/87.jpg","path":"css/images/87.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/88.jpg","path":"css/images/88.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/89.jpg","path":"css/images/89.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/90.jpg","path":"css/images/90.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/91.jpg","path":"css/images/91.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/92.jpg","path":"css/images/92.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/93.jpg","path":"css/images/93.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/94.jpg","path":"css/images/94.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/95.jpg","path":"css/images/95.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/96.jpg","path":"css/images/96.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/98.jpg","path":"css/images/98.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/99.jpg","path":"css/images/99.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/favicon.ico","path":"css/images/favicon.ico","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/fancybox_buttons.png","path":"fancybox/helpers/fancybox_buttons.png","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.css","path":"fancybox/helpers/jquery.fancybox-buttons.css","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.js","path":"fancybox/helpers/jquery.fancybox-buttons.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-media.js","path":"fancybox/helpers/jquery.fancybox-media.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.css","path":"fancybox/helpers/jquery.fancybox-thumbs.css","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.js","path":"fancybox/helpers/jquery.fancybox-thumbs.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/FontAwesome.otf","path":"css/fonts/FontAwesome.otf","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.eot","path":"css/fonts/fontawesome-webfont.eot","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff","path":"css/fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff2","path":"css/fonts/fontawesome-webfont.woff2","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/10.jpg","path":"css/images/10.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/100.jpg","path":"css/images/100.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/109.jpg","path":"css/images/109.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/11.jpg","path":"css/images/11.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/110.jpg","path":"css/images/110.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/111.jpg","path":"css/images/111.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/117.jpg","path":"css/images/117.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/118.jpg","path":"css/images/118.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/119.jpg","path":"css/images/119.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/12.jpg","path":"css/images/12.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/13.jpg","path":"css/images/13.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/133.jpg","path":"css/images/133.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/134.jpg","path":"css/images/134.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/139.jpg","path":"css/images/139.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/14.jpg","path":"css/images/14.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/142.jpg","path":"css/images/142.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/143.jpg","path":"css/images/143.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/144.jpg","path":"css/images/144.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/145.jpg","path":"css/images/145.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/147.gif","path":"css/images/147.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/15.jpg","path":"css/images/15.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/150.jpg","path":"css/images/150.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/155.jpg","path":"css/images/155.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/156.gif","path":"css/images/156.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/158.jpg","path":"css/images/158.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/159.jpg","path":"css/images/159.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/16.jpg","path":"css/images/16.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/160.jpg","path":"css/images/160.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/161.jpg","path":"css/images/161.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/162.jpg","path":"css/images/162.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/165.gif","path":"css/images/165.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/168.jpg","path":"css/images/168.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/171.jpg","path":"css/images/171.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/186.gif","path":"css/images/186.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/19.jpg","path":"css/images/19.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/198.gif","path":"css/images/198.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/20.jpg","path":"css/images/20.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/211.jpg","path":"css/images/211.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/217.jpg","path":"css/images/217.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/222.jpg","path":"css/images/222.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/234.jpg","path":"css/images/234.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/241.jpg","path":"css/images/241.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/242.jpg","path":"css/images/242.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/26.jpg","path":"css/images/26.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/31.jpg","path":"css/images/31.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/32.jpg","path":"css/images/32.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/33.jpg","path":"css/images/33.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/36.jpg","path":"css/images/36.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/39.jpg","path":"css/images/39.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/40.jpg","path":"css/images/40.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/44.jpg","path":"css/images/44.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/45.jpg","path":"css/images/45.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/46.jpg","path":"css/images/46.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/54.gif","path":"css/images/54.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/64.jpg","path":"css/images/64.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/65.jpg","path":"css/images/65.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/8.jpg","path":"css/images/8.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/9.jpg","path":"css/images/9.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.ttf","path":"css/fonts/fontawesome-webfont.ttf","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/146.jpg","path":"css/images/146.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/50.jpg","path":"css/images/50.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/52.jpg","path":"css/images/52.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/banner.jpg","path":"css/images/banner.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/154.jpg","path":"css/images/154.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/97.jpg","path":"css/images/97.jpg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.svg","path":"css/fonts/fontawesome-webfont.svg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/1.gif","path":"css/images/1.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/0.gif","path":"css/images/0.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/3.gif","path":"css/images/3.gif","modified":1,"renderable":1}],"Cache":[{"_id":"source/silian.txt","hash":"0cfea00a659400bc925f2cb40b66067eaf4b803b","modified":1556697733658},{"_id":"themes/landscape/.gitignore","hash":"58d26d4b5f2f94c2d02a4e4a448088e4a2527c77","modified":1555600714000},{"_id":"themes/landscape/Gruntfile.js","hash":"71adaeaac1f3cc56e36c49d549b8d8a72235c9b9","modified":1555600714000},{"_id":"themes/landscape/LICENSE","hash":"c480fce396b23997ee23cc535518ffaaf7f458f8","modified":1555600714000},{"_id":"themes/landscape/_config.yml","hash":"ba86af7c1ec6bf2a6f6335c003629ac3ccd98d68","modified":1555600714000},{"_id":"themes/landscape/package.json","hash":"544f21a0b2c7034998b36ae94dba6e3e0f39f228","modified":1555600714000},{"_id":"source/about/index.md","hash":"45e6c7a37d2dfe420e4c1dc7298ba059c43a8164","modified":1556698230643},{"_id":"source/_posts/add-two-numbers.md","hash":"40377f19f8863ad79210088b4d923b1dcfcbedc8","modified":1556697728774},{"_id":"source/_posts/appium-android-get-started.md","hash":"7c8c335fd70e14663d9107065f6b5e69f04887ac","modified":1556697728841},{"_id":"source/_posts/assign-cookies.md","hash":"3ee446192055ff05d825f7c29c140e33bd9546ab","modified":1556697728972},{"_id":"source/_posts/appium-ios-get-started.md","hash":"7106e30ab93ea4c253b17e5b2ec1ba800ec5018d","modified":1556697728911},{"_id":"source/_posts/common-puppeteer-api-collection.md","hash":"564a2a170b94354e4e524e9b587ce83bd15212c2","modified":1556698229328},{"_id":"source/_posts/construcor-function-create-class.md","hash":"bad34f25fe413f511fa73184ad6087d54d75ad9e","modified":1556697729118},{"_id":"source/_posts/custom-jinja2-filter.md","hash":"82e1cdd377e5b0e92500b714ecde1285874df61a","modified":1556698229385},{"_id":"source/_posts/dfs-linked-list-in-json.md","hash":"9b2e99bb5723b553c6536f0efad436ff7c9827f2","modified":1556697729241},{"_id":"source/_posts/dictionary.md","hash":"bfb9ed64950c916ad3f5019a4edfd41a3c49447c","modified":1556697729314},{"_id":"source/_posts/e2e-testing-with-jest-and-puppeteer.md","hash":"aa2ed98aef30c1ae32fd3c8239ba1e76360addc8","modified":1556698229448},{"_id":"source/_posts/graph.md","hash":"0be455620d2dbdd9e54f0ac4505dcc89576a3cf9","modified":1556697729462},{"_id":"source/_posts/hash-table.md","hash":"3124e2045297774d78e534676bf596c7dedfa2a5","modified":1556697729545},{"_id":"source/_posts/house-robber.md","hash":"571cc29b0a55147bbfdd7a21e802afec57053c7c","modified":1556697729638},{"_id":"source/_posts/how-to-mock-http-in-e2e-testing.md","hash":"e3546e52bcd0f62ab6ca78cc03cc6a2997b567e0","modified":1556698229519},{"_id":"source/_posts/how-to-test-dom-manipulation.md","hash":"5cbde16789502bd3cf393a9e5a6f57cdfa103e8d","modified":1556697729792},{"_id":"source/_posts/immutable-data-structures-for-functional-js.md","hash":"6869cb624c7a2a0602869795caef51a4f15195d0","modified":1556698229609},{"_id":"source/_posts/js-infinite-loop-breaker.md","hash":"3a267812e42ef86a8b66a08ee3e095740b0f2fe8","modified":1556697729948},{"_id":"source/_posts/karma-start.md","hash":"6ab7f5f2723f1b9b0ab0b50adb2ac8c45d74d06e","modified":1556698229651},{"_id":"source/_posts/karma-test-demo.md","hash":"63ef4981a1edb900d35edc0ffedbcd991c9092a9","modified":1556698229662},{"_id":"source/_posts/linked-list.md","hash":"a133459f034ac5ddce88680ef2a3635b6e2b4001","modified":1556697730146},{"_id":"source/_posts/ml-component-recognition.md","hash":"795e69a44587129acef103db577ccea014a7fea4","modified":1556697730221},{"_id":"source/_posts/n-sum.md","hash":"d682665857087ee6ee2f2ef92ad97f81ecd8f6b3","modified":1556697730298},{"_id":"source/_posts/ng-complain-r2.md","hash":"30c9b070328d874050b019cde5005bcb4599c252","modified":1556698229724},{"_id":"source/_posts/ng-jq-toggle.md","hash":"ad9ac37d882bfcade9acb4a0219e070757b21aee","modified":1556698229739},{"_id":"source/_posts/ng-requirejs-module.md","hash":"43d7b6d5f50ee8646b3faabb368dee18ce0797ec","modified":1556698229752},{"_id":"source/_posts/ng2-attribute-directive.md","hash":"98c090201c6d6a719e7f92b3912e64275934f433","modified":1556698229765},{"_id":"source/_posts/ng2-component.md","hash":"d9c38c89d033dff5fe6fba3bf6e2dd5e10f1308d","modified":1556698229780},{"_id":"source/_posts/ng2-hello.md","hash":"72972a3d8436b699d3993b1a2a2f185cbfd315bc","modified":1556698229792},{"_id":"source/_posts/ng2-http-1.md","hash":"21b373dec00e7b34f9addaf0934135c291a13748","modified":1556698229807},{"_id":"source/_posts/ng2-http-2.md","hash":"17de6f08d7efa0e26aadf4b94671ebe48e111965","modified":1556698229825},{"_id":"source/_posts/ng2-pipe.md","hash":"4202ceffca220549365e43e3f334502ef747323e","modified":1556698229842},{"_id":"source/_posts/ng2-router-2.md","hash":"db7b929fdd18c5854cb0d3ec4fd35511408c6643","modified":1556698229882},{"_id":"source/_posts/ng2-router-1.md","hash":"d28c277414bb35a62cb0ba856daa29883adea185","modified":1556698229860},{"_id":"source/_posts/ng2-service.md","hash":"2bd6285fc1f3764c7c38782e6fcbde86da78d4fa","modified":1556698229899},{"_id":"source/_posts/ng2-structural-directive.md","hash":"4883d5a251759b3c3be725d991cb89b46bd289c3","modified":1556698229926},{"_id":"source/_posts/ng2-temlate.md","hash":"3a578d5f1b8233b0eb88c2aac048a47a6cd8df7f","modified":1556698229944},{"_id":"source/_posts/nginx-cross-domain.md","hash":"af7bb56a72bd864a650f35e328c2d9eed26c7163","modified":1556698229962},{"_id":"source/_posts/node-spider.md","hash":"53cddb3aade6b563ac5571f206dcdf8800fa980b","modified":1556697731417},{"_id":"source/_posts/preact-into-the-void-0.md","hash":"47a2a2b2bb2e73e602a2b690cec2ebd69a58ab98","modified":1556698230099},{"_id":"source/_posts/queue.md","hash":"18db6344dec9a29927f9eb1846443d3849f414be","modified":1556697731586},{"_id":"source/_posts/r2-array.md","hash":"9ba52dc91bf42217589be1eed629c1eaf5a64652","modified":1556698230135},{"_id":"source/_posts/r2-async.md","hash":"e14f55779c325e3c7ba3d74cf1aea4f059e218f8","modified":1556698230153},{"_id":"source/_posts/r2-book.md","hash":"85925cd5f4657b5b9117d8a8c917c48686acb000","modified":1556698230180},{"_id":"source/_posts/r2-counter.md","hash":"9b79824cf155c9842baeb6b5e0b844647b3ccb90","modified":1556698230197},{"_id":"source/_posts/r2-database.md","hash":"485298ce2d6415da4f9942131a1fce1e853e5abe","modified":1556698230217},{"_id":"source/_posts/r2-middleware.md","hash":"572fc677e6494f8135a8b90c10621e1dbd0b79b9","modified":1556698230237},{"_id":"source/_posts/r2-ssr.md","hash":"2b0faf7bdfb92ec13c6a4594847e85f1d03e2c45","modified":1556698230252},{"_id":"source/_posts/r2-state.md","hash":"3e2e7a99fe08c282244b17cc31b4dd7532e8d166","modified":1556698230271},{"_id":"source/_posts/r2-undo.md","hash":"c97efeff25247321f128498046d79351cda2fbb8","modified":1556698230289},{"_id":"source/_posts/react-reflux.md","hash":"e4935f8d9bc1070bcad010db13a04496f34581dd","modified":1556698230308},{"_id":"source/_posts/redux-amrc.md","hash":"13a7ebc1198275808ea968d96d17329f424e3b20","modified":1556698230321},{"_id":"source/_posts/render-react-components.md","hash":"3e8fde3db40fbff02cda82c816058b5783567ff2","modified":1556697732484},{"_id":"source/_posts/requirejs-bootstraop-modal.md","hash":"88bcc68e72b4bc6dd32658ca15fadddf84cbadaa","modified":1556698230365},{"_id":"source/_posts/requirejs-search.md","hash":"6dbf3aa5c0a911d54b635d9a0ef23e2c1b8f366f","modified":1556698230383},{"_id":"source/_posts/rjs-gulp-webpack.md","hash":"8677c6d23ed50d85fab6d0d80b50fd6a221088b7","modified":1556697732674},{"_id":"source/_posts/rxjs-redux-react-amazing-1.md","hash":"3db0b3543615534d275b445b2d20f01b8a5c21bd","modified":1556698230422},{"_id":"source/_posts/rxjs-redux-react-amazing-2.md","hash":"bcec5a55ae5ae0e9940f25d3b6a5996370d6258a","modified":1556698230454},{"_id":"source/_posts/set.md","hash":"b0e24dd22c2289a86c4d9aec4ed06369247881cb","modified":1556697732904},{"_id":"source/_posts/sort-and-search.md","hash":"a8bc1544f2c622bd605fbf8e0fe399c0e36f2b47","modified":1556697732989},{"_id":"source/_posts/stack.md","hash":"99102268b680ae8af3b4f48f4a7d3e4834ad6784","modified":1556697733088},{"_id":"source/_posts/start-jest.md","hash":"c89445dcbed7db786e58c965e923826683835e9f","modified":1556697733145},{"_id":"source/_posts/svg-path-playback.md","hash":"d47889537e4b10c1eba02f32f0d8bfc2846352de","modified":1556698230537},{"_id":"source/_posts/the-ethics-of-the-internet-of-things.md","hash":"132bb5dac0d2f6488b2ef63b7da07e6e6e8e546c","modified":1556698230575},{"_id":"source/_posts/tree.md","hash":"584b686dc939917117e459f6601b010ac2e66484","modified":1556697733414},{"_id":"source/_posts/typescript-angular2-secret-weapon.md","hash":"217a8f49a5604a58256bff879e5918bf83213614","modified":1556698230623},{"_id":"source/_posts/use-js-to-get-weibo-comments.md","hash":"889cc7f75ee35713db4d1dff485321a4b70b1b42","modified":1556698230635},{"_id":"themes/landscape/languages/de.yml","hash":"3ebf0775abbee928c8d7bda943c191d166ded0d3","modified":1555600714000},{"_id":"themes/landscape/languages/default.yml","hash":"3083f319b352d21d80fc5e20113ddf27889c9d11","modified":1555600714000},{"_id":"themes/landscape/languages/es.yml","hash":"76edb1171b86532ef12cfd15f5f2c1ac3949f061","modified":1555600714000},{"_id":"themes/landscape/languages/fr.yml","hash":"84ab164b37c6abf625473e9a0c18f6f815dd5fd9","modified":1555600714000},{"_id":"themes/landscape/languages/nl.yml","hash":"12ed59faba1fc4e8cdd1d42ab55ef518dde8039c","modified":1555600714000},{"_id":"themes/landscape/languages/no.yml","hash":"965a171e70347215ec726952e63f5b47930931ef","modified":1555600714000},{"_id":"themes/landscape/languages/pt.yml","hash":"46bd5f121f4704e2cd6c0950ec18b549f03bfe5c","modified":1555600714000},{"_id":"themes/landscape/languages/ru.yml","hash":"4fda301bbd8b39f2c714e2c934eccc4b27c0a2b0","modified":1555600714000},{"_id":"themes/landscape/languages/zh-CN.yml","hash":"e4287c156b146f49957b88a54ffe6d26bf2ebad4","modified":1555600714000},{"_id":"themes/landscape/languages/zh-TW.yml","hash":"53ce3000c5f767759c7d2c4efcaa9049788599c3","modified":1555600714000},{"_id":"themes/landscape/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1555600714000},{"_id":"themes/landscape/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1555600714000},{"_id":"themes/landscape/layout/index.ejs","hash":"aa1b4456907bdb43e629be3931547e2d29ac58c8","modified":1555600714000},{"_id":"themes/landscape/layout/layout.ejs","hash":"f155824ca6130080bb057fa3e868a743c69c4cf5","modified":1555600714000},{"_id":"themes/landscape/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1555600714000},{"_id":"themes/landscape/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1555600714000},{"_id":"themes/landscape/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1555600714000},{"_id":"themes/landscape/scripts/fancybox.js","hash":"aa411cd072399df1ddc8e2181a3204678a5177d9","modified":1555600714000},{"_id":"themes/landscape/layout/_partial/after-footer.ejs","hash":"2f9906276334d2816da11ff13ef137b1fdce1504","modified":1555600714000},{"_id":"themes/landscape/layout/_partial/archive-post.ejs","hash":"c7a71425a946d05414c069ec91811b5c09a92c47","modified":1555600714000},{"_id":"themes/landscape/layout/_partial/archive.ejs","hash":"950ddd91db8718153b329b96dc14439ab8463ba5","modified":1555600714000},{"_id":"themes/landscape/layout/_partial/article.ejs","hash":"b69e5e16b4f4ef8763411407bba98ff182ffa4b1","modified":1555600714000},{"_id":"themes/landscape/layout/_partial/copyright.ejs","hash":"450db0657b6f5f49742fc85a7cecc748c7d659af","modified":1555600714000},{"_id":"themes/landscape/layout/_partial/donate.ejs","hash":"31219d8497580f61d623c0497ef0baf2f7cc37b1","modified":1555600714000},{"_id":"themes/landscape/layout/_partial/footer.ejs","hash":"5412a6b929f30b99f880501b85669e2071893994","modified":1555600714000},{"_id":"themes/landscape/layout/_partial/gauges-analytics.ejs","hash":"aad6312ac197d6c5aaf2104ac863d7eba46b772a","modified":1555600714000},{"_id":"themes/landscape/layout/_partial/google-analytics.ejs","hash":"f921e7f9223d7c95165e0f835f353b2938e40c45","modified":1555600714000},{"_id":"themes/landscape/layout/_partial/head.ejs","hash":"39ebd5de50693d94fb7737e28d0c020a6681ab62","modified":1555600714000},{"_id":"themes/landscape/layout/_partial/header.ejs","hash":"c21ca56f419d01a9f49c27b6be9f4a98402b2aa3","modified":1555600714000},{"_id":"themes/landscape/layout/_partial/mobile-nav.ejs","hash":"e952a532dfc583930a666b9d4479c32d4a84b44e","modified":1555600714000},{"_id":"themes/landscape/layout/_partial/sidebar.ejs","hash":"930da35cc2d447a92e5ee8f835735e6fd2232469","modified":1555600714000},{"_id":"themes/landscape/layout/_widget/archive.ejs","hash":"beb4a86fcc82a9bdda9289b59db5a1988918bec3","modified":1555600714000},{"_id":"themes/landscape/layout/_widget/category.ejs","hash":"dd1e5af3c6af3f5d6c85dfd5ca1766faed6a0b05","modified":1555600714000},{"_id":"themes/landscape/layout/_widget/links.ejs","hash":"db3af389930a4b64c1223378fa94cddcfaee67a7","modified":1555600714000},{"_id":"themes/landscape/layout/_widget/notice.ejs","hash":"6a9fd44a9f25cde74a542e9f0acc29880ff55414","modified":1555600714000},{"_id":"themes/landscape/layout/_widget/recent_posts.ejs","hash":"0d4f064733f8b9e45c0ce131fe4a689d570c883a","modified":1555600714000},{"_id":"themes/landscape/layout/_widget/series_posts.ejs","hash":"64d9a1c0452883121e0fa0b900d847ab9142e399","modified":1555600714000},{"_id":"themes/landscape/layout/_widget/tag.ejs","hash":"2de380865df9ab5f577f7d3bcadf44261eb5faae","modified":1555600714000},{"_id":"themes/landscape/layout/_widget/tagcloud.ejs","hash":"b4a2079101643f63993dcdb32925c9b071763b46","modified":1555600714000},{"_id":"themes/landscape/source/css/_extend.styl","hash":"222fbe6d222531d61c1ef0f868c90f747b1c2ced","modified":1555600714000},{"_id":"themes/landscape/source/css/_variables.styl","hash":"b4937264b6ac2e4ad46ff23e5f541c2e7fd3bcff","modified":1555600714000},{"_id":"themes/landscape/source/css/jquery-disqus-proxy.css","hash":"0883a52d9a7abdfdfc24548f6d0ee681508de6e0","modified":1555600714000},{"_id":"themes/landscape/source/css/style.styl","hash":"a70d9c44dac348d742702f6ba87e5bb3084d65db","modified":1555600714000},{"_id":"themes/landscape/source/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1555600714000},{"_id":"themes/landscape/source/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1555600714000},{"_id":"themes/landscape/source/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1555600714000},{"_id":"themes/landscape/source/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1555600714000},{"_id":"themes/landscape/source/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1555600714000},{"_id":"themes/landscape/source/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1555600714000},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.css","hash":"aaa582fb9eb4b7092dc69fcb2d5b1c20cca58ab6","modified":1555600714000},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.js","hash":"d08b03a42d5c4ba456ef8ba33116fdbb7a9cabed","modified":1555600714000},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.pack.js","hash":"9e0d51ca1dbe66f6c0c7aefd552dc8122e694a6e","modified":1555600714000},{"_id":"themes/landscape/source/js/jquery-disqus-proxy.js","hash":"d8675373cb2f1f6547410f9566efd4fd1b7d2510","modified":1555600714000},{"_id":"themes/landscape/source/js/script.js","hash":"16ff2f68f207ac1fc011a2eecaf3ac1c4a8d98b1","modified":1555600714000},{"_id":"themes/landscape/layout/_partial/post/category.ejs","hash":"c6bcd0e04271ffca81da25bcff5adf3d46f02fc0","modified":1555600714000},{"_id":"themes/landscape/layout/_partial/post/date.ejs","hash":"6197802873157656e3077c5099a7dda3d3b01c29","modified":1555600714000},{"_id":"themes/landscape/layout/_partial/post/gallery.ejs","hash":"3d9d81a3c693ff2378ef06ddb6810254e509de5b","modified":1555600714000},{"_id":"themes/landscape/layout/_partial/post/nav.ejs","hash":"16a904de7bceccbb36b4267565f2215704db2880","modified":1555600714000},{"_id":"themes/landscape/layout/_partial/post/tag.ejs","hash":"2fcb0bf9c8847a644167a27824c9bb19ac74dd14","modified":1555600714000},{"_id":"themes/landscape/layout/_partial/post/title.ejs","hash":"2f275739b6f1193c123646a5a31f37d48644c667","modified":1555600714000},{"_id":"themes/landscape/source/css/_partial/archive.styl","hash":"db15f5677dc68f1730e82190bab69c24611ca292","modified":1555600714000},{"_id":"themes/landscape/source/css/_partial/article.styl","hash":"3047e728d560f1b7a31fe0997f13c566294e5b9c","modified":1555600714000},{"_id":"themes/landscape/source/css/_partial/comment.styl","hash":"79d280d8d203abb3bd933ca9b8e38c78ec684987","modified":1555600714000},{"_id":"themes/landscape/source/css/_partial/footer.styl","hash":"e35a060b8512031048919709a8e7b1ec0e40bc1b","modified":1555600714000},{"_id":"themes/landscape/source/css/_partial/header.styl","hash":"b1da11e6fafb48d61f92507e71a97ad0a19d0cb1","modified":1555600714000},{"_id":"themes/landscape/source/css/_partial/highlight.styl","hash":"bf4e7be1968dad495b04e83c95eac14c4d0ad7c0","modified":1555600714000},{"_id":"themes/landscape/source/css/_partial/mobile.styl","hash":"a399cf9e1e1cec3e4269066e2948d7ae5854d745","modified":1555600714000},{"_id":"themes/landscape/source/css/_partial/sidebar-aside.styl","hash":"890349df5145abf46ce7712010c89237900b3713","modified":1555600714000},{"_id":"themes/landscape/source/css/_partial/sidebar-bottom.styl","hash":"8fd4f30d319542babfd31f087ddbac550f000a8a","modified":1555600714000},{"_id":"themes/landscape/source/css/_partial/sidebar.styl","hash":"404ec059dc674a48b9ab89cd83f258dec4dcb24d","modified":1555600714000},{"_id":"themes/landscape/source/css/_util/grid.styl","hash":"0bf55ee5d09f193e249083602ac5fcdb1e571aed","modified":1555600714000},{"_id":"themes/landscape/source/css/_util/mixin.styl","hash":"44f32767d9fd3c1c08a60d91f181ee53c8f0dbb3","modified":1555600714000},{"_id":"themes/landscape/source/css/images/101.jpg","hash":"3926cdf0e13237098ac2667f138a99244ad53c67","modified":1556698232373},{"_id":"themes/landscape/source/css/images/102.jpg","hash":"e446088a594ec3edd400acbc69328f0f443a3cab","modified":1556698232684},{"_id":"themes/landscape/source/css/images/103.jpg","hash":"33439779fc160084b62571330802fcb7a835d45c","modified":1556698232210},{"_id":"themes/landscape/source/css/images/104.jpg","hash":"a7f31985eced6527e11fd5314ec3964c530d9042","modified":1556698232962},{"_id":"themes/landscape/source/css/images/105.jpg","hash":"7f718fec5e8ac68caed2c8fa446cb3e3b236fce6","modified":1556698232672},{"_id":"themes/landscape/source/css/images/106.jpg","hash":"2118a2caecca3b16b0b8315d432a5b84aafc6521","modified":1556698233323},{"_id":"themes/landscape/source/css/images/107.jpg","hash":"5e31cf26d45d65b6b419603d2f3b55f5a71e1920","modified":1556698232574},{"_id":"themes/landscape/source/css/images/108.jpg","hash":"7fd2bd1300cb62b8e5f4d936562f3d3aeefe0c3a","modified":1556698233114},{"_id":"themes/landscape/source/css/images/112.jpg","hash":"b0689a28cfed02dac3d6816e3dbd2308cc5d54f7","modified":1556698233412},{"_id":"themes/landscape/source/css/images/113.jpg","hash":"b5e174c14841abcf20c20323ca3bd40cc406c492","modified":1556698233443},{"_id":"themes/landscape/source/css/images/114.jpg","hash":"7680bc89c985541de288b739d9544155299e5020","modified":1556698232295},{"_id":"themes/landscape/source/css/images/115.jpg","hash":"eab45e5efd4f2b8ae060ce86d7cf54061826b995","modified":1556698233584},{"_id":"themes/landscape/source/css/images/116.jpg","hash":"fb601fd132af7946e9d3541195110f64fa7302ca","modified":1556698232625},{"_id":"themes/landscape/source/css/images/120.jpg","hash":"f2555bbf97cefc7eefdd0654151343444c8976cc","modified":1556698233163},{"_id":"themes/landscape/source/css/images/121.jpg","hash":"1295d3bf7f1b4549c4ff2f03c9a34c0df7fb5d97","modified":1556698232989},{"_id":"themes/landscape/source/css/images/122.jpg","hash":"2acf58e96834d90e4b9205d3e9dfa7bd76ded5b4","modified":1556698233625},{"_id":"themes/landscape/source/css/images/123.jpg","hash":"80d3f4f45dceda42dc09fec11eaf688e2871854d","modified":1556698231791},{"_id":"themes/landscape/source/css/images/124.jpg","hash":"c3e4fa12b3492b39acb0b8fa129d61d1c7713de7","modified":1556698233342},{"_id":"themes/landscape/source/css/images/125.jpg","hash":"6011f5194013cd8211692df798f2f2d3216d9c3a","modified":1556698232997},{"_id":"themes/landscape/source/css/images/126.jpg","hash":"cea16f658ca424081b02e98e0514606aca871e94","modified":1556698232695},{"_id":"themes/landscape/source/css/images/127.jpg","hash":"ac0bfd52008697137b9fd2baff7d5e1745c9d215","modified":1556698233380},{"_id":"themes/landscape/source/css/images/128.jpg","hash":"8c754a4ae1e24c68834964c3eaa78723b71d3631","modified":1556698233926},{"_id":"themes/landscape/source/css/images/129.jpg","hash":"aad90649a6eaa1c25a4b98bffa143860d58b5b01","modified":1556698232397},{"_id":"themes/landscape/source/css/images/130.jpg","hash":"314900ed65a7b73761fcf0ff938c0aaa984b7d35","modified":1556698232070},{"_id":"themes/landscape/source/css/images/131.jpg","hash":"d31a115f5faf3d8e5fd830481891ebbbc9e7d7cf","modified":1556698233019},{"_id":"themes/landscape/source/css/images/132.jpg","hash":"747edb01faf864f21c39613636b776ac15f65945","modified":1556698233380},{"_id":"themes/landscape/source/css/images/136.jpg","hash":"d78b8c545634901d68a7e210b5f5f30dab27a6fa","modified":1556698232818},{"_id":"themes/landscape/source/css/images/135.jpg","hash":"a021c83484e69cce0e3f180bbb288807e95ef7c8","modified":1556698233899},{"_id":"themes/landscape/source/css/images/137.jpg","hash":"9f2f2e347341ab8c1aca43789305e0e18b13de43","modified":1556698233579},{"_id":"themes/landscape/source/css/images/138.jpg","hash":"3a56634ecbf3fcf6b05bec9a98b2cff94830c4c6","modified":1556698233528},{"_id":"themes/landscape/source/css/images/140.jpg","hash":"6a81f7759f9f20b8801d86361a2733a9d343c8a0","modified":1556698231822},{"_id":"themes/landscape/source/css/images/141.gif","hash":"a1b88de8945361d4d9185048e9c3a5c99221bd3d","modified":1556698232844},{"_id":"themes/landscape/source/css/images/148.jpg","hash":"4db72cd6839a0d88865d1d0f269ffbb54b40b881","modified":1556698233438},{"_id":"themes/landscape/source/css/images/149.jpg","hash":"9edebaeebd2d28ac6fb3cc535bc96ff1c6ff8c47","modified":1556698233970},{"_id":"themes/landscape/source/css/images/151.gif","hash":"a0dcef304f9abc85262a3cae924e5a4db8d30458","modified":1556698233163},{"_id":"themes/landscape/source/css/images/152.jpg","hash":"8cf0c9cae8bf0fefc7120bb57086d7788ee7ffce","modified":1556698233120},{"_id":"themes/landscape/source/css/images/153.jpg","hash":"d7dda98ffac7113729659fe2c158b74851d72584","modified":1556698233627},{"_id":"themes/landscape/source/css/images/157.jpg","hash":"6a81f7759f9f20b8801d86361a2733a9d343c8a0","modified":1556698232270},{"_id":"themes/landscape/source/css/images/164.gif","hash":"7c1153ae9fa45b6e48baa3b006b0773b27ea8a68","modified":1556698232645},{"_id":"themes/landscape/source/css/images/163.jpg","hash":"5792987016a6a41550660e5f5f86643478a82346","modified":1556698234346},{"_id":"themes/landscape/source/css/images/166.jpg","hash":"4dba4b3a3fb5d2350b06eda4b7d00a7e7d9b9c6d","modified":1556698232892},{"_id":"themes/landscape/source/css/images/167.jpg","hash":"719d96b1a100eeef0ecaf3a25fe3c94adb50b414","modified":1556698232647},{"_id":"themes/landscape/source/css/images/169.jpg","hash":"e9bcb67d78e0ccebf08b6c78afeb26b0faa76f62","modified":1556698233783},{"_id":"themes/landscape/source/css/images/17.jpg","hash":"a2040a4b0c68b37599742811b1efa0d4813be63c","modified":1556698231469},{"_id":"themes/landscape/source/css/images/170.jpg","hash":"98b469f0919e6ca5e4f6c1b82eb0922fe2782626","modified":1556698233956},{"_id":"themes/landscape/source/css/images/172.jpg","hash":"d22ca1ec600305c749587a6f41606e78827c6798","modified":1556698233249},{"_id":"themes/landscape/source/css/images/173.jpg","hash":"f116951f3f622b4d1d110f1e80db7ddbfac9b05e","modified":1556698234457},{"_id":"themes/landscape/source/css/images/174.jpg","hash":"51761e337cfba067fdfd663d352abbf9a9e44ef0","modified":1556698234198},{"_id":"themes/landscape/source/css/images/175.jpg","hash":"0cb4242c76784d21247c2e0e374275d828fa7418","modified":1556698232759},{"_id":"themes/landscape/source/css/images/176.jpg","hash":"73665448fceceebc9d3093d5509e2f1763f8d370","modified":1556698234451},{"_id":"themes/landscape/source/css/images/177.jpg","hash":"4dd116ae9b1ce072e6c18631d92cc1b2036cb44e","modified":1556698234042},{"_id":"themes/landscape/source/css/images/178.jpg","hash":"fa93f985f6da897480065acf9c7126aa1647b016","modified":1556698233828},{"_id":"themes/landscape/source/css/images/179.jpg","hash":"f74b04fdc2c1a305fc79412961e32888ac1405bb","modified":1556698234198},{"_id":"themes/landscape/source/css/images/18.jpg","hash":"dce4b51f31487810fe9371d974731e1a8c56b79a","modified":1556698231192},{"_id":"themes/landscape/source/css/images/180.jpg","hash":"066d68b4bed841f4bfbc2da344dc5aac49f0d5eb","modified":1556698233086},{"_id":"themes/landscape/source/css/images/181.jpg","hash":"f176aab0535f01bf1fe6c7202fe7cbd5f64dac25","modified":1556698233086},{"_id":"themes/landscape/source/css/images/182.jpg","hash":"5c627b177f5479099ae7a92809870f45cc26e66f","modified":1556698234611},{"_id":"themes/landscape/source/css/images/183.jpg","hash":"75dc162caa2a57222d2ff821d0ce6b04601a3ca9","modified":1556698232775},{"_id":"themes/landscape/source/css/images/184.jpg","hash":"b7f22f44bd26a7a65e67f4f7481d85bad15c11de","modified":1556698234794},{"_id":"themes/landscape/source/css/images/185.jpg","hash":"1c89bcf2b5cadb5a733d43931ded8b03d342f041","modified":1556698233943},{"_id":"themes/landscape/source/css/images/187.jpg","hash":"7ab816ffb89b4ba08a5da451a78e7d4c3cc7ccff","modified":1556698231979},{"_id":"themes/landscape/source/css/images/188.jpg","hash":"d4f5e93dbbd9ad548c54c99e564203afb8612bb8","modified":1556698233166},{"_id":"themes/landscape/source/css/images/189.jpg","hash":"1540917ce96c6960c2d876b0b80e2d4396f2e655","modified":1556698232807},{"_id":"themes/landscape/source/css/images/190.jpg","hash":"6d2b43ab1af19702d0be869000da63071fdd259e","modified":1556698232649},{"_id":"themes/landscape/source/css/images/191.jpg","hash":"0081b235669ac78a46795ec63ddf710a827cfa6e","modified":1556698233252},{"_id":"themes/landscape/source/css/images/192.jpg","hash":"61de1be9bdd6376c1a69582eb69f9c11f386b7b6","modified":1556698231842},{"_id":"themes/landscape/source/css/images/193.jpg","hash":"85520fba01b9133e4e6b072b59c4356fe0c39026","modified":1556698233564},{"_id":"themes/landscape/source/css/images/194.jpg","hash":"d7fed4c34e992076fc12d1cd28d8e1e14e8d4938","modified":1556698231842},{"_id":"themes/landscape/source/css/images/195.jpg","hash":"d7fed4c34e992076fc12d1cd28d8e1e14e8d4938","modified":1556698231569},{"_id":"themes/landscape/source/css/images/196.jpg","hash":"2999f2667115d99980656a6daa6f10e2f3de8f99","modified":1556698233237},{"_id":"themes/landscape/source/css/images/197.gif","hash":"dfabd1da25920c84afa633d9c2d99962dd6132bd","modified":1556698232973},{"_id":"themes/landscape/source/css/images/199.jpg","hash":"d0d6d7bba1c41064b070ab60bf43c171be53278e","modified":1556698234184},{"_id":"themes/landscape/source/css/images/2.jpg","hash":"be37fe0d1ba22dfb8b2ffaebe7655b4d7bce35a4","modified":1556698231523},{"_id":"themes/landscape/source/css/images/200.jpg","hash":"44290eff66e05f3028bb1344c4b3e13e59997f74","modified":1556698234306},{"_id":"themes/landscape/source/css/images/201.jpg","hash":"7d82fc1afe7fe809cc8c4a7b1d09fe63049323f5","modified":1556698233561},{"_id":"themes/landscape/source/css/images/202.jpg","hash":"3aa5dbd663606c45fffac7479683abe33c7def72","modified":1556698233943},{"_id":"themes/landscape/source/css/images/203.jpg","hash":"b63b88b905acb3aba3fdd8af647c5e295295b743","modified":1556698233332},{"_id":"themes/landscape/source/css/images/204.jpg","hash":"5e3475a912f83d19056df644f1711c54035a78bd","modified":1556698234737},{"_id":"themes/landscape/source/css/images/205.jpg","hash":"3ede2ecc20a90d4e9e5145f60c90b37673d72325","modified":1556698234120},{"_id":"themes/landscape/source/css/images/206.jpg","hash":"70a4650edbe703ea25e7a8963d9fca54f38daef4","modified":1556698234492},{"_id":"themes/landscape/source/css/images/207.jpg","hash":"471c79ce3024a22d33fc60b4f01aa9f0a3697258","modified":1556698233755},{"_id":"themes/landscape/source/css/images/208.jpg","hash":"d49ec534de8b8c94ebb902cef74e07e2f2bb75dc","modified":1556698233927},{"_id":"themes/landscape/source/css/images/209.jpg","hash":"c19e5fe50e7f6b6ecbab7484f68d40296ab78792","modified":1556698233752},{"_id":"themes/landscape/source/css/images/21.jpg","hash":"5dd52df48bdfe596404b2568f1e705bf1ccef838","modified":1556698232926},{"_id":"themes/landscape/source/css/images/210.jpg","hash":"1228393937d08e8c4446d8d110942a5f42cbcf55","modified":1556698233729},{"_id":"themes/landscape/source/css/images/212.jpg","hash":"94f762712c2b8691e7860bb518d852755f6101fb","modified":1556698233924},{"_id":"themes/landscape/source/css/images/213.jpg","hash":"4cac318623cf318d76b6dd6d8df9fa8086c04ace","modified":1556698233930},{"_id":"themes/landscape/source/css/images/214.jpg","hash":"cb8292ff4fbf74ea0430784f883aae7a564a2ba0","modified":1556698234339},{"_id":"themes/landscape/source/css/images/215.jpg","hash":"840450c5cb1fec9f12d94dcfd7deaa777d6dd75b","modified":1556698234310},{"_id":"themes/landscape/source/css/images/216.jpg","hash":"0f2e34a309d28877ac47feb34f5c2af73cdffe55","modified":1556698233741},{"_id":"themes/landscape/source/css/images/218.jpg","hash":"366c54188548421854599c06dc958b10d27ac87e","modified":1556698233519},{"_id":"themes/landscape/source/css/images/219.jpg","hash":"3a80566f53c365fceed98607bac1bee164f80ea6","modified":1556698233932},{"_id":"themes/landscape/source/css/images/22.jpg","hash":"87ffaa9fb4620d75a00b4fd3489d7bc37a13751e","modified":1556698231178},{"_id":"themes/landscape/source/css/images/220.jpg","hash":"85f87174a3a86792c7354b1a2fa1b48c7972f132","modified":1556698234246},{"_id":"themes/landscape/source/css/images/221.jpg","hash":"3dcaf724e9de439c33d54d15e81755c964354d7f","modified":1556698233741},{"_id":"themes/landscape/source/css/images/223.jpg","hash":"3c5b9c30a52274f696d86fad9f1f1bbd5a546f73","modified":1556698233880},{"_id":"themes/landscape/source/css/images/224.jpg","hash":"252c0e8fa735db0815f92ca0ed32004b34ba45ab","modified":1556698233128},{"_id":"themes/landscape/source/css/images/226.jpg","hash":"499b3769543bed7901a2e4624ca0ff39736ed8dd","modified":1556698234125},{"_id":"themes/landscape/source/css/images/225.jpg","hash":"00a74e0664b484de559947fa37d1c4edd0879939","modified":1556698233922},{"_id":"themes/landscape/source/css/images/227.jpg","hash":"ba44db6859da411fad51ae3043ca427a1de45f62","modified":1556698234428},{"_id":"themes/landscape/source/css/images/228.jpg","hash":"fb554a943fee93cb37c51f2cc3097e49fbb1a7b6","modified":1556698233089},{"_id":"themes/landscape/source/css/images/229.jpg","hash":"a3b28d4922f904570898dec15dc367f0b3da9363","modified":1556698234034},{"_id":"themes/landscape/source/css/images/23.jpg","hash":"3ce17a00c5edadb0a4f8fbd69a315a8d96abd1da","modified":1556698231494},{"_id":"themes/landscape/source/css/images/230.jpg","hash":"f6cdeb80d76e978eab16a32099f8936c832ab075","modified":1556698234591},{"_id":"themes/landscape/source/css/images/231.jpg","hash":"0bbcb9531f36d5f347d23e24181b16c9bc72d192","modified":1556698234499},{"_id":"themes/landscape/source/css/images/232.jpg","hash":"63b7d4cdea0a02a7a3658144edcaa4846ff5c011","modified":1556698234451},{"_id":"themes/landscape/source/css/images/233.jpg","hash":"83ddb54b989291a35dc5984dee73a66a453862ad","modified":1556698234350},{"_id":"themes/landscape/source/css/images/235.jpg","hash":"2d5172a6bfe2275222cfd2f9eb0f106b4172a48a","modified":1556698233261},{"_id":"themes/landscape/source/css/images/236.jpg","hash":"09c7b7cd7d609bb893ef271d0d3a98b11fba3eb6","modified":1556698233775},{"_id":"themes/landscape/source/css/images/237.jpg","hash":"3d5d93beb8c1755a27f9705ba44b4caec927dc2e","modified":1556698232963},{"_id":"themes/landscape/source/css/images/238.jpg","hash":"d6411e4f417778542bebd1dfb60b9f96376d2484","modified":1556698233822},{"_id":"themes/landscape/source/css/images/239.jpg","hash":"df7a5e795b3711b913969778c8e0f6785bed2212","modified":1556698233054},{"_id":"themes/landscape/source/css/images/24.jpg","hash":"0a59cb748fa5285606d2003536822b3861a2ec51","modified":1556698231564},{"_id":"themes/landscape/source/css/images/240.jpg","hash":"30d86128ae46340ebd0fdebf2e86c11a26de29ab","modified":1556698233882},{"_id":"themes/landscape/source/css/images/25.jpg","hash":"1259667c5714fc2ddf1a795de36cce35e99e7b3e","modified":1556698231514},{"_id":"themes/landscape/source/css/images/27.jpg","hash":"98cab9f508d84610ae8ed7360f31df1b4e2cce21","modified":1556698231195},{"_id":"themes/landscape/source/css/images/28.jpg","hash":"3579c1ab6e4e11544521fc1525c098bd28a251d9","modified":1556698231246},{"_id":"themes/landscape/source/css/images/29.jpg","hash":"653b07b8235decb5f5fc4ed326c2aa1ae0d698ec","modified":1556698231575},{"_id":"themes/landscape/source/css/images/30.jpg","hash":"aff777b8cc2469dd9ef1f144a15b9f9b7e3d84fe","modified":1556698233721},{"_id":"themes/landscape/source/css/images/34.jpg","hash":"760913fa0e6a815ef7a4912aceeb84c5f4474712","modified":1556698231208},{"_id":"themes/landscape/source/css/images/35.jpg","hash":"dadf0f0baecc91f1cd06e4afd3351af35c07d2e0","modified":1556698231262},{"_id":"themes/landscape/source/css/images/37.jpg","hash":"82bdd99c91401da704e9355bc663737a94f0227a","modified":1556698231270},{"_id":"themes/landscape/source/css/images/38.jpg","hash":"d8e49b3bf44d860057c1f4000d2753c04f1349b1","modified":1556698231588},{"_id":"themes/landscape/source/css/images/4.jpg","hash":"fdf9b844e4104b8fb4d1ea48285e2b1fdcdcefac","modified":1556698234010},{"_id":"themes/landscape/source/css/images/41.jpg","hash":"5da0f445ff8687eb9c46c35c24c946a72b44b906","modified":1556698231372},{"_id":"themes/landscape/source/css/images/42.jpg","hash":"ada6757d5a59858bd05ff4049cab4e2e154eccbd","modified":1556698231368},{"_id":"themes/landscape/source/css/images/43.jpg","hash":"9cbcbd5f0029ec5d85d14b6b025182a78bdce87b","modified":1556698231978},{"_id":"themes/landscape/source/css/images/47.jpg","hash":"2c585acad7ea643665dc65d1617fde97b15bbdd8","modified":1556698231976},{"_id":"themes/landscape/source/css/images/48.jpg","hash":"54dd5bfdc6c976ad9758100430c88b9395971f43","modified":1556698231996},{"_id":"themes/landscape/source/css/images/49.jpg","hash":"5055c321486308f173f4b710cb1f556028bf93ba","modified":1556698232706},{"_id":"themes/landscape/source/css/images/5.jpg","hash":"cf91fb822d64278025ad0792dfe244aac7dafcc7","modified":1556698230711},{"_id":"themes/landscape/source/css/images/51.jpg","hash":"928bcb5c7f18a9b3cd16556f32e7a9d76694d001","modified":1556698231617},{"_id":"themes/landscape/source/css/images/53.jpg","hash":"23556098d044b02255d58b98d6a6256fd56df643","modified":1556698232007},{"_id":"themes/landscape/source/css/images/55.jpg","hash":"4db72cd6839a0d88865d1d0f269ffbb54b40b881","modified":1556698232208},{"_id":"themes/landscape/source/css/images/56.jpg","hash":"a4b57fa9dc23cb05d9fd8d5607059548bb9db06f","modified":1556698231999},{"_id":"themes/landscape/source/css/images/57.jpg","hash":"520d8ed74791587e96ba5779ffc93f0e172c41b7","modified":1556698232659},{"_id":"themes/landscape/source/css/images/58.jpg","hash":"fc89505c3c448bb0737be7ee93cc58edc58bdac1","modified":1556698233018},{"_id":"themes/landscape/source/css/images/59.jpg","hash":"1a397ee6e0798758958c3151657167e5101d1d87","modified":1556698231973},{"_id":"themes/landscape/source/css/images/6.jpg","hash":"366c65b0472ce781e9e61454d841c488a50809f2","modified":1556698231150},{"_id":"themes/landscape/source/css/images/60.jpg","hash":"ae2f71d1d4cab05efd028b1c1e6283b60566638d","modified":1556698232976},{"_id":"themes/landscape/source/css/images/61.jpg","hash":"309ac133a336355eecc251f5740687ac5150e0cc","modified":1556698231685},{"_id":"themes/landscape/source/css/images/62.jpg","hash":"7dc45e14ceea671da540afea2dfd0c4d63f43cc7","modified":1556698232979},{"_id":"themes/landscape/source/css/images/63.jpg","hash":"7c019e81c6aade196885dd3f85398e47002387a2","modified":1556698232997},{"_id":"themes/landscape/source/css/images/66.jpg","hash":"e6b7ffeaebfdc697376c4571e795169170e0c298","modified":1556698233242},{"_id":"themes/landscape/source/css/images/67.jpg","hash":"4f9a7ac3e7f3ae01c82e56af0bb46b7914905525","modified":1556698232985},{"_id":"themes/landscape/source/css/images/68.jpg","hash":"4754bba4ab5e9b9a1b3d957d32535499196b0f9c","modified":1556698233716},{"_id":"themes/landscape/source/css/images/69.jpg","hash":"da5a889b2c0124c61edc9065474232caf805eb9e","modified":1556698232025},{"_id":"themes/landscape/source/css/images/7.jpg","hash":"193660ac9035f7f005f33df45e132aa4c2944669","modified":1556698230973},{"_id":"themes/landscape/source/css/images/70.jpg","hash":"5774f334d5a6a826da353068c44d469deaa3c69f","modified":1556698232981},{"_id":"themes/landscape/source/css/images/71.jpg","hash":"4754bba4ab5e9b9a1b3d957d32535499196b0f9c","modified":1556698233201},{"_id":"themes/landscape/source/css/images/72.jpg","hash":"68bea57fe6629cfb9b16b65310640e0ef81e3c92","modified":1556698232842},{"_id":"themes/landscape/source/css/images/73.jpg","hash":"95bae811851f0b080b69c20ea637d3303f3ee965","modified":1556698231989},{"_id":"themes/landscape/source/css/images/74.jpg","hash":"44263beb7611a84264faafe56f9f60ee11e60432","modified":1556698233260},{"_id":"themes/landscape/source/css/images/75.jpg","hash":"6b1c84cca3b16588d25b27c3ff68444f653b0033","modified":1556698232567},{"_id":"themes/landscape/source/css/images/76.jpg","hash":"6125dd6731d6dfcb1e485c2708a2c306dec783fe","modified":1556698233618},{"_id":"themes/landscape/source/css/images/77.jpg","hash":"54f0a125474454ba3c1207350567bd6322f6573e","modified":1556698233513},{"_id":"themes/landscape/source/css/images/78.jpg","hash":"d285419e924cd7556ecea7b614fda0f0ba6d12ce","modified":1556698232189},{"_id":"themes/landscape/source/css/images/79.jpg","hash":"f48462c0c9f96526eddaed229747770b667ad7c3","modified":1556698231700},{"_id":"themes/landscape/source/css/images/80.jpg","hash":"63da186d92ce1db4a58fb6e20ea4d2c08c8ff4bf","modified":1556698233629},{"_id":"themes/landscape/source/css/images/81.jpg","hash":"f63a36285284415c2b797afa3c9ff233eced4016","modified":1556698232644},{"_id":"themes/landscape/source/css/images/82.jpg","hash":"eb1c1d0d23efc8ea1a2356abea9dc315296c4a19","modified":1556698232348},{"_id":"themes/landscape/source/css/images/83.jpg","hash":"9210a940c9f4282476c3c5bb9d168d24108e8c62","modified":1556698232764},{"_id":"themes/landscape/source/css/images/84.jpg","hash":"e7a80289c55cf03987db684de9d225f776c7761b","modified":1556698233278},{"_id":"themes/landscape/source/css/images/85.jpg","hash":"aaef79534df4f556bed16a39b5a309f145eaa3d0","modified":1556698232986},{"_id":"themes/landscape/source/css/images/86.jpg","hash":"9d8ebd508af09bca9e8a7bee5d73c7b79ed5b798","modified":1556698231749},{"_id":"themes/landscape/source/css/images/87.jpg","hash":"140d742aa20885951f6b52fa5c13f4a21297b54e","modified":1556698231696},{"_id":"themes/landscape/source/css/images/88.jpg","hash":"b0355cd9e4e41a12a00a510acd2eea4155f5ef85","modified":1556698232639},{"_id":"themes/landscape/source/css/images/89.jpg","hash":"93f7a556b6d4ca61d787ef1fc823d511aee4fe93","modified":1556698232356},{"_id":"themes/landscape/source/css/images/90.jpg","hash":"c2e9fb7d877744ae4ea14c222a997d2e11584ac0","modified":1556698232432},{"_id":"themes/landscape/source/css/images/91.jpg","hash":"35aecbe28dd3546a6925d451143b4128b869a097","modified":1556698233122},{"_id":"themes/landscape/source/css/images/92.jpg","hash":"8fdb3fb08f76beb8f933bb0f2934db04c9975505","modified":1556698232012},{"_id":"themes/landscape/source/css/images/93.jpg","hash":"0456d1cc8a21df2d00abd634cc1b03dd6e0d0ab4","modified":1556698233362},{"_id":"themes/landscape/source/css/images/94.jpg","hash":"ed209f0df511e4ecffb162acbdc53ace5cab0e03","modified":1556698234115},{"_id":"themes/landscape/source/css/images/95.jpg","hash":"e85ae3ced837f7966363a72aa5b4cba0052866e1","modified":1556698231756},{"_id":"themes/landscape/source/css/images/96.jpg","hash":"0456d1cc8a21df2d00abd634cc1b03dd6e0d0ab4","modified":1556698232970},{"_id":"themes/landscape/source/css/images/98.jpg","hash":"4e35dff4da428f2e6e5242ce0b413cffbb9164e2","modified":1556698232323},{"_id":"themes/landscape/source/css/images/99.jpg","hash":"e3a0befc4a52119106edde4922ecdfff9852f78b","modified":1556698232615},{"_id":"themes/landscape/source/css/images/favicon.ico","hash":"2d24bb80a013575e7ca5420ca3dd54e6b3d0f05b","modified":1555600714000},{"_id":"themes/landscape/source/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1555600714000},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1555600714000},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.js","hash":"dc3645529a4bf72983a39fa34c1eb9146e082019","modified":1555600714000},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-media.js","hash":"294420f9ff20f4e3584d212b0c262a00a96ecdb3","modified":1555600714000},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1555600714000},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"47da1ae5401c24b5c17cc18e2730780f5c1a7a0c","modified":1555600714000},{"_id":"themes/landscape/source/css/fonts/FontAwesome.otf","hash":"1b22f17fdc38070de50e6d1ab3a32da71aa2d819","modified":1555600714000},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.eot","hash":"965ce8f688fedbeed504efd498bc9c1622d12362","modified":1555600714000},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff","hash":"6d7e6a5fc802b13694d8820fc0138037c0977d2e","modified":1555600714000},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff2","hash":"97e438cc545714309882fbceadbf344fcaddcec5","modified":1555600714000},{"_id":"themes/landscape/source/css/images/10.jpg","hash":"77200f62dba0f3f5e5eba86f9eccdaa582b3cc6d","modified":1556698231492},{"_id":"themes/landscape/source/css/images/100.jpg","hash":"17f2a7c71c4d65c3d6fee25d2292af1038aef302","modified":1556698231990},{"_id":"themes/landscape/source/css/images/109.jpg","hash":"523d87c58a7f919b5c0a6089a1801263de1bb3de","modified":1556698232584},{"_id":"themes/landscape/source/css/images/11.jpg","hash":"133fb4b2e6a7748c17e2496ae46c6c79f125bfad","modified":1556698233276},{"_id":"themes/landscape/source/css/images/110.jpg","hash":"c9203ccb001eeb382b16f7bb6e5b75676c18b7e8","modified":1556698232406},{"_id":"themes/landscape/source/css/images/111.jpg","hash":"84e5bf9ca049e33865ea35ea5b32f411d7319d2b","modified":1556698233431},{"_id":"themes/landscape/source/css/images/117.jpg","hash":"9ff84b054023c97b8c30cec9bca21e1792b332eb","modified":1556698232494},{"_id":"themes/landscape/source/css/images/118.jpg","hash":"6fd5ce2480bcc8d6e2ba0b70a8de83073bb8ea9b","modified":1556698232482},{"_id":"themes/landscape/source/css/images/119.jpg","hash":"638dbc233f820f13a8c0b141ef6d282c272ef77f","modified":1556698232947},{"_id":"themes/landscape/source/css/images/12.jpg","hash":"0f3ca46bf6b10d3f215dee66d44db6c9101ee67e","modified":1556698233013},{"_id":"themes/landscape/source/css/images/13.jpg","hash":"003571265ea84b2e170d1561a57c4df4896c4b27","modified":1556698233388},{"_id":"themes/landscape/source/css/images/133.jpg","hash":"489756e5a3a015127f8ae5378a12eb53b53c5853","modified":1556698234708},{"_id":"themes/landscape/source/css/images/134.jpg","hash":"452a7fa4d70527e341cc2a5d07a01eef665a7a51","modified":1556698232714},{"_id":"themes/landscape/source/css/images/139.jpg","hash":"7ac32e5bca86a3774590876cf6de752f075bb3a6","modified":1556698232264},{"_id":"themes/landscape/source/css/images/14.jpg","hash":"d4c7e3c5bc6157168fa38f1a2c0cb176f15242d8","modified":1556698231149},{"_id":"themes/landscape/source/css/images/142.jpg","hash":"d76f37c006a503721fd46d6911dee1e04f076d28","modified":1556698234186},{"_id":"themes/landscape/source/css/images/143.jpg","hash":"c5f208e4cc30d58318ba06222d5e8db53497fc56","modified":1556698234824},{"_id":"themes/landscape/source/css/images/144.jpg","hash":"b573f546d76a60c4a40316caa000aeba279b26fd","modified":1556698233885},{"_id":"themes/landscape/source/css/images/145.jpg","hash":"b573f546d76a60c4a40316caa000aeba279b26fd","modified":1556698234786},{"_id":"themes/landscape/source/css/images/147.gif","hash":"f650b9d44818827f1d36b804012fac112a23b5c8","modified":1556698234872},{"_id":"themes/landscape/source/css/images/15.jpg","hash":"fdb41da41e707911f6249eb1d365abf262e06557","modified":1556698231484},{"_id":"themes/landscape/source/css/images/150.jpg","hash":"da5d1b470b0171443afe8f9130fc691e27389fe3","modified":1556698234823},{"_id":"themes/landscape/source/css/images/155.jpg","hash":"3e2c489b00be175c1bb917fba977a78143e4d3b4","modified":1556698234016},{"_id":"themes/landscape/source/css/images/156.gif","hash":"f650b9d44818827f1d36b804012fac112a23b5c8","modified":1556698234639},{"_id":"themes/landscape/source/css/images/158.jpg","hash":"5f944bb42767ca4f46a79e10a1092f8bbff48560","modified":1556698234814},{"_id":"themes/landscape/source/css/images/159.jpg","hash":"a4c228f7a2d6376f8414ee43f64b4f5668ce60ac","modified":1556698233574},{"_id":"themes/landscape/source/css/images/16.jpg","hash":"2c673199b1a9cb4d3f34e5bf0db436cc4c5d89f9","modified":1556698231186},{"_id":"themes/landscape/source/css/images/160.jpg","hash":"091e2eae16b9d2fd459e55609868a1b540e992a1","modified":1556698233895},{"_id":"themes/landscape/source/css/images/161.jpg","hash":"d994df510f5371637580640fa04b6761b88ea0a3","modified":1556698235633},{"_id":"themes/landscape/source/css/images/162.jpg","hash":"2a53dd3f48b6bf3fedea2a78ff05b8ae8d7b6234","modified":1556698234014},{"_id":"themes/landscape/source/css/images/165.gif","hash":"71d92ffb5a48d6341d6b887337c515da0fa71138","modified":1556698234893},{"_id":"themes/landscape/source/css/images/168.jpg","hash":"f80042d9d54e5fde580e9be8bb028d3d11574d77","modified":1556698233483},{"_id":"themes/landscape/source/css/images/171.jpg","hash":"d66e2abf9bdcc4760df9c992812566986381bf34","modified":1556698234873},{"_id":"themes/landscape/source/css/images/186.gif","hash":"cc1990446c7e4e1d562db8483f50e8eb335bb591","modified":1556698234862},{"_id":"themes/landscape/source/css/images/19.jpg","hash":"0623874290b6071c36d5f91438c499d21b0e4fc4","modified":1556698231176},{"_id":"themes/landscape/source/css/images/198.gif","hash":"cc1990446c7e4e1d562db8483f50e8eb335bb591","modified":1556698233941},{"_id":"themes/landscape/source/css/images/20.jpg","hash":"31b38c5d0509564de90f244a2c13f40d32325e73","modified":1556698231169},{"_id":"themes/landscape/source/css/images/211.jpg","hash":"5a06f45b55d7351c2b76ff8fae70e1051c44dc8b","modified":1556698234117},{"_id":"themes/landscape/source/css/images/217.jpg","hash":"064b1fe731a44e67081dea6eb98fd993053443b0","modified":1556698233859},{"_id":"themes/landscape/source/css/images/222.jpg","hash":"ea66cb3eec05a6ba462e96bade8fd7aa463e760b","modified":1556698234835},{"_id":"themes/landscape/source/css/images/234.jpg","hash":"bcdf3dd186971962780e745df1134036a4a9445c","modified":1556698234900},{"_id":"themes/landscape/source/css/images/241.jpg","hash":"e9d000bf70abe74c8a02f915ceed4f88daa96ad5","modified":1556698233354},{"_id":"themes/landscape/source/css/images/242.jpg","hash":"e4630b39621208a3a2b033531624bdd16d4d1546","modified":1556698233139},{"_id":"themes/landscape/source/css/images/26.jpg","hash":"3a32f847df28580a2cb1d26a3f4c7d40bdec81dc","modified":1556698231265},{"_id":"themes/landscape/source/css/images/31.jpg","hash":"5dfec656882e033017b79da0321fd8704c976af9","modified":1556698231558},{"_id":"themes/landscape/source/css/images/32.jpg","hash":"d39c1f01823adaa9fd13d04e37df76d261845262","modified":1556698231277},{"_id":"themes/landscape/source/css/images/33.jpg","hash":"269c04e8b6704d9b334d1ab582c977c580f5d8a0","modified":1556698231504},{"_id":"themes/landscape/source/css/images/36.jpg","hash":"1692dfee85aae29507c3241e44ae30e4b0efb915","modified":1556698231845},{"_id":"themes/landscape/source/css/images/39.jpg","hash":"e88c6ab0bb95c1aea1eff193b7dccb1e382257c3","modified":1556698234079},{"_id":"themes/landscape/source/css/images/40.jpg","hash":"86d8ad909b5dd6f74adc711f13232735350f27a5","modified":1556698231955},{"_id":"themes/landscape/source/css/images/44.jpg","hash":"2b26b959f4abdae43ff687891a06825d36879332","modified":1556698231377},{"_id":"themes/landscape/source/css/images/45.jpg","hash":"ad3264cde955ff90bf68b3e6a9676228db718068","modified":1556698231588},{"_id":"themes/landscape/source/css/images/46.jpg","hash":"84c47a40ccf3454a9af502e39799dc2aba290bf9","modified":1556698233865},{"_id":"themes/landscape/source/css/images/54.gif","hash":"f604fcf6be5740cf20a57958220b8ecc2eaa6224","modified":1556698233922},{"_id":"themes/landscape/source/css/images/64.jpg","hash":"e2a5fa9b8df639ada0129d5bf77025c3aa07fbbd","modified":1556698234906},{"_id":"themes/landscape/source/css/images/65.jpg","hash":"e2a5fa9b8df639ada0129d5bf77025c3aa07fbbd","modified":1556698232366},{"_id":"themes/landscape/source/css/images/8.jpg","hash":"5351682d35bd86b0a88d585373a4213f645c2286","modified":1556698231163},{"_id":"themes/landscape/source/css/images/9.jpg","hash":"b0a7f8411c9f1927aa4f6777258f46263880cabc","modified":1556698232111},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.ttf","hash":"61d8d967807ef12598d81582fa95b9f600c3ee01","modified":1555600714000},{"_id":"themes/landscape/source/css/images/146.jpg","hash":"8c083ccb4b159e4d1f416a726201bbc2fc74c1ea","modified":1556698232750},{"_id":"themes/landscape/source/css/images/50.jpg","hash":"4127e09dd86c370aabb56a3554e276f2ff04b2eb","modified":1556698234732},{"_id":"themes/landscape/source/css/images/52.jpg","hash":"6317475ab3ae4cb30ae343e24ba856b74cefa47e","modified":1556698232642},{"_id":"themes/landscape/source/css/images/banner.jpg","hash":"03303edc26dddb441b20732ec9f5753f26f5c0b2","modified":1555600714000},{"_id":"themes/landscape/source/css/images/154.jpg","hash":"59f35e8d93f338c3d9c7425b7e5443dc37a181e4","modified":1556698234919},{"_id":"themes/landscape/source/css/images/97.jpg","hash":"71d97fd57246974d4533ef39f9036367431eba69","modified":1556698233206},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.svg","hash":"c0522272bbaef2acb3d341912754d6ea2d0ecfc0","modified":1555600714000},{"_id":"themes/landscape/source/css/images/1.gif","hash":"0aedd787dec3bba4380de515d8e7d96f83385fe6","modified":1556698234175},{"_id":"themes/landscape/source/css/images/0.gif","hash":"cb584c92f66a069bb7805b74d152d4f87ecb7c2d","modified":1556698234811},{"_id":"themes/landscape/source/css/images/3.gif","hash":"cb584c92f66a069bb7805b74d152d4f87ecb7c2d","modified":1556698234727}],"Category":[],"Data":[],"Page":[{"title":"","date":"2017-09-30T18:14:25.000Z","_content":"\n<img src=\"/css/images/242.jpg\" width = \"300\" alt=\"\" align=center style=\"border-radius:50%;\"/>\n\n90React  Redux 360\n\n[lewis617@163.com](mailto:lewis617@163.com)\n\n<http://www.liuyiqi.cn>\n\nGitHub<https://github.com/lewis617>\n\n<http://www.liuyiqi.cn/2016/11/20/r2-book>\n\n<http://i.xiami.com/liuyiqi>\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=450 src=\"//music.163.com/outchain/player?type=1&id=38248979&auto=0&height=430\"></iframe>\n\n18http://www.miaopai.com/show/uk8PpHEYyV3jaQgK3DyfLw2KiQwTdTGj5P~JWQ__.htm\n\n<video src=\"https://gslb.miaopai.com/stream/uk8PpHEYyV3jaQgK3DyfLw2KiQwTdTGj5P~JWQ__.mp4?ssig=5d6028719aca48456a32d02f2426cd7b&time_stamp=1539229377690&cookie_id=&vend=1&os=3&partner=1&platform=2&cookie_id=&refer=miaopai&scid=uk8PpHEYyV3jaQgK3DyfLw2KiQwTdTGj5P%7EJWQ__\" controls poster=\"http://imgaliyuncdn.miaopai.com/stream/uk8PpHEYyV3jaQgK3DyfLw2KiQwTdTGj5P~JWQ___la21_4.jpg\" preload=\"none\"></video>\n","source":"about/index.md","raw":"---\ntitle: \ndate: 2017-10-01 02:14:25\n---\n\n<img src=\"/css/images/242.jpg\" width = \"300\" alt=\"\" align=center style=\"border-radius:50%;\"/>\n\n90React  Redux 360\n\n[lewis617@163.com](mailto:lewis617@163.com)\n\n<http://www.liuyiqi.cn>\n\nGitHub<https://github.com/lewis617>\n\n<http://www.liuyiqi.cn/2016/11/20/r2-book>\n\n<http://i.xiami.com/liuyiqi>\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=450 src=\"//music.163.com/outchain/player?type=1&id=38248979&auto=0&height=430\"></iframe>\n\n18http://www.miaopai.com/show/uk8PpHEYyV3jaQgK3DyfLw2KiQwTdTGj5P~JWQ__.htm\n\n<video src=\"https://gslb.miaopai.com/stream/uk8PpHEYyV3jaQgK3DyfLw2KiQwTdTGj5P~JWQ__.mp4?ssig=5d6028719aca48456a32d02f2426cd7b&time_stamp=1539229377690&cookie_id=&vend=1&os=3&partner=1&platform=2&cookie_id=&refer=miaopai&scid=uk8PpHEYyV3jaQgK3DyfLw2KiQwTdTGj5P%7EJWQ__\" controls poster=\"http://imgaliyuncdn.miaopai.com/stream/uk8PpHEYyV3jaQgK3DyfLw2KiQwTdTGj5P~JWQ___la21_4.jpg\" preload=\"none\"></video>\n","updated":"2019-05-01T08:10:30.643Z","path":"about/index.html","comments":1,"layout":"page","_id":"cjv4xxvko0000tgyt0ktb6nod","content":"<p><img src=\"/css/images/242.jpg\" width=\"300\" alt=\"\" align=\"center\" style=\"border-radius:50%;\"></p>\n<p>90React  Redux 360</p>\n<p><a href=\"mailto:lewis617@163.com\" target=\"_blank\" rel=\"noopener\">lewis617@163.com</a></p>\n<p><a href=\"http://www.liuyiqi.cn\">http://www.liuyiqi.cn</a></p>\n<p>GitHub<a href=\"https://github.com/lewis617\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617</a></p>\n<p><a href=\"http://www.liuyiqi.cn/2016/11/20/r2-book\">http://www.liuyiqi.cn/2016/11/20/r2-book</a></p>\n<p><a href=\"http://i.xiami.com/liuyiqi\" target=\"_blank\" rel=\"noopener\">http://i.xiami.com/liuyiqi</a></p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"450\" src=\"//music.163.com/outchain/player?type=1&id=38248979&auto=0&height=430\"></iframe>\n\n<p>18<a href=\"http://www.miaopai.com/show/uk8PpHEYyV3jaQgK3DyfLw2KiQwTdTGj5P~JWQ__.htm\" target=\"_blank\" rel=\"noopener\">http://www.miaopai.com/show/uk8PpHEYyV3jaQgK3DyfLw2KiQwTdTGj5P~JWQ__.htm</a></p>\n<video src=\"https://gslb.miaopai.com/stream/uk8PpHEYyV3jaQgK3DyfLw2KiQwTdTGj5P~JWQ__.mp4?ssig=5d6028719aca48456a32d02f2426cd7b&time_stamp=1539229377690&cookie_id=&vend=1&os=3&partner=1&platform=2&cookie_id=&refer=miaopai&scid=uk8PpHEYyV3jaQgK3DyfLw2KiQwTdTGj5P%7EJWQ__\" controls poster=\"http://imgaliyuncdn.miaopai.com/stream/uk8PpHEYyV3jaQgK3DyfLw2KiQwTdTGj5P~JWQ___la21_4.jpg\" preload=\"none\"></video>\n","site":{"data":{}},"excerpt":"","more":"<p><img src=\"/css/images/242.jpg\" width=\"300\" alt=\"\" align=\"center\" style=\"border-radius:50%;\"></p>\n<p>90React  Redux 360</p>\n<p><a href=\"mailto:lewis617@163.com\" target=\"_blank\" rel=\"noopener\">lewis617@163.com</a></p>\n<p><a href=\"http://www.liuyiqi.cn\">http://www.liuyiqi.cn</a></p>\n<p>GitHub<a href=\"https://github.com/lewis617\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617</a></p>\n<p><a href=\"http://www.liuyiqi.cn/2016/11/20/r2-book\">http://www.liuyiqi.cn/2016/11/20/r2-book</a></p>\n<p><a href=\"http://i.xiami.com/liuyiqi\" target=\"_blank\" rel=\"noopener\">http://i.xiami.com/liuyiqi</a></p>\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"450\" src=\"//music.163.com/outchain/player?type=1&id=38248979&auto=0&height=430\"></iframe>\n\n<p>18<a href=\"http://www.miaopai.com/show/uk8PpHEYyV3jaQgK3DyfLw2KiQwTdTGj5P~JWQ__.htm\" target=\"_blank\" rel=\"noopener\">http://www.miaopai.com/show/uk8PpHEYyV3jaQgK3DyfLw2KiQwTdTGj5P~JWQ__.htm</a></p>\n<video src=\"https://gslb.miaopai.com/stream/uk8PpHEYyV3jaQgK3DyfLw2KiQwTdTGj5P~JWQ__.mp4?ssig=5d6028719aca48456a32d02f2426cd7b&time_stamp=1539229377690&cookie_id=&vend=1&os=3&partner=1&platform=2&cookie_id=&refer=miaopai&scid=uk8PpHEYyV3jaQgK3DyfLw2KiQwTdTGj5P%7EJWQ__\" controls poster=\"http://imgaliyuncdn.miaopai.com/stream/uk8PpHEYyV3jaQgK3DyfLw2KiQwTdTGj5P~JWQ___la21_4.jpg\" preload=\"none\"></video>\n"}],"Post":[{"title":"JavaScript ","date":"2017-03-11T03:41:00.000Z","_content":"\n LeetCode\n\nhttps://leetcode.com/problems/assign-cookies\n\n JavaScript\n\n<!--more-->\n\n## \n\n************\n\n1$36$20 > $10 > $5 > $1\n\n![](https://upload.wikimedia.org/wikipedia/commons/thumb/d/da/Greedy_algorithm_36_cents.svg/600px-Greedy_algorithm_36_cents.svg.png)\n\n2\n\n3\n\n\n## \n\n\n\n> \n\n `findContentChildren` \n\n```js\n//  [1, 3, 5, 4, 2][1, 1]1\nexpect(findContentChildren([1, 3, 5, 4, 2], [1, 1])).toBe(1);\n//  [10, 9, 8, 7, 6][7, 6, 5]2\nexpect(findContentChildren([10, 9, 8, 7, 6], [7, 6, 5])).toBe(2);\n```\n\n********\n\n- \n- \n- \n- \n\n JavaScript \n\nLeetCode/455-assignCookies.js\n\n```js\n/**\n * @param {number[]} g\n * @param {number[]} s\n * @return {number}\n */\nvar findContentChildren = function (g, s) {\n  var sortFunc = function (a, b) {\n    return a - b;\n  };\n  g.sort(sortFunc);\n  s.sort(sortFunc);\n  var i = 0;\n  for (var j = 0; i < g.length && j < s.length; j++) {\n    if (g[i] <= s[j]) {\n      i++;\n    }\n  }\n  return i;\n};\n```\n\n\nhttps://leetcode.com/tag/greedy/\n\n LeetCode \n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>\n\n\n","source":"_posts/assign-cookies.md","raw":"---\ntitle: JavaScript \ndate: 2017-03-11 11:41:00\ntags: [, LeetCode]\n---\n\n LeetCode\n\nhttps://leetcode.com/problems/assign-cookies\n\n JavaScript\n\n<!--more-->\n\n## \n\n************\n\n1$36$20 > $10 > $5 > $1\n\n![](https://upload.wikimedia.org/wikipedia/commons/thumb/d/da/Greedy_algorithm_36_cents.svg/600px-Greedy_algorithm_36_cents.svg.png)\n\n2\n\n3\n\n\n## \n\n\n\n> \n\n `findContentChildren` \n\n```js\n//  [1, 3, 5, 4, 2][1, 1]1\nexpect(findContentChildren([1, 3, 5, 4, 2], [1, 1])).toBe(1);\n//  [10, 9, 8, 7, 6][7, 6, 5]2\nexpect(findContentChildren([10, 9, 8, 7, 6], [7, 6, 5])).toBe(2);\n```\n\n********\n\n- \n- \n- \n- \n\n JavaScript \n\nLeetCode/455-assignCookies.js\n\n```js\n/**\n * @param {number[]} g\n * @param {number[]} s\n * @return {number}\n */\nvar findContentChildren = function (g, s) {\n  var sortFunc = function (a, b) {\n    return a - b;\n  };\n  g.sort(sortFunc);\n  s.sort(sortFunc);\n  var i = 0;\n  for (var j = 0; i < g.length && j < s.length; j++) {\n    if (g[i] <= s[j]) {\n      i++;\n    }\n  }\n  return i;\n};\n```\n\n\nhttps://leetcode.com/tag/greedy/\n\n LeetCode \n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>\n\n\n","slug":"assign-cookies","published":1,"updated":"2019-05-01T08:02:08.972Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvkq0001tgyth49yc47m","content":"<p> LeetCode</p>\n<p><a href=\"https://leetcode.com/problems/assign-cookies\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/problems/assign-cookies</a></p>\n<p> JavaScript</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><strong></strong><strong></strong></p>\n<p>1$36$20 &gt; $10 &gt; $5 &gt; $1</p>\n<p><img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/d/da/Greedy_algorithm_36_cents.svg/600px-Greedy_algorithm_36_cents.svg.png\" alt=\"\"></p>\n<p>2</p>\n<p>3</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p> <code>findContentChildren</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  [1, 3, 5, 4, 2][1, 1]1</span></span><br><span class=\"line\">expect(findContentChildren([<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>], [<span class=\"number\">1</span>, <span class=\"number\">1</span>])).toBe(<span class=\"number\">1</span>);</span><br><span class=\"line\"><span class=\"comment\">//  [10, 9, 8, 7, 6][7, 6, 5]2</span></span><br><span class=\"line\">expect(findContentChildren([<span class=\"number\">10</span>, <span class=\"number\">9</span>, <span class=\"number\">8</span>, <span class=\"number\">7</span>, <span class=\"number\">6</span>], [<span class=\"number\">7</span>, <span class=\"number\">6</span>, <span class=\"number\">5</span>])).toBe(<span class=\"number\">2</span>);</span><br></pre></td></tr></table></figure>\n<p><strong></strong><strong></strong></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p> JavaScript </p>\n<p>LeetCode/455-assignCookies.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number[]&#125; g</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number[]&#125; s</span></span><br><span class=\"line\"><span class=\"comment\"> * @return &#123;number&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> findContentChildren = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">g, s</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> sortFunc = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> a - b;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  g.sort(sortFunc);</span><br><span class=\"line\">  s.sort(sortFunc);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> j = <span class=\"number\">0</span>; i &lt; g.length &amp;&amp; j &lt; s.length; j++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (g[i] &lt;= s[j]) &#123;</span><br><span class=\"line\">      i++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><a href=\"https://leetcode.com/tag/greedy/\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/tag/greedy/</a></p>\n<p> LeetCode </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>\n","site":{"data":{}},"excerpt":"<p> LeetCode</p>\n<p><a href=\"https://leetcode.com/problems/assign-cookies\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/problems/assign-cookies</a></p>\n<p> JavaScript</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><strong></strong><strong></strong></p>\n<p>1$36$20 &gt; $10 &gt; $5 &gt; $1</p>\n<p><img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/d/da/Greedy_algorithm_36_cents.svg/600px-Greedy_algorithm_36_cents.svg.png\" alt=\"\"></p>\n<p>2</p>\n<p>3</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p> <code>findContentChildren</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  [1, 3, 5, 4, 2][1, 1]1</span></span><br><span class=\"line\">expect(findContentChildren([<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>], [<span class=\"number\">1</span>, <span class=\"number\">1</span>])).toBe(<span class=\"number\">1</span>);</span><br><span class=\"line\"><span class=\"comment\">//  [10, 9, 8, 7, 6][7, 6, 5]2</span></span><br><span class=\"line\">expect(findContentChildren([<span class=\"number\">10</span>, <span class=\"number\">9</span>, <span class=\"number\">8</span>, <span class=\"number\">7</span>, <span class=\"number\">6</span>], [<span class=\"number\">7</span>, <span class=\"number\">6</span>, <span class=\"number\">5</span>])).toBe(<span class=\"number\">2</span>);</span><br></pre></td></tr></table></figure>\n<p><strong></strong><strong></strong></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p> JavaScript </p>\n<p>LeetCode/455-assignCookies.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number[]&#125; g</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number[]&#125; s</span></span><br><span class=\"line\"><span class=\"comment\"> * @return &#123;number&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> findContentChildren = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">g, s</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> sortFunc = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> a - b;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  g.sort(sortFunc);</span><br><span class=\"line\">  s.sort(sortFunc);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> j = <span class=\"number\">0</span>; i &lt; g.length &amp;&amp; j &lt; s.length; j++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (g[i] &lt;= s[j]) &#123;</span><br><span class=\"line\">      i++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><a href=\"https://leetcode.com/tag/greedy/\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/tag/greedy/</a></p>\n<p> LeetCode </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>"},{"title":" Appium Android ","date":"2018-08-08T06:23:00.000Z","_content":"\n Appium  Android  App \n\n>  Mac \n\n<!--more-->\n\n##  Android \n\nAppium  App  Android  UiAutomator2 UiAutomator2 \n\n###  Homebrew\n\n Mac  Homebrew \n\n```sh\n/usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\n```\n\n###  Java\n\n```sh\nbrew tap caskroom/versions\nbrew cask install java8\n```\n\n###  JAVA_HOME \n\n\n\n```sh\nvi ~/.bash_profile\n```\n\n\n\n```sh\nexport JAVA_HOME=\"$(/usr/libexec/java_home)\"\nexport PATH=$JAVA_HOME/bin:$PATH\n```\n\n\n\n```sh\nsource ~/.bash_profile\n```\n\n###  Android SDK\n\nAndroid SDK  [Android Studio](https://developer.android.com/studio/index.html)\n\n SDK \n\n![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/560667f7c3c2da24c502e5c9555367ac.png)\n\n\n![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/8191aafc8e1052d83d9dbad2315b4486.png)\n\n###  ADNROID_HOME \n\n ANDROID_HOME  SDK \n\n\n\n```sh\nvi ~/.bash_profile\n```\n\n username \n\n```sh\nexport ANDROID_HOME=\"/Users/username/Library/Android/sdk\"\nexport PATH=$ANDROID_HOME/platform-tools:$PATH\n```\n\n\n\n```sh\nsource ~/.bash_profile\n```\n\n\n\n##  Appium \n\n Appium NPM  \n\n```sh\nnpm install -g appium\n```\n\n## \n\n### \n\n Mac \n\n```sh\nadb devices\n```\n\n###  App\n\n[ApiDemos-debug.apk](https://github.com/appium/appium/raw/master/sample-code/apps/ApiDemos-debug.apk)\n\n### \n\n```sh\nmkdir appium-test\n\ncd appium-test\n\nnpm i webdriverio\n```\n\n test.js \n\n```js\n// javascript\n\nconst wdio = require(\"webdriverio\");\n\nconst opts = {\n  port: 4723,\n  desiredCapabilities: {\n    platformName: \"Android\",\n    deviceName: \" adb devices \",\n    app: \" ApiDemos-debug.apk \",\n    automationName: \"UiAutomator2\"\n  }\n};\n\nconst client = wdio.remote(opts);\n\nclient\n  .init()\n  .click(\"~App\")\n  .back()\n  .end();\n```\n\n appium\n\n```sh\nappium\n```\n\n\n\n```sh\nnode test.js\n```\n\n ApiDemos.apk \n\n\n\n\n\n","source":"_posts/appium-android-get-started.md","raw":"---\ntitle:  Appium Android \ndate: 2018-08-08 14:23:00\ntags: [, , Appium, Android]\n---\n\n Appium  Android  App \n\n>  Mac \n\n<!--more-->\n\n##  Android \n\nAppium  App  Android  UiAutomator2 UiAutomator2 \n\n###  Homebrew\n\n Mac  Homebrew \n\n```sh\n/usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\n```\n\n###  Java\n\n```sh\nbrew tap caskroom/versions\nbrew cask install java8\n```\n\n###  JAVA_HOME \n\n\n\n```sh\nvi ~/.bash_profile\n```\n\n\n\n```sh\nexport JAVA_HOME=\"$(/usr/libexec/java_home)\"\nexport PATH=$JAVA_HOME/bin:$PATH\n```\n\n\n\n```sh\nsource ~/.bash_profile\n```\n\n###  Android SDK\n\nAndroid SDK  [Android Studio](https://developer.android.com/studio/index.html)\n\n SDK \n\n![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/560667f7c3c2da24c502e5c9555367ac.png)\n\n\n![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/8191aafc8e1052d83d9dbad2315b4486.png)\n\n###  ADNROID_HOME \n\n ANDROID_HOME  SDK \n\n\n\n```sh\nvi ~/.bash_profile\n```\n\n username \n\n```sh\nexport ANDROID_HOME=\"/Users/username/Library/Android/sdk\"\nexport PATH=$ANDROID_HOME/platform-tools:$PATH\n```\n\n\n\n```sh\nsource ~/.bash_profile\n```\n\n\n\n##  Appium \n\n Appium NPM  \n\n```sh\nnpm install -g appium\n```\n\n## \n\n### \n\n Mac \n\n```sh\nadb devices\n```\n\n###  App\n\n[ApiDemos-debug.apk](https://github.com/appium/appium/raw/master/sample-code/apps/ApiDemos-debug.apk)\n\n### \n\n```sh\nmkdir appium-test\n\ncd appium-test\n\nnpm i webdriverio\n```\n\n test.js \n\n```js\n// javascript\n\nconst wdio = require(\"webdriverio\");\n\nconst opts = {\n  port: 4723,\n  desiredCapabilities: {\n    platformName: \"Android\",\n    deviceName: \" adb devices \",\n    app: \" ApiDemos-debug.apk \",\n    automationName: \"UiAutomator2\"\n  }\n};\n\nconst client = wdio.remote(opts);\n\nclient\n  .init()\n  .click(\"~App\")\n  .back()\n  .end();\n```\n\n appium\n\n```sh\nappium\n```\n\n\n\n```sh\nnode test.js\n```\n\n ApiDemos.apk \n\n\n\n\n\n","slug":"appium-android-get-started","published":1,"updated":"2019-05-01T08:02:08.841Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvku0002tgyt388dwszg","content":"<p> Appium  Android  App </p>\n<blockquote>\n<p> Mac </p>\n</blockquote>\n<a id=\"more\"></a>\n<h2 id=\"-Android-\"><a href=\"#-Android-\" class=\"headerlink\" title=\" Android \"></a> Android </h2><p>Appium  App  Android  UiAutomator2 UiAutomator2 </p>\n<h3 id=\"-Homebrew\"><a href=\"#-Homebrew\" class=\"headerlink\" title=\" Homebrew\"></a> Homebrew</h3><p> Mac  Homebrew </p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/bin/ruby -e <span class=\"string\">\"<span class=\"variable\">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>\"</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"-Java\"><a href=\"#-Java\" class=\"headerlink\" title=\" Java\"></a> Java</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew tap caskroom/versions</span><br><span class=\"line\">brew cask install java8</span><br></pre></td></tr></table></figure>\n<h3 id=\"-JAVA-HOME-\"><a href=\"#-JAVA-HOME-\" class=\"headerlink\" title=\" JAVA_HOME \"></a> JAVA_HOME </h3><p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi ~/.bash_profile</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">export</span> JAVA_HOME=<span class=\"string\">\"<span class=\"variable\">$(/usr/libexec/java_home)</span>\"</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> PATH=<span class=\"variable\">$JAVA_HOME</span>/bin:<span class=\"variable\">$PATH</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure>\n<h3 id=\"-Android-SDK\"><a href=\"#-Android-SDK\" class=\"headerlink\" title=\" Android SDK\"></a> Android SDK</h3><p>Android SDK  <a href=\"https://developer.android.com/studio/index.html\" target=\"_blank\" rel=\"noopener\">Android Studio</a></p>\n<p> SDK </p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/560667f7c3c2da24c502e5c9555367ac.png\" alt=\"image.png\"></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/8191aafc8e1052d83d9dbad2315b4486.png\" alt=\"image.png\"></p>\n<h3 id=\"-ADNROID-HOME-\"><a href=\"#-ADNROID-HOME-\" class=\"headerlink\" title=\" ADNROID_HOME \"></a> ADNROID_HOME </h3><p> ANDROID_HOME  SDK </p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi ~/.bash_profile</span><br></pre></td></tr></table></figure>\n<p> username </p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">export</span> ANDROID_HOME=<span class=\"string\">\"/Users/username/Library/Android/sdk\"</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> PATH=<span class=\"variable\">$ANDROID_HOME</span>/platform-tools:<span class=\"variable\">$PATH</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"-Appium\"><a href=\"#-Appium\" class=\"headerlink\" title=\" Appium\"></a> Appium</h2><p> Appium NPM  </p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g appium</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> Mac </p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb devices</span><br></pre></td></tr></table></figure>\n<h3 id=\"-App\"><a href=\"#-App\" class=\"headerlink\" title=\" App\"></a> App</h3><p><a href=\"https://github.com/appium/appium/raw/master/sample-code/apps/ApiDemos-debug.apk\" target=\"_blank\" rel=\"noopener\">ApiDemos-debug.apk</a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir appium-test</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> appium-test</span><br><span class=\"line\"></span><br><span class=\"line\">npm i webdriverio</span><br></pre></td></tr></table></figure>\n<p> test.js </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// javascript</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> wdio = <span class=\"built_in\">require</span>(<span class=\"string\">\"webdriverio\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> opts = &#123;</span><br><span class=\"line\">  port: <span class=\"number\">4723</span>,</span><br><span class=\"line\">  desiredCapabilities: &#123;</span><br><span class=\"line\">    platformName: <span class=\"string\">\"Android\"</span>,</span><br><span class=\"line\">    deviceName: <span class=\"string\">\" adb devices \"</span>,</span><br><span class=\"line\">    app: <span class=\"string\">\" ApiDemos-debug.apk \"</span>,</span><br><span class=\"line\">    automationName: <span class=\"string\">\"UiAutomator2\"</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> client = wdio.remote(opts);</span><br><span class=\"line\"></span><br><span class=\"line\">client</span><br><span class=\"line\">  .init()</span><br><span class=\"line\">  .click(<span class=\"string\">\"~App\"</span>)</span><br><span class=\"line\">  .back()</span><br><span class=\"line\">  .end();</span><br></pre></td></tr></table></figure>\n<p> appium</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">appium</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node test.js</span><br></pre></td></tr></table></figure>\n<p> ApiDemos.apk </p>\n","site":{"data":{}},"excerpt":"<p> Appium  Android  App </p>\n<blockquote>\n<p> Mac </p>\n</blockquote>","more":"<h2 id=\"-Android-\"><a href=\"#-Android-\" class=\"headerlink\" title=\" Android \"></a> Android </h2><p>Appium  App  Android  UiAutomator2 UiAutomator2 </p>\n<h3 id=\"-Homebrew\"><a href=\"#-Homebrew\" class=\"headerlink\" title=\" Homebrew\"></a> Homebrew</h3><p> Mac  Homebrew </p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/bin/ruby -e <span class=\"string\">\"<span class=\"variable\">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>\"</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"-Java\"><a href=\"#-Java\" class=\"headerlink\" title=\" Java\"></a> Java</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew tap caskroom/versions</span><br><span class=\"line\">brew cask install java8</span><br></pre></td></tr></table></figure>\n<h3 id=\"-JAVA-HOME-\"><a href=\"#-JAVA-HOME-\" class=\"headerlink\" title=\" JAVA_HOME \"></a> JAVA_HOME </h3><p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi ~/.bash_profile</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">export</span> JAVA_HOME=<span class=\"string\">\"<span class=\"variable\">$(/usr/libexec/java_home)</span>\"</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> PATH=<span class=\"variable\">$JAVA_HOME</span>/bin:<span class=\"variable\">$PATH</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure>\n<h3 id=\"-Android-SDK\"><a href=\"#-Android-SDK\" class=\"headerlink\" title=\" Android SDK\"></a> Android SDK</h3><p>Android SDK  <a href=\"https://developer.android.com/studio/index.html\" target=\"_blank\" rel=\"noopener\">Android Studio</a></p>\n<p> SDK </p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/560667f7c3c2da24c502e5c9555367ac.png\" alt=\"image.png\"></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/8191aafc8e1052d83d9dbad2315b4486.png\" alt=\"image.png\"></p>\n<h3 id=\"-ADNROID-HOME-\"><a href=\"#-ADNROID-HOME-\" class=\"headerlink\" title=\" ADNROID_HOME \"></a> ADNROID_HOME </h3><p> ANDROID_HOME  SDK </p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi ~/.bash_profile</span><br></pre></td></tr></table></figure>\n<p> username </p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">export</span> ANDROID_HOME=<span class=\"string\">\"/Users/username/Library/Android/sdk\"</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> PATH=<span class=\"variable\">$ANDROID_HOME</span>/platform-tools:<span class=\"variable\">$PATH</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"-Appium\"><a href=\"#-Appium\" class=\"headerlink\" title=\" Appium\"></a> Appium</h2><p> Appium NPM  </p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g appium</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> Mac </p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb devices</span><br></pre></td></tr></table></figure>\n<h3 id=\"-App\"><a href=\"#-App\" class=\"headerlink\" title=\" App\"></a> App</h3><p><a href=\"https://github.com/appium/appium/raw/master/sample-code/apps/ApiDemos-debug.apk\" target=\"_blank\" rel=\"noopener\">ApiDemos-debug.apk</a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir appium-test</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> appium-test</span><br><span class=\"line\"></span><br><span class=\"line\">npm i webdriverio</span><br></pre></td></tr></table></figure>\n<p> test.js </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// javascript</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> wdio = <span class=\"built_in\">require</span>(<span class=\"string\">\"webdriverio\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> opts = &#123;</span><br><span class=\"line\">  port: <span class=\"number\">4723</span>,</span><br><span class=\"line\">  desiredCapabilities: &#123;</span><br><span class=\"line\">    platformName: <span class=\"string\">\"Android\"</span>,</span><br><span class=\"line\">    deviceName: <span class=\"string\">\" adb devices \"</span>,</span><br><span class=\"line\">    app: <span class=\"string\">\" ApiDemos-debug.apk \"</span>,</span><br><span class=\"line\">    automationName: <span class=\"string\">\"UiAutomator2\"</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> client = wdio.remote(opts);</span><br><span class=\"line\"></span><br><span class=\"line\">client</span><br><span class=\"line\">  .init()</span><br><span class=\"line\">  .click(<span class=\"string\">\"~App\"</span>)</span><br><span class=\"line\">  .back()</span><br><span class=\"line\">  .end();</span><br></pre></td></tr></table></figure>\n<p> appium</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">appium</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node test.js</span><br></pre></td></tr></table></figure>\n<p> ApiDemos.apk </p>"},{"title":" Appium IOS ","date":"2018-08-10T09:51:00.000Z","_content":"\n Appium  IOS  App \n\n>  Mac \n\n<!--more-->\n\n##  IOS \n\nAppium  App  IOS  XCUITest XCUITest \n\n###  XCode7 \n\n Mac  XCode App Store \n\n###  udid  IOS \n\n IOS  IOS  iPhone  udid udid  GoogleIOS  IOS \n\n### \n\n IOS  IOS  Mac \n\n\n\n- xxx.cer\n- xxx.p12\n- xxx.mobileprovision\n\n\n\n\n\n-  xxx.p12  IOS \n-  xxx.mobileprovision  XCode\n\n\n###  Homebrew\n\n Mac  Homebrew \n\n```sh\n/usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\n```\n\n###  Carthage\n\n```sh\nbrew install carthage\n```\n\n###  libimobiledevice\n\n```sh\nbrew install libimobiledevice --HEAD\n```\n\n###  ios-deploy \n\n```sh\nnpm install -g ios-deploy\n```\n\n\n\n```sh\nbrew install ios-deploy\n```\n\n\n\n##  Appium \n\n Appium NPM  \n\n```\nnpm install -g appium\n```\n\n##  WebDriverAgent\n\n WebDriverAgent.xcodeproj\n\n```\nopen $(npm root -g)/appium/node_modules/appium-xcuitest-driver/WebDriverAgent/WebDriverAgent.xcodeproj\n```\n\n WebDriverAgentRunner Signing  provisioning \n\n![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/e60eccda5f84c981c7ba933b4cc37f00.png)\n\n## \n\n iPhone  Mac  \n\n###  App \n\n IOS App  ipa \n\n### \n\n```\nmkdir appium-test\n\ncd appium-test\n\nnpm i webdriverio\n```\n\n test.js \n\n```js\n// javascript\n\nconst wdio = require(\"webdriverio\");\n\nconst opts = {\n  port: 4723,\n  desiredCapabilities: {\n    platformName: \"IOS\",\n    deviceName: \"iPhoneSettings -> General -> About -> Name \",\n    app: \" xxx.ipa \",\n    automationName: \"XCUITest\",\n    udid: \"iPhone  udid\",\n  }\n};\n\nconst client = wdio.remote(opts);\n\nclient\n  .init()\n  .end();\n```\n\n appium\n\n```\nappium\n```\n\n\n\n```\nnode test.js\n```\n\n xxx.ipa \n","source":"_posts/appium-ios-get-started.md","raw":"---\ntitle:  Appium IOS \ndate: 2018-08-010 17:51:00\ntags: [, , Appium, IOS]\n---\n\n Appium  IOS  App \n\n>  Mac \n\n<!--more-->\n\n##  IOS \n\nAppium  App  IOS  XCUITest XCUITest \n\n###  XCode7 \n\n Mac  XCode App Store \n\n###  udid  IOS \n\n IOS  IOS  iPhone  udid udid  GoogleIOS  IOS \n\n### \n\n IOS  IOS  Mac \n\n\n\n- xxx.cer\n- xxx.p12\n- xxx.mobileprovision\n\n\n\n\n\n-  xxx.p12  IOS \n-  xxx.mobileprovision  XCode\n\n\n###  Homebrew\n\n Mac  Homebrew \n\n```sh\n/usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\n```\n\n###  Carthage\n\n```sh\nbrew install carthage\n```\n\n###  libimobiledevice\n\n```sh\nbrew install libimobiledevice --HEAD\n```\n\n###  ios-deploy \n\n```sh\nnpm install -g ios-deploy\n```\n\n\n\n```sh\nbrew install ios-deploy\n```\n\n\n\n##  Appium \n\n Appium NPM  \n\n```\nnpm install -g appium\n```\n\n##  WebDriverAgent\n\n WebDriverAgent.xcodeproj\n\n```\nopen $(npm root -g)/appium/node_modules/appium-xcuitest-driver/WebDriverAgent/WebDriverAgent.xcodeproj\n```\n\n WebDriverAgentRunner Signing  provisioning \n\n![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/e60eccda5f84c981c7ba933b4cc37f00.png)\n\n## \n\n iPhone  Mac  \n\n###  App \n\n IOS App  ipa \n\n### \n\n```\nmkdir appium-test\n\ncd appium-test\n\nnpm i webdriverio\n```\n\n test.js \n\n```js\n// javascript\n\nconst wdio = require(\"webdriverio\");\n\nconst opts = {\n  port: 4723,\n  desiredCapabilities: {\n    platformName: \"IOS\",\n    deviceName: \"iPhoneSettings -> General -> About -> Name \",\n    app: \" xxx.ipa \",\n    automationName: \"XCUITest\",\n    udid: \"iPhone  udid\",\n  }\n};\n\nconst client = wdio.remote(opts);\n\nclient\n  .init()\n  .end();\n```\n\n appium\n\n```\nappium\n```\n\n\n\n```\nnode test.js\n```\n\n xxx.ipa \n","slug":"appium-ios-get-started","published":1,"updated":"2019-05-01T08:02:08.911Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvkx0004tgytnxauiukn","content":"<p> Appium  IOS  App </p>\n<blockquote>\n<p> Mac </p>\n</blockquote>\n<a id=\"more\"></a>\n<h2 id=\"-IOS-\"><a href=\"#-IOS-\" class=\"headerlink\" title=\" IOS \"></a> IOS </h2><p>Appium  App  IOS  XCUITest XCUITest </p>\n<h3 id=\"-XCode7-\"><a href=\"#-XCode7-\" class=\"headerlink\" title=\" XCode7 \"></a> XCode7 </h3><p> Mac  XCode App Store </p>\n<h3 id=\"-udid--IOS-\"><a href=\"#-udid--IOS-\" class=\"headerlink\" title=\" udid  IOS \"></a> udid  IOS </h3><p> IOS  IOS  iPhone  udid udid  GoogleIOS  IOS </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> IOS  IOS  Mac </p>\n<p></p>\n<ul>\n<li>xxx.cer</li>\n<li>xxx.p12</li>\n<li>xxx.mobileprovision</li>\n</ul>\n<p></p>\n<p></p>\n<ul>\n<li> xxx.p12  IOS </li>\n<li> xxx.mobileprovision  XCode</li>\n</ul>\n<h3 id=\"-Homebrew\"><a href=\"#-Homebrew\" class=\"headerlink\" title=\" Homebrew\"></a> Homebrew</h3><p> Mac  Homebrew </p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/bin/ruby -e <span class=\"string\">\"<span class=\"variable\">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>\"</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"-Carthage\"><a href=\"#-Carthage\" class=\"headerlink\" title=\" Carthage\"></a> Carthage</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install carthage</span><br></pre></td></tr></table></figure>\n<h3 id=\"-libimobiledevice\"><a href=\"#-libimobiledevice\" class=\"headerlink\" title=\" libimobiledevice\"></a> libimobiledevice</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install libimobiledevice --HEAD</span><br></pre></td></tr></table></figure>\n<h3 id=\"-ios-deploy\"><a href=\"#-ios-deploy\" class=\"headerlink\" title=\" ios-deploy\"></a> ios-deploy</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g ios-deploy</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install ios-deploy</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"-Appium\"><a href=\"#-Appium\" class=\"headerlink\" title=\" Appium\"></a> Appium</h2><p> Appium NPM  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g appium</span><br></pre></td></tr></table></figure>\n<h2 id=\"-WebDriverAgent\"><a href=\"#-WebDriverAgent\" class=\"headerlink\" title=\" WebDriverAgent\"></a> WebDriverAgent</h2><p> WebDriverAgent.xcodeproj</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">open $(npm root -g)/appium/node_modules/appium-xcuitest-driver/WebDriverAgent/WebDriverAgent.xcodeproj</span><br></pre></td></tr></table></figure>\n<p> WebDriverAgentRunner Signing  provisioning </p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/e60eccda5f84c981c7ba933b4cc37f00.png\" alt=\"image.png\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> iPhone  Mac  </p>\n<h3 id=\"-App-\"><a href=\"#-App-\" class=\"headerlink\" title=\" App \"></a> App </h3><p> IOS App  ipa </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir appium-test</span><br><span class=\"line\"></span><br><span class=\"line\">cd appium-test</span><br><span class=\"line\"></span><br><span class=\"line\">npm i webdriverio</span><br></pre></td></tr></table></figure>\n<p> test.js </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// javascript</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> wdio = <span class=\"built_in\">require</span>(<span class=\"string\">\"webdriverio\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> opts = &#123;</span><br><span class=\"line\">  port: <span class=\"number\">4723</span>,</span><br><span class=\"line\">  desiredCapabilities: &#123;</span><br><span class=\"line\">    platformName: <span class=\"string\">\"IOS\"</span>,</span><br><span class=\"line\">    deviceName: <span class=\"string\">\"iPhoneSettings -&gt; General -&gt; About -&gt; Name \"</span>,</span><br><span class=\"line\">    app: <span class=\"string\">\" xxx.ipa \"</span>,</span><br><span class=\"line\">    automationName: <span class=\"string\">\"XCUITest\"</span>,</span><br><span class=\"line\">    udid: <span class=\"string\">\"iPhone  udid\"</span>,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> client = wdio.remote(opts);</span><br><span class=\"line\"></span><br><span class=\"line\">client</span><br><span class=\"line\">  .init()</span><br><span class=\"line\">  .end();</span><br></pre></td></tr></table></figure>\n<p> appium</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">appium</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node test.js</span><br></pre></td></tr></table></figure>\n<p> xxx.ipa </p>\n","site":{"data":{}},"excerpt":"<p> Appium  IOS  App </p>\n<blockquote>\n<p> Mac </p>\n</blockquote>","more":"<h2 id=\"-IOS-\"><a href=\"#-IOS-\" class=\"headerlink\" title=\" IOS \"></a> IOS </h2><p>Appium  App  IOS  XCUITest XCUITest </p>\n<h3 id=\"-XCode7-\"><a href=\"#-XCode7-\" class=\"headerlink\" title=\" XCode7 \"></a> XCode7 </h3><p> Mac  XCode App Store </p>\n<h3 id=\"-udid--IOS-\"><a href=\"#-udid--IOS-\" class=\"headerlink\" title=\" udid  IOS \"></a> udid  IOS </h3><p> IOS  IOS  iPhone  udid udid  GoogleIOS  IOS </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> IOS  IOS  Mac </p>\n<p></p>\n<ul>\n<li>xxx.cer</li>\n<li>xxx.p12</li>\n<li>xxx.mobileprovision</li>\n</ul>\n<p></p>\n<p></p>\n<ul>\n<li> xxx.p12  IOS </li>\n<li> xxx.mobileprovision  XCode</li>\n</ul>\n<h3 id=\"-Homebrew\"><a href=\"#-Homebrew\" class=\"headerlink\" title=\" Homebrew\"></a> Homebrew</h3><p> Mac  Homebrew </p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/bin/ruby -e <span class=\"string\">\"<span class=\"variable\">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>\"</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"-Carthage\"><a href=\"#-Carthage\" class=\"headerlink\" title=\" Carthage\"></a> Carthage</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install carthage</span><br></pre></td></tr></table></figure>\n<h3 id=\"-libimobiledevice\"><a href=\"#-libimobiledevice\" class=\"headerlink\" title=\" libimobiledevice\"></a> libimobiledevice</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install libimobiledevice --HEAD</span><br></pre></td></tr></table></figure>\n<h3 id=\"-ios-deploy\"><a href=\"#-ios-deploy\" class=\"headerlink\" title=\" ios-deploy\"></a> ios-deploy</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g ios-deploy</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install ios-deploy</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"-Appium\"><a href=\"#-Appium\" class=\"headerlink\" title=\" Appium\"></a> Appium</h2><p> Appium NPM  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g appium</span><br></pre></td></tr></table></figure>\n<h2 id=\"-WebDriverAgent\"><a href=\"#-WebDriverAgent\" class=\"headerlink\" title=\" WebDriverAgent\"></a> WebDriverAgent</h2><p> WebDriverAgent.xcodeproj</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">open $(npm root -g)/appium/node_modules/appium-xcuitest-driver/WebDriverAgent/WebDriverAgent.xcodeproj</span><br></pre></td></tr></table></figure>\n<p> WebDriverAgentRunner Signing  provisioning </p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/e60eccda5f84c981c7ba933b4cc37f00.png\" alt=\"image.png\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> iPhone  Mac  </p>\n<h3 id=\"-App-\"><a href=\"#-App-\" class=\"headerlink\" title=\" App \"></a> App </h3><p> IOS App  ipa </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir appium-test</span><br><span class=\"line\"></span><br><span class=\"line\">cd appium-test</span><br><span class=\"line\"></span><br><span class=\"line\">npm i webdriverio</span><br></pre></td></tr></table></figure>\n<p> test.js </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// javascript</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> wdio = <span class=\"built_in\">require</span>(<span class=\"string\">\"webdriverio\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> opts = &#123;</span><br><span class=\"line\">  port: <span class=\"number\">4723</span>,</span><br><span class=\"line\">  desiredCapabilities: &#123;</span><br><span class=\"line\">    platformName: <span class=\"string\">\"IOS\"</span>,</span><br><span class=\"line\">    deviceName: <span class=\"string\">\"iPhoneSettings -&gt; General -&gt; About -&gt; Name \"</span>,</span><br><span class=\"line\">    app: <span class=\"string\">\" xxx.ipa \"</span>,</span><br><span class=\"line\">    automationName: <span class=\"string\">\"XCUITest\"</span>,</span><br><span class=\"line\">    udid: <span class=\"string\">\"iPhone  udid\"</span>,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> client = wdio.remote(opts);</span><br><span class=\"line\"></span><br><span class=\"line\">client</span><br><span class=\"line\">  .init()</span><br><span class=\"line\">  .end();</span><br></pre></td></tr></table></figure>\n<p> appium</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">appium</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node test.js</span><br></pre></td></tr></table></figure>\n<p> xxx.ipa </p>"},{"title":" Puppeteer ","date":"2017-12-05T06:51:00.000Z","_content":"\n[ Jest  Puppeteer ](http://www.liuyiqi.cn/2017/12/05/e2e-testing-with-jest-and-puppeteer/) Puppeteer  JavaScript \b DOM \b\n\n<!--more-->\n\n## \n\n\n\n![](/css/images/3.gif)\n\n Puppeteer  `headless`  \b`false` `slowMo`  20-100 \n\n```js\nbrowser = await puppeteer.launch({\n    headless: false,\n    slowMo: 20\n  });\n```\n\n## \n\n\n\n```js\npage = await browser.newPage();\nawait page.goto('https://baidu.com');\n```\n\n `https://baidu.com`\n\n##  DOM \n\n DOM  Input  Puppeteer  `page.waitForSelector`  DOM \n\n```js\nawait page.waitForSelector('#loginForm');\n```\n\n ID  `loginForm` \n\n## \n\n `page.waitFor(number)` \n\n```js\nawait page.waitFor(500);\n```\n\n 500 \n\n##  JavaScript  true\n\n JavaScript  `page.waitFor(Function)` \n\n```js\nawait page.waitFor(() => !document.querySelector('.ant-spin.ant-spin-spinning'));\n```\n\n Antd \n\n##  Input \n\n Input \n\n```js\nawait page.type('#username', 'lewis');\n```\n\n ID  `username`  Input  `lewis` Input  `keydown``keypress`,  `keyup` \n\n## \n\n Puppeteer \n\n```js\nawait page.click('#btn-submit');\n```\n\n ID  `btn-submit` \n\n##  JavaScript \n\n JavaScript \n\n```js\npage.evaluate(() => alert('1'));\n```\n\n `alert('1')`\n\n## \n\n Input  `value` `href` `textContent` `outerHTML`\n\n```js\nconst searchValue = await page.$eval('#search', el => el.value);\nconst preloadHref = await page.$eval('link[rel=preload]', el => el.href);\nconst text = await page.$eval('.text', el => el.textContent);\nconst html = await page.$eval('.main-container', e => e.outerHTML);\n```\n\n## \n\n\n\n```js\nconst textArray = await page.$$eval('.text', els => Array.from(els).map(el => el.textContent));\n```\n\n `text`  `textArray` \n\n\n Puppeteer  Puppeteer  API \n\n<https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md>\n\n## \n\n\n\n- \n- ``\n- \n- \n- ``\n-  `logo` ``\n- `,,` \n\n \n\n<https://github.com/lewis617/fe-test/blob/master/puppeteer-demo/liuyiqi-blog.test.js>\n\n```js\nconst puppeteer = require('puppeteer');\n\nlet browser, page;\n\nbeforeAll(async () => {\n  browser = await puppeteer.launch({\n    headless: false,\n    slowMo: 80\n  });\n  page = await browser.newPage();\n});\n\nafterAll(() => {\n  browser.close();\n});\n\ntest('open baidu page', async () => {\n  await page.goto('https://baidu.com');\n});\n\ntest('search liuiqi\\'s blog', async () => {\n  await page.waitForSelector('#kw');\n  await page.type('#kw', '');\n  await page.click('#su');\n});\n\ntest('goto liuyiqi\\'s blog', async () => {\n  await page.waitForSelector('h3.t > a');\n  await page.click('h3.t:nth-of-type(1) > a');\n\n  const pages = await browser.pages();\n  page = pages.pop();\n  await page.bringToFront();\n});\n\ntest('expect logo is ', async () => {\n  await page.waitForSelector('#logo');\n  const text = await page.$eval('#logo', el => el.textContent)\n  expect(text).toBe('');\n});\n\ntest('expect main-nav-link is ,,', async () => {\n  const textArray = await page.$$eval('.main-nav-link', els => Array.from(els).map(el => el.textContent));\n  expect(textArray).toEqual(['', '', '']);\n});\n```\n\n\n\n![](/css/images/1.gif)\n\n Puppeteer \n\n## \n\n<http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/>","source":"_posts/common-puppeteer-api-collection.md","raw":"---\ntitle:  Puppeteer \ndate: 2017-12-05 14:51:00\ntags: [Puppeteer, , , e2e]\n---\n\n[ Jest  Puppeteer ](http://www.liuyiqi.cn/2017/12/05/e2e-testing-with-jest-and-puppeteer/) Puppeteer  JavaScript \b DOM \b\n\n<!--more-->\n\n## \n\n\n\n![](/css/images/3.gif)\n\n Puppeteer  `headless`  \b`false` `slowMo`  20-100 \n\n```js\nbrowser = await puppeteer.launch({\n    headless: false,\n    slowMo: 20\n  });\n```\n\n## \n\n\n\n```js\npage = await browser.newPage();\nawait page.goto('https://baidu.com');\n```\n\n `https://baidu.com`\n\n##  DOM \n\n DOM  Input  Puppeteer  `page.waitForSelector`  DOM \n\n```js\nawait page.waitForSelector('#loginForm');\n```\n\n ID  `loginForm` \n\n## \n\n `page.waitFor(number)` \n\n```js\nawait page.waitFor(500);\n```\n\n 500 \n\n##  JavaScript  true\n\n JavaScript  `page.waitFor(Function)` \n\n```js\nawait page.waitFor(() => !document.querySelector('.ant-spin.ant-spin-spinning'));\n```\n\n Antd \n\n##  Input \n\n Input \n\n```js\nawait page.type('#username', 'lewis');\n```\n\n ID  `username`  Input  `lewis` Input  `keydown``keypress`,  `keyup` \n\n## \n\n Puppeteer \n\n```js\nawait page.click('#btn-submit');\n```\n\n ID  `btn-submit` \n\n##  JavaScript \n\n JavaScript \n\n```js\npage.evaluate(() => alert('1'));\n```\n\n `alert('1')`\n\n## \n\n Input  `value` `href` `textContent` `outerHTML`\n\n```js\nconst searchValue = await page.$eval('#search', el => el.value);\nconst preloadHref = await page.$eval('link[rel=preload]', el => el.href);\nconst text = await page.$eval('.text', el => el.textContent);\nconst html = await page.$eval('.main-container', e => e.outerHTML);\n```\n\n## \n\n\n\n```js\nconst textArray = await page.$$eval('.text', els => Array.from(els).map(el => el.textContent));\n```\n\n `text`  `textArray` \n\n\n Puppeteer  Puppeteer  API \n\n<https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md>\n\n## \n\n\n\n- \n- ``\n- \n- \n- ``\n-  `logo` ``\n- `,,` \n\n \n\n<https://github.com/lewis617/fe-test/blob/master/puppeteer-demo/liuyiqi-blog.test.js>\n\n```js\nconst puppeteer = require('puppeteer');\n\nlet browser, page;\n\nbeforeAll(async () => {\n  browser = await puppeteer.launch({\n    headless: false,\n    slowMo: 80\n  });\n  page = await browser.newPage();\n});\n\nafterAll(() => {\n  browser.close();\n});\n\ntest('open baidu page', async () => {\n  await page.goto('https://baidu.com');\n});\n\ntest('search liuiqi\\'s blog', async () => {\n  await page.waitForSelector('#kw');\n  await page.type('#kw', '');\n  await page.click('#su');\n});\n\ntest('goto liuyiqi\\'s blog', async () => {\n  await page.waitForSelector('h3.t > a');\n  await page.click('h3.t:nth-of-type(1) > a');\n\n  const pages = await browser.pages();\n  page = pages.pop();\n  await page.bringToFront();\n});\n\ntest('expect logo is ', async () => {\n  await page.waitForSelector('#logo');\n  const text = await page.$eval('#logo', el => el.textContent)\n  expect(text).toBe('');\n});\n\ntest('expect main-nav-link is ,,', async () => {\n  const textArray = await page.$$eval('.main-nav-link', els => Array.from(els).map(el => el.textContent));\n  expect(textArray).toEqual(['', '', '']);\n});\n```\n\n\n\n![](/css/images/1.gif)\n\n Puppeteer \n\n## \n\n<http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/>","slug":"common-puppeteer-api-collection","published":1,"updated":"2019-05-01T08:10:29.328Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvkz0005tgytoyohak5w","content":"<p><a href=\"http://www.liuyiqi.cn/2017/12/05/e2e-testing-with-jest-and-puppeteer/\"> Jest  Puppeteer </a> Puppeteer  JavaScript \b DOM \b</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"/css/images/3.gif\" alt=\"\"></p>\n<p> Puppeteer  <code>headless</code>  \b<code>false</code> <code>slowMo</code>  20-100 </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">browser = <span class=\"keyword\">await</span> puppeteer.launch(&#123;</span><br><span class=\"line\">    headless: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    slowMo: <span class=\"number\">20</span></span><br><span class=\"line\">  &#125;);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">page = <span class=\"keyword\">await</span> browser.newPage();</span><br><span class=\"line\"><span class=\"keyword\">await</span> page.goto(<span class=\"string\">'https://baidu.com'</span>);</span><br></pre></td></tr></table></figure>\n<p> <code>https://baidu.com</code></p>\n<h2 id=\"-DOM-\"><a href=\"#-DOM-\" class=\"headerlink\" title=\" DOM \"></a> DOM </h2><p> DOM  Input  Puppeteer  <code>page.waitForSelector</code>  DOM </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">await</span> page.waitForSelector(<span class=\"string\">'#loginForm'</span>);</span><br></pre></td></tr></table></figure>\n<p> ID  <code>loginForm</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>page.waitFor(number)</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">await</span> page.waitFor(<span class=\"number\">500</span>);</span><br></pre></td></tr></table></figure>\n<p> 500 </p>\n<h2 id=\"-JavaScript--true\"><a href=\"#-JavaScript--true\" class=\"headerlink\" title=\" JavaScript  true\"></a> JavaScript  true</h2><p> JavaScript  <code>page.waitFor(Function)</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">await</span> page.waitFor(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> !<span class=\"built_in\">document</span>.querySelector(<span class=\"string\">'.ant-spin.ant-spin-spinning'</span>));</span><br></pre></td></tr></table></figure>\n<p> Antd </p>\n<h2 id=\"-Input-\"><a href=\"#-Input-\" class=\"headerlink\" title=\" Input \"></a> Input </h2><p> Input </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">await</span> page.type(<span class=\"string\">'#username'</span>, <span class=\"string\">'lewis'</span>);</span><br></pre></td></tr></table></figure>\n<p> ID  <code>username</code>  Input  <code>lewis</code> Input  <code>keydown</code><code>keypress</code>,  <code>keyup</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Puppeteer </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">await</span> page.click(<span class=\"string\">'#btn-submit'</span>);</span><br></pre></td></tr></table></figure>\n<p> ID  <code>btn-submit</code> </p>\n<h2 id=\"-JavaScript-\"><a href=\"#-JavaScript-\" class=\"headerlink\" title=\" JavaScript \"></a> JavaScript </h2><p> JavaScript </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">page.evaluate(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> alert(<span class=\"string\">'1'</span>));</span><br></pre></td></tr></table></figure>\n<p> <code>alert(&#39;1&#39;)</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Input  <code>value</code> <code>href</code> <code>textContent</code> <code>outerHTML</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> searchValue = <span class=\"keyword\">await</span> page.$<span class=\"built_in\">eval</span>(<span class=\"string\">'#search'</span>, el =&gt; el.value);</span><br><span class=\"line\"><span class=\"keyword\">const</span> preloadHref = <span class=\"keyword\">await</span> page.$<span class=\"built_in\">eval</span>(<span class=\"string\">'link[rel=preload]'</span>, el =&gt; el.href);</span><br><span class=\"line\"><span class=\"keyword\">const</span> text = <span class=\"keyword\">await</span> page.$<span class=\"built_in\">eval</span>(<span class=\"string\">'.text'</span>, el =&gt; el.textContent);</span><br><span class=\"line\"><span class=\"keyword\">const</span> html = <span class=\"keyword\">await</span> page.$<span class=\"built_in\">eval</span>(<span class=\"string\">'.main-container'</span>, e =&gt; e.outerHTML);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> textArray = <span class=\"keyword\">await</span> page.$$<span class=\"built_in\">eval</span>(<span class=\"string\">'.text'</span>, els =&gt; <span class=\"built_in\">Array</span>.from(els).map(<span class=\"function\"><span class=\"params\">el</span> =&gt;</span> el.textContent));</span><br></pre></td></tr></table></figure>\n<p> <code>text</code>  <code>textArray</code> </p>\n<p> Puppeteer  Puppeteer  API </p>\n<p><a href=\"https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md\" target=\"_blank\" rel=\"noopener\">https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li></li>\n<li><code></code></li>\n<li></li>\n<li></li>\n<li><code></code></li>\n<li> <code>logo</code> <code></code></li>\n<li><code>,,</code> </li>\n</ul>\n<p> </p>\n<p><a href=\"https://github.com/lewis617/fe-test/blob/master/puppeteer-demo/liuyiqi-blog.test.js\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/fe-test/blob/master/puppeteer-demo/liuyiqi-blog.test.js</a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> puppeteer = <span class=\"built_in\">require</span>(<span class=\"string\">'puppeteer'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> browser, page;</span><br><span class=\"line\"></span><br><span class=\"line\">beforeAll(<span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">  browser = <span class=\"keyword\">await</span> puppeteer.launch(&#123;</span><br><span class=\"line\">    headless: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    slowMo: <span class=\"number\">80</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  page = <span class=\"keyword\">await</span> browser.newPage();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">afterAll(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">  browser.close();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">test(<span class=\"string\">'open baidu page'</span>, <span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.goto(<span class=\"string\">'https://baidu.com'</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">test(<span class=\"string\">'search liuiqi\\'s blog'</span>, <span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.waitForSelector(<span class=\"string\">'#kw'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.type(<span class=\"string\">'#kw'</span>, <span class=\"string\">''</span>);</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.click(<span class=\"string\">'#su'</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">test(<span class=\"string\">'goto liuyiqi\\'s blog'</span>, <span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.waitForSelector(<span class=\"string\">'h3.t &gt; a'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.click(<span class=\"string\">'h3.t:nth-of-type(1) &gt; a'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> pages = <span class=\"keyword\">await</span> browser.pages();</span><br><span class=\"line\">  page = pages.pop();</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.bringToFront();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">test(<span class=\"string\">'expect logo is '</span>, <span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.waitForSelector(<span class=\"string\">'#logo'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> text = <span class=\"keyword\">await</span> page.$<span class=\"built_in\">eval</span>(<span class=\"string\">'#logo'</span>, el =&gt; el.textContent)</span><br><span class=\"line\">  expect(text).toBe(<span class=\"string\">''</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">test(<span class=\"string\">'expect main-nav-link is ,,'</span>, <span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> textArray = <span class=\"keyword\">await</span> page.$$<span class=\"built_in\">eval</span>(<span class=\"string\">'.main-nav-link'</span>, els =&gt; <span class=\"built_in\">Array</span>.from(els).map(<span class=\"function\"><span class=\"params\">el</span> =&gt;</span> el.textContent));</span><br><span class=\"line\">  expect(textArray).toEqual([<span class=\"string\">''</span>, <span class=\"string\">''</span>, <span class=\"string\">''</span>]);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/css/images/1.gif\" alt=\"\"></p>\n<p> Puppeteer </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/\">http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/</a></p>\n","site":{"data":{}},"excerpt":"<p><a href=\"http://www.liuyiqi.cn/2017/12/05/e2e-testing-with-jest-and-puppeteer/\"> Jest  Puppeteer </a> Puppeteer  JavaScript \b DOM \b</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"/css/images/3.gif\" alt=\"\"></p>\n<p> Puppeteer  <code>headless</code>  \b<code>false</code> <code>slowMo</code>  20-100 </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">browser = <span class=\"keyword\">await</span> puppeteer.launch(&#123;</span><br><span class=\"line\">    headless: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    slowMo: <span class=\"number\">20</span></span><br><span class=\"line\">  &#125;);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">page = <span class=\"keyword\">await</span> browser.newPage();</span><br><span class=\"line\"><span class=\"keyword\">await</span> page.goto(<span class=\"string\">'https://baidu.com'</span>);</span><br></pre></td></tr></table></figure>\n<p> <code>https://baidu.com</code></p>\n<h2 id=\"-DOM-\"><a href=\"#-DOM-\" class=\"headerlink\" title=\" DOM \"></a> DOM </h2><p> DOM  Input  Puppeteer  <code>page.waitForSelector</code>  DOM </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">await</span> page.waitForSelector(<span class=\"string\">'#loginForm'</span>);</span><br></pre></td></tr></table></figure>\n<p> ID  <code>loginForm</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>page.waitFor(number)</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">await</span> page.waitFor(<span class=\"number\">500</span>);</span><br></pre></td></tr></table></figure>\n<p> 500 </p>\n<h2 id=\"-JavaScript--true\"><a href=\"#-JavaScript--true\" class=\"headerlink\" title=\" JavaScript  true\"></a> JavaScript  true</h2><p> JavaScript  <code>page.waitFor(Function)</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">await</span> page.waitFor(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> !<span class=\"built_in\">document</span>.querySelector(<span class=\"string\">'.ant-spin.ant-spin-spinning'</span>));</span><br></pre></td></tr></table></figure>\n<p> Antd </p>\n<h2 id=\"-Input-\"><a href=\"#-Input-\" class=\"headerlink\" title=\" Input \"></a> Input </h2><p> Input </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">await</span> page.type(<span class=\"string\">'#username'</span>, <span class=\"string\">'lewis'</span>);</span><br></pre></td></tr></table></figure>\n<p> ID  <code>username</code>  Input  <code>lewis</code> Input  <code>keydown</code><code>keypress</code>,  <code>keyup</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Puppeteer </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">await</span> page.click(<span class=\"string\">'#btn-submit'</span>);</span><br></pre></td></tr></table></figure>\n<p> ID  <code>btn-submit</code> </p>\n<h2 id=\"-JavaScript-\"><a href=\"#-JavaScript-\" class=\"headerlink\" title=\" JavaScript \"></a> JavaScript </h2><p> JavaScript </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">page.evaluate(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> alert(<span class=\"string\">'1'</span>));</span><br></pre></td></tr></table></figure>\n<p> <code>alert(&#39;1&#39;)</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Input  <code>value</code> <code>href</code> <code>textContent</code> <code>outerHTML</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> searchValue = <span class=\"keyword\">await</span> page.$<span class=\"built_in\">eval</span>(<span class=\"string\">'#search'</span>, el =&gt; el.value);</span><br><span class=\"line\"><span class=\"keyword\">const</span> preloadHref = <span class=\"keyword\">await</span> page.$<span class=\"built_in\">eval</span>(<span class=\"string\">'link[rel=preload]'</span>, el =&gt; el.href);</span><br><span class=\"line\"><span class=\"keyword\">const</span> text = <span class=\"keyword\">await</span> page.$<span class=\"built_in\">eval</span>(<span class=\"string\">'.text'</span>, el =&gt; el.textContent);</span><br><span class=\"line\"><span class=\"keyword\">const</span> html = <span class=\"keyword\">await</span> page.$<span class=\"built_in\">eval</span>(<span class=\"string\">'.main-container'</span>, e =&gt; e.outerHTML);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> textArray = <span class=\"keyword\">await</span> page.$$<span class=\"built_in\">eval</span>(<span class=\"string\">'.text'</span>, els =&gt; <span class=\"built_in\">Array</span>.from(els).map(<span class=\"function\"><span class=\"params\">el</span> =&gt;</span> el.textContent));</span><br></pre></td></tr></table></figure>\n<p> <code>text</code>  <code>textArray</code> </p>\n<p> Puppeteer  Puppeteer  API </p>\n<p><a href=\"https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md\" target=\"_blank\" rel=\"noopener\">https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li></li>\n<li><code></code></li>\n<li></li>\n<li></li>\n<li><code></code></li>\n<li> <code>logo</code> <code></code></li>\n<li><code>,,</code> </li>\n</ul>\n<p> </p>\n<p><a href=\"https://github.com/lewis617/fe-test/blob/master/puppeteer-demo/liuyiqi-blog.test.js\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/fe-test/blob/master/puppeteer-demo/liuyiqi-blog.test.js</a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> puppeteer = <span class=\"built_in\">require</span>(<span class=\"string\">'puppeteer'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> browser, page;</span><br><span class=\"line\"></span><br><span class=\"line\">beforeAll(<span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">  browser = <span class=\"keyword\">await</span> puppeteer.launch(&#123;</span><br><span class=\"line\">    headless: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    slowMo: <span class=\"number\">80</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  page = <span class=\"keyword\">await</span> browser.newPage();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">afterAll(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">  browser.close();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">test(<span class=\"string\">'open baidu page'</span>, <span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.goto(<span class=\"string\">'https://baidu.com'</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">test(<span class=\"string\">'search liuiqi\\'s blog'</span>, <span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.waitForSelector(<span class=\"string\">'#kw'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.type(<span class=\"string\">'#kw'</span>, <span class=\"string\">''</span>);</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.click(<span class=\"string\">'#su'</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">test(<span class=\"string\">'goto liuyiqi\\'s blog'</span>, <span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.waitForSelector(<span class=\"string\">'h3.t &gt; a'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.click(<span class=\"string\">'h3.t:nth-of-type(1) &gt; a'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> pages = <span class=\"keyword\">await</span> browser.pages();</span><br><span class=\"line\">  page = pages.pop();</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.bringToFront();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">test(<span class=\"string\">'expect logo is '</span>, <span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.waitForSelector(<span class=\"string\">'#logo'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> text = <span class=\"keyword\">await</span> page.$<span class=\"built_in\">eval</span>(<span class=\"string\">'#logo'</span>, el =&gt; el.textContent)</span><br><span class=\"line\">  expect(text).toBe(<span class=\"string\">''</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">test(<span class=\"string\">'expect main-nav-link is ,,'</span>, <span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> textArray = <span class=\"keyword\">await</span> page.$$<span class=\"built_in\">eval</span>(<span class=\"string\">'.main-nav-link'</span>, els =&gt; <span class=\"built_in\">Array</span>.from(els).map(<span class=\"function\"><span class=\"params\">el</span> =&gt;</span> el.textContent));</span><br><span class=\"line\">  expect(textArray).toEqual([<span class=\"string\">''</span>, <span class=\"string\">''</span>, <span class=\"string\">''</span>]);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/css/images/1.gif\" alt=\"\"></p>\n<p> Puppeteer </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/\">http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/</a></p>"},{"title":"JavaScript ","date":"2017-03-12T03:41:00.000Z","_content":"\n LeetCode\n\nhttps://leetcode.com/problems/add-two-numbers/\n\nhttps://leetcode.com/problems/add-two-numbers-ii/\n\n JavaScript\n\n<!--more-->\n\n## \n\n[JavaScript ](https://lewis617.github.io/2017/02/15/linked-list/)\n\n- \n- \n- \n-  JavaScript  `append``toString``removeAt``insert``indexOf` \n\n\n\n## \n\n\n\n> \n> \n> \n\n\n\n```\nInput: (2 -> 4 -> 3) + (5 -> 6 -> 4)\nOutput: 7 -> 0 -> 8\n\nInput: (1 -> 8) + (0)\nOutput: 1 -> 8\n\nInput: (9) + (1)\nOutput: 0 -> 1\n```\n\n\n\n```js\n/**\n * Definition for singly-linked list.\n * function ListNode(val) {\n *     this.val = val;\n *     this.next = null;\n * }\n */\n/**\n * @param {ListNode} l1\n * @param {ListNode} l2\n * @return {ListNode}\n */\nvar addTwoNumbers = function (l1, l2) {\n}\n```\n\n\n\n- \n- \n\n\n\n- \n- \n\n `current`  while  `current = current.next` \n\n `current`  `current.next = new Node(val)` \n\n\n\n-  `current` `c1``c2``c3`\n- `l3`\n- `carry`\n\n\n\nLeetCode/002-addTwoNumbers.js\n\n```js\nvar addTwoNumbers = function (l1, l2) {\n  var c1 = l1,\n    c2 = l2,\n    l3, c3,\n    carry = 0;\n\n  while (c1 || c2 || carry) {\n    var v1 = 0,\n      v2 = 0;\n    \n    // \n    if (c1) {\n      v1 = c1.val;\n      c1 = c1.next;\n    }\n\n    if (c2) {\n      v2 = c2.val;\n      c2 = c2.next;\n    }\n\n    var sum = v1 + v2 + carry;\n    carry = Math.floor(sum / 10);\n\n    if (!c3) {\n      l3 = new ListNode(sum % 10);\n      c3 = l3;\n    } else {\n      c3.next = new ListNode(sum % 10);\n      c3 = c3.next;\n    }\n\n  }\n  return l3;\n};\n```\n\n## \n\n\n\n```\nInput: (7 -> 2 -> 4 -> 3) + (5 -> 6 -> 4)\nOutput: 7 -> 8 -> 0 -> 7\n\nInput: (7) + (5)\nOutput: 1 -> 2\n```\n\n\n\n-  push \n-  pop \n-  pop \n\n\n\n\nLeetCode/445-addTwoNumbers2.js\n\n```js\nvar addTwoNumbers = function (l1, l2) {\n  var c1 = l1,\n    c2 = l2,\n    l3, c3,\n    s1 = [],\n    s2 = [],\n    s3 = [],\n    carry = 0;\n\n  while (c1 || c2) {\n    if (c1) {\n      s1.push(c1.val);\n      c1 = c1.next;\n    }\n\n    if (c2) {\n      s2.push(c2.val);\n      c2 = c2.next;\n    }\n  }\n\n  while (s1.length || s2.length || carry) {\n    var v1 = 0,\n      v2 = 0;\n\n    if (s1.length) {\n      v1 = s1.pop();\n    }\n\n    if (s2.length) {\n      v2 = s2.pop();\n    }\n\n    var sum = v1 + v2 + carry;\n    carry = Math.floor(sum / 10);\n\n    s3.push(sum % 10);\n  }\n\n  while (s3.length) {\n    var val = s3.pop();\n    if (!c3) {\n      l3 = new ListNode(val);\n      c3 = l3;\n    } else {\n      c3.next = new ListNode(val);\n      c3 = c3.next;\n    }\n  }\n  return l3;\n};\n```\n\n## \n\n\n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>","source":"_posts/add-two-numbers.md","raw":"---\ntitle: JavaScript \ndate: 2017-03-12 11:41:00\ntags: [, LeetCode]\n---\n\n LeetCode\n\nhttps://leetcode.com/problems/add-two-numbers/\n\nhttps://leetcode.com/problems/add-two-numbers-ii/\n\n JavaScript\n\n<!--more-->\n\n## \n\n[JavaScript ](https://lewis617.github.io/2017/02/15/linked-list/)\n\n- \n- \n- \n-  JavaScript  `append``toString``removeAt``insert``indexOf` \n\n\n\n## \n\n\n\n> \n> \n> \n\n\n\n```\nInput: (2 -> 4 -> 3) + (5 -> 6 -> 4)\nOutput: 7 -> 0 -> 8\n\nInput: (1 -> 8) + (0)\nOutput: 1 -> 8\n\nInput: (9) + (1)\nOutput: 0 -> 1\n```\n\n\n\n```js\n/**\n * Definition for singly-linked list.\n * function ListNode(val) {\n *     this.val = val;\n *     this.next = null;\n * }\n */\n/**\n * @param {ListNode} l1\n * @param {ListNode} l2\n * @return {ListNode}\n */\nvar addTwoNumbers = function (l1, l2) {\n}\n```\n\n\n\n- \n- \n\n\n\n- \n- \n\n `current`  while  `current = current.next` \n\n `current`  `current.next = new Node(val)` \n\n\n\n-  `current` `c1``c2``c3`\n- `l3`\n- `carry`\n\n\n\nLeetCode/002-addTwoNumbers.js\n\n```js\nvar addTwoNumbers = function (l1, l2) {\n  var c1 = l1,\n    c2 = l2,\n    l3, c3,\n    carry = 0;\n\n  while (c1 || c2 || carry) {\n    var v1 = 0,\n      v2 = 0;\n    \n    // \n    if (c1) {\n      v1 = c1.val;\n      c1 = c1.next;\n    }\n\n    if (c2) {\n      v2 = c2.val;\n      c2 = c2.next;\n    }\n\n    var sum = v1 + v2 + carry;\n    carry = Math.floor(sum / 10);\n\n    if (!c3) {\n      l3 = new ListNode(sum % 10);\n      c3 = l3;\n    } else {\n      c3.next = new ListNode(sum % 10);\n      c3 = c3.next;\n    }\n\n  }\n  return l3;\n};\n```\n\n## \n\n\n\n```\nInput: (7 -> 2 -> 4 -> 3) + (5 -> 6 -> 4)\nOutput: 7 -> 8 -> 0 -> 7\n\nInput: (7) + (5)\nOutput: 1 -> 2\n```\n\n\n\n-  push \n-  pop \n-  pop \n\n\n\n\nLeetCode/445-addTwoNumbers2.js\n\n```js\nvar addTwoNumbers = function (l1, l2) {\n  var c1 = l1,\n    c2 = l2,\n    l3, c3,\n    s1 = [],\n    s2 = [],\n    s3 = [],\n    carry = 0;\n\n  while (c1 || c2) {\n    if (c1) {\n      s1.push(c1.val);\n      c1 = c1.next;\n    }\n\n    if (c2) {\n      s2.push(c2.val);\n      c2 = c2.next;\n    }\n  }\n\n  while (s1.length || s2.length || carry) {\n    var v1 = 0,\n      v2 = 0;\n\n    if (s1.length) {\n      v1 = s1.pop();\n    }\n\n    if (s2.length) {\n      v2 = s2.pop();\n    }\n\n    var sum = v1 + v2 + carry;\n    carry = Math.floor(sum / 10);\n\n    s3.push(sum % 10);\n  }\n\n  while (s3.length) {\n    var val = s3.pop();\n    if (!c3) {\n      l3 = new ListNode(val);\n      c3 = l3;\n    } else {\n      c3.next = new ListNode(val);\n      c3 = c3.next;\n    }\n  }\n  return l3;\n};\n```\n\n## \n\n\n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>","slug":"add-two-numbers","published":1,"updated":"2019-05-01T08:02:08.774Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvl10006tgytlkr0qvhp","content":"<p> LeetCode</p>\n<p><a href=\"https://leetcode.com/problems/add-two-numbers/\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/problems/add-two-numbers/</a></p>\n<p><a href=\"https://leetcode.com/problems/add-two-numbers-ii/\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/problems/add-two-numbers-ii/</a></p>\n<p> JavaScript</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://lewis617.github.io/2017/02/15/linked-list/\" target=\"_blank\" rel=\"noopener\">JavaScript </a></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li> JavaScript  <code>append</code><code>toString</code><code>removeAt</code><code>insert</code><code>indexOf</code> </li>\n</ul>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<blockquote>\n<p></p>\n<p></p>\n</blockquote>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: (2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)</span><br><span class=\"line\">Output: 7 -&gt; 0 -&gt; 8</span><br><span class=\"line\"></span><br><span class=\"line\">Input: (1 -&gt; 8) + (0)</span><br><span class=\"line\">Output: 1 -&gt; 8</span><br><span class=\"line\"></span><br><span class=\"line\">Input: (9) + (1)</span><br><span class=\"line\">Output: 0 -&gt; 1</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Definition for singly-linked list.</span></span><br><span class=\"line\"><span class=\"comment\"> * function ListNode(val) &#123;</span></span><br><span class=\"line\"><span class=\"comment\"> *     this.val = val;</span></span><br><span class=\"line\"><span class=\"comment\"> *     this.next = null;</span></span><br><span class=\"line\"><span class=\"comment\"> * &#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;ListNode&#125; l1</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;ListNode&#125; l2</span></span><br><span class=\"line\"><span class=\"comment\"> * @return &#123;ListNode&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> addTwoNumbers = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">l1, l2</span>) </span>&#123;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p> <code>current</code>  while  <code>current = current.next</code> </p>\n<p> <code>current</code>  <code>current.next = new Node(val)</code> </p>\n<p></p>\n<ul>\n<li> <code>current</code> <code>c1</code><code>c2</code><code>c3</code></li>\n<li><code>l3</code></li>\n<li><code>carry</code></li>\n</ul>\n<p></p>\n<p>LeetCode/002-addTwoNumbers.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> addTwoNumbers = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">l1, l2</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> c1 = l1,</span><br><span class=\"line\">    c2 = l2,</span><br><span class=\"line\">    l3, c3,</span><br><span class=\"line\">    carry = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (c1 || c2 || carry) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> v1 = <span class=\"number\">0</span>,</span><br><span class=\"line\">      v2 = <span class=\"number\">0</span>;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (c1) &#123;</span><br><span class=\"line\">      v1 = c1.val;</span><br><span class=\"line\">      c1 = c1.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (c2) &#123;</span><br><span class=\"line\">      v2 = c2.val;</span><br><span class=\"line\">      c2 = c2.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> sum = v1 + v2 + carry;</span><br><span class=\"line\">    carry = <span class=\"built_in\">Math</span>.floor(sum / <span class=\"number\">10</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!c3) &#123;</span><br><span class=\"line\">      l3 = <span class=\"keyword\">new</span> ListNode(sum % <span class=\"number\">10</span>);</span><br><span class=\"line\">      c3 = l3;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      c3.next = <span class=\"keyword\">new</span> ListNode(sum % <span class=\"number\">10</span>);</span><br><span class=\"line\">      c3 = c3.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> l3;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: (7 -&gt; 2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)</span><br><span class=\"line\">Output: 7 -&gt; 8 -&gt; 0 -&gt; 7</span><br><span class=\"line\"></span><br><span class=\"line\">Input: (7) + (5)</span><br><span class=\"line\">Output: 1 -&gt; 2</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li> push </li>\n<li> pop </li>\n<li> pop </li>\n</ul>\n<p></p>\n<p>LeetCode/445-addTwoNumbers2.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> addTwoNumbers = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">l1, l2</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> c1 = l1,</span><br><span class=\"line\">    c2 = l2,</span><br><span class=\"line\">    l3, c3,</span><br><span class=\"line\">    s1 = [],</span><br><span class=\"line\">    s2 = [],</span><br><span class=\"line\">    s3 = [],</span><br><span class=\"line\">    carry = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (c1 || c2) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (c1) &#123;</span><br><span class=\"line\">      s1.push(c1.val);</span><br><span class=\"line\">      c1 = c1.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (c2) &#123;</span><br><span class=\"line\">      s2.push(c2.val);</span><br><span class=\"line\">      c2 = c2.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (s1.length || s2.length || carry) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> v1 = <span class=\"number\">0</span>,</span><br><span class=\"line\">      v2 = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (s1.length) &#123;</span><br><span class=\"line\">      v1 = s1.pop();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (s2.length) &#123;</span><br><span class=\"line\">      v2 = s2.pop();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> sum = v1 + v2 + carry;</span><br><span class=\"line\">    carry = <span class=\"built_in\">Math</span>.floor(sum / <span class=\"number\">10</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    s3.push(sum % <span class=\"number\">10</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (s3.length) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> val = s3.pop();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!c3) &#123;</span><br><span class=\"line\">      l3 = <span class=\"keyword\">new</span> ListNode(val);</span><br><span class=\"line\">      c3 = l3;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      c3.next = <span class=\"keyword\">new</span> ListNode(val);</span><br><span class=\"line\">      c3 = c3.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> l3;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>\n","site":{"data":{}},"excerpt":"<p> LeetCode</p>\n<p><a href=\"https://leetcode.com/problems/add-two-numbers/\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/problems/add-two-numbers/</a></p>\n<p><a href=\"https://leetcode.com/problems/add-two-numbers-ii/\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/problems/add-two-numbers-ii/</a></p>\n<p> JavaScript</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://lewis617.github.io/2017/02/15/linked-list/\" target=\"_blank\" rel=\"noopener\">JavaScript </a></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li> JavaScript  <code>append</code><code>toString</code><code>removeAt</code><code>insert</code><code>indexOf</code> </li>\n</ul>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<blockquote>\n<p></p>\n<p></p>\n</blockquote>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: (2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)</span><br><span class=\"line\">Output: 7 -&gt; 0 -&gt; 8</span><br><span class=\"line\"></span><br><span class=\"line\">Input: (1 -&gt; 8) + (0)</span><br><span class=\"line\">Output: 1 -&gt; 8</span><br><span class=\"line\"></span><br><span class=\"line\">Input: (9) + (1)</span><br><span class=\"line\">Output: 0 -&gt; 1</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Definition for singly-linked list.</span></span><br><span class=\"line\"><span class=\"comment\"> * function ListNode(val) &#123;</span></span><br><span class=\"line\"><span class=\"comment\"> *     this.val = val;</span></span><br><span class=\"line\"><span class=\"comment\"> *     this.next = null;</span></span><br><span class=\"line\"><span class=\"comment\"> * &#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;ListNode&#125; l1</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;ListNode&#125; l2</span></span><br><span class=\"line\"><span class=\"comment\"> * @return &#123;ListNode&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> addTwoNumbers = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">l1, l2</span>) </span>&#123;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p> <code>current</code>  while  <code>current = current.next</code> </p>\n<p> <code>current</code>  <code>current.next = new Node(val)</code> </p>\n<p></p>\n<ul>\n<li> <code>current</code> <code>c1</code><code>c2</code><code>c3</code></li>\n<li><code>l3</code></li>\n<li><code>carry</code></li>\n</ul>\n<p></p>\n<p>LeetCode/002-addTwoNumbers.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> addTwoNumbers = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">l1, l2</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> c1 = l1,</span><br><span class=\"line\">    c2 = l2,</span><br><span class=\"line\">    l3, c3,</span><br><span class=\"line\">    carry = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (c1 || c2 || carry) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> v1 = <span class=\"number\">0</span>,</span><br><span class=\"line\">      v2 = <span class=\"number\">0</span>;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (c1) &#123;</span><br><span class=\"line\">      v1 = c1.val;</span><br><span class=\"line\">      c1 = c1.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (c2) &#123;</span><br><span class=\"line\">      v2 = c2.val;</span><br><span class=\"line\">      c2 = c2.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> sum = v1 + v2 + carry;</span><br><span class=\"line\">    carry = <span class=\"built_in\">Math</span>.floor(sum / <span class=\"number\">10</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!c3) &#123;</span><br><span class=\"line\">      l3 = <span class=\"keyword\">new</span> ListNode(sum % <span class=\"number\">10</span>);</span><br><span class=\"line\">      c3 = l3;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      c3.next = <span class=\"keyword\">new</span> ListNode(sum % <span class=\"number\">10</span>);</span><br><span class=\"line\">      c3 = c3.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> l3;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: (7 -&gt; 2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)</span><br><span class=\"line\">Output: 7 -&gt; 8 -&gt; 0 -&gt; 7</span><br><span class=\"line\"></span><br><span class=\"line\">Input: (7) + (5)</span><br><span class=\"line\">Output: 1 -&gt; 2</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li> push </li>\n<li> pop </li>\n<li> pop </li>\n</ul>\n<p></p>\n<p>LeetCode/445-addTwoNumbers2.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> addTwoNumbers = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">l1, l2</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> c1 = l1,</span><br><span class=\"line\">    c2 = l2,</span><br><span class=\"line\">    l3, c3,</span><br><span class=\"line\">    s1 = [],</span><br><span class=\"line\">    s2 = [],</span><br><span class=\"line\">    s3 = [],</span><br><span class=\"line\">    carry = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (c1 || c2) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (c1) &#123;</span><br><span class=\"line\">      s1.push(c1.val);</span><br><span class=\"line\">      c1 = c1.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (c2) &#123;</span><br><span class=\"line\">      s2.push(c2.val);</span><br><span class=\"line\">      c2 = c2.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (s1.length || s2.length || carry) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> v1 = <span class=\"number\">0</span>,</span><br><span class=\"line\">      v2 = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (s1.length) &#123;</span><br><span class=\"line\">      v1 = s1.pop();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (s2.length) &#123;</span><br><span class=\"line\">      v2 = s2.pop();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> sum = v1 + v2 + carry;</span><br><span class=\"line\">    carry = <span class=\"built_in\">Math</span>.floor(sum / <span class=\"number\">10</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    s3.push(sum % <span class=\"number\">10</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (s3.length) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> val = s3.pop();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!c3) &#123;</span><br><span class=\"line\">      l3 = <span class=\"keyword\">new</span> ListNode(val);</span><br><span class=\"line\">      c3 = l3;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      c3.next = <span class=\"keyword\">new</span> ListNode(val);</span><br><span class=\"line\">      c3 = c3.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> l3;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>"},{"title":" JavaScript ","date":"2017-02-15T01:46:00.000Z","_content":"\n JavaScript construcor function\n\n<!--more-->\n\n## \n\n ES6  class  JavaScript \n\n\n\n```js\nvar obj = { a:1, b:2 };\n```\n \n\n```js\n function Obj(a, b){\n   this.a = a;\n   this.b = b;\n }\n var obj = new Obj(1, 2); //obj  { a:1, b:2 }\n```\n new  JavaScript \n\n## \n\n\n\nStack.js\n\n```js\nfunction Stack() {\n  //  items\n  var items = [];\n  //  push\n  this.push = function (element) {\n    items.push(element);\n  };\n  // \n  this.pop = function () {\n    return items.pop();\n  };\n}\n```\n\n `items`  this  **new  this ** this  **`items` ** `items`\n\n```js\nvar stack = new Stack();\n\n// stack items undefined\nconsole.log(stack.items) \n \n// stack  this \nstack.push(1);\n// 1\nconsole.log(stack.pop())\n```\n\n JavaScript  JavaScript this  new  Stoyan Stefanow JavaScript  JavaScript \n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>","source":"_posts/construcor-function-create-class.md","raw":"---\ntitle:  JavaScript \ndate: 2017-02-15 09:46:00\ntags: []\n---\n\n JavaScript construcor function\n\n<!--more-->\n\n## \n\n ES6  class  JavaScript \n\n\n\n```js\nvar obj = { a:1, b:2 };\n```\n \n\n```js\n function Obj(a, b){\n   this.a = a;\n   this.b = b;\n }\n var obj = new Obj(1, 2); //obj  { a:1, b:2 }\n```\n new  JavaScript \n\n## \n\n\n\nStack.js\n\n```js\nfunction Stack() {\n  //  items\n  var items = [];\n  //  push\n  this.push = function (element) {\n    items.push(element);\n  };\n  // \n  this.pop = function () {\n    return items.pop();\n  };\n}\n```\n\n `items`  this  **new  this ** this  **`items` ** `items`\n\n```js\nvar stack = new Stack();\n\n// stack items undefined\nconsole.log(stack.items) \n \n// stack  this \nstack.push(1);\n// 1\nconsole.log(stack.pop())\n```\n\n JavaScript  JavaScript this  new  Stoyan Stefanow JavaScript  JavaScript \n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>","slug":"construcor-function-create-class","published":1,"updated":"2019-05-01T08:02:09.118Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvl30008tgytbzl2u0sa","content":"<p> JavaScript construcor function</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> ES6  class  JavaScript </p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123; <span class=\"attr\">a</span>:<span class=\"number\">1</span>, <span class=\"attr\">b</span>:<span class=\"number\">2</span> &#125;;</span><br></pre></td></tr></table></figure>\n<p><br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Obj</span>(<span class=\"params\">a, b</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.a = a;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.b = b;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = <span class=\"keyword\">new</span> Obj(<span class=\"number\">1</span>, <span class=\"number\">2</span>); <span class=\"comment\">//obj  &#123; a:1, b:2 &#125;</span></span><br></pre></td></tr></table></figure></p>\n<p> new  JavaScript </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>Stack.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Stack</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//  items</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> items = [];</span><br><span class=\"line\">  <span class=\"comment\">//  push</span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.push = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element</span>) </span>&#123;</span><br><span class=\"line\">    items.push(element);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.pop = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items.pop();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> <code>items</code>  this  <strong>new  this </strong> this  <strong><code>items</code> </strong> <code>items</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> stack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// stack items undefined</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(stack.items) </span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">// stack  this </span></span><br><span class=\"line\">stack.push(<span class=\"number\">1</span>);</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(stack.pop())</span><br></pre></td></tr></table></figure>\n<p> JavaScript  JavaScript this  new  Stoyan Stefanow JavaScript  JavaScript </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>\n","site":{"data":{}},"excerpt":"<p> JavaScript construcor function</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> ES6  class  JavaScript </p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123; <span class=\"attr\">a</span>:<span class=\"number\">1</span>, <span class=\"attr\">b</span>:<span class=\"number\">2</span> &#125;;</span><br></pre></td></tr></table></figure>\n<p><br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Obj</span>(<span class=\"params\">a, b</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.a = a;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.b = b;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = <span class=\"keyword\">new</span> Obj(<span class=\"number\">1</span>, <span class=\"number\">2</span>); <span class=\"comment\">//obj  &#123; a:1, b:2 &#125;</span></span><br></pre></td></tr></table></figure></p>\n<p> new  JavaScript </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>Stack.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Stack</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//  items</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> items = [];</span><br><span class=\"line\">  <span class=\"comment\">//  push</span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.push = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element</span>) </span>&#123;</span><br><span class=\"line\">    items.push(element);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.pop = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items.pop();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> <code>items</code>  this  <strong>new  this </strong> this  <strong><code>items</code> </strong> <code>items</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> stack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// stack items undefined</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(stack.items) </span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">// stack  this </span></span><br><span class=\"line\">stack.push(<span class=\"number\">1</span>);</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(stack.pop())</span><br></pre></td></tr></table></figure>\n<p> JavaScript  JavaScript this  new  Stoyan Stefanow JavaScript  JavaScript </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>"},{"title":" Jinja2 ","date":"2016-02-06T19:31:00.000Z","_content":"\nJinja2 \n\n<!--more-->\n\n# \n\n\n\n\n\n[https://github.com/lewis617/myflask/tree/master/jinja2-filter](https://github.com/lewis617/myflask/tree/master/jinja2-filter)\n\n# \n\nAngularpipe   `123|myfilter``123``myFilter``myFilter````123|myFilter(234)`\n\n# \n\n`app.run``app.jinja_env.filters`\n\n```python\napp = Flask(__name__) # custom filter # convert dict to string\ndef json_dumps(dict):\n        result = json.dumps(dict) return result # return type of arg\ndef typeFilter(arg):\n        result = type(arg) return result\n\nenv = app.jinja_env\nenv.filters['json_dumps'] = json_dumps\nenv.filters['typeFilter'] = typeFilter\n```\n\n1.  Flask`app`\n2.  \n3.  `app.jinja_env.filters`\n\n\n\n# \n\n\n\nindex.html\n\n```html\n<body> \ndict is {{ dict|typeFilter}} <hr> \ndict | json_dumps is{{ dict|json_dumps |typeFilter}} <hr> \nyou can use json_dumps filter to send dict to js,remember to add safe filter,<br> press f12 to test it \n</body>\n<script>\n    //you can use json_dumps filter to send dict to js,remember to add safe filter\n console.log({{ dict |json_dumps|safe}}) \n</script>\n```\n\napp.pyhtml\n\n```python\n@app.route('/')\ndef hello_world():\n    dict={'name':'lewis','age':24} return render_template('index.html',dict=dict) if __name__ == '__main__':\n    app.run()\n```\n\n\n\n![](/css/images/2.jpg)\n\n`json_dumps`dictJinja\n","source":"_posts/custom-jinja2-filter.md","raw":"---\ntitle:  Jinja2 \ndate: 2016-02-07 03:31:00\ntags: [Jinja2, Flask]\n---\n\nJinja2 \n\n<!--more-->\n\n# \n\n\n\n\n\n[https://github.com/lewis617/myflask/tree/master/jinja2-filter](https://github.com/lewis617/myflask/tree/master/jinja2-filter)\n\n# \n\nAngularpipe   `123|myfilter``123``myFilter``myFilter````123|myFilter(234)`\n\n# \n\n`app.run``app.jinja_env.filters`\n\n```python\napp = Flask(__name__) # custom filter # convert dict to string\ndef json_dumps(dict):\n        result = json.dumps(dict) return result # return type of arg\ndef typeFilter(arg):\n        result = type(arg) return result\n\nenv = app.jinja_env\nenv.filters['json_dumps'] = json_dumps\nenv.filters['typeFilter'] = typeFilter\n```\n\n1.  Flask`app`\n2.  \n3.  `app.jinja_env.filters`\n\n\n\n# \n\n\n\nindex.html\n\n```html\n<body> \ndict is {{ dict|typeFilter}} <hr> \ndict | json_dumps is{{ dict|json_dumps |typeFilter}} <hr> \nyou can use json_dumps filter to send dict to js,remember to add safe filter,<br> press f12 to test it \n</body>\n<script>\n    //you can use json_dumps filter to send dict to js,remember to add safe filter\n console.log({{ dict |json_dumps|safe}}) \n</script>\n```\n\napp.pyhtml\n\n```python\n@app.route('/')\ndef hello_world():\n    dict={'name':'lewis','age':24} return render_template('index.html',dict=dict) if __name__ == '__main__':\n    app.run()\n```\n\n\n\n![](/css/images/2.jpg)\n\n`json_dumps`dictJinja\n","slug":"custom-jinja2-filter","published":1,"updated":"2019-05-01T08:10:29.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvl40009tgytlhxoft20","content":"<p>Jinja2 </p>\n<a id=\"more\"></a>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/myflask/tree/master/jinja2-filter\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/myflask/tree/master/jinja2-filter</a></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>Angularpipe   <code>123|myfilter</code><code>123</code><code>myFilter</code><code>myFilter</code><code></code><code>123|myFilter(234)</code></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><code>app.run</code><code>app.jinja_env.filters</code></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">app = Flask(__name__) <span class=\"comment\"># custom filter # convert dict to string</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">json_dumps</span><span class=\"params\">(dict)</span>:</span></span><br><span class=\"line\">        result = json.dumps(dict) <span class=\"keyword\">return</span> result <span class=\"comment\"># return type of arg</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">typeFilter</span><span class=\"params\">(arg)</span>:</span></span><br><span class=\"line\">        result = type(arg) <span class=\"keyword\">return</span> result</span><br><span class=\"line\"></span><br><span class=\"line\">env = app.jinja_env</span><br><span class=\"line\">env.filters[<span class=\"string\">'json_dumps'</span>] = json_dumps</span><br><span class=\"line\">env.filters[<span class=\"string\">'typeFilter'</span>] = typeFilter</span><br></pre></td></tr></table></figure>\n<ol>\n<li>Flask<code>app</code></li>\n<li></li>\n<li><code>app.jinja_env.filters</code></li>\n</ol>\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p>index.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span> </span><br><span class=\"line\">dict is &#123;&#123; dict|typeFilter&#125;&#125; <span class=\"tag\">&lt;<span class=\"name\">hr</span>&gt;</span> </span><br><span class=\"line\">dict | json_dumps is&#123;&#123; dict|json_dumps |typeFilter&#125;&#125; <span class=\"tag\">&lt;<span class=\"name\">hr</span>&gt;</span> </span><br><span class=\"line\">you can use json_dumps filter to send dict to js,remember to add safe filter,<span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span> press f12 to test it </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"comment\">//you can use json_dumps filter to send dict to js,remember to add safe filter</span></span></span><br><span class=\"line\"><span class=\"javascript\"> <span class=\"built_in\">console</span>.log(&#123;&#123; dict |json_dumps|safe&#125;&#125;) </span></span><br><span class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>app.pyhtml</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@app.route('/')</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hello_world</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    dict=&#123;<span class=\"string\">'name'</span>:<span class=\"string\">'lewis'</span>,<span class=\"string\">'age'</span>:<span class=\"number\">24</span>&#125; <span class=\"keyword\">return</span> render_template(<span class=\"string\">'index.html'</span>,dict=dict) <span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">    app.run()</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/css/images/2.jpg\" alt=\"\"></p>\n<p><code>json_dumps</code>dictJinja</p>\n","site":{"data":{}},"excerpt":"<p>Jinja2 </p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/myflask/tree/master/jinja2-filter\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/myflask/tree/master/jinja2-filter</a></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>Angularpipe   <code>123|myfilter</code><code>123</code><code>myFilter</code><code>myFilter</code><code></code><code>123|myFilter(234)</code></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><code>app.run</code><code>app.jinja_env.filters</code></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">app = Flask(__name__) <span class=\"comment\"># custom filter # convert dict to string</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">json_dumps</span><span class=\"params\">(dict)</span>:</span></span><br><span class=\"line\">        result = json.dumps(dict) <span class=\"keyword\">return</span> result <span class=\"comment\"># return type of arg</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">typeFilter</span><span class=\"params\">(arg)</span>:</span></span><br><span class=\"line\">        result = type(arg) <span class=\"keyword\">return</span> result</span><br><span class=\"line\"></span><br><span class=\"line\">env = app.jinja_env</span><br><span class=\"line\">env.filters[<span class=\"string\">'json_dumps'</span>] = json_dumps</span><br><span class=\"line\">env.filters[<span class=\"string\">'typeFilter'</span>] = typeFilter</span><br></pre></td></tr></table></figure>\n<ol>\n<li>Flask<code>app</code></li>\n<li></li>\n<li><code>app.jinja_env.filters</code></li>\n</ol>\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p>index.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span> </span><br><span class=\"line\">dict is &#123;&#123; dict|typeFilter&#125;&#125; <span class=\"tag\">&lt;<span class=\"name\">hr</span>&gt;</span> </span><br><span class=\"line\">dict | json_dumps is&#123;&#123; dict|json_dumps |typeFilter&#125;&#125; <span class=\"tag\">&lt;<span class=\"name\">hr</span>&gt;</span> </span><br><span class=\"line\">you can use json_dumps filter to send dict to js,remember to add safe filter,<span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span> press f12 to test it </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"comment\">//you can use json_dumps filter to send dict to js,remember to add safe filter</span></span></span><br><span class=\"line\"><span class=\"javascript\"> <span class=\"built_in\">console</span>.log(&#123;&#123; dict |json_dumps|safe&#125;&#125;) </span></span><br><span class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>app.pyhtml</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@app.route('/')</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hello_world</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    dict=&#123;<span class=\"string\">'name'</span>:<span class=\"string\">'lewis'</span>,<span class=\"string\">'age'</span>:<span class=\"number\">24</span>&#125; <span class=\"keyword\">return</span> render_template(<span class=\"string\">'index.html'</span>,dict=dict) <span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">    app.run()</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/css/images/2.jpg\" alt=\"\"></p>\n<p><code>json_dumps</code>dictJinja</p>"},{"title":"JavaScript ","date":"2017-02-17T02:29:00.000Z","_content":"\n\n\n<!--more-->\n\n## \n\n********ES6 MapMap MDN \n\n- ,\"prototype\" ES5 map = Object.create(null)\n-  Symbols Map \n- sizeMap\n\n Map  MDN [Map](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map)\n\n##  JavaScript \n\n JavaScript  Map  `set``get``values``getItems`\n\n### \n\n `items` \n\n```js\nfunction Set(){\n  var items = {};\n}\n```\n\n\n```js\n{\n  '': 'lisi@email.com',\n  '': 'wangwu@email.com'\n}\n```\n\n###  set getremove \n\n `set` `get` `remove` \n\n```js\nvar dictionary = new Dictionary();\n\ndictionary.set('', 'zhangsan@email.com'); // \ndictionary.set('', 'lisi@email.com'); // \n\nexpect(dictionary.has('')).toBeTruthy(); // \nexpect(dictionary.get('')).toBe('lisi@email.com'); // \nexpect(dictionary.get('')).toBe(undefined); // \n\nexpect(dictionary.remove('')).toBeTruthy(); // \nexpect(dictionary.remove('')).toBeFalsy(); // \n\n```\n\n\n\n-  `items`  \n-  `items`  `hasOwnProperty`  `in`  `items`  \n-  `items`  `undefined` \n-  `true` `false` \n\n\n\n```js\nthis.has = function (key) {\n  return key in items;\n};\n\nthis.set = function (key, value) {\n  items[key] = value;\n};\n\nthis.get = function (key) {\n  return this.has(key) ? items[key] : undefined;\n};\n\nthis.remove = function (key) {\n  if (this.has(key)) {\n    delete items[key];\n    return true;\n  }\n  return false;\n};\n```\n\n###  values getItems \n\n `values` `getItems`  `items`\n\n```js\nvar dictionary = new Dictionary();\n\ndictionary.set('', 'lisi@email.com');\ndictionary.set('', 'wangwu@email.com');\n\nexpect(dictionary.values()).toEqual(['lisi@email.com', 'wangwu@email.com']); //\nexpect(dictionary.getItems()).toEqual({\n  '': 'lisi@email.com',\n  '': 'wangwu@email.com'\n}); // \n```\n\n\n\n-  `items`  push  `for...in` `items` \n-  `items` \n\n> `for...in`  MDN   [for...in](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...in)\n\n\n\n```js\nthis.values = function () {\n  var values = [];\n  for (var key in items){\n    if(this.has(key)){\n      values.push(items[key]);\n    }\n  }\n  return values;\n};\n\nthis.getItems = function () {\n  return items;\n};\n```\n\n\n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>","source":"_posts/dictionary.md","raw":"---\ntitle: JavaScript \ndate: 2017-02-17 10:29:00\ntags: []\n---\n\n\n\n<!--more-->\n\n## \n\n********ES6 MapMap MDN \n\n- ,\"prototype\" ES5 map = Object.create(null)\n-  Symbols Map \n- sizeMap\n\n Map  MDN [Map](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map)\n\n##  JavaScript \n\n JavaScript  Map  `set``get``values``getItems`\n\n### \n\n `items` \n\n```js\nfunction Set(){\n  var items = {};\n}\n```\n\n\n```js\n{\n  '': 'lisi@email.com',\n  '': 'wangwu@email.com'\n}\n```\n\n###  set getremove \n\n `set` `get` `remove` \n\n```js\nvar dictionary = new Dictionary();\n\ndictionary.set('', 'zhangsan@email.com'); // \ndictionary.set('', 'lisi@email.com'); // \n\nexpect(dictionary.has('')).toBeTruthy(); // \nexpect(dictionary.get('')).toBe('lisi@email.com'); // \nexpect(dictionary.get('')).toBe(undefined); // \n\nexpect(dictionary.remove('')).toBeTruthy(); // \nexpect(dictionary.remove('')).toBeFalsy(); // \n\n```\n\n\n\n-  `items`  \n-  `items`  `hasOwnProperty`  `in`  `items`  \n-  `items`  `undefined` \n-  `true` `false` \n\n\n\n```js\nthis.has = function (key) {\n  return key in items;\n};\n\nthis.set = function (key, value) {\n  items[key] = value;\n};\n\nthis.get = function (key) {\n  return this.has(key) ? items[key] : undefined;\n};\n\nthis.remove = function (key) {\n  if (this.has(key)) {\n    delete items[key];\n    return true;\n  }\n  return false;\n};\n```\n\n###  values getItems \n\n `values` `getItems`  `items`\n\n```js\nvar dictionary = new Dictionary();\n\ndictionary.set('', 'lisi@email.com');\ndictionary.set('', 'wangwu@email.com');\n\nexpect(dictionary.values()).toEqual(['lisi@email.com', 'wangwu@email.com']); //\nexpect(dictionary.getItems()).toEqual({\n  '': 'lisi@email.com',\n  '': 'wangwu@email.com'\n}); // \n```\n\n\n\n-  `items`  push  `for...in` `items` \n-  `items` \n\n> `for...in`  MDN   [for...in](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...in)\n\n\n\n```js\nthis.values = function () {\n  var values = [];\n  for (var key in items){\n    if(this.has(key)){\n      values.push(items[key]);\n    }\n  }\n  return values;\n};\n\nthis.getItems = function () {\n  return items;\n};\n```\n\n\n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>","slug":"dictionary","published":1,"updated":"2019-05-01T08:02:09.314Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvl6000btgytyftxx0tp","content":"<p></p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><strong></strong>ES6 MapMap MDN </p>\n<ul>\n<li>,prototype ES5 map = Object.create(null)</li>\n<li> Symbols Map </li>\n<li>sizeMap</li>\n</ul>\n<p> Map  MDN <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map\" target=\"_blank\" rel=\"noopener\">Map</a></p>\n<h2 id=\"-JavaScript-\"><a href=\"#-JavaScript-\" class=\"headerlink\" title=\" JavaScript \"></a> JavaScript </h2><p> JavaScript  Map  <code>set</code><code>get</code><code>values</code><code>getItems</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>items</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Set</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> items = &#123;&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">''</span>: <span class=\"string\">'lisi@email.com'</span>,</span><br><span class=\"line\">  <span class=\"string\">''</span>: <span class=\"string\">'wangwu@email.com'</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"-set-getremove-\"><a href=\"#-set-getremove-\" class=\"headerlink\" title=\" set getremove \"></a> set getremove </h3><p> <code>set</code> <code>get</code> <code>remove</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> dictionary = <span class=\"keyword\">new</span> Dictionary();</span><br><span class=\"line\"></span><br><span class=\"line\">dictionary.set(<span class=\"string\">''</span>, <span class=\"string\">'zhangsan@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">dictionary.set(<span class=\"string\">''</span>, <span class=\"string\">'lisi@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\">expect(dictionary.has(<span class=\"string\">''</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(dictionary.get(<span class=\"string\">''</span>)).toBe(<span class=\"string\">'lisi@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(dictionary.get(<span class=\"string\">''</span>)).toBe(<span class=\"literal\">undefined</span>); <span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\">expect(dictionary.remove(<span class=\"string\">''</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(dictionary.remove(<span class=\"string\">''</span>)).toBeFalsy(); <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li> <code>items</code>  </li>\n<li> <code>items</code>  <code>hasOwnProperty</code>  <code>in</code>  <code>items</code>  </li>\n<li> <code>items</code>  <code>undefined</code> </li>\n<li> <code>true</code> <code>false</code> </li>\n</ul>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.has = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> key <span class=\"keyword\">in</span> items;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.set = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key, value</span>) </span>&#123;</span><br><span class=\"line\">  items[key] = value;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.get = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.has(key) ? items[key] : <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.remove = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.has(key)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> items[key];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-values-getItems-\"><a href=\"#-values-getItems-\" class=\"headerlink\" title=\" values getItems \"></a> values getItems </h3><p> <code>values</code> <code>getItems</code>  <code>items</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> dictionary = <span class=\"keyword\">new</span> Dictionary();</span><br><span class=\"line\"></span><br><span class=\"line\">dictionary.set(<span class=\"string\">''</span>, <span class=\"string\">'lisi@email.com'</span>);</span><br><span class=\"line\">dictionary.set(<span class=\"string\">''</span>, <span class=\"string\">'wangwu@email.com'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">expect(dictionary.values()).toEqual([<span class=\"string\">'lisi@email.com'</span>, <span class=\"string\">'wangwu@email.com'</span>]); <span class=\"comment\">//</span></span><br><span class=\"line\">expect(dictionary.getItems()).toEqual(&#123;</span><br><span class=\"line\">  <span class=\"string\">''</span>: <span class=\"string\">'lisi@email.com'</span>,</span><br><span class=\"line\">  <span class=\"string\">''</span>: <span class=\"string\">'wangwu@email.com'</span></span><br><span class=\"line\">&#125;); <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li> <code>items</code>  push  <code>for...in</code> <code>items</code> </li>\n<li> <code>items</code> </li>\n</ul>\n<blockquote>\n<p><code>for...in</code>  MDN   <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...in\" target=\"_blank\" rel=\"noopener\">forin</a></p>\n</blockquote>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.values = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> values = [];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> key <span class=\"keyword\">in</span> items)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"keyword\">this</span>.has(key))&#123;</span><br><span class=\"line\">      values.push(items[key]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> values;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.getItems = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> items;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>\n","site":{"data":{}},"excerpt":"<p></p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><strong></strong>ES6 MapMap MDN </p>\n<ul>\n<li>,prototype ES5 map = Object.create(null)</li>\n<li> Symbols Map </li>\n<li>sizeMap</li>\n</ul>\n<p> Map  MDN <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map\" target=\"_blank\" rel=\"noopener\">Map</a></p>\n<h2 id=\"-JavaScript-\"><a href=\"#-JavaScript-\" class=\"headerlink\" title=\" JavaScript \"></a> JavaScript </h2><p> JavaScript  Map  <code>set</code><code>get</code><code>values</code><code>getItems</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>items</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Set</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> items = &#123;&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">''</span>: <span class=\"string\">'lisi@email.com'</span>,</span><br><span class=\"line\">  <span class=\"string\">''</span>: <span class=\"string\">'wangwu@email.com'</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"-set-getremove-\"><a href=\"#-set-getremove-\" class=\"headerlink\" title=\" set getremove \"></a> set getremove </h3><p> <code>set</code> <code>get</code> <code>remove</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> dictionary = <span class=\"keyword\">new</span> Dictionary();</span><br><span class=\"line\"></span><br><span class=\"line\">dictionary.set(<span class=\"string\">''</span>, <span class=\"string\">'zhangsan@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">dictionary.set(<span class=\"string\">''</span>, <span class=\"string\">'lisi@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\">expect(dictionary.has(<span class=\"string\">''</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(dictionary.get(<span class=\"string\">''</span>)).toBe(<span class=\"string\">'lisi@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(dictionary.get(<span class=\"string\">''</span>)).toBe(<span class=\"literal\">undefined</span>); <span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\">expect(dictionary.remove(<span class=\"string\">''</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(dictionary.remove(<span class=\"string\">''</span>)).toBeFalsy(); <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li> <code>items</code>  </li>\n<li> <code>items</code>  <code>hasOwnProperty</code>  <code>in</code>  <code>items</code>  </li>\n<li> <code>items</code>  <code>undefined</code> </li>\n<li> <code>true</code> <code>false</code> </li>\n</ul>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.has = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> key <span class=\"keyword\">in</span> items;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.set = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key, value</span>) </span>&#123;</span><br><span class=\"line\">  items[key] = value;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.get = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.has(key) ? items[key] : <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.remove = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.has(key)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> items[key];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-values-getItems-\"><a href=\"#-values-getItems-\" class=\"headerlink\" title=\" values getItems \"></a> values getItems </h3><p> <code>values</code> <code>getItems</code>  <code>items</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> dictionary = <span class=\"keyword\">new</span> Dictionary();</span><br><span class=\"line\"></span><br><span class=\"line\">dictionary.set(<span class=\"string\">''</span>, <span class=\"string\">'lisi@email.com'</span>);</span><br><span class=\"line\">dictionary.set(<span class=\"string\">''</span>, <span class=\"string\">'wangwu@email.com'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">expect(dictionary.values()).toEqual([<span class=\"string\">'lisi@email.com'</span>, <span class=\"string\">'wangwu@email.com'</span>]); <span class=\"comment\">//</span></span><br><span class=\"line\">expect(dictionary.getItems()).toEqual(&#123;</span><br><span class=\"line\">  <span class=\"string\">''</span>: <span class=\"string\">'lisi@email.com'</span>,</span><br><span class=\"line\">  <span class=\"string\">''</span>: <span class=\"string\">'wangwu@email.com'</span></span><br><span class=\"line\">&#125;); <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li> <code>items</code>  push  <code>for...in</code> <code>items</code> </li>\n<li> <code>items</code> </li>\n</ul>\n<blockquote>\n<p><code>for...in</code>  MDN   <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...in\" target=\"_blank\" rel=\"noopener\">forin</a></p>\n</blockquote>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.values = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> values = [];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> key <span class=\"keyword\">in</span> items)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"keyword\">this</span>.has(key))&#123;</span><br><span class=\"line\">      values.push(items[key]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> values;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.getItems = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> items;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>"},{"title":" Jest  Puppeteer ","date":"2017-12-05T02:07:00.000Z","_content":"\n Jest  Puppeteer e2e testing\n\n<!--more-->\n\n##  vs. \n\n[](http://www.liuyiqi.cn/tags/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/)\n\n![](/css/images/3.gif)\n\n\n\n> Puppeteer  Puppeteer  `headless`  `false`[](http://www.liuyiqi.cn/2017/12/05/common-puppeteer-api-collection/)\n\n##  Puppeteer \n\n SeleniumAppiumProtractorZombie.jsCypressNightmarePuppeteer  Puppeteer Selenium  Appium Protractor  Angular Zombie.js Cypress  Nightmare  Puppeteer  star Puppeteer  star  Nightmare  Puppeteer Nightmare  Antd Pro  Nightmare Nightmare  Nightmare \n\n\n Puppeteer \n\n```sh\nyarn add puppeteer\n# or \"npm i puppeteer\"\n```\n\n Node  `https://baidu.com`  `baidu.png`\n\n```js\nconst puppeteer = require('puppeteer');\n\n(async () => {\n  const browser = await puppeteer.launch();\n  const page = await browser.newPage();\n  await page.goto('https://baidu.com');\n  await page.screenshot({path: 'baidu.png'});\n\n  await browser.close();\n})();\n```\n\n Node \n\n![image](/css/images/4.jpg)\n\n `async``await`  Puppeteer  `async``await`  Promise \n\n##  Jest \n\nPuppeteer [Jest ](http://www.liuyiqi.cn/2017/02/15/start-jest/) Puppeteer  Jest[](http://www.liuyiqi.cn/tags/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/) Jest \n\n-  Jest\n-  *.test.js\n-  jest \n\n[Jest ](http://www.liuyiqi.cn/2017/02/15/start-jest/)\n\n##  Jest  Puppeteer \n\n Puppeteer  Jest  Jest  Puppeteer  Puppeteer  NPM  Jest  Node  Node  NPM \n\n>  Puppeteer  `async``await`  Node 7.6 Jest  Babel Jest  Babel [](http://facebook.github.io/jest/docs/en/getting-started#using-babel)\n\n `title`  ``\n\n```js\nconst puppeteer = require('puppeteer');\n\ntest('baidu title is correct', async () => {\n  const browser = await puppeteer.launch();\n  const page = await browser.newPage();\n  await page.goto('https://baidu.com');\n  const title = await page.title();\n  expect(title).toBe('');\n  await browser.close();\n});\n```\n\n `test`  `expect` \b\b Jest \b\b `npm test` `jest` package.json \b\n\n```sh\n$ npm test\n\n> fe-test@1.0.0 test /Users/liuyiqi/code/fe-test\n> jest\n\n PASS  puppeteer-demo/baidu-title.test.js\n PASS  puppeteer-demo/screenshot.test.js\n\nTest Suites: 2 passed, 2 total\nTests:       2 passed, 2 total\nSnapshots:   0 total\nTime:        3.241s\nRan all test suites.\n```\n\n `screenshot.test.js` `baidu-title.test.js`  title \b\n\n<https://github.com/lewis617/fe-test/tree/master/puppeteer-demo>\n\n Jest  Puppeteer  Puppeteer  JavaScript \b DOM \b\n\n## \n\n<http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/>","source":"_posts/e2e-testing-with-jest-and-puppeteer.md","raw":"---\ntitle:  Jest  Puppeteer \ndate: 2017-12-05 10:07:00\ntags: [Jest, Puppeteer, , , , e2e]\n---\n\n Jest  Puppeteer e2e testing\n\n<!--more-->\n\n##  vs. \n\n[](http://www.liuyiqi.cn/tags/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/)\n\n![](/css/images/3.gif)\n\n\n\n> Puppeteer  Puppeteer  `headless`  `false`[](http://www.liuyiqi.cn/2017/12/05/common-puppeteer-api-collection/)\n\n##  Puppeteer \n\n SeleniumAppiumProtractorZombie.jsCypressNightmarePuppeteer  Puppeteer Selenium  Appium Protractor  Angular Zombie.js Cypress  Nightmare  Puppeteer  star Puppeteer  star  Nightmare  Puppeteer Nightmare  Antd Pro  Nightmare Nightmare  Nightmare \n\n\n Puppeteer \n\n```sh\nyarn add puppeteer\n# or \"npm i puppeteer\"\n```\n\n Node  `https://baidu.com`  `baidu.png`\n\n```js\nconst puppeteer = require('puppeteer');\n\n(async () => {\n  const browser = await puppeteer.launch();\n  const page = await browser.newPage();\n  await page.goto('https://baidu.com');\n  await page.screenshot({path: 'baidu.png'});\n\n  await browser.close();\n})();\n```\n\n Node \n\n![image](/css/images/4.jpg)\n\n `async``await`  Puppeteer  `async``await`  Promise \n\n##  Jest \n\nPuppeteer [Jest ](http://www.liuyiqi.cn/2017/02/15/start-jest/) Puppeteer  Jest[](http://www.liuyiqi.cn/tags/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/) Jest \n\n-  Jest\n-  *.test.js\n-  jest \n\n[Jest ](http://www.liuyiqi.cn/2017/02/15/start-jest/)\n\n##  Jest  Puppeteer \n\n Puppeteer  Jest  Jest  Puppeteer  Puppeteer  NPM  Jest  Node  Node  NPM \n\n>  Puppeteer  `async``await`  Node 7.6 Jest  Babel Jest  Babel [](http://facebook.github.io/jest/docs/en/getting-started#using-babel)\n\n `title`  ``\n\n```js\nconst puppeteer = require('puppeteer');\n\ntest('baidu title is correct', async () => {\n  const browser = await puppeteer.launch();\n  const page = await browser.newPage();\n  await page.goto('https://baidu.com');\n  const title = await page.title();\n  expect(title).toBe('');\n  await browser.close();\n});\n```\n\n `test`  `expect` \b\b Jest \b\b `npm test` `jest` package.json \b\n\n```sh\n$ npm test\n\n> fe-test@1.0.0 test /Users/liuyiqi/code/fe-test\n> jest\n\n PASS  puppeteer-demo/baidu-title.test.js\n PASS  puppeteer-demo/screenshot.test.js\n\nTest Suites: 2 passed, 2 total\nTests:       2 passed, 2 total\nSnapshots:   0 total\nTime:        3.241s\nRan all test suites.\n```\n\n `screenshot.test.js` `baidu-title.test.js`  title \b\n\n<https://github.com/lewis617/fe-test/tree/master/puppeteer-demo>\n\n Jest  Puppeteer  Puppeteer  JavaScript \b DOM \b\n\n## \n\n<http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/>","slug":"e2e-testing-with-jest-and-puppeteer","published":1,"updated":"2019-05-01T08:10:29.448Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvl7000dtgyt0usvwnem","content":"<p> Jest  Puppeteer e2e testing</p>\n<a id=\"more\"></a>\n<h2 id=\"-vs-\"><a href=\"#-vs-\" class=\"headerlink\" title=\" vs. \"></a> vs. </h2><p><a href=\"http://www.liuyiqi.cn/tags/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/\"></a></p>\n<p><img src=\"/css/images/3.gif\" alt=\"\"></p>\n<p></p>\n<blockquote>\n<p>Puppeteer  Puppeteer  <code>headless</code>  <code>false</code><a href=\"http://www.liuyiqi.cn/2017/12/05/common-puppeteer-api-collection/\"></a></p>\n</blockquote>\n<h2 id=\"-Puppeteer-\"><a href=\"#-Puppeteer-\" class=\"headerlink\" title=\" Puppeteer \"></a> Puppeteer </h2><p> SeleniumAppiumProtractorZombie.jsCypressNightmarePuppeteer  Puppeteer Selenium  Appium Protractor  Angular Zombie.js Cypress  Nightmare  Puppeteer  star Puppeteer  star  Nightmare  Puppeteer Nightmare  Antd Pro  Nightmare Nightmare  Nightmare </p>\n<p> Puppeteer </p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add puppeteer</span><br><span class=\"line\"><span class=\"comment\"># or \"npm i puppeteer\"</span></span><br></pre></td></tr></table></figure>\n<p> Node  <code>https://baidu.com</code>  <code>baidu.png</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> puppeteer = <span class=\"built_in\">require</span>(<span class=\"string\">'puppeteer'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">(<span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> browser = <span class=\"keyword\">await</span> puppeteer.launch();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> page = <span class=\"keyword\">await</span> browser.newPage();</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.goto(<span class=\"string\">'https://baidu.com'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.screenshot(&#123;<span class=\"attr\">path</span>: <span class=\"string\">'baidu.png'</span>&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">await</span> browser.close();</span><br><span class=\"line\">&#125;)();</span><br></pre></td></tr></table></figure>\n<p> Node </p>\n<p><img src=\"/css/images/4.jpg\" alt=\"image\"></p>\n<p> <code>async</code><code>await</code>  Puppeteer  <code>async</code><code>await</code>  Promise </p>\n<h2 id=\"-Jest-\"><a href=\"#-Jest-\" class=\"headerlink\" title=\" Jest \"></a> Jest </h2><p>Puppeteer <a href=\"http://www.liuyiqi.cn/2017/02/15/start-jest/\">Jest </a> Puppeteer  Jest<a href=\"http://www.liuyiqi.cn/tags/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/\"></a> Jest </p>\n<ul>\n<li> Jest</li>\n<li> *.test.js</li>\n<li> jest </li>\n</ul>\n<p><a href=\"http://www.liuyiqi.cn/2017/02/15/start-jest/\">Jest </a></p>\n<h2 id=\"-Jest--Puppeteer-\"><a href=\"#-Jest--Puppeteer-\" class=\"headerlink\" title=\" Jest  Puppeteer \"></a> Jest  Puppeteer </h2><p> Puppeteer  Jest  Jest  Puppeteer  Puppeteer  NPM  Jest  Node  Node  NPM </p>\n<blockquote>\n<p> Puppeteer  <code>async</code><code>await</code>  Node 7.6 Jest  Babel Jest  Babel <a href=\"http://facebook.github.io/jest/docs/en/getting-started#using-babel\" target=\"_blank\" rel=\"noopener\"></a></p>\n</blockquote>\n<p> <code>title</code>  <code></code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> puppeteer = <span class=\"built_in\">require</span>(<span class=\"string\">'puppeteer'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">test(<span class=\"string\">'baidu title is correct'</span>, <span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> browser = <span class=\"keyword\">await</span> puppeteer.launch();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> page = <span class=\"keyword\">await</span> browser.newPage();</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.goto(<span class=\"string\">'https://baidu.com'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> title = <span class=\"keyword\">await</span> page.title();</span><br><span class=\"line\">  expect(title).toBe(<span class=\"string\">''</span>);</span><br><span class=\"line\">  <span class=\"keyword\">await</span> browser.close();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p> <code>test</code>  <code>expect</code> \b\b Jest \b\b <code>npm test</code> <code>jest</code> package.json \b</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm <span class=\"built_in\">test</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; fe-test@1.0.0 <span class=\"built_in\">test</span> /Users/liuyiqi/code/fe-test</span><br><span class=\"line\">&gt; jest</span><br><span class=\"line\"></span><br><span class=\"line\"> PASS  puppeteer-demo/baidu-title.test.js</span><br><span class=\"line\"> PASS  puppeteer-demo/screenshot.test.js</span><br><span class=\"line\"></span><br><span class=\"line\">Test Suites: 2 passed, 2 total</span><br><span class=\"line\">Tests:       2 passed, 2 total</span><br><span class=\"line\">Snapshots:   0 total</span><br><span class=\"line\">Time:        3.241s</span><br><span class=\"line\">Ran all <span class=\"built_in\">test</span> suites.</span><br></pre></td></tr></table></figure>\n<p> <code>screenshot.test.js</code> <code>baidu-title.test.js</code>  title \b</p>\n<p><a href=\"https://github.com/lewis617/fe-test/tree/master/puppeteer-demo\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/fe-test/tree/master/puppeteer-demo</a></p>\n<p> Jest  Puppeteer  Puppeteer  JavaScript \b DOM \b</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/\">http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/</a></p>\n","site":{"data":{}},"excerpt":"<p> Jest  Puppeteer e2e testing</p>","more":"<h2 id=\"-vs-\"><a href=\"#-vs-\" class=\"headerlink\" title=\" vs. \"></a> vs. </h2><p><a href=\"http://www.liuyiqi.cn/tags/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/\"></a></p>\n<p><img src=\"/css/images/3.gif\" alt=\"\"></p>\n<p></p>\n<blockquote>\n<p>Puppeteer  Puppeteer  <code>headless</code>  <code>false</code><a href=\"http://www.liuyiqi.cn/2017/12/05/common-puppeteer-api-collection/\"></a></p>\n</blockquote>\n<h2 id=\"-Puppeteer-\"><a href=\"#-Puppeteer-\" class=\"headerlink\" title=\" Puppeteer \"></a> Puppeteer </h2><p> SeleniumAppiumProtractorZombie.jsCypressNightmarePuppeteer  Puppeteer Selenium  Appium Protractor  Angular Zombie.js Cypress  Nightmare  Puppeteer  star Puppeteer  star  Nightmare  Puppeteer Nightmare  Antd Pro  Nightmare Nightmare  Nightmare </p>\n<p> Puppeteer </p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add puppeteer</span><br><span class=\"line\"><span class=\"comment\"># or \"npm i puppeteer\"</span></span><br></pre></td></tr></table></figure>\n<p> Node  <code>https://baidu.com</code>  <code>baidu.png</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> puppeteer = <span class=\"built_in\">require</span>(<span class=\"string\">'puppeteer'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">(<span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> browser = <span class=\"keyword\">await</span> puppeteer.launch();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> page = <span class=\"keyword\">await</span> browser.newPage();</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.goto(<span class=\"string\">'https://baidu.com'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.screenshot(&#123;<span class=\"attr\">path</span>: <span class=\"string\">'baidu.png'</span>&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">await</span> browser.close();</span><br><span class=\"line\">&#125;)();</span><br></pre></td></tr></table></figure>\n<p> Node </p>\n<p><img src=\"/css/images/4.jpg\" alt=\"image\"></p>\n<p> <code>async</code><code>await</code>  Puppeteer  <code>async</code><code>await</code>  Promise </p>\n<h2 id=\"-Jest-\"><a href=\"#-Jest-\" class=\"headerlink\" title=\" Jest \"></a> Jest </h2><p>Puppeteer <a href=\"http://www.liuyiqi.cn/2017/02/15/start-jest/\">Jest </a> Puppeteer  Jest<a href=\"http://www.liuyiqi.cn/tags/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/\"></a> Jest </p>\n<ul>\n<li> Jest</li>\n<li> *.test.js</li>\n<li> jest </li>\n</ul>\n<p><a href=\"http://www.liuyiqi.cn/2017/02/15/start-jest/\">Jest </a></p>\n<h2 id=\"-Jest--Puppeteer-\"><a href=\"#-Jest--Puppeteer-\" class=\"headerlink\" title=\" Jest  Puppeteer \"></a> Jest  Puppeteer </h2><p> Puppeteer  Jest  Jest  Puppeteer  Puppeteer  NPM  Jest  Node  Node  NPM </p>\n<blockquote>\n<p> Puppeteer  <code>async</code><code>await</code>  Node 7.6 Jest  Babel Jest  Babel <a href=\"http://facebook.github.io/jest/docs/en/getting-started#using-babel\" target=\"_blank\" rel=\"noopener\"></a></p>\n</blockquote>\n<p> <code>title</code>  <code></code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> puppeteer = <span class=\"built_in\">require</span>(<span class=\"string\">'puppeteer'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">test(<span class=\"string\">'baidu title is correct'</span>, <span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> browser = <span class=\"keyword\">await</span> puppeteer.launch();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> page = <span class=\"keyword\">await</span> browser.newPage();</span><br><span class=\"line\">  <span class=\"keyword\">await</span> page.goto(<span class=\"string\">'https://baidu.com'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> title = <span class=\"keyword\">await</span> page.title();</span><br><span class=\"line\">  expect(title).toBe(<span class=\"string\">''</span>);</span><br><span class=\"line\">  <span class=\"keyword\">await</span> browser.close();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p> <code>test</code>  <code>expect</code> \b\b Jest \b\b <code>npm test</code> <code>jest</code> package.json \b</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm <span class=\"built_in\">test</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; fe-test@1.0.0 <span class=\"built_in\">test</span> /Users/liuyiqi/code/fe-test</span><br><span class=\"line\">&gt; jest</span><br><span class=\"line\"></span><br><span class=\"line\"> PASS  puppeteer-demo/baidu-title.test.js</span><br><span class=\"line\"> PASS  puppeteer-demo/screenshot.test.js</span><br><span class=\"line\"></span><br><span class=\"line\">Test Suites: 2 passed, 2 total</span><br><span class=\"line\">Tests:       2 passed, 2 total</span><br><span class=\"line\">Snapshots:   0 total</span><br><span class=\"line\">Time:        3.241s</span><br><span class=\"line\">Ran all <span class=\"built_in\">test</span> suites.</span><br></pre></td></tr></table></figure>\n<p> <code>screenshot.test.js</code> <code>baidu-title.test.js</code>  title \b</p>\n<p><a href=\"https://github.com/lewis617/fe-test/tree/master/puppeteer-demo\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/fe-test/tree/master/puppeteer-demo</a></p>\n<p> Jest  Puppeteer  Puppeteer  JavaScript \b DOM \b</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/\">http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/</a></p>"},{"title":"JavaScript ","date":"2017-02-19T05:27:00.000Z","_content":"\n\n\n<!--more-->\n\n## \n\n********()\n\n- \n- \n\n\n\n##  JavaScript \n\n\n\n- ****\n- **** ()\n- **** \n\n**** JavaScript \n\n### \n\n ****  `vertices`  `adjList` \n\n```js\nvar vertices = [];\nvar adjList = new Dictionary();\n```\n\n###  addVertex addEdge  getAdjList \n\n `addVertex` `addEdge`  `getAdjList`  `adjList`\n\n```js\nvar graph = new Graph();\n\nvar myVertices = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I'];\nfor (var i = 0; i < myVertices.length; i++) {\n  graph.addVertex(myVertices[i]);\n}\ngraph.addEdge('A', 'B');\ngraph.addEdge('A', 'C');\ngraph.addEdge('A', 'D');\ngraph.addEdge('C', 'D');\ngraph.addEdge('C', 'G');\ngraph.addEdge('D', 'G');\ngraph.addEdge('D', 'H');\ngraph.addEdge('B', 'E');\ngraph.addEdge('B', 'F');\ngraph.addEdge('E', 'I');\n\nexpect(graph.getAdjList()).toEqual({\n  'A': ['B', 'C', 'D'],\n  'B': ['A', 'E', 'F'],\n  'C': ['A', 'D', 'G'],\n  'D': ['A', 'C', 'G', 'H'],\n  'E': ['B', 'I'],\n  'F': ['B'],\n  'G': ['C', 'D'],\n  'H': ['D'],\n  'I': ['E']\n});\n```\n\n`addVertex`  `vertices`  push  `adjList` \n\n```js\nthis.addVertex = function (v) {\n  vertices.push(v);\n  adjList.set(v, []);\n};\n```\n\n`addEdge`  `adjList` \n\n```js\nthis.addEdge = function (v, w) {\n  adjList.get(v).push(w);\n  adjList.get(w).push(v);\n};\n```\n\n`getAdjList`  `adjList.getItems()` \n\n```js\nthis.getAdjList = function () {\n  return adjList.getItems();\n};\n```\n\n### \n\n\n\n![](https://ws1.sinaimg.cn/mw690/83900b4egy1fcvopomghbj20dz09ajru)\n\n\n\n- \n- \n\n A  BCD  BCD  B  A \n\n- \n- \n\n\n\n```js\n// \nvar initializeColor = function () {\n  var color = {};\n  for (var i = 0; i < vertices.length; i++) {\n    color[vertices[i]] = 'white';\n  }\n  return color;\n};\n\nthis.bfs = function (v, callback) {\n  var color = initializeColor(),\n    queue = new Queue();\n \n  queue.enqueue(v);  // \n  color[v] = 'black';\n\n  while (!queue.isEmpty()) {\n    var u = queue.dequeue(),  // \n      neighbors = adjList.get(u);\n\n    for (var i = 0; i < neighbors.length; i++) {  // \n      var w = neighbors[i];\n      if (color[w] === 'white') {\n        queue.enqueue(w);\n        color[w] = 'black';  // \n      }\n    }\n    if (callback) {\n      callback(u);  // \n    }\n  }\n};\n```\n\n### \n\n\n\n![](https://ws1.sinaimg.cn/mw690/83900b4egy1fcvp988h6bj20bu08vmxg)\n \n \n\n- \n\n\n\n```js\nthis.dfs = function (v, callback) {\n  var color = initializeColor();\n  dfsVisit(v, color, callback);\n};\n\nvar dfsVisit = function (u, color, callback) {\n  if (callback) {\n    callback(u);\n  }\n  var neighbors = adjList.get(u);\n  color[u] = 'black';\n  for (var i = 0; i < neighbors.length; i++) {\n    var w = neighbors[i];\n    if (color[w] === 'white') {\n      dfsVisit(w, color, callback);\n    }\n  }\n};\n```\n\n JavaScript \n\n \n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>\n\n","source":"_posts/graph.md","raw":"---\ntitle: JavaScript \ndate: 2017-02-19 13:27:00\ntags: []\n---\n\n\n\n<!--more-->\n\n## \n\n********()\n\n- \n- \n\n\n\n##  JavaScript \n\n\n\n- ****\n- **** ()\n- **** \n\n**** JavaScript \n\n### \n\n ****  `vertices`  `adjList` \n\n```js\nvar vertices = [];\nvar adjList = new Dictionary();\n```\n\n###  addVertex addEdge  getAdjList \n\n `addVertex` `addEdge`  `getAdjList`  `adjList`\n\n```js\nvar graph = new Graph();\n\nvar myVertices = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I'];\nfor (var i = 0; i < myVertices.length; i++) {\n  graph.addVertex(myVertices[i]);\n}\ngraph.addEdge('A', 'B');\ngraph.addEdge('A', 'C');\ngraph.addEdge('A', 'D');\ngraph.addEdge('C', 'D');\ngraph.addEdge('C', 'G');\ngraph.addEdge('D', 'G');\ngraph.addEdge('D', 'H');\ngraph.addEdge('B', 'E');\ngraph.addEdge('B', 'F');\ngraph.addEdge('E', 'I');\n\nexpect(graph.getAdjList()).toEqual({\n  'A': ['B', 'C', 'D'],\n  'B': ['A', 'E', 'F'],\n  'C': ['A', 'D', 'G'],\n  'D': ['A', 'C', 'G', 'H'],\n  'E': ['B', 'I'],\n  'F': ['B'],\n  'G': ['C', 'D'],\n  'H': ['D'],\n  'I': ['E']\n});\n```\n\n`addVertex`  `vertices`  push  `adjList` \n\n```js\nthis.addVertex = function (v) {\n  vertices.push(v);\n  adjList.set(v, []);\n};\n```\n\n`addEdge`  `adjList` \n\n```js\nthis.addEdge = function (v, w) {\n  adjList.get(v).push(w);\n  adjList.get(w).push(v);\n};\n```\n\n`getAdjList`  `adjList.getItems()` \n\n```js\nthis.getAdjList = function () {\n  return adjList.getItems();\n};\n```\n\n### \n\n\n\n![](https://ws1.sinaimg.cn/mw690/83900b4egy1fcvopomghbj20dz09ajru)\n\n\n\n- \n- \n\n A  BCD  BCD  B  A \n\n- \n- \n\n\n\n```js\n// \nvar initializeColor = function () {\n  var color = {};\n  for (var i = 0; i < vertices.length; i++) {\n    color[vertices[i]] = 'white';\n  }\n  return color;\n};\n\nthis.bfs = function (v, callback) {\n  var color = initializeColor(),\n    queue = new Queue();\n \n  queue.enqueue(v);  // \n  color[v] = 'black';\n\n  while (!queue.isEmpty()) {\n    var u = queue.dequeue(),  // \n      neighbors = adjList.get(u);\n\n    for (var i = 0; i < neighbors.length; i++) {  // \n      var w = neighbors[i];\n      if (color[w] === 'white') {\n        queue.enqueue(w);\n        color[w] = 'black';  // \n      }\n    }\n    if (callback) {\n      callback(u);  // \n    }\n  }\n};\n```\n\n### \n\n\n\n![](https://ws1.sinaimg.cn/mw690/83900b4egy1fcvp988h6bj20bu08vmxg)\n \n \n\n- \n\n\n\n```js\nthis.dfs = function (v, callback) {\n  var color = initializeColor();\n  dfsVisit(v, color, callback);\n};\n\nvar dfsVisit = function (u, color, callback) {\n  if (callback) {\n    callback(u);\n  }\n  var neighbors = adjList.get(u);\n  color[u] = 'black';\n  for (var i = 0; i < neighbors.length; i++) {\n    var w = neighbors[i];\n    if (color[w] === 'white') {\n      dfsVisit(w, color, callback);\n    }\n  }\n};\n```\n\n JavaScript \n\n \n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>\n\n","slug":"graph","published":1,"updated":"2019-05-01T08:02:09.462Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvl8000gtgytutwdje3f","content":"<p></p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><strong></strong>()</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<h2 id=\"-JavaScript-\"><a href=\"#-JavaScript-\" class=\"headerlink\" title=\" JavaScript \"></a> JavaScript </h2><p></p>\n<ul>\n<li><strong></strong></li>\n<li><strong></strong> ()</li>\n<li><strong></strong> </li>\n</ul>\n<p><strong></strong> JavaScript </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <strong></strong>  <code>vertices</code>  <code>adjList</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> vertices = [];</span><br><span class=\"line\"><span class=\"keyword\">var</span> adjList = <span class=\"keyword\">new</span> Dictionary();</span><br></pre></td></tr></table></figure>\n<h3 id=\"-addVertex-addEdge--getAdjList-\"><a href=\"#-addVertex-addEdge--getAdjList-\" class=\"headerlink\" title=\" addVertex addEdge  getAdjList \"></a> addVertex addEdge  getAdjList </h3><p> <code>addVertex</code> <code>addEdge</code>  <code>getAdjList</code>  <code>adjList</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> graph = <span class=\"keyword\">new</span> Graph();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> myVertices = [<span class=\"string\">'A'</span>, <span class=\"string\">'B'</span>, <span class=\"string\">'C'</span>, <span class=\"string\">'D'</span>, <span class=\"string\">'E'</span>, <span class=\"string\">'F'</span>, <span class=\"string\">'G'</span>, <span class=\"string\">'H'</span>, <span class=\"string\">'I'</span>];</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; myVertices.length; i++) &#123;</span><br><span class=\"line\">  graph.addVertex(myVertices[i]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">'A'</span>, <span class=\"string\">'B'</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">'A'</span>, <span class=\"string\">'C'</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">'A'</span>, <span class=\"string\">'D'</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">'C'</span>, <span class=\"string\">'D'</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">'C'</span>, <span class=\"string\">'G'</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">'D'</span>, <span class=\"string\">'G'</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">'D'</span>, <span class=\"string\">'H'</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">'B'</span>, <span class=\"string\">'E'</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">'B'</span>, <span class=\"string\">'F'</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">'E'</span>, <span class=\"string\">'I'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">expect(graph.getAdjList()).toEqual(&#123;</span><br><span class=\"line\">  <span class=\"string\">'A'</span>: [<span class=\"string\">'B'</span>, <span class=\"string\">'C'</span>, <span class=\"string\">'D'</span>],</span><br><span class=\"line\">  <span class=\"string\">'B'</span>: [<span class=\"string\">'A'</span>, <span class=\"string\">'E'</span>, <span class=\"string\">'F'</span>],</span><br><span class=\"line\">  <span class=\"string\">'C'</span>: [<span class=\"string\">'A'</span>, <span class=\"string\">'D'</span>, <span class=\"string\">'G'</span>],</span><br><span class=\"line\">  <span class=\"string\">'D'</span>: [<span class=\"string\">'A'</span>, <span class=\"string\">'C'</span>, <span class=\"string\">'G'</span>, <span class=\"string\">'H'</span>],</span><br><span class=\"line\">  <span class=\"string\">'E'</span>: [<span class=\"string\">'B'</span>, <span class=\"string\">'I'</span>],</span><br><span class=\"line\">  <span class=\"string\">'F'</span>: [<span class=\"string\">'B'</span>],</span><br><span class=\"line\">  <span class=\"string\">'G'</span>: [<span class=\"string\">'C'</span>, <span class=\"string\">'D'</span>],</span><br><span class=\"line\">  <span class=\"string\">'H'</span>: [<span class=\"string\">'D'</span>],</span><br><span class=\"line\">  <span class=\"string\">'I'</span>: [<span class=\"string\">'E'</span>]</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><code>addVertex</code>  <code>vertices</code>  push  <code>adjList</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.addVertex = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">v</span>) </span>&#123;</span><br><span class=\"line\">  vertices.push(v);</span><br><span class=\"line\">  adjList.set(v, []);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p><code>addEdge</code>  <code>adjList</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.addEdge = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">v, w</span>) </span>&#123;</span><br><span class=\"line\">  adjList.get(v).push(w);</span><br><span class=\"line\">  adjList.get(w).push(v);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p><code>getAdjList</code>  <code>adjList.getItems()</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.getAdjList = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> adjList.getItems();</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><img src=\"https://ws1.sinaimg.cn/mw690/83900b4egy1fcvopomghbj20dz09ajru\" alt=\"\"></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p> A  BCD  BCD  B  A </p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> initializeColor = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> color = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    color[vertices[i]] = <span class=\"string\">'white'</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> color;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.bfs = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">v, callback</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> color = initializeColor(),</span><br><span class=\"line\">    queue = <span class=\"keyword\">new</span> Queue();</span><br><span class=\"line\"> </span><br><span class=\"line\">  queue.enqueue(v);  <span class=\"comment\">// </span></span><br><span class=\"line\">  color[v] = <span class=\"string\">'black'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!queue.isEmpty()) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> u = queue.dequeue(),  <span class=\"comment\">// </span></span><br><span class=\"line\">      neighbors = adjList.get(u);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; neighbors.length; i++) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">var</span> w = neighbors[i];</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (color[w] === <span class=\"string\">'white'</span>) &#123;</span><br><span class=\"line\">        queue.enqueue(w);</span><br><span class=\"line\">        color[w] = <span class=\"string\">'black'</span>;  <span class=\"comment\">// </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (callback) &#123;</span><br><span class=\"line\">      callback(u);  <span class=\"comment\">// </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><img src=\"https://ws1.sinaimg.cn/mw690/83900b4egy1fcvp988h6bj20bu08vmxg\" alt=\"\"></p>\n<p> </p>\n<ul>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.dfs = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">v, callback</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> color = initializeColor();</span><br><span class=\"line\">  dfsVisit(v, color, callback);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> dfsVisit = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">u, color, callback</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (callback) &#123;</span><br><span class=\"line\">    callback(u);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> neighbors = adjList.get(u);</span><br><span class=\"line\">  color[u] = <span class=\"string\">'black'</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; neighbors.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> w = neighbors[i];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (color[w] === <span class=\"string\">'white'</span>) &#123;</span><br><span class=\"line\">      dfsVisit(w, color, callback);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>\n","site":{"data":{}},"excerpt":"<p></p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><strong></strong>()</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<h2 id=\"-JavaScript-\"><a href=\"#-JavaScript-\" class=\"headerlink\" title=\" JavaScript \"></a> JavaScript </h2><p></p>\n<ul>\n<li><strong></strong></li>\n<li><strong></strong> ()</li>\n<li><strong></strong> </li>\n</ul>\n<p><strong></strong> JavaScript </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <strong></strong>  <code>vertices</code>  <code>adjList</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> vertices = [];</span><br><span class=\"line\"><span class=\"keyword\">var</span> adjList = <span class=\"keyword\">new</span> Dictionary();</span><br></pre></td></tr></table></figure>\n<h3 id=\"-addVertex-addEdge--getAdjList-\"><a href=\"#-addVertex-addEdge--getAdjList-\" class=\"headerlink\" title=\" addVertex addEdge  getAdjList \"></a> addVertex addEdge  getAdjList </h3><p> <code>addVertex</code> <code>addEdge</code>  <code>getAdjList</code>  <code>adjList</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> graph = <span class=\"keyword\">new</span> Graph();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> myVertices = [<span class=\"string\">'A'</span>, <span class=\"string\">'B'</span>, <span class=\"string\">'C'</span>, <span class=\"string\">'D'</span>, <span class=\"string\">'E'</span>, <span class=\"string\">'F'</span>, <span class=\"string\">'G'</span>, <span class=\"string\">'H'</span>, <span class=\"string\">'I'</span>];</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; myVertices.length; i++) &#123;</span><br><span class=\"line\">  graph.addVertex(myVertices[i]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">'A'</span>, <span class=\"string\">'B'</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">'A'</span>, <span class=\"string\">'C'</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">'A'</span>, <span class=\"string\">'D'</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">'C'</span>, <span class=\"string\">'D'</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">'C'</span>, <span class=\"string\">'G'</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">'D'</span>, <span class=\"string\">'G'</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">'D'</span>, <span class=\"string\">'H'</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">'B'</span>, <span class=\"string\">'E'</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">'B'</span>, <span class=\"string\">'F'</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">'E'</span>, <span class=\"string\">'I'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">expect(graph.getAdjList()).toEqual(&#123;</span><br><span class=\"line\">  <span class=\"string\">'A'</span>: [<span class=\"string\">'B'</span>, <span class=\"string\">'C'</span>, <span class=\"string\">'D'</span>],</span><br><span class=\"line\">  <span class=\"string\">'B'</span>: [<span class=\"string\">'A'</span>, <span class=\"string\">'E'</span>, <span class=\"string\">'F'</span>],</span><br><span class=\"line\">  <span class=\"string\">'C'</span>: [<span class=\"string\">'A'</span>, <span class=\"string\">'D'</span>, <span class=\"string\">'G'</span>],</span><br><span class=\"line\">  <span class=\"string\">'D'</span>: [<span class=\"string\">'A'</span>, <span class=\"string\">'C'</span>, <span class=\"string\">'G'</span>, <span class=\"string\">'H'</span>],</span><br><span class=\"line\">  <span class=\"string\">'E'</span>: [<span class=\"string\">'B'</span>, <span class=\"string\">'I'</span>],</span><br><span class=\"line\">  <span class=\"string\">'F'</span>: [<span class=\"string\">'B'</span>],</span><br><span class=\"line\">  <span class=\"string\">'G'</span>: [<span class=\"string\">'C'</span>, <span class=\"string\">'D'</span>],</span><br><span class=\"line\">  <span class=\"string\">'H'</span>: [<span class=\"string\">'D'</span>],</span><br><span class=\"line\">  <span class=\"string\">'I'</span>: [<span class=\"string\">'E'</span>]</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><code>addVertex</code>  <code>vertices</code>  push  <code>adjList</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.addVertex = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">v</span>) </span>&#123;</span><br><span class=\"line\">  vertices.push(v);</span><br><span class=\"line\">  adjList.set(v, []);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p><code>addEdge</code>  <code>adjList</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.addEdge = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">v, w</span>) </span>&#123;</span><br><span class=\"line\">  adjList.get(v).push(w);</span><br><span class=\"line\">  adjList.get(w).push(v);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p><code>getAdjList</code>  <code>adjList.getItems()</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.getAdjList = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> adjList.getItems();</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><img src=\"https://ws1.sinaimg.cn/mw690/83900b4egy1fcvopomghbj20dz09ajru\" alt=\"\"></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p> A  BCD  BCD  B  A </p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> initializeColor = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> color = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    color[vertices[i]] = <span class=\"string\">'white'</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> color;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.bfs = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">v, callback</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> color = initializeColor(),</span><br><span class=\"line\">    queue = <span class=\"keyword\">new</span> Queue();</span><br><span class=\"line\"> </span><br><span class=\"line\">  queue.enqueue(v);  <span class=\"comment\">// </span></span><br><span class=\"line\">  color[v] = <span class=\"string\">'black'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!queue.isEmpty()) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> u = queue.dequeue(),  <span class=\"comment\">// </span></span><br><span class=\"line\">      neighbors = adjList.get(u);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; neighbors.length; i++) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">var</span> w = neighbors[i];</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (color[w] === <span class=\"string\">'white'</span>) &#123;</span><br><span class=\"line\">        queue.enqueue(w);</span><br><span class=\"line\">        color[w] = <span class=\"string\">'black'</span>;  <span class=\"comment\">// </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (callback) &#123;</span><br><span class=\"line\">      callback(u);  <span class=\"comment\">// </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><img src=\"https://ws1.sinaimg.cn/mw690/83900b4egy1fcvp988h6bj20bu08vmxg\" alt=\"\"></p>\n<p> </p>\n<ul>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.dfs = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">v, callback</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> color = initializeColor();</span><br><span class=\"line\">  dfsVisit(v, color, callback);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> dfsVisit = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">u, color, callback</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (callback) &#123;</span><br><span class=\"line\">    callback(u);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> neighbors = adjList.get(u);</span><br><span class=\"line\">  color[u] = <span class=\"string\">'black'</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; neighbors.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> w = neighbors[i];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (color[w] === <span class=\"string\">'white'</span>) &#123;</span><br><span class=\"line\">      dfsVisit(w, color, callback);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>"},{"title":" JSON ","date":"2019-01-23T08:25:00.000Z","_content":"\n JSON \n\n<!--more-->\n\n## \n\nDepth-First-SearchDFS\n\n![dfs](https://ws1.sinaimg.cn/mw690/83900b4egy1fcvp988h6bj20bu08vmxg)\n\nDFS  LeetCode  DFS  DFS \n\n##  JSON\n\n DFS  JSON  JSON JSON DFS  JSON  key key \n\n\n\n```js\nconst json = { a: { b: 'hello' }, c: [1, 2] };\nconst dfs = (n) => {\n  console.log(n);\n  if(String(n) === '[object Object]' || Array.isArray(n)){\n    Object.keys(n).forEach(k => { dfs(n[k]); });\n  }\n}; \ndfs(json);\n```\n\n\n\n![ JSON](https://s2.ax1x.com/2019/01/23/kECv8A.png)\n\n JSON \n\n## DFS \n\n `dfs`  JSON \n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/9d7c702a9e3e240b4945ed53a7c5070f.png)\n\n## \n\n****Linked list\n\n LeetCode  `next`\n\n```js\nlet p = linkedList;\n// \np = p.next;\n\n```\n\n\n##  JSON \n\n JSON  JS  Object  key  `next` JSON \n\n```js\nconst json = { a: { b: 'hello' }, c: [1, 2] };\nconst path = ['a', 'b'];\nlet point = json;\npath.forEach(key => { point = point[key] });\n// point  'hello' json.a.b \nconsole.log(point);\n```\n\n`json`  JSON `path` `point` `point` \n\n##  immutibility-helper \n\n React Redux  immutibility-helper \n\n```js\nupdate(obj, {a: {b: {c: {$set: 1}}}});\n```\n\n\n\n## \n\n LeetCode  Easy  Easy ","source":"_posts/dfs-linked-list-in-json.md","raw":"---\n\ntitle:  JSON \n\ndate: 2019-01-23 16:25:00\n\ntags: [, LeetCode]\n\n---\n\n JSON \n\n<!--more-->\n\n## \n\nDepth-First-SearchDFS\n\n![dfs](https://ws1.sinaimg.cn/mw690/83900b4egy1fcvp988h6bj20bu08vmxg)\n\nDFS  LeetCode  DFS  DFS \n\n##  JSON\n\n DFS  JSON  JSON JSON DFS  JSON  key key \n\n\n\n```js\nconst json = { a: { b: 'hello' }, c: [1, 2] };\nconst dfs = (n) => {\n  console.log(n);\n  if(String(n) === '[object Object]' || Array.isArray(n)){\n    Object.keys(n).forEach(k => { dfs(n[k]); });\n  }\n}; \ndfs(json);\n```\n\n\n\n![ JSON](https://s2.ax1x.com/2019/01/23/kECv8A.png)\n\n JSON \n\n## DFS \n\n `dfs`  JSON \n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/9d7c702a9e3e240b4945ed53a7c5070f.png)\n\n## \n\n****Linked list\n\n LeetCode  `next`\n\n```js\nlet p = linkedList;\n// \np = p.next;\n\n```\n\n\n##  JSON \n\n JSON  JS  Object  key  `next` JSON \n\n```js\nconst json = { a: { b: 'hello' }, c: [1, 2] };\nconst path = ['a', 'b'];\nlet point = json;\npath.forEach(key => { point = point[key] });\n// point  'hello' json.a.b \nconsole.log(point);\n```\n\n`json`  JSON `path` `point` `point` \n\n##  immutibility-helper \n\n React Redux  immutibility-helper \n\n```js\nupdate(obj, {a: {b: {c: {$set: 1}}}});\n```\n\n\n\n## \n\n LeetCode  Easy  Easy ","slug":"dfs-linked-list-in-json","published":1,"updated":"2019-05-01T08:02:09.241Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvl9000itgytjq6n6uui","content":"<p> JSON </p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Depth-First-SearchDFS</p>\n<p><img src=\"https://ws1.sinaimg.cn/mw690/83900b4egy1fcvp988h6bj20bu08vmxg\" alt=\"dfs\"></p>\n<p>DFS  LeetCode  DFS  DFS </p>\n<h2 id=\"-JSON\"><a href=\"#-JSON\" class=\"headerlink\" title=\" JSON\"></a> JSON</h2><p> DFS  JSON  JSON JSON DFS  JSON  key key </p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> json = &#123; <span class=\"attr\">a</span>: &#123; <span class=\"attr\">b</span>: <span class=\"string\">'hello'</span> &#125;, <span class=\"attr\">c</span>: [<span class=\"number\">1</span>, <span class=\"number\">2</span>] &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> dfs = <span class=\"function\">(<span class=\"params\">n</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(n);</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(<span class=\"built_in\">String</span>(n) === <span class=\"string\">'[object Object]'</span> || <span class=\"built_in\">Array</span>.isArray(n))&#123;</span><br><span class=\"line\">    <span class=\"built_in\">Object</span>.keys(n).forEach(<span class=\"function\"><span class=\"params\">k</span> =&gt;</span> &#123; dfs(n[k]); &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">dfs(json);</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"https://s2.ax1x.com/2019/01/23/kECv8A.png\" alt=\" JSON\"></p>\n<p> JSON </p>\n<h2 id=\"DFS-\"><a href=\"#DFS-\" class=\"headerlink\" title=\"DFS \"></a>DFS </h2><p> <code>dfs</code>  JSON </p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/9d7c702a9e3e240b4945ed53a7c5070f.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong>Linked list</p>\n<p> LeetCode  <code>next</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> p = linkedList;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">p = p.next;</span><br></pre></td></tr></table></figure>\n<h2 id=\"-JSON-\"><a href=\"#-JSON-\" class=\"headerlink\" title=\" JSON \"></a> JSON </h2><p> JSON  JS  Object  key  <code>next</code> JSON </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> json = &#123; <span class=\"attr\">a</span>: &#123; <span class=\"attr\">b</span>: <span class=\"string\">'hello'</span> &#125;, <span class=\"attr\">c</span>: [<span class=\"number\">1</span>, <span class=\"number\">2</span>] &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> path = [<span class=\"string\">'a'</span>, <span class=\"string\">'b'</span>];</span><br><span class=\"line\"><span class=\"keyword\">let</span> point = json;</span><br><span class=\"line\">path.forEach(<span class=\"function\"><span class=\"params\">key</span> =&gt;</span> &#123; point = point[key] &#125;);</span><br><span class=\"line\"><span class=\"comment\">// point  'hello' json.a.b </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(point);</span><br></pre></td></tr></table></figure>\n<p><code>json</code>  JSON <code>path</code> <code>point</code> <code>point</code> </p>\n<h2 id=\"-immutibility-helper-\"><a href=\"#-immutibility-helper-\" class=\"headerlink\" title=\" immutibility-helper \"></a> immutibility-helper </h2><p> React Redux  immutibility-helper </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">update(obj, &#123;<span class=\"attr\">a</span>: &#123;<span class=\"attr\">b</span>: &#123;<span class=\"attr\">c</span>: &#123;<span class=\"attr\">$set</span>: <span class=\"number\">1</span>&#125;&#125;&#125;&#125;);</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> LeetCode  Easy  Easy </p>\n","site":{"data":{}},"excerpt":"<p> JSON </p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Depth-First-SearchDFS</p>\n<p><img src=\"https://ws1.sinaimg.cn/mw690/83900b4egy1fcvp988h6bj20bu08vmxg\" alt=\"dfs\"></p>\n<p>DFS  LeetCode  DFS  DFS </p>\n<h2 id=\"-JSON\"><a href=\"#-JSON\" class=\"headerlink\" title=\" JSON\"></a> JSON</h2><p> DFS  JSON  JSON JSON DFS  JSON  key key </p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> json = &#123; <span class=\"attr\">a</span>: &#123; <span class=\"attr\">b</span>: <span class=\"string\">'hello'</span> &#125;, <span class=\"attr\">c</span>: [<span class=\"number\">1</span>, <span class=\"number\">2</span>] &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> dfs = <span class=\"function\">(<span class=\"params\">n</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(n);</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(<span class=\"built_in\">String</span>(n) === <span class=\"string\">'[object Object]'</span> || <span class=\"built_in\">Array</span>.isArray(n))&#123;</span><br><span class=\"line\">    <span class=\"built_in\">Object</span>.keys(n).forEach(<span class=\"function\"><span class=\"params\">k</span> =&gt;</span> &#123; dfs(n[k]); &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">dfs(json);</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"https://s2.ax1x.com/2019/01/23/kECv8A.png\" alt=\" JSON\"></p>\n<p> JSON </p>\n<h2 id=\"DFS-\"><a href=\"#DFS-\" class=\"headerlink\" title=\"DFS \"></a>DFS </h2><p> <code>dfs</code>  JSON </p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/9d7c702a9e3e240b4945ed53a7c5070f.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong>Linked list</p>\n<p> LeetCode  <code>next</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> p = linkedList;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">p = p.next;</span><br></pre></td></tr></table></figure>\n<h2 id=\"-JSON-\"><a href=\"#-JSON-\" class=\"headerlink\" title=\" JSON \"></a> JSON </h2><p> JSON  JS  Object  key  <code>next</code> JSON </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> json = &#123; <span class=\"attr\">a</span>: &#123; <span class=\"attr\">b</span>: <span class=\"string\">'hello'</span> &#125;, <span class=\"attr\">c</span>: [<span class=\"number\">1</span>, <span class=\"number\">2</span>] &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> path = [<span class=\"string\">'a'</span>, <span class=\"string\">'b'</span>];</span><br><span class=\"line\"><span class=\"keyword\">let</span> point = json;</span><br><span class=\"line\">path.forEach(<span class=\"function\"><span class=\"params\">key</span> =&gt;</span> &#123; point = point[key] &#125;);</span><br><span class=\"line\"><span class=\"comment\">// point  'hello' json.a.b </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(point);</span><br></pre></td></tr></table></figure>\n<p><code>json</code>  JSON <code>path</code> <code>point</code> <code>point</code> </p>\n<h2 id=\"-immutibility-helper-\"><a href=\"#-immutibility-helper-\" class=\"headerlink\" title=\" immutibility-helper \"></a> immutibility-helper </h2><p> React Redux  immutibility-helper </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">update(obj, &#123;<span class=\"attr\">a</span>: &#123;<span class=\"attr\">b</span>: &#123;<span class=\"attr\">c</span>: &#123;<span class=\"attr\">$set</span>: <span class=\"number\">1</span>&#125;&#125;&#125;&#125;);</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> LeetCode  Easy  Easy </p>"},{"title":"JavaScript ","date":"2017-02-17T07:19:00.000Z","_content":"\n\n\n<!--more-->\n\n## \n\n****************O(1)O(n)************\n\n## \n\n******** m  p  p  m p \n\n##  JavaScript \n\n JavaScript \n\n### \n\n `table`  `loseloseHashCode` Ascii  `hash` `hash` 37\n\n> ASCIIAmerican Standard Code for Information Interchange http://www.asciitable.com/\n\n```js\nfunction HashTable(){\n  var table = [];\n\n  var loseloseHashCode = function (key) {\n    var hash = 0;\n    for (var i = 0; i < key.length; i++) {\n      hash += key.charCodeAt(i);\n    }\n    return hash % 37;\n  };\n}\n```\n\n\n```js\n{\n  'zhangsan': 'zhangsan@email.com'\n  'lisi': 'lisi@email.com'\n}\n```\n\n `loseloseHashCode` `table` \n\n```js\n[ ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  'zhangsan@email.com', // zhangsan  Ascii 858377\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  'lisi@email.com' // lisi  Ascii 4333726\n]\n```\n****\n\n###  put get  remove \n\n `put` `get` `remove` \n\n```js\nvar hashTable = new HashTable();\n\nhashTable.put('zhangsan', 'zhangsan@email.com');\nhashTable.put('lisi', 'lisi@email.com');\n\nexpect(hashTable.get('zhangsan')).toBe('zhangsan@email.com');\nexpect(hashTable.get('lisi')).toBe('lisi@email.com');\n\nhashTable.remove('zhangsan');\nexpect(hashTable.get('zhangsan')).toBe(undefined);\n```\n\n\n\n```js\nthis.put = function (key, value) {\n  var position = loseloseHashCode(key);\n  table[position] = value;\n};\n\nthis.get = function (key) {\n  return table[loseloseHashCode(key)];\n};\n\nthis.remove = function (key) {\n  table[loseloseHashCode(key)] = undefined;\n};\n```\n\n### \n\n `loseloseHashCode`  `loseloseHashCode` ****\n\n`put` `get`  `remove` \n\n `get`  `put`  `remove` \n\n```js\nvar hashTable = new HashTable();\n\nhashTable.put('zhangsan', 'zhangsan@email.com'); // \nhashTable.put('zhangsan12', 'zhangsan12@email.com'); // \nhashTable.put('zhangsan21', 'zhangsan21@email.com'); // \nhashTable.put('zhangsan30', 'zhangsan30@email.com'); // \nexpect(hashTable.get('zhangsan')).toBe('zhangsan@email.com'); // \nexpect(hashTable.get('zhangsan12')).toBe('zhangsan12@email.com'); // \nexpect(hashTable.get('zhangsan21')).toBe('zhangsan21@email.com'); // \nexpect(hashTable.get('zhangsan30')).toBe('zhangsan30@email.com'); // \nexpect(hashTable.remove('zhangsan')).toBeTruthy(); // \nexpect(hashTable.get('zhangsan')).toBe(undefined); // \nexpect(hashTable.remove('zhangsan21')).toBeTruthy(); // \nexpect(hashTable.remove('zhangsan12')).toBeTruthy(); // \nexpect(hashTable.remove('zhangsan30')).toBeTruthy(); // \nexpect(hashTable.remove('zhangsan30')).toBeFalsy(); // \n```\n\n\n\n```js\nvar ValuePair = function (key, value) {\n  this.key = key;\n  this.value = value;\n};\n\nthis.put = function (key, value) {\n  var postion = loseloseHashCode(key);\n  if (table[postion] == undefined) {  // \n    table[postion] = new LinkedList();\n  }\n  table[postion].append(new ValuePair(key, value)); // \n};\n\nthis.get = function (key) {\n  var position = loseloseHashCode(key);\n\n  if (table[position] !== undefined) {\n    var current = table[position].getHead();\n\n    while (current.next) {  // \n      if (current.element.key === key) {\n        return current.element.value;\n      }\n      current = current.next;\n    }\n\n    if (current.element.key === key) { // \n      return current.element.value;\n    }\n  }\n  return undefined; // \n};\n\nthis.remove = function (key) {\n  var position = loseloseHashCode(key);\n\n  if (table[position] !== undefined){\n    var current = table[position].getHead();\n\n    do {\n      if (current.element.key === key){\n        table[position].remove(current.element); // \n        if (table[position].isEmpty()){\n          table[position] = undefined; // \n        }\n        return true;\n      }\n      current = current.next;\n    } while(current);\n  }\n  return false; // \n}\n```\n\n\n\n### \n\n`put` `get`  `remove` \n\n `put``get`  `remove`\n\n```js\nvar hashTable = new HashTable();\n\nhashTable.put('zhangsan', 'zhangsan@email.com'); // \nhashTable.put('zhangsan12', 'zhangsan12@email.com'); // \nhashTable.put('zhangsan21', 'zhangsan21@email.com'); // \nhashTable.put('zhangsan30', 'zhangsan30@email.com'); // \nexpect(hashTable.get('zhangsan')).toBe('zhangsan@email.com'); // \nexpect(hashTable.get('zhangsan12')).toBe('zhangsan12@email.com'); // \nexpect(hashTable.get('zhangsan21')).toBe('zhangsan21@email.com'); // \nexpect(hashTable.get('zhangsan30')).toBe('zhangsan30@email.com'); // \nexpect(hashTable.remove('zhangsan')).toBeTruthy(); // \nexpect(hashTable.get('zhangsan')).toBe(undefined); // \nexpect(hashTable.remove('zhangsan30')).toBeTruthy();  // \nexpect(hashTable.remove('zhangsan21')).toBeTruthy(); // \nexpect(hashTable.remove('zhangsan12')).toBeTruthy(); // \nexpect(hashTable.remove('zhangsan12')).toBeFalsy(); // \n```\n\n\n\n```js\nvar ValuePair = function (key, value) {\n  this.key = key;\n  this.value = value;\n};\n\nthis.put = function (key, value) {\n  var position = loseloseHashCode(key);\n\n  if (table[position] === undefined) {\n    table[position] = new ValuePair(key, value); // \n  } else {\n    var index = ++position;\n    while (table[index] !== undefined) {\n      index++;\n    }\n    table[index] = new ValuePair(key, value); // \n  }\n};\n\nthis.get = function (key) {\n  var position = loseloseHashCode(key);\n\n  if (table[position] !== undefined) {\n    if (table[position].key === key) {\n      return table[position].value; // \n    } else {\n      var index = ++position;\n      while (table[index] !== undefined && (table[index] && table[index].key !== key)) {\n        index++;\n      }\n      if (table[index] && table[index].key === key) {\n        return table[index].value; // \n      }\n    }\n  }\n  return undefined; // \n};\n\nthis.remove = function (key) {\n  var position = loseloseHashCode(key);\n\n  if (table[position] !== undefined) {\n    if (table[position].key === key) {\n      table[position] = undefined; // \n      return true;\n    } else {\n      var index = ++position;\n      while (table[index] === undefined || table[index].key !== key) {\n        index++;\n      }\n      if (table[index].key === key) {\n        table[index] = undefined;  // \n      }\n      return true;\n    }\n  }\n  return false; // \n}\n```\n\n\n \n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>\n","source":"_posts/hash-table.md","raw":"---\ntitle: JavaScript \ndate: 2017-02-17 15:19:00\ntags: []\n---\n\n\n\n<!--more-->\n\n## \n\n****************O(1)O(n)************\n\n## \n\n******** m  p  p  m p \n\n##  JavaScript \n\n JavaScript \n\n### \n\n `table`  `loseloseHashCode` Ascii  `hash` `hash` 37\n\n> ASCIIAmerican Standard Code for Information Interchange http://www.asciitable.com/\n\n```js\nfunction HashTable(){\n  var table = [];\n\n  var loseloseHashCode = function (key) {\n    var hash = 0;\n    for (var i = 0; i < key.length; i++) {\n      hash += key.charCodeAt(i);\n    }\n    return hash % 37;\n  };\n}\n```\n\n\n```js\n{\n  'zhangsan': 'zhangsan@email.com'\n  'lisi': 'lisi@email.com'\n}\n```\n\n `loseloseHashCode` `table` \n\n```js\n[ ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  'zhangsan@email.com', // zhangsan  Ascii 858377\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  ,\n  'lisi@email.com' // lisi  Ascii 4333726\n]\n```\n****\n\n###  put get  remove \n\n `put` `get` `remove` \n\n```js\nvar hashTable = new HashTable();\n\nhashTable.put('zhangsan', 'zhangsan@email.com');\nhashTable.put('lisi', 'lisi@email.com');\n\nexpect(hashTable.get('zhangsan')).toBe('zhangsan@email.com');\nexpect(hashTable.get('lisi')).toBe('lisi@email.com');\n\nhashTable.remove('zhangsan');\nexpect(hashTable.get('zhangsan')).toBe(undefined);\n```\n\n\n\n```js\nthis.put = function (key, value) {\n  var position = loseloseHashCode(key);\n  table[position] = value;\n};\n\nthis.get = function (key) {\n  return table[loseloseHashCode(key)];\n};\n\nthis.remove = function (key) {\n  table[loseloseHashCode(key)] = undefined;\n};\n```\n\n### \n\n `loseloseHashCode`  `loseloseHashCode` ****\n\n`put` `get`  `remove` \n\n `get`  `put`  `remove` \n\n```js\nvar hashTable = new HashTable();\n\nhashTable.put('zhangsan', 'zhangsan@email.com'); // \nhashTable.put('zhangsan12', 'zhangsan12@email.com'); // \nhashTable.put('zhangsan21', 'zhangsan21@email.com'); // \nhashTable.put('zhangsan30', 'zhangsan30@email.com'); // \nexpect(hashTable.get('zhangsan')).toBe('zhangsan@email.com'); // \nexpect(hashTable.get('zhangsan12')).toBe('zhangsan12@email.com'); // \nexpect(hashTable.get('zhangsan21')).toBe('zhangsan21@email.com'); // \nexpect(hashTable.get('zhangsan30')).toBe('zhangsan30@email.com'); // \nexpect(hashTable.remove('zhangsan')).toBeTruthy(); // \nexpect(hashTable.get('zhangsan')).toBe(undefined); // \nexpect(hashTable.remove('zhangsan21')).toBeTruthy(); // \nexpect(hashTable.remove('zhangsan12')).toBeTruthy(); // \nexpect(hashTable.remove('zhangsan30')).toBeTruthy(); // \nexpect(hashTable.remove('zhangsan30')).toBeFalsy(); // \n```\n\n\n\n```js\nvar ValuePair = function (key, value) {\n  this.key = key;\n  this.value = value;\n};\n\nthis.put = function (key, value) {\n  var postion = loseloseHashCode(key);\n  if (table[postion] == undefined) {  // \n    table[postion] = new LinkedList();\n  }\n  table[postion].append(new ValuePair(key, value)); // \n};\n\nthis.get = function (key) {\n  var position = loseloseHashCode(key);\n\n  if (table[position] !== undefined) {\n    var current = table[position].getHead();\n\n    while (current.next) {  // \n      if (current.element.key === key) {\n        return current.element.value;\n      }\n      current = current.next;\n    }\n\n    if (current.element.key === key) { // \n      return current.element.value;\n    }\n  }\n  return undefined; // \n};\n\nthis.remove = function (key) {\n  var position = loseloseHashCode(key);\n\n  if (table[position] !== undefined){\n    var current = table[position].getHead();\n\n    do {\n      if (current.element.key === key){\n        table[position].remove(current.element); // \n        if (table[position].isEmpty()){\n          table[position] = undefined; // \n        }\n        return true;\n      }\n      current = current.next;\n    } while(current);\n  }\n  return false; // \n}\n```\n\n\n\n### \n\n`put` `get`  `remove` \n\n `put``get`  `remove`\n\n```js\nvar hashTable = new HashTable();\n\nhashTable.put('zhangsan', 'zhangsan@email.com'); // \nhashTable.put('zhangsan12', 'zhangsan12@email.com'); // \nhashTable.put('zhangsan21', 'zhangsan21@email.com'); // \nhashTable.put('zhangsan30', 'zhangsan30@email.com'); // \nexpect(hashTable.get('zhangsan')).toBe('zhangsan@email.com'); // \nexpect(hashTable.get('zhangsan12')).toBe('zhangsan12@email.com'); // \nexpect(hashTable.get('zhangsan21')).toBe('zhangsan21@email.com'); // \nexpect(hashTable.get('zhangsan30')).toBe('zhangsan30@email.com'); // \nexpect(hashTable.remove('zhangsan')).toBeTruthy(); // \nexpect(hashTable.get('zhangsan')).toBe(undefined); // \nexpect(hashTable.remove('zhangsan30')).toBeTruthy();  // \nexpect(hashTable.remove('zhangsan21')).toBeTruthy(); // \nexpect(hashTable.remove('zhangsan12')).toBeTruthy(); // \nexpect(hashTable.remove('zhangsan12')).toBeFalsy(); // \n```\n\n\n\n```js\nvar ValuePair = function (key, value) {\n  this.key = key;\n  this.value = value;\n};\n\nthis.put = function (key, value) {\n  var position = loseloseHashCode(key);\n\n  if (table[position] === undefined) {\n    table[position] = new ValuePair(key, value); // \n  } else {\n    var index = ++position;\n    while (table[index] !== undefined) {\n      index++;\n    }\n    table[index] = new ValuePair(key, value); // \n  }\n};\n\nthis.get = function (key) {\n  var position = loseloseHashCode(key);\n\n  if (table[position] !== undefined) {\n    if (table[position].key === key) {\n      return table[position].value; // \n    } else {\n      var index = ++position;\n      while (table[index] !== undefined && (table[index] && table[index].key !== key)) {\n        index++;\n      }\n      if (table[index] && table[index].key === key) {\n        return table[index].value; // \n      }\n    }\n  }\n  return undefined; // \n};\n\nthis.remove = function (key) {\n  var position = loseloseHashCode(key);\n\n  if (table[position] !== undefined) {\n    if (table[position].key === key) {\n      table[position] = undefined; // \n      return true;\n    } else {\n      var index = ++position;\n      while (table[index] === undefined || table[index].key !== key) {\n        index++;\n      }\n      if (table[index].key === key) {\n        table[index] = undefined;  // \n      }\n      return true;\n    }\n  }\n  return false; // \n}\n```\n\n\n \n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>\n","slug":"hash-table","published":1,"updated":"2019-05-01T08:02:09.545Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvla000ltgytepkeftoo","content":"<p></p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><strong></strong><strong></strong><strong></strong>O(1)O(n)<strong></strong><strong></strong><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><strong></strong> m  p  p  m p </p>\n<h2 id=\"-JavaScript-\"><a href=\"#-JavaScript-\" class=\"headerlink\" title=\" JavaScript \"></a> JavaScript </h2><p> JavaScript </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>table</code>  <code>loseloseHashCode</code> Ascii  <code>hash</code> <code>hash</code> 37</p>\n<blockquote>\n<p>ASCIIAmerican Standard Code for Information Interchange <a href=\"http://www.asciitable.com/\" target=\"_blank\" rel=\"noopener\">http://www.asciitable.com/</a></p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">HashTable</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> table = [];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> loseloseHashCode = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> hash = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; key.length; i++) &#123;</span><br><span class=\"line\">      hash += key.charCodeAt(i);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> hash % <span class=\"number\">37</span>;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">'zhangsan'</span>: <span class=\"string\">'zhangsan@email.com'</span></span><br><span class=\"line\">  <span class=\"string\">'lisi'</span>: <span class=\"string\">'lisi@email.com'</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p> <code>loseloseHashCode</code> <code>table</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[ ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  <span class=\"string\">'zhangsan@email.com'</span>, <span class=\"comment\">// zhangsan  Ascii 858377</span></span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  <span class=\"string\">'lisi@email.com'</span> <span class=\"comment\">// lisi  Ascii 4333726</span></span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<p><strong></strong></p>\n<h3 id=\"-put-get--remove-\"><a href=\"#-put-get--remove-\" class=\"headerlink\" title=\" put get  remove \"></a> put get  remove </h3><p> <code>put</code> <code>get</code> <code>remove</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> hashTable = <span class=\"keyword\">new</span> HashTable();</span><br><span class=\"line\"></span><br><span class=\"line\">hashTable.put(<span class=\"string\">'zhangsan'</span>, <span class=\"string\">'zhangsan@email.com'</span>);</span><br><span class=\"line\">hashTable.put(<span class=\"string\">'lisi'</span>, <span class=\"string\">'lisi@email.com'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan'</span>)).toBe(<span class=\"string\">'zhangsan@email.com'</span>);</span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'lisi'</span>)).toBe(<span class=\"string\">'lisi@email.com'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">hashTable.remove(<span class=\"string\">'zhangsan'</span>);</span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan'</span>)).toBe(<span class=\"literal\">undefined</span>);</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.put = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key, value</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> position = loseloseHashCode(key);</span><br><span class=\"line\">  table[position] = value;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.get = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> table[loseloseHashCode(key)];</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.remove = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  table[loseloseHashCode(key)] = <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>loseloseHashCode</code>  <code>loseloseHashCode</code> <strong></strong></p>\n<p><code>put</code> <code>get</code>  <code>remove</code> </p>\n<p> <code>get</code>  <code>put</code>  <code>remove</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> hashTable = <span class=\"keyword\">new</span> HashTable();</span><br><span class=\"line\"></span><br><span class=\"line\">hashTable.put(<span class=\"string\">'zhangsan'</span>, <span class=\"string\">'zhangsan@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">hashTable.put(<span class=\"string\">'zhangsan12'</span>, <span class=\"string\">'zhangsan12@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">hashTable.put(<span class=\"string\">'zhangsan21'</span>, <span class=\"string\">'zhangsan21@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">hashTable.put(<span class=\"string\">'zhangsan30'</span>, <span class=\"string\">'zhangsan30@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan'</span>)).toBe(<span class=\"string\">'zhangsan@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan12'</span>)).toBe(<span class=\"string\">'zhangsan12@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan21'</span>)).toBe(<span class=\"string\">'zhangsan21@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan30'</span>)).toBe(<span class=\"string\">'zhangsan30@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.remove(<span class=\"string\">'zhangsan'</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan'</span>)).toBe(<span class=\"literal\">undefined</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.remove(<span class=\"string\">'zhangsan21'</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.remove(<span class=\"string\">'zhangsan12'</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.remove(<span class=\"string\">'zhangsan30'</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.remove(<span class=\"string\">'zhangsan30'</span>)).toBeFalsy(); <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> ValuePair = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key, value</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.key = key;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.value = value;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.put = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key, value</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> postion = loseloseHashCode(key);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (table[postion] == <span class=\"literal\">undefined</span>) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">    table[postion] = <span class=\"keyword\">new</span> LinkedList();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  table[postion].append(<span class=\"keyword\">new</span> ValuePair(key, value)); <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.get = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> position = loseloseHashCode(key);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (table[position] !== <span class=\"literal\">undefined</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> current = table[position].getHead();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (current.next) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (current.element.key === key) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> current.element.value;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      current = current.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (current.element.key === key) &#123; <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> current.element.value;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.remove = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> position = loseloseHashCode(key);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (table[position] !== <span class=\"literal\">undefined</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> current = table[position].getHead();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (current.element.key === key)&#123;</span><br><span class=\"line\">        table[position].remove(current.element); <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (table[position].isEmpty())&#123;</span><br><span class=\"line\">          table[position] = <span class=\"literal\">undefined</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      current = current.next;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">while</span>(current);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>put</code> <code>get</code>  <code>remove</code> </p>\n<p> <code>put</code><code>get</code>  <code>remove</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> hashTable = <span class=\"keyword\">new</span> HashTable();</span><br><span class=\"line\"></span><br><span class=\"line\">hashTable.put(<span class=\"string\">'zhangsan'</span>, <span class=\"string\">'zhangsan@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">hashTable.put(<span class=\"string\">'zhangsan12'</span>, <span class=\"string\">'zhangsan12@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">hashTable.put(<span class=\"string\">'zhangsan21'</span>, <span class=\"string\">'zhangsan21@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">hashTable.put(<span class=\"string\">'zhangsan30'</span>, <span class=\"string\">'zhangsan30@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan'</span>)).toBe(<span class=\"string\">'zhangsan@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan12'</span>)).toBe(<span class=\"string\">'zhangsan12@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan21'</span>)).toBe(<span class=\"string\">'zhangsan21@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan30'</span>)).toBe(<span class=\"string\">'zhangsan30@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.remove(<span class=\"string\">'zhangsan'</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan'</span>)).toBe(<span class=\"literal\">undefined</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.remove(<span class=\"string\">'zhangsan30'</span>)).toBeTruthy();  <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.remove(<span class=\"string\">'zhangsan21'</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.remove(<span class=\"string\">'zhangsan12'</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.remove(<span class=\"string\">'zhangsan12'</span>)).toBeFalsy(); <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> ValuePair = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key, value</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.key = key;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.value = value;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.put = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key, value</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> position = loseloseHashCode(key);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (table[position] === <span class=\"literal\">undefined</span>) &#123;</span><br><span class=\"line\">    table[position] = <span class=\"keyword\">new</span> ValuePair(key, value); <span class=\"comment\">// </span></span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> index = ++position;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (table[index] !== <span class=\"literal\">undefined</span>) &#123;</span><br><span class=\"line\">      index++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    table[index] = <span class=\"keyword\">new</span> ValuePair(key, value); <span class=\"comment\">// </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.get = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> position = loseloseHashCode(key);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (table[position] !== <span class=\"literal\">undefined</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (table[position].key === key) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> table[position].value; <span class=\"comment\">// </span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> index = ++position;</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (table[index] !== <span class=\"literal\">undefined</span> &amp;&amp; (table[index] &amp;&amp; table[index].key !== key)) &#123;</span><br><span class=\"line\">        index++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (table[index] &amp;&amp; table[index].key === key) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> table[index].value; <span class=\"comment\">// </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.remove = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> position = loseloseHashCode(key);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (table[position] !== <span class=\"literal\">undefined</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (table[position].key === key) &#123;</span><br><span class=\"line\">      table[position] = <span class=\"literal\">undefined</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> index = ++position;</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (table[index] === <span class=\"literal\">undefined</span> || table[index].key !== key) &#123;</span><br><span class=\"line\">        index++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (table[index].key === key) &#123;</span><br><span class=\"line\">        table[index] = <span class=\"literal\">undefined</span>;  <span class=\"comment\">// </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>\n","site":{"data":{}},"excerpt":"<p></p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><strong></strong><strong></strong><strong></strong>O(1)O(n)<strong></strong><strong></strong><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><strong></strong> m  p  p  m p </p>\n<h2 id=\"-JavaScript-\"><a href=\"#-JavaScript-\" class=\"headerlink\" title=\" JavaScript \"></a> JavaScript </h2><p> JavaScript </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>table</code>  <code>loseloseHashCode</code> Ascii  <code>hash</code> <code>hash</code> 37</p>\n<blockquote>\n<p>ASCIIAmerican Standard Code for Information Interchange <a href=\"http://www.asciitable.com/\" target=\"_blank\" rel=\"noopener\">http://www.asciitable.com/</a></p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">HashTable</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> table = [];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> loseloseHashCode = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> hash = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; key.length; i++) &#123;</span><br><span class=\"line\">      hash += key.charCodeAt(i);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> hash % <span class=\"number\">37</span>;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">'zhangsan'</span>: <span class=\"string\">'zhangsan@email.com'</span></span><br><span class=\"line\">  <span class=\"string\">'lisi'</span>: <span class=\"string\">'lisi@email.com'</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p> <code>loseloseHashCode</code> <code>table</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[ ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  <span class=\"string\">'zhangsan@email.com'</span>, <span class=\"comment\">// zhangsan  Ascii 858377</span></span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  ,</span><br><span class=\"line\">  <span class=\"string\">'lisi@email.com'</span> <span class=\"comment\">// lisi  Ascii 4333726</span></span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<p><strong></strong></p>\n<h3 id=\"-put-get--remove-\"><a href=\"#-put-get--remove-\" class=\"headerlink\" title=\" put get  remove \"></a> put get  remove </h3><p> <code>put</code> <code>get</code> <code>remove</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> hashTable = <span class=\"keyword\">new</span> HashTable();</span><br><span class=\"line\"></span><br><span class=\"line\">hashTable.put(<span class=\"string\">'zhangsan'</span>, <span class=\"string\">'zhangsan@email.com'</span>);</span><br><span class=\"line\">hashTable.put(<span class=\"string\">'lisi'</span>, <span class=\"string\">'lisi@email.com'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan'</span>)).toBe(<span class=\"string\">'zhangsan@email.com'</span>);</span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'lisi'</span>)).toBe(<span class=\"string\">'lisi@email.com'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">hashTable.remove(<span class=\"string\">'zhangsan'</span>);</span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan'</span>)).toBe(<span class=\"literal\">undefined</span>);</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.put = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key, value</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> position = loseloseHashCode(key);</span><br><span class=\"line\">  table[position] = value;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.get = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> table[loseloseHashCode(key)];</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.remove = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  table[loseloseHashCode(key)] = <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>loseloseHashCode</code>  <code>loseloseHashCode</code> <strong></strong></p>\n<p><code>put</code> <code>get</code>  <code>remove</code> </p>\n<p> <code>get</code>  <code>put</code>  <code>remove</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> hashTable = <span class=\"keyword\">new</span> HashTable();</span><br><span class=\"line\"></span><br><span class=\"line\">hashTable.put(<span class=\"string\">'zhangsan'</span>, <span class=\"string\">'zhangsan@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">hashTable.put(<span class=\"string\">'zhangsan12'</span>, <span class=\"string\">'zhangsan12@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">hashTable.put(<span class=\"string\">'zhangsan21'</span>, <span class=\"string\">'zhangsan21@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">hashTable.put(<span class=\"string\">'zhangsan30'</span>, <span class=\"string\">'zhangsan30@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan'</span>)).toBe(<span class=\"string\">'zhangsan@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan12'</span>)).toBe(<span class=\"string\">'zhangsan12@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan21'</span>)).toBe(<span class=\"string\">'zhangsan21@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan30'</span>)).toBe(<span class=\"string\">'zhangsan30@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.remove(<span class=\"string\">'zhangsan'</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan'</span>)).toBe(<span class=\"literal\">undefined</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.remove(<span class=\"string\">'zhangsan21'</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.remove(<span class=\"string\">'zhangsan12'</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.remove(<span class=\"string\">'zhangsan30'</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.remove(<span class=\"string\">'zhangsan30'</span>)).toBeFalsy(); <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> ValuePair = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key, value</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.key = key;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.value = value;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.put = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key, value</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> postion = loseloseHashCode(key);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (table[postion] == <span class=\"literal\">undefined</span>) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">    table[postion] = <span class=\"keyword\">new</span> LinkedList();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  table[postion].append(<span class=\"keyword\">new</span> ValuePair(key, value)); <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.get = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> position = loseloseHashCode(key);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (table[position] !== <span class=\"literal\">undefined</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> current = table[position].getHead();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (current.next) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (current.element.key === key) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> current.element.value;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      current = current.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (current.element.key === key) &#123; <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> current.element.value;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.remove = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> position = loseloseHashCode(key);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (table[position] !== <span class=\"literal\">undefined</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> current = table[position].getHead();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (current.element.key === key)&#123;</span><br><span class=\"line\">        table[position].remove(current.element); <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (table[position].isEmpty())&#123;</span><br><span class=\"line\">          table[position] = <span class=\"literal\">undefined</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      current = current.next;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">while</span>(current);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>put</code> <code>get</code>  <code>remove</code> </p>\n<p> <code>put</code><code>get</code>  <code>remove</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> hashTable = <span class=\"keyword\">new</span> HashTable();</span><br><span class=\"line\"></span><br><span class=\"line\">hashTable.put(<span class=\"string\">'zhangsan'</span>, <span class=\"string\">'zhangsan@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">hashTable.put(<span class=\"string\">'zhangsan12'</span>, <span class=\"string\">'zhangsan12@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">hashTable.put(<span class=\"string\">'zhangsan21'</span>, <span class=\"string\">'zhangsan21@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">hashTable.put(<span class=\"string\">'zhangsan30'</span>, <span class=\"string\">'zhangsan30@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan'</span>)).toBe(<span class=\"string\">'zhangsan@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan12'</span>)).toBe(<span class=\"string\">'zhangsan12@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan21'</span>)).toBe(<span class=\"string\">'zhangsan21@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan30'</span>)).toBe(<span class=\"string\">'zhangsan30@email.com'</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.remove(<span class=\"string\">'zhangsan'</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.get(<span class=\"string\">'zhangsan'</span>)).toBe(<span class=\"literal\">undefined</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.remove(<span class=\"string\">'zhangsan30'</span>)).toBeTruthy();  <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.remove(<span class=\"string\">'zhangsan21'</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.remove(<span class=\"string\">'zhangsan12'</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(hashTable.remove(<span class=\"string\">'zhangsan12'</span>)).toBeFalsy(); <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> ValuePair = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key, value</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.key = key;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.value = value;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.put = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key, value</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> position = loseloseHashCode(key);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (table[position] === <span class=\"literal\">undefined</span>) &#123;</span><br><span class=\"line\">    table[position] = <span class=\"keyword\">new</span> ValuePair(key, value); <span class=\"comment\">// </span></span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> index = ++position;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (table[index] !== <span class=\"literal\">undefined</span>) &#123;</span><br><span class=\"line\">      index++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    table[index] = <span class=\"keyword\">new</span> ValuePair(key, value); <span class=\"comment\">// </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.get = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> position = loseloseHashCode(key);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (table[position] !== <span class=\"literal\">undefined</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (table[position].key === key) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> table[position].value; <span class=\"comment\">// </span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> index = ++position;</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (table[index] !== <span class=\"literal\">undefined</span> &amp;&amp; (table[index] &amp;&amp; table[index].key !== key)) &#123;</span><br><span class=\"line\">        index++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (table[index] &amp;&amp; table[index].key === key) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> table[index].value; <span class=\"comment\">// </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.remove = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> position = loseloseHashCode(key);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (table[position] !== <span class=\"literal\">undefined</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (table[position].key === key) &#123;</span><br><span class=\"line\">      table[position] = <span class=\"literal\">undefined</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> index = ++position;</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (table[index] === <span class=\"literal\">undefined</span> || table[index].key !== key) &#123;</span><br><span class=\"line\">        index++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (table[index].key === key) &#123;</span><br><span class=\"line\">        table[index] = <span class=\"literal\">undefined</span>;  <span class=\"comment\">// </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>"},{"title":"JavaScript ","date":"2017-03-10T08:45:00.000Z","_content":"\n LeetCode\n\nhttps://leetcode.com/problems/house-robber\n\nhttps://leetcode.com/problems/house-robber-ii\n\nhttps://leetcode.com/problems/house-robber-iii\n\n JavaScript\n\n<!--more-->\n\n## \n\n(Dynamic ProgrammingDP)\n\n1\n\n```js\nfunction fibonacci(num) {\n  if (num === 1 || num === 2) {\n    return 1;\n  }\n  return fibonacci(num - 1) + fibonacci(num - 2);\n}\n```\n\n `fibonacci(num)`  `fibonacci(num - 1)`  `fibonacci(num - 2)` `num` 12\n\n2DFS\n\n   - \n\n********[ JavaScript  ](https://lewis617.github.io/2017/02/19/graph/)\n\n## \n\n \n\n1.  \n2.  \n3. \n\n\n\n********\n\n********[JavaScript ](https://lewis617.github.io/2017/02/20/sort-and-search/)\n\n## \n\n\n\n> \n\n> \n\n\n\n```js\n//  [2, 0, 0, 4, 5]7\nexpect(rob([2, 0, 0, 4, 5])).toBe(7);\n```\n\n `rob` \n\n\n\n- 1\n- 212\n- 31+32\n- 42+43\n- \n- nn-2+nn-1\n\nn-2+nn-1\n\n```\nf(0) = array[0]\nf(1) = max(array[0], array[1])\nf(n) = max( f(n-2) + array[n], f(n-1) )\n```\n\n\n\nLeetCode/198-rob1.js\n\n```js\n/**\n * @param {number[]} nums\n * @return {number}\n */\nvar rob = function (nums) {\n  var last = 0,\n    now = 0;\n  for (var i = 0; i < nums.length; i++) {\n    var temp = last;\n    last = now;\n    now = Math.max(temp + nums[i], now);\n  }\n\n  return now;\n};\n```\n## \n\n\n\n> \n\n> \n\n\n\n- \n- \n- \n\n\n\nLeetCode/213-rob2.js\n\n```js\n/**\n * @param {number[]} nums\n * @return {number}\n */\nvar rob = function(nums) {\n  var rob1 = require('./rob1');\n\n  if (nums.length === 1) {\n    return nums[0];\n  }\n  return Math.max(rob1(nums.slice(1)), rob1(nums.slice(0, nums.length - 1)));\n};\n```\n`nums.slice(1)``nums.slice(0, array.length - 1)`\n\n```js\nexpect(rob([2, 0, 0, 4, 5])).toBe(6);\n```\n\n\n## \n\n\n\n> \n\n\n\n```\n     3\n    / \\\n   2   3\n    \\   \\ \n     3   1\n```\n3317\n\n****n-2+nn-1\n\nLeetCode/337-rob3.js\n\n```js\n/**\n * Definition for a binary tree node.\n * function TreeNode(key) {\n *     this.val = key;\n *     this.left = this.right = null;\n * }\n */\n/**\n * @param {TreeNode} root\n * @return {number}\n */\nvar rob = function(root) {\n  var dfs = function (node) {\n    if (node === null) {\n      return [null, null];\n    }\n    var left = dfs(node.left);\n    var right = dfs(node.right);\n    var res = [];\n    res[0] = left[1] + right[1] + node.key;\n    res[1] = Math.max(left[0], left[1]) + Math.max(right[0], right[1]);\n    return res;\n  };\n\n  var num = dfs(root);\n  return Math.max(num[0], num[1]);\n};\n```\n `dfs` `dfs`  `res`  `dfs` `left`  `right` `dfs` `root`  `dfs`\n\n\n\nLeetCode/\\__tests\\__/337-rob3.test.js\n\n```js\nvar rob = require('../rob3');\nvar BinarySearchTree = require('../../Tree/BinarySearchTree');\n\ntest('rob3', function () {\n  var binarySearchTree = new BinarySearchTree();\n\n  binarySearchTree.insert(11);\n  binarySearchTree.insert(7);\n  binarySearchTree.insert(13);\n  binarySearchTree.insert(5);\n  binarySearchTree.insert(3);\n  binarySearchTree.insert(9);\n\n  expect(rob(binarySearchTree.getRoot())).toBe(27);\n});\n```\n\n `BinarySearchTree`[JavaScript ](https://lewis617.github.io/2017/02/18/tree/)\n\n\n\n \n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>\n","source":"_posts/house-robber.md","raw":"---\ntitle: JavaScript \ndate: 2017-03-10 16:45:00\ntags: [, LeetCode]\n---\n\n LeetCode\n\nhttps://leetcode.com/problems/house-robber\n\nhttps://leetcode.com/problems/house-robber-ii\n\nhttps://leetcode.com/problems/house-robber-iii\n\n JavaScript\n\n<!--more-->\n\n## \n\n(Dynamic ProgrammingDP)\n\n1\n\n```js\nfunction fibonacci(num) {\n  if (num === 1 || num === 2) {\n    return 1;\n  }\n  return fibonacci(num - 1) + fibonacci(num - 2);\n}\n```\n\n `fibonacci(num)`  `fibonacci(num - 1)`  `fibonacci(num - 2)` `num` 12\n\n2DFS\n\n   - \n\n********[ JavaScript  ](https://lewis617.github.io/2017/02/19/graph/)\n\n## \n\n \n\n1.  \n2.  \n3. \n\n\n\n********\n\n********[JavaScript ](https://lewis617.github.io/2017/02/20/sort-and-search/)\n\n## \n\n\n\n> \n\n> \n\n\n\n```js\n//  [2, 0, 0, 4, 5]7\nexpect(rob([2, 0, 0, 4, 5])).toBe(7);\n```\n\n `rob` \n\n\n\n- 1\n- 212\n- 31+32\n- 42+43\n- \n- nn-2+nn-1\n\nn-2+nn-1\n\n```\nf(0) = array[0]\nf(1) = max(array[0], array[1])\nf(n) = max( f(n-2) + array[n], f(n-1) )\n```\n\n\n\nLeetCode/198-rob1.js\n\n```js\n/**\n * @param {number[]} nums\n * @return {number}\n */\nvar rob = function (nums) {\n  var last = 0,\n    now = 0;\n  for (var i = 0; i < nums.length; i++) {\n    var temp = last;\n    last = now;\n    now = Math.max(temp + nums[i], now);\n  }\n\n  return now;\n};\n```\n## \n\n\n\n> \n\n> \n\n\n\n- \n- \n- \n\n\n\nLeetCode/213-rob2.js\n\n```js\n/**\n * @param {number[]} nums\n * @return {number}\n */\nvar rob = function(nums) {\n  var rob1 = require('./rob1');\n\n  if (nums.length === 1) {\n    return nums[0];\n  }\n  return Math.max(rob1(nums.slice(1)), rob1(nums.slice(0, nums.length - 1)));\n};\n```\n`nums.slice(1)``nums.slice(0, array.length - 1)`\n\n```js\nexpect(rob([2, 0, 0, 4, 5])).toBe(6);\n```\n\n\n## \n\n\n\n> \n\n\n\n```\n     3\n    / \\\n   2   3\n    \\   \\ \n     3   1\n```\n3317\n\n****n-2+nn-1\n\nLeetCode/337-rob3.js\n\n```js\n/**\n * Definition for a binary tree node.\n * function TreeNode(key) {\n *     this.val = key;\n *     this.left = this.right = null;\n * }\n */\n/**\n * @param {TreeNode} root\n * @return {number}\n */\nvar rob = function(root) {\n  var dfs = function (node) {\n    if (node === null) {\n      return [null, null];\n    }\n    var left = dfs(node.left);\n    var right = dfs(node.right);\n    var res = [];\n    res[0] = left[1] + right[1] + node.key;\n    res[1] = Math.max(left[0], left[1]) + Math.max(right[0], right[1]);\n    return res;\n  };\n\n  var num = dfs(root);\n  return Math.max(num[0], num[1]);\n};\n```\n `dfs` `dfs`  `res`  `dfs` `left`  `right` `dfs` `root`  `dfs`\n\n\n\nLeetCode/\\__tests\\__/337-rob3.test.js\n\n```js\nvar rob = require('../rob3');\nvar BinarySearchTree = require('../../Tree/BinarySearchTree');\n\ntest('rob3', function () {\n  var binarySearchTree = new BinarySearchTree();\n\n  binarySearchTree.insert(11);\n  binarySearchTree.insert(7);\n  binarySearchTree.insert(13);\n  binarySearchTree.insert(5);\n  binarySearchTree.insert(3);\n  binarySearchTree.insert(9);\n\n  expect(rob(binarySearchTree.getRoot())).toBe(27);\n});\n```\n\n `BinarySearchTree`[JavaScript ](https://lewis617.github.io/2017/02/18/tree/)\n\n\n\n \n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>\n","slug":"house-robber","published":1,"updated":"2019-05-01T08:02:09.638Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvlb000ntgytvnxwfb3a","content":"<p> LeetCode</p>\n<p><a href=\"https://leetcode.com/problems/house-robber\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/problems/house-robber</a></p>\n<p><a href=\"https://leetcode.com/problems/house-robber-ii\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/problems/house-robber-ii</a></p>\n<p><a href=\"https://leetcode.com/problems/house-robber-iii\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/problems/house-robber-iii</a></p>\n<p> JavaScript</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>(Dynamic ProgrammingDP)</p>\n<p>1</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fibonacci</span>(<span class=\"params\">num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (num === <span class=\"number\">1</span> || num === <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> fibonacci(num - <span class=\"number\">1</span>) + fibonacci(num - <span class=\"number\">2</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> <code>fibonacci(num)</code>  <code>fibonacci(num - 1)</code>  <code>fibonacci(num - 2)</code> <code>num</code> 12</p>\n<p>2DFS</p>\n<ul>\n<li></li>\n</ul>\n<p><strong></strong><strong></strong><a href=\"https://lewis617.github.io/2017/02/19/graph/\" target=\"_blank\" rel=\"noopener\"> JavaScript  </a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> </p>\n<ol>\n<li> </li>\n<li> </li>\n<li></li>\n</ol>\n<p></p>\n<p><strong></strong><strong></strong></p>\n<p><strong></strong><strong></strong><a href=\"https://lewis617.github.io/2017/02/20/sort-and-search/\" target=\"_blank\" rel=\"noopener\">JavaScript </a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  [2, 0, 0, 4, 5]7</span></span><br><span class=\"line\">expect(rob([<span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>])).toBe(<span class=\"number\">7</span>);</span><br></pre></td></tr></table></figure>\n<p> <code>rob</code> </p>\n<p></p>\n<ul>\n<li>1</li>\n<li>212</li>\n<li>31+32</li>\n<li>42+43</li>\n<li></li>\n<li>nn-2+nn-1</li>\n</ul>\n<p>n-2+nn-1</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">f(0) = array[0]</span><br><span class=\"line\">f(1) = max(array[0], array[1])</span><br><span class=\"line\">f(n) = max( f(n-2) + array[n], f(n-1) )</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>LeetCode/198-rob1.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number[]&#125; nums</span></span><br><span class=\"line\"><span class=\"comment\"> * @return &#123;number&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> rob = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">nums</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> last = <span class=\"number\">0</span>,</span><br><span class=\"line\">    now = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> temp = last;</span><br><span class=\"line\">    last = now;</span><br><span class=\"line\">    now = <span class=\"built_in\">Math</span>.max(temp + nums[i], now);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> now;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<p>LeetCode/213-rob2.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number[]&#125; nums</span></span><br><span class=\"line\"><span class=\"comment\"> * @return &#123;number&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> rob = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">nums</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> rob1 = <span class=\"built_in\">require</span>(<span class=\"string\">'./rob1'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (nums.length === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> nums[<span class=\"number\">0</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Math</span>.max(rob1(nums.slice(<span class=\"number\">1</span>)), rob1(nums.slice(<span class=\"number\">0</span>, nums.length - <span class=\"number\">1</span>)));</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p><code>nums.slice(1)</code><code>nums.slice(0, array.length - 1)</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">expect(rob([<span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>])).toBe(<span class=\"number\">6</span>);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  3</span><br><span class=\"line\"> / \\</span><br><span class=\"line\">2   3</span><br><span class=\"line\"> \\   \\ </span><br><span class=\"line\">  3   1</span><br></pre></td></tr></table></figure>\n<p>3317</p>\n<p><strong></strong>n-2+nn-1</p>\n<p>LeetCode/337-rob3.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Definition for a binary tree node.</span></span><br><span class=\"line\"><span class=\"comment\"> * function TreeNode(key) &#123;</span></span><br><span class=\"line\"><span class=\"comment\"> *     this.val = key;</span></span><br><span class=\"line\"><span class=\"comment\"> *     this.left = this.right = null;</span></span><br><span class=\"line\"><span class=\"comment\"> * &#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;TreeNode&#125; root</span></span><br><span class=\"line\"><span class=\"comment\"> * @return &#123;number&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> rob = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">root</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> dfs = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">node</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> [<span class=\"literal\">null</span>, <span class=\"literal\">null</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> left = dfs(node.left);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> right = dfs(node.right);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> res = [];</span><br><span class=\"line\">    res[<span class=\"number\">0</span>] = left[<span class=\"number\">1</span>] + right[<span class=\"number\">1</span>] + node.key;</span><br><span class=\"line\">    res[<span class=\"number\">1</span>] = <span class=\"built_in\">Math</span>.max(left[<span class=\"number\">0</span>], left[<span class=\"number\">1</span>]) + <span class=\"built_in\">Math</span>.max(right[<span class=\"number\">0</span>], right[<span class=\"number\">1</span>]);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> num = dfs(root);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Math</span>.max(num[<span class=\"number\">0</span>], num[<span class=\"number\">1</span>]);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p> <code>dfs</code> <code>dfs</code>  <code>res</code>  <code>dfs</code> <code>left</code>  <code>right</code> <code>dfs</code> <code>root</code>  <code>dfs</code></p>\n<p></p>\n<p>LeetCode/__tests__/337-rob3.test.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> rob = <span class=\"built_in\">require</span>(<span class=\"string\">'../rob3'</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> BinarySearchTree = <span class=\"built_in\">require</span>(<span class=\"string\">'../../Tree/BinarySearchTree'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">test(<span class=\"string\">'rob3'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> binarySearchTree = <span class=\"keyword\">new</span> BinarySearchTree();</span><br><span class=\"line\"></span><br><span class=\"line\">  binarySearchTree.insert(<span class=\"number\">11</span>);</span><br><span class=\"line\">  binarySearchTree.insert(<span class=\"number\">7</span>);</span><br><span class=\"line\">  binarySearchTree.insert(<span class=\"number\">13</span>);</span><br><span class=\"line\">  binarySearchTree.insert(<span class=\"number\">5</span>);</span><br><span class=\"line\">  binarySearchTree.insert(<span class=\"number\">3</span>);</span><br><span class=\"line\">  binarySearchTree.insert(<span class=\"number\">9</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  expect(rob(binarySearchTree.getRoot())).toBe(<span class=\"number\">27</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p> <code>BinarySearchTree</code><a href=\"https://lewis617.github.io/2017/02/18/tree/\" target=\"_blank\" rel=\"noopener\">JavaScript </a></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>\n","site":{"data":{}},"excerpt":"<p> LeetCode</p>\n<p><a href=\"https://leetcode.com/problems/house-robber\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/problems/house-robber</a></p>\n<p><a href=\"https://leetcode.com/problems/house-robber-ii\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/problems/house-robber-ii</a></p>\n<p><a href=\"https://leetcode.com/problems/house-robber-iii\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/problems/house-robber-iii</a></p>\n<p> JavaScript</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>(Dynamic ProgrammingDP)</p>\n<p>1</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fibonacci</span>(<span class=\"params\">num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (num === <span class=\"number\">1</span> || num === <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> fibonacci(num - <span class=\"number\">1</span>) + fibonacci(num - <span class=\"number\">2</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> <code>fibonacci(num)</code>  <code>fibonacci(num - 1)</code>  <code>fibonacci(num - 2)</code> <code>num</code> 12</p>\n<p>2DFS</p>\n<ul>\n<li></li>\n</ul>\n<p><strong></strong><strong></strong><a href=\"https://lewis617.github.io/2017/02/19/graph/\" target=\"_blank\" rel=\"noopener\"> JavaScript  </a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> </p>\n<ol>\n<li> </li>\n<li> </li>\n<li></li>\n</ol>\n<p></p>\n<p><strong></strong><strong></strong></p>\n<p><strong></strong><strong></strong><a href=\"https://lewis617.github.io/2017/02/20/sort-and-search/\" target=\"_blank\" rel=\"noopener\">JavaScript </a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  [2, 0, 0, 4, 5]7</span></span><br><span class=\"line\">expect(rob([<span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>])).toBe(<span class=\"number\">7</span>);</span><br></pre></td></tr></table></figure>\n<p> <code>rob</code> </p>\n<p></p>\n<ul>\n<li>1</li>\n<li>212</li>\n<li>31+32</li>\n<li>42+43</li>\n<li></li>\n<li>nn-2+nn-1</li>\n</ul>\n<p>n-2+nn-1</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">f(0) = array[0]</span><br><span class=\"line\">f(1) = max(array[0], array[1])</span><br><span class=\"line\">f(n) = max( f(n-2) + array[n], f(n-1) )</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>LeetCode/198-rob1.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number[]&#125; nums</span></span><br><span class=\"line\"><span class=\"comment\"> * @return &#123;number&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> rob = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">nums</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> last = <span class=\"number\">0</span>,</span><br><span class=\"line\">    now = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> temp = last;</span><br><span class=\"line\">    last = now;</span><br><span class=\"line\">    now = <span class=\"built_in\">Math</span>.max(temp + nums[i], now);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> now;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<p>LeetCode/213-rob2.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number[]&#125; nums</span></span><br><span class=\"line\"><span class=\"comment\"> * @return &#123;number&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> rob = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">nums</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> rob1 = <span class=\"built_in\">require</span>(<span class=\"string\">'./rob1'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (nums.length === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> nums[<span class=\"number\">0</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Math</span>.max(rob1(nums.slice(<span class=\"number\">1</span>)), rob1(nums.slice(<span class=\"number\">0</span>, nums.length - <span class=\"number\">1</span>)));</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p><code>nums.slice(1)</code><code>nums.slice(0, array.length - 1)</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">expect(rob([<span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>])).toBe(<span class=\"number\">6</span>);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  3</span><br><span class=\"line\"> / \\</span><br><span class=\"line\">2   3</span><br><span class=\"line\"> \\   \\ </span><br><span class=\"line\">  3   1</span><br></pre></td></tr></table></figure>\n<p>3317</p>\n<p><strong></strong>n-2+nn-1</p>\n<p>LeetCode/337-rob3.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Definition for a binary tree node.</span></span><br><span class=\"line\"><span class=\"comment\"> * function TreeNode(key) &#123;</span></span><br><span class=\"line\"><span class=\"comment\"> *     this.val = key;</span></span><br><span class=\"line\"><span class=\"comment\"> *     this.left = this.right = null;</span></span><br><span class=\"line\"><span class=\"comment\"> * &#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;TreeNode&#125; root</span></span><br><span class=\"line\"><span class=\"comment\"> * @return &#123;number&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> rob = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">root</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> dfs = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">node</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> [<span class=\"literal\">null</span>, <span class=\"literal\">null</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> left = dfs(node.left);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> right = dfs(node.right);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> res = [];</span><br><span class=\"line\">    res[<span class=\"number\">0</span>] = left[<span class=\"number\">1</span>] + right[<span class=\"number\">1</span>] + node.key;</span><br><span class=\"line\">    res[<span class=\"number\">1</span>] = <span class=\"built_in\">Math</span>.max(left[<span class=\"number\">0</span>], left[<span class=\"number\">1</span>]) + <span class=\"built_in\">Math</span>.max(right[<span class=\"number\">0</span>], right[<span class=\"number\">1</span>]);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> num = dfs(root);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Math</span>.max(num[<span class=\"number\">0</span>], num[<span class=\"number\">1</span>]);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p> <code>dfs</code> <code>dfs</code>  <code>res</code>  <code>dfs</code> <code>left</code>  <code>right</code> <code>dfs</code> <code>root</code>  <code>dfs</code></p>\n<p></p>\n<p>LeetCode/__tests__/337-rob3.test.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> rob = <span class=\"built_in\">require</span>(<span class=\"string\">'../rob3'</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> BinarySearchTree = <span class=\"built_in\">require</span>(<span class=\"string\">'../../Tree/BinarySearchTree'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">test(<span class=\"string\">'rob3'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> binarySearchTree = <span class=\"keyword\">new</span> BinarySearchTree();</span><br><span class=\"line\"></span><br><span class=\"line\">  binarySearchTree.insert(<span class=\"number\">11</span>);</span><br><span class=\"line\">  binarySearchTree.insert(<span class=\"number\">7</span>);</span><br><span class=\"line\">  binarySearchTree.insert(<span class=\"number\">13</span>);</span><br><span class=\"line\">  binarySearchTree.insert(<span class=\"number\">5</span>);</span><br><span class=\"line\">  binarySearchTree.insert(<span class=\"number\">3</span>);</span><br><span class=\"line\">  binarySearchTree.insert(<span class=\"number\">9</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  expect(rob(binarySearchTree.getRoot())).toBe(<span class=\"number\">27</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p> <code>BinarySearchTree</code><a href=\"https://lewis617.github.io/2017/02/18/tree/\" target=\"_blank\" rel=\"noopener\">JavaScript </a></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>"},{"title":" HTTP ","date":"2017-12-18T11:15:00.000Z","_content":"\n HTTP \n\n> [](http://www.liuyiqi.cn/tags/%E7%AB%AF%E5%AF%B9%E7%AB%AF%E6%B5%8B%E8%AF%95/)\n\n<!--more-->\n\n## \n\n\n\n- \n- \n- \n\n## \n\n reasonable\n\n## \n\n Angular  Angular  HTTP  bug  HTTP  trade off HTTP \n\n- \n- \n\n HTTP \n\n##  HTTP \n\n HTTP \n\n-  Charles  Charles \n-  Puppeteer  `request.continue`  url\n-  Puppeteer  `request.respond` \n\n `a.com` `b.com` case\n\n## \n\n\n\n<https://github.com/lewis617/fe-test/tree/master/puppeteer-demo/mock-demo>\n\n clone  mock-demo \n\n```\nhttp-server -p 8081\n```\n\n `http://localhost:8081/puppeteer-demo/mock-demo`\n\n![](/css/images/5.jpg)\n\n\n\n1 HTML  `data1.json`  JSON  `name`  `h1` \n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n  <title>Document</title>\n</head>\n\n<body>\n\n</body>\n<script>\n  fetch('http://localhost:8081/puppeteer-demo/mock-demo/data1.json')\n    .then(res => res.json())\n    .then(json => document.body.innerHTML = `<h1>${json.name}</h1>`)\n</script>\n\n</html>\n```\n\n2 puppeteer data1.json  data2.json \n\n\n\n```sh\nyarn\n\nnpm test -- mock-demo\n```\n Puppeteer  `data2`\n\n![](/css/images/6.jpg)\n\n\n\n```js\nawait page.setRequestInterception(true);\npage.on('request', request => {\n  if (request.url.endsWith('data1.json')) {\n    request.continue({\n      url: 'http://localhost:8081/puppeteer-demo/mock-demo/data2.json'\n    });\n  }\n  else {\n    request.continue();\n  }\n});\n```\n\n`await page.setRequestInterception(true);` `request`  url  `request.respond` \n\n```js\nawait page.setRequestInterception(true);\npage.on('request', request => {\n  if (request.url.endsWith('data1.json')) {\n    request.respond({\n      body: JSON.stringify({ name: 'data2' })\n    })\n  }\n  else {\n    request.continue();\n  }\n});\n```\n\n Puppeteer \n\n\n## \n\n[](https://docs.google.com/presentation/d/15gNk21rjer3xo-b1ZqyQVGebOp_aPvHU3YH7YnOMxtE/edit#slide=id.g437663ce1_53_98)\n\n![](/css/images/7.jpg)\n\n\n\n## \n\n<http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/>","source":"_posts/how-to-mock-http-in-e2e-testing.md","raw":"---\ntitle:  HTTP \ndate: 2017-12-18 19:15:00\ntags: [, , e2e, Puppeteer]\n---\n\n HTTP \n\n> [](http://www.liuyiqi.cn/tags/%E7%AB%AF%E5%AF%B9%E7%AB%AF%E6%B5%8B%E8%AF%95/)\n\n<!--more-->\n\n## \n\n\n\n- \n- \n- \n\n## \n\n reasonable\n\n## \n\n Angular  Angular  HTTP  bug  HTTP  trade off HTTP \n\n- \n- \n\n HTTP \n\n##  HTTP \n\n HTTP \n\n-  Charles  Charles \n-  Puppeteer  `request.continue`  url\n-  Puppeteer  `request.respond` \n\n `a.com` `b.com` case\n\n## \n\n\n\n<https://github.com/lewis617/fe-test/tree/master/puppeteer-demo/mock-demo>\n\n clone  mock-demo \n\n```\nhttp-server -p 8081\n```\n\n `http://localhost:8081/puppeteer-demo/mock-demo`\n\n![](/css/images/5.jpg)\n\n\n\n1 HTML  `data1.json`  JSON  `name`  `h1` \n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n  <title>Document</title>\n</head>\n\n<body>\n\n</body>\n<script>\n  fetch('http://localhost:8081/puppeteer-demo/mock-demo/data1.json')\n    .then(res => res.json())\n    .then(json => document.body.innerHTML = `<h1>${json.name}</h1>`)\n</script>\n\n</html>\n```\n\n2 puppeteer data1.json  data2.json \n\n\n\n```sh\nyarn\n\nnpm test -- mock-demo\n```\n Puppeteer  `data2`\n\n![](/css/images/6.jpg)\n\n\n\n```js\nawait page.setRequestInterception(true);\npage.on('request', request => {\n  if (request.url.endsWith('data1.json')) {\n    request.continue({\n      url: 'http://localhost:8081/puppeteer-demo/mock-demo/data2.json'\n    });\n  }\n  else {\n    request.continue();\n  }\n});\n```\n\n`await page.setRequestInterception(true);` `request`  url  `request.respond` \n\n```js\nawait page.setRequestInterception(true);\npage.on('request', request => {\n  if (request.url.endsWith('data1.json')) {\n    request.respond({\n      body: JSON.stringify({ name: 'data2' })\n    })\n  }\n  else {\n    request.continue();\n  }\n});\n```\n\n Puppeteer \n\n\n## \n\n[](https://docs.google.com/presentation/d/15gNk21rjer3xo-b1ZqyQVGebOp_aPvHU3YH7YnOMxtE/edit#slide=id.g437663ce1_53_98)\n\n![](/css/images/7.jpg)\n\n\n\n## \n\n<http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/>","slug":"how-to-mock-http-in-e2e-testing","published":1,"updated":"2019-05-01T08:10:29.519Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvlc000ptgytt770quys","content":"<p> HTTP </p>\n<blockquote>\n<p><a href=\"http://www.liuyiqi.cn/tags/%E7%AB%AF%E5%AF%B9%E7%AB%AF%E6%B5%8B%E8%AF%95/\"></a></p>\n</blockquote>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> reasonable</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Angular  Angular  HTTP  bug  HTTP  trade off HTTP </p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p> HTTP </p>\n<h2 id=\"-HTTP-\"><a href=\"#-HTTP-\" class=\"headerlink\" title=\" HTTP \"></a> HTTP </h2><p> HTTP </p>\n<ul>\n<li> Charles  Charles </li>\n<li> Puppeteer  <code>request.continue</code>  url</li>\n<li> Puppeteer  <code>request.respond</code> </li>\n</ul>\n<p> <code>a.com</code> <code>b.com</code> case</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><a href=\"https://github.com/lewis617/fe-test/tree/master/puppeteer-demo/mock-demo\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/fe-test/tree/master/puppeteer-demo/mock-demo</a></p>\n<p> clone  mock-demo </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http-server -p 8081</span><br></pre></td></tr></table></figure>\n<p> <code>http://localhost:8081/puppeteer-demo/mock-demo</code></p>\n<p><img src=\"/css/images/5.jpg\" alt=\"\"></p>\n<p></p>\n<p>1 HTML  <code>data1.json</code>  JSON  <code>name</code>  <code>h1</code> </p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width, initial-scale=1.0\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"X-UA-Compatible\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"ie=edge\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"javascript\">  fetch(<span class=\"string\">'http://localhost:8081/puppeteer-demo/mock-demo/data1.json'</span>)</span></span><br><span class=\"line\"><span class=\"javascript\">    .then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> res.json())</span></span><br><span class=\"line\"><span class=\"javascript\">    .then(<span class=\"function\"><span class=\"params\">json</span> =&gt;</span> <span class=\"built_in\">document</span>.body.innerHTML = <span class=\"string\">`&lt;h1&gt;<span class=\"subst\">$&#123;json.name&#125;</span>&lt;/h1&gt;`</span>)</span></span><br><span class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>2 puppeteer data1.json  data2.json </p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn</span><br><span class=\"line\"></span><br><span class=\"line\">npm <span class=\"built_in\">test</span> -- mock-demo</span><br></pre></td></tr></table></figure>\n<p> Puppeteer  <code>data2</code></p>\n<p><img src=\"/css/images/6.jpg\" alt=\"\"></p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">await</span> page.setRequestInterception(<span class=\"literal\">true</span>);</span><br><span class=\"line\">page.on(<span class=\"string\">'request'</span>, request =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (request.url.endsWith(<span class=\"string\">'data1.json'</span>)) &#123;</span><br><span class=\"line\">    request.continue(&#123;</span><br><span class=\"line\">      url: <span class=\"string\">'http://localhost:8081/puppeteer-demo/mock-demo/data2.json'</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    request.continue();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><code>await page.setRequestInterception(true);</code> <code>request</code>  url  <code>request.respond</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">await</span> page.setRequestInterception(<span class=\"literal\">true</span>);</span><br><span class=\"line\">page.on(<span class=\"string\">'request'</span>, request =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (request.url.endsWith(<span class=\"string\">'data1.json'</span>)) &#123;</span><br><span class=\"line\">    request.respond(&#123;</span><br><span class=\"line\">      body: <span class=\"built_in\">JSON</span>.stringify(&#123; <span class=\"attr\">name</span>: <span class=\"string\">'data2'</span> &#125;)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    request.continue();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p> Puppeteer </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://docs.google.com/presentation/d/15gNk21rjer3xo-b1ZqyQVGebOp_aPvHU3YH7YnOMxtE/edit#slide=id.g437663ce1_53_98\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><img src=\"/css/images/7.jpg\" alt=\"\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/\">http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/</a></p>\n","site":{"data":{}},"excerpt":"<p> HTTP </p>\n<blockquote>\n<p><a href=\"http://www.liuyiqi.cn/tags/%E7%AB%AF%E5%AF%B9%E7%AB%AF%E6%B5%8B%E8%AF%95/\"></a></p>\n</blockquote>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> reasonable</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Angular  Angular  HTTP  bug  HTTP  trade off HTTP </p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p> HTTP </p>\n<h2 id=\"-HTTP-\"><a href=\"#-HTTP-\" class=\"headerlink\" title=\" HTTP \"></a> HTTP </h2><p> HTTP </p>\n<ul>\n<li> Charles  Charles </li>\n<li> Puppeteer  <code>request.continue</code>  url</li>\n<li> Puppeteer  <code>request.respond</code> </li>\n</ul>\n<p> <code>a.com</code> <code>b.com</code> case</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><a href=\"https://github.com/lewis617/fe-test/tree/master/puppeteer-demo/mock-demo\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/fe-test/tree/master/puppeteer-demo/mock-demo</a></p>\n<p> clone  mock-demo </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http-server -p 8081</span><br></pre></td></tr></table></figure>\n<p> <code>http://localhost:8081/puppeteer-demo/mock-demo</code></p>\n<p><img src=\"/css/images/5.jpg\" alt=\"\"></p>\n<p></p>\n<p>1 HTML  <code>data1.json</code>  JSON  <code>name</code>  <code>h1</code> </p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width, initial-scale=1.0\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"X-UA-Compatible\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"ie=edge\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"javascript\">  fetch(<span class=\"string\">'http://localhost:8081/puppeteer-demo/mock-demo/data1.json'</span>)</span></span><br><span class=\"line\"><span class=\"javascript\">    .then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> res.json())</span></span><br><span class=\"line\"><span class=\"javascript\">    .then(<span class=\"function\"><span class=\"params\">json</span> =&gt;</span> <span class=\"built_in\">document</span>.body.innerHTML = <span class=\"string\">`&lt;h1&gt;<span class=\"subst\">$&#123;json.name&#125;</span>&lt;/h1&gt;`</span>)</span></span><br><span class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>2 puppeteer data1.json  data2.json </p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn</span><br><span class=\"line\"></span><br><span class=\"line\">npm <span class=\"built_in\">test</span> -- mock-demo</span><br></pre></td></tr></table></figure>\n<p> Puppeteer  <code>data2</code></p>\n<p><img src=\"/css/images/6.jpg\" alt=\"\"></p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">await</span> page.setRequestInterception(<span class=\"literal\">true</span>);</span><br><span class=\"line\">page.on(<span class=\"string\">'request'</span>, request =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (request.url.endsWith(<span class=\"string\">'data1.json'</span>)) &#123;</span><br><span class=\"line\">    request.continue(&#123;</span><br><span class=\"line\">      url: <span class=\"string\">'http://localhost:8081/puppeteer-demo/mock-demo/data2.json'</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    request.continue();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><code>await page.setRequestInterception(true);</code> <code>request</code>  url  <code>request.respond</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">await</span> page.setRequestInterception(<span class=\"literal\">true</span>);</span><br><span class=\"line\">page.on(<span class=\"string\">'request'</span>, request =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (request.url.endsWith(<span class=\"string\">'data1.json'</span>)) &#123;</span><br><span class=\"line\">    request.respond(&#123;</span><br><span class=\"line\">      body: <span class=\"built_in\">JSON</span>.stringify(&#123; <span class=\"attr\">name</span>: <span class=\"string\">'data2'</span> &#125;)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    request.continue();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p> Puppeteer </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://docs.google.com/presentation/d/15gNk21rjer3xo-b1ZqyQVGebOp_aPvHU3YH7YnOMxtE/edit#slide=id.g437663ce1_53_98\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><img src=\"/css/images/7.jpg\" alt=\"\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/\">http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/</a></p>"},{"title":" DOM  JS ","date":"2017-11-09T03:05:00.000Z","_content":"\n[ JavaScript ](http://www.liuyiqi.cn/2017/11/03/use-js-to-get-weibo-comments/) DOM  JS \n\n<https://github.com/lewis617/practical-js/blob/master/src/weiboBackup.test.js>\n\n<!--more-->\n\n## \n\n KarmaMochaJest  Facebook  Jest Jest \b API\b \bJest\n\n```sh\nyarn add --dev jest\n```\n\n\n## \n\n\n\nweiboBackup.js\n\n```js\n/**\n * \n * \n * jsconsole\n */\n\nvar nodeArray = Array.from(document.querySelectorAll('.list_con .WB_text'));\n\nvar textArray = nodeArray.map(function (node) {\n  return Array.from(node.childNodes).map(function (childNode) {\n    var value;\n    // \n    if (childNode.nodeName === '#text') value = childNode.nodeValue;\n    // \n    else if (childNode.nodeName === 'IMG') value = childNode.alt;\n    // \n    else if (childNode.nodeName === 'A') value = childNode.lastChild.nodeValue;\n    return value.replace(/(\\s+$)|(^\\s+)/g, '');\n  }).join('');\n});\n\nconsole.log(textArray.join('\\n'));\n```\n\n\b console \n\n```js\n// console.log(textArray.join('\\n'));\n\n// console\nmodule.exports = textArray;\n```\n\n## \n\n Jest \b html \n\n>  html \b\n\nweiboBackup.test.js\n\n```js\ndocument.body.innerHTML = '\\\n  <div class=\"list_con\">\\\n    <div class=\"WB_text\">\\\n      <a target=\"_blank\" href=\"//weibo.com/2809324184\" usercard=\"id=2809324184\">Geo</a>\\\n    </div>\\\n    <div class=\"WB_text\">\\\n      <a target=\"_blank\" href=\"//weibo.com/2497287343\" usercard=\"id=2497287343\">dev_zk</a>\\\n      <a target=\"_blank\" suda-data=\"key=pc_apply_entry&amp;value=feed_icon\" href=\"http://club.weibo.com/intro\">\\\n        <i title=\"\" class=\"W_icon icon_club\" node-type=\"daren\"></i>\\\n      </a>\\\n      \\\n      <img render=\"ext\" src=\"//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/58/mb_org.gif\" title=\"[]\" alt=\"[]\" type=\"face\">\\\n      <img render=\"ext\" src=\"//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/58/mb_org.gif\" title=\"[]\" alt=\"[]\" type=\"face\">\\\n    </div>\\\n    <div class=\"WB_text\">\\\n      <a target=\"_blank\" href=\"//weibo.com/2497287343\" usercard=\"id=2497287343\">dev_zk</a>\\\n      <a target=\"_blank\" suda-data=\"key=pc_apply_entry&amp;value=feed_icon\" href=\"http://club.weibo.com/intro\">\\\n      <i title=\"\" class=\"W_icon icon_club\" node-type=\"daren\"></i>\\\n      </a>\\\n      \\\n    </div>\\\n  </div>';\n```\n\n weiboBackup.js\n\n```js\nvar textArray = require('./weiboBackup');\n```\n\n\b `textArray` \n\n```js\nexpect(textArray).toEqual([\n    \"Geo\",\n    \"dev_zk[][]\",\n    \"dev_zk\",\n  ]);\n```\n\n>  [Jest ](http://www.liuyiqi.cn/2017/02/15/start-jest/)\n\n `test` \n\n```js\ntest('getweiboBackup', () => {\n  document.body.innerHTML = '\\\n  <div class=\"list_con\">\\\n    <div class=\"WB_text\">\\\n      <a target=\"_blank\" href=\"//weibo.com/2809324184\" usercard=\"id=2809324184\">Geo</a>\\\n    </div>\\\n    <div class=\"WB_text\">\\\n      <a target=\"_blank\" href=\"//weibo.com/2497287343\" usercard=\"id=2497287343\">dev_zk</a>\\\n      <a target=\"_blank\" suda-data=\"key=pc_apply_entry&amp;value=feed_icon\" href=\"http://club.weibo.com/intro\">\\\n        <i title=\"\" class=\"W_icon icon_club\" node-type=\"daren\"></i>\\\n      </a>\\\n      \\\n      <img render=\"ext\" src=\"//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/58/mb_org.gif\" title=\"[]\" alt=\"[]\" type=\"face\">\\\n      <img render=\"ext\" src=\"//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/58/mb_org.gif\" title=\"[]\" alt=\"[]\" type=\"face\">\\\n    </div>\\\n    <div class=\"WB_text\">\\\n      <a target=\"_blank\" href=\"//weibo.com/2497287343\" usercard=\"id=2497287343\">dev_zk</a>\\\n      <a target=\"_blank\" suda-data=\"key=pc_apply_entry&amp;value=feed_icon\" href=\"http://club.weibo.com/intro\">\\\n      <i title=\"\" class=\"W_icon icon_club\" node-type=\"daren\"></i>\\\n      </a>\\\n      \\\n    </div>\\\n  </div>';\n  var textArray = require('./weiboBackup');\n  expect(textArray).toEqual([\n    \"Geo\",\n    \"dev_zk[][]\",\n    \"dev_zk\",\n  ]);\n});\n```\n## \n\n package.json \n\n```json\n\"scripts\": {\n  \"test\": \"jest\"\n}\n```\n\n\n\n```sh\nnpm test\n```\n\n\n\n```sh\n PASS  ./weiboBackup.test.js\n   getweiboBackup (27ms)\n\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   0 total\nTime:        0.907s, estimated 1s\n```\n\n html \b\n\n```js\nexpect(textArray).toEqual([]);\n```\n\n\n\n```sh\n FAIL  ./weiboBackup.test.js\n   getweiboBackup (310ms)\n\n   getweiboBackup\n\n    expect(received).toEqual(expected)\n\n    Expected value to equal:\n      []\n    Received:\n      [\"Geo\", \"dev_zk[][]\", \"dev_zk\"]\n\n    Difference:\n\n    - Expected\n    + Received\n\n    - Array []\n    + Array [\n    +   \"Geo\",\n    +   \"dev_zk[][]\",\n    +   \"dev_zk\",\n    + ]\n\n      at Object.<anonymous>.test (weiboBackup.test.js:25:21)\n          at new Promise (<anonymous>)\n          at <anonymous>\n      at process._tickCallback (internal/process/next_tick.js:188:7)\n\nTest Suites: 1 failed, 1 total\nTests:       1 failed, 1 total\nSnapshots:   0 total\nTime:        0.897s, estimated 1s\nRan all test suites.\nnpm ERR! Test failed.  See above for more details.\n```\n\n## \n\n KPI\b","source":"_posts/how-to-test-dom-manipulation.md","raw":"---\ntitle:  DOM  JS \ndate: 2017-11-09 11:05:00\ntags: [DOM, , ]\n---\n\n[ JavaScript ](http://www.liuyiqi.cn/2017/11/03/use-js-to-get-weibo-comments/) DOM  JS \n\n<https://github.com/lewis617/practical-js/blob/master/src/weiboBackup.test.js>\n\n<!--more-->\n\n## \n\n KarmaMochaJest  Facebook  Jest Jest \b API\b \bJest\n\n```sh\nyarn add --dev jest\n```\n\n\n## \n\n\n\nweiboBackup.js\n\n```js\n/**\n * \n * \n * jsconsole\n */\n\nvar nodeArray = Array.from(document.querySelectorAll('.list_con .WB_text'));\n\nvar textArray = nodeArray.map(function (node) {\n  return Array.from(node.childNodes).map(function (childNode) {\n    var value;\n    // \n    if (childNode.nodeName === '#text') value = childNode.nodeValue;\n    // \n    else if (childNode.nodeName === 'IMG') value = childNode.alt;\n    // \n    else if (childNode.nodeName === 'A') value = childNode.lastChild.nodeValue;\n    return value.replace(/(\\s+$)|(^\\s+)/g, '');\n  }).join('');\n});\n\nconsole.log(textArray.join('\\n'));\n```\n\n\b console \n\n```js\n// console.log(textArray.join('\\n'));\n\n// console\nmodule.exports = textArray;\n```\n\n## \n\n Jest \b html \n\n>  html \b\n\nweiboBackup.test.js\n\n```js\ndocument.body.innerHTML = '\\\n  <div class=\"list_con\">\\\n    <div class=\"WB_text\">\\\n      <a target=\"_blank\" href=\"//weibo.com/2809324184\" usercard=\"id=2809324184\">Geo</a>\\\n    </div>\\\n    <div class=\"WB_text\">\\\n      <a target=\"_blank\" href=\"//weibo.com/2497287343\" usercard=\"id=2497287343\">dev_zk</a>\\\n      <a target=\"_blank\" suda-data=\"key=pc_apply_entry&amp;value=feed_icon\" href=\"http://club.weibo.com/intro\">\\\n        <i title=\"\" class=\"W_icon icon_club\" node-type=\"daren\"></i>\\\n      </a>\\\n      \\\n      <img render=\"ext\" src=\"//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/58/mb_org.gif\" title=\"[]\" alt=\"[]\" type=\"face\">\\\n      <img render=\"ext\" src=\"//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/58/mb_org.gif\" title=\"[]\" alt=\"[]\" type=\"face\">\\\n    </div>\\\n    <div class=\"WB_text\">\\\n      <a target=\"_blank\" href=\"//weibo.com/2497287343\" usercard=\"id=2497287343\">dev_zk</a>\\\n      <a target=\"_blank\" suda-data=\"key=pc_apply_entry&amp;value=feed_icon\" href=\"http://club.weibo.com/intro\">\\\n      <i title=\"\" class=\"W_icon icon_club\" node-type=\"daren\"></i>\\\n      </a>\\\n      \\\n    </div>\\\n  </div>';\n```\n\n weiboBackup.js\n\n```js\nvar textArray = require('./weiboBackup');\n```\n\n\b `textArray` \n\n```js\nexpect(textArray).toEqual([\n    \"Geo\",\n    \"dev_zk[][]\",\n    \"dev_zk\",\n  ]);\n```\n\n>  [Jest ](http://www.liuyiqi.cn/2017/02/15/start-jest/)\n\n `test` \n\n```js\ntest('getweiboBackup', () => {\n  document.body.innerHTML = '\\\n  <div class=\"list_con\">\\\n    <div class=\"WB_text\">\\\n      <a target=\"_blank\" href=\"//weibo.com/2809324184\" usercard=\"id=2809324184\">Geo</a>\\\n    </div>\\\n    <div class=\"WB_text\">\\\n      <a target=\"_blank\" href=\"//weibo.com/2497287343\" usercard=\"id=2497287343\">dev_zk</a>\\\n      <a target=\"_blank\" suda-data=\"key=pc_apply_entry&amp;value=feed_icon\" href=\"http://club.weibo.com/intro\">\\\n        <i title=\"\" class=\"W_icon icon_club\" node-type=\"daren\"></i>\\\n      </a>\\\n      \\\n      <img render=\"ext\" src=\"//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/58/mb_org.gif\" title=\"[]\" alt=\"[]\" type=\"face\">\\\n      <img render=\"ext\" src=\"//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/58/mb_org.gif\" title=\"[]\" alt=\"[]\" type=\"face\">\\\n    </div>\\\n    <div class=\"WB_text\">\\\n      <a target=\"_blank\" href=\"//weibo.com/2497287343\" usercard=\"id=2497287343\">dev_zk</a>\\\n      <a target=\"_blank\" suda-data=\"key=pc_apply_entry&amp;value=feed_icon\" href=\"http://club.weibo.com/intro\">\\\n      <i title=\"\" class=\"W_icon icon_club\" node-type=\"daren\"></i>\\\n      </a>\\\n      \\\n    </div>\\\n  </div>';\n  var textArray = require('./weiboBackup');\n  expect(textArray).toEqual([\n    \"Geo\",\n    \"dev_zk[][]\",\n    \"dev_zk\",\n  ]);\n});\n```\n## \n\n package.json \n\n```json\n\"scripts\": {\n  \"test\": \"jest\"\n}\n```\n\n\n\n```sh\nnpm test\n```\n\n\n\n```sh\n PASS  ./weiboBackup.test.js\n   getweiboBackup (27ms)\n\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   0 total\nTime:        0.907s, estimated 1s\n```\n\n html \b\n\n```js\nexpect(textArray).toEqual([]);\n```\n\n\n\n```sh\n FAIL  ./weiboBackup.test.js\n   getweiboBackup (310ms)\n\n   getweiboBackup\n\n    expect(received).toEqual(expected)\n\n    Expected value to equal:\n      []\n    Received:\n      [\"Geo\", \"dev_zk[][]\", \"dev_zk\"]\n\n    Difference:\n\n    - Expected\n    + Received\n\n    - Array []\n    + Array [\n    +   \"Geo\",\n    +   \"dev_zk[][]\",\n    +   \"dev_zk\",\n    + ]\n\n      at Object.<anonymous>.test (weiboBackup.test.js:25:21)\n          at new Promise (<anonymous>)\n          at <anonymous>\n      at process._tickCallback (internal/process/next_tick.js:188:7)\n\nTest Suites: 1 failed, 1 total\nTests:       1 failed, 1 total\nSnapshots:   0 total\nTime:        0.897s, estimated 1s\nRan all test suites.\nnpm ERR! Test failed.  See above for more details.\n```\n\n## \n\n KPI\b","slug":"how-to-test-dom-manipulation","published":1,"updated":"2019-05-01T08:02:09.792Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvld000stgytxr4vebuy","content":"<p><a href=\"http://www.liuyiqi.cn/2017/11/03/use-js-to-get-weibo-comments/\"> JavaScript </a> DOM  JS </p>\n<p><a href=\"https://github.com/lewis617/practical-js/blob/master/src/weiboBackup.test.js\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/practical-js/blob/master/src/weiboBackup.test.js</a></p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> KarmaMochaJest  Facebook  Jest Jest \b API\b \bJest</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add --dev jest</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>weiboBackup.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> * jsconsole</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> nodeArray = <span class=\"built_in\">Array</span>.from(<span class=\"built_in\">document</span>.querySelectorAll(<span class=\"string\">'.list_con .WB_text'</span>));</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> textArray = nodeArray.map(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">node</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Array</span>.from(node.childNodes).map(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">childNode</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> value;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (childNode.nodeName === <span class=\"string\">'#text'</span>) value = childNode.nodeValue;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (childNode.nodeName === <span class=\"string\">'IMG'</span>) value = childNode.alt;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (childNode.nodeName === <span class=\"string\">'A'</span>) value = childNode.lastChild.nodeValue;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> value.replace(<span class=\"regexp\">/(\\s+$)|(^\\s+)/g</span>, <span class=\"string\">''</span>);</span><br><span class=\"line\">  &#125;).join(<span class=\"string\">''</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(textArray.join(<span class=\"string\">'\\n'</span>));</span><br></pre></td></tr></table></figure>\n<p>\b console </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// console.log(textArray.join('\\n'));</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// console</span></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = textArray;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Jest \b html </p>\n<blockquote>\n<p> html \b</p>\n</blockquote>\n<p>weiboBackup.test.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">document</span>.body.innerHTML = <span class=\"string\">'\\</span></span><br><span class=\"line\"><span class=\"string\">  &lt;div class=\"list_con\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div class=\"WB_text\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a target=\"_blank\" href=\"//weibo.com/2809324184\" usercard=\"id=2809324184\"&gt;Geo&lt;/a&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div class=\"WB_text\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a target=\"_blank\" href=\"//weibo.com/2497287343\" usercard=\"id=2497287343\"&gt;dev_zk&lt;/a&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a target=\"_blank\" suda-data=\"key=pc_apply_entry&amp;amp;value=feed_icon\" href=\"http://club.weibo.com/intro\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">        &lt;i title=\"\" class=\"W_icon icon_club\" node-type=\"daren\"&gt;&lt;/i&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;/a&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      \\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;img render=\"ext\" src=\"//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/58/mb_org.gif\" title=\"[]\" alt=\"[]\" type=\"face\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;img render=\"ext\" src=\"//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/58/mb_org.gif\" title=\"[]\" alt=\"[]\" type=\"face\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div class=\"WB_text\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a target=\"_blank\" href=\"//weibo.com/2497287343\" usercard=\"id=2497287343\"&gt;dev_zk&lt;/a&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a target=\"_blank\" suda-data=\"key=pc_apply_entry&amp;amp;value=feed_icon\" href=\"http://club.weibo.com/intro\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;i title=\"\" class=\"W_icon icon_club\" node-type=\"daren\"&gt;&lt;/i&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;/a&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      \\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">  &lt;/div&gt;'</span>;</span><br></pre></td></tr></table></figure>\n<p> weiboBackup.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> textArray = <span class=\"built_in\">require</span>(<span class=\"string\">'./weiboBackup'</span>);</span><br></pre></td></tr></table></figure>\n<p>\b <code>textArray</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">expect(textArray).toEqual([</span><br><span class=\"line\">    <span class=\"string\">\"Geo\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"dev_zk[][]\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"dev_zk\"</span>,</span><br><span class=\"line\">  ]);</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p> <a href=\"http://www.liuyiqi.cn/2017/02/15/start-jest/\">Jest </a></p>\n</blockquote>\n<p> <code>test</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">test(<span class=\"string\">'getweiboBackup'</span>, () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"built_in\">document</span>.body.innerHTML = <span class=\"string\">'\\</span></span><br><span class=\"line\"><span class=\"string\">  &lt;div class=\"list_con\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div class=\"WB_text\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a target=\"_blank\" href=\"//weibo.com/2809324184\" usercard=\"id=2809324184\"&gt;Geo&lt;/a&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div class=\"WB_text\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a target=\"_blank\" href=\"//weibo.com/2497287343\" usercard=\"id=2497287343\"&gt;dev_zk&lt;/a&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a target=\"_blank\" suda-data=\"key=pc_apply_entry&amp;amp;value=feed_icon\" href=\"http://club.weibo.com/intro\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">        &lt;i title=\"\" class=\"W_icon icon_club\" node-type=\"daren\"&gt;&lt;/i&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;/a&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      \\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;img render=\"ext\" src=\"//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/58/mb_org.gif\" title=\"[]\" alt=\"[]\" type=\"face\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;img render=\"ext\" src=\"//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/58/mb_org.gif\" title=\"[]\" alt=\"[]\" type=\"face\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div class=\"WB_text\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a target=\"_blank\" href=\"//weibo.com/2497287343\" usercard=\"id=2497287343\"&gt;dev_zk&lt;/a&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a target=\"_blank\" suda-data=\"key=pc_apply_entry&amp;amp;value=feed_icon\" href=\"http://club.weibo.com/intro\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;i title=\"\" class=\"W_icon icon_club\" node-type=\"daren\"&gt;&lt;/i&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;/a&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      \\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">  &lt;/div&gt;'</span>;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> textArray = <span class=\"built_in\">require</span>(<span class=\"string\">'./weiboBackup'</span>);</span><br><span class=\"line\">  expect(textArray).toEqual([</span><br><span class=\"line\">    <span class=\"string\">\"Geo\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"dev_zk[][]\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"dev_zk\"</span>,</span><br><span class=\"line\">  ]);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> package.json </p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\"scripts\": &#123;</span><br><span class=\"line\">  \"test\": \"jest\"</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm <span class=\"built_in\">test</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> PASS  ./weiboBackup.test.js</span><br><span class=\"line\">   getweiboBackup (27ms)</span><br><span class=\"line\"></span><br><span class=\"line\">Test Suites: 1 passed, 1 total</span><br><span class=\"line\">Tests:       1 passed, 1 total</span><br><span class=\"line\">Snapshots:   0 total</span><br><span class=\"line\">Time:        0.907s, estimated 1s</span><br></pre></td></tr></table></figure>\n<p> html \b</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">expect(textArray).toEqual([]);</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> FAIL  ./weiboBackup.test.js</span><br><span class=\"line\">   getweiboBackup (310ms)</span><br><span class=\"line\"></span><br><span class=\"line\">   getweiboBackup</span><br><span class=\"line\"></span><br><span class=\"line\">    expect(received).toEqual(expected)</span><br><span class=\"line\"></span><br><span class=\"line\">    Expected value to equal:</span><br><span class=\"line\">      []</span><br><span class=\"line\">    Received:</span><br><span class=\"line\">      [<span class=\"string\">\"Geo\"</span>, <span class=\"string\">\"dev_zk[][]\"</span>, <span class=\"string\">\"dev_zk\"</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    Difference:</span><br><span class=\"line\"></span><br><span class=\"line\">    - Expected</span><br><span class=\"line\">    + Received</span><br><span class=\"line\"></span><br><span class=\"line\">    - Array []</span><br><span class=\"line\">    + Array [</span><br><span class=\"line\">    +   <span class=\"string\">\"Geo\"</span>,</span><br><span class=\"line\">    +   <span class=\"string\">\"dev_zk[][]\"</span>,</span><br><span class=\"line\">    +   <span class=\"string\">\"dev_zk\"</span>,</span><br><span class=\"line\">    + ]</span><br><span class=\"line\"></span><br><span class=\"line\">      at Object.&lt;anonymous&gt;.<span class=\"built_in\">test</span> (weiboBackup.test.js:25:21)</span><br><span class=\"line\">          at new Promise (&lt;anonymous&gt;)</span><br><span class=\"line\">          at &lt;anonymous&gt;</span><br><span class=\"line\">      at process._tickCallback (internal/process/next_tick.js:188:7)</span><br><span class=\"line\"></span><br><span class=\"line\">Test Suites: 1 failed, 1 total</span><br><span class=\"line\">Tests:       1 failed, 1 total</span><br><span class=\"line\">Snapshots:   0 total</span><br><span class=\"line\">Time:        0.897s, estimated 1s</span><br><span class=\"line\">Ran all <span class=\"built_in\">test</span> suites.</span><br><span class=\"line\">npm ERR! Test failed.  See above <span class=\"keyword\">for</span> more details.</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> KPI\b</p>\n","site":{"data":{}},"excerpt":"<p><a href=\"http://www.liuyiqi.cn/2017/11/03/use-js-to-get-weibo-comments/\"> JavaScript </a> DOM  JS </p>\n<p><a href=\"https://github.com/lewis617/practical-js/blob/master/src/weiboBackup.test.js\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/practical-js/blob/master/src/weiboBackup.test.js</a></p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> KarmaMochaJest  Facebook  Jest Jest \b API\b \bJest</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add --dev jest</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>weiboBackup.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> * jsconsole</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> nodeArray = <span class=\"built_in\">Array</span>.from(<span class=\"built_in\">document</span>.querySelectorAll(<span class=\"string\">'.list_con .WB_text'</span>));</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> textArray = nodeArray.map(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">node</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Array</span>.from(node.childNodes).map(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">childNode</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> value;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (childNode.nodeName === <span class=\"string\">'#text'</span>) value = childNode.nodeValue;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (childNode.nodeName === <span class=\"string\">'IMG'</span>) value = childNode.alt;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (childNode.nodeName === <span class=\"string\">'A'</span>) value = childNode.lastChild.nodeValue;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> value.replace(<span class=\"regexp\">/(\\s+$)|(^\\s+)/g</span>, <span class=\"string\">''</span>);</span><br><span class=\"line\">  &#125;).join(<span class=\"string\">''</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(textArray.join(<span class=\"string\">'\\n'</span>));</span><br></pre></td></tr></table></figure>\n<p>\b console </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// console.log(textArray.join('\\n'));</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// console</span></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = textArray;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Jest \b html </p>\n<blockquote>\n<p> html \b</p>\n</blockquote>\n<p>weiboBackup.test.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">document</span>.body.innerHTML = <span class=\"string\">'\\</span></span><br><span class=\"line\"><span class=\"string\">  &lt;div class=\"list_con\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div class=\"WB_text\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a target=\"_blank\" href=\"//weibo.com/2809324184\" usercard=\"id=2809324184\"&gt;Geo&lt;/a&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div class=\"WB_text\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a target=\"_blank\" href=\"//weibo.com/2497287343\" usercard=\"id=2497287343\"&gt;dev_zk&lt;/a&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a target=\"_blank\" suda-data=\"key=pc_apply_entry&amp;amp;value=feed_icon\" href=\"http://club.weibo.com/intro\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">        &lt;i title=\"\" class=\"W_icon icon_club\" node-type=\"daren\"&gt;&lt;/i&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;/a&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      \\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;img render=\"ext\" src=\"//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/58/mb_org.gif\" title=\"[]\" alt=\"[]\" type=\"face\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;img render=\"ext\" src=\"//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/58/mb_org.gif\" title=\"[]\" alt=\"[]\" type=\"face\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div class=\"WB_text\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a target=\"_blank\" href=\"//weibo.com/2497287343\" usercard=\"id=2497287343\"&gt;dev_zk&lt;/a&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a target=\"_blank\" suda-data=\"key=pc_apply_entry&amp;amp;value=feed_icon\" href=\"http://club.weibo.com/intro\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;i title=\"\" class=\"W_icon icon_club\" node-type=\"daren\"&gt;&lt;/i&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;/a&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      \\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">  &lt;/div&gt;'</span>;</span><br></pre></td></tr></table></figure>\n<p> weiboBackup.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> textArray = <span class=\"built_in\">require</span>(<span class=\"string\">'./weiboBackup'</span>);</span><br></pre></td></tr></table></figure>\n<p>\b <code>textArray</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">expect(textArray).toEqual([</span><br><span class=\"line\">    <span class=\"string\">\"Geo\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"dev_zk[][]\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"dev_zk\"</span>,</span><br><span class=\"line\">  ]);</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p> <a href=\"http://www.liuyiqi.cn/2017/02/15/start-jest/\">Jest </a></p>\n</blockquote>\n<p> <code>test</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">test(<span class=\"string\">'getweiboBackup'</span>, () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"built_in\">document</span>.body.innerHTML = <span class=\"string\">'\\</span></span><br><span class=\"line\"><span class=\"string\">  &lt;div class=\"list_con\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div class=\"WB_text\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a target=\"_blank\" href=\"//weibo.com/2809324184\" usercard=\"id=2809324184\"&gt;Geo&lt;/a&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div class=\"WB_text\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a target=\"_blank\" href=\"//weibo.com/2497287343\" usercard=\"id=2497287343\"&gt;dev_zk&lt;/a&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a target=\"_blank\" suda-data=\"key=pc_apply_entry&amp;amp;value=feed_icon\" href=\"http://club.weibo.com/intro\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">        &lt;i title=\"\" class=\"W_icon icon_club\" node-type=\"daren\"&gt;&lt;/i&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;/a&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      \\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;img render=\"ext\" src=\"//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/58/mb_org.gif\" title=\"[]\" alt=\"[]\" type=\"face\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;img render=\"ext\" src=\"//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/58/mb_org.gif\" title=\"[]\" alt=\"[]\" type=\"face\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div class=\"WB_text\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a target=\"_blank\" href=\"//weibo.com/2497287343\" usercard=\"id=2497287343\"&gt;dev_zk&lt;/a&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a target=\"_blank\" suda-data=\"key=pc_apply_entry&amp;amp;value=feed_icon\" href=\"http://club.weibo.com/intro\"&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;i title=\"\" class=\"W_icon icon_club\" node-type=\"daren\"&gt;&lt;/i&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      &lt;/a&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">      \\</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;\\</span></span><br><span class=\"line\"><span class=\"string\">  &lt;/div&gt;'</span>;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> textArray = <span class=\"built_in\">require</span>(<span class=\"string\">'./weiboBackup'</span>);</span><br><span class=\"line\">  expect(textArray).toEqual([</span><br><span class=\"line\">    <span class=\"string\">\"Geo\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"dev_zk[][]\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"dev_zk\"</span>,</span><br><span class=\"line\">  ]);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> package.json </p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\"scripts\": &#123;</span><br><span class=\"line\">  \"test\": \"jest\"</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm <span class=\"built_in\">test</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> PASS  ./weiboBackup.test.js</span><br><span class=\"line\">   getweiboBackup (27ms)</span><br><span class=\"line\"></span><br><span class=\"line\">Test Suites: 1 passed, 1 total</span><br><span class=\"line\">Tests:       1 passed, 1 total</span><br><span class=\"line\">Snapshots:   0 total</span><br><span class=\"line\">Time:        0.907s, estimated 1s</span><br></pre></td></tr></table></figure>\n<p> html \b</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">expect(textArray).toEqual([]);</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> FAIL  ./weiboBackup.test.js</span><br><span class=\"line\">   getweiboBackup (310ms)</span><br><span class=\"line\"></span><br><span class=\"line\">   getweiboBackup</span><br><span class=\"line\"></span><br><span class=\"line\">    expect(received).toEqual(expected)</span><br><span class=\"line\"></span><br><span class=\"line\">    Expected value to equal:</span><br><span class=\"line\">      []</span><br><span class=\"line\">    Received:</span><br><span class=\"line\">      [<span class=\"string\">\"Geo\"</span>, <span class=\"string\">\"dev_zk[][]\"</span>, <span class=\"string\">\"dev_zk\"</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    Difference:</span><br><span class=\"line\"></span><br><span class=\"line\">    - Expected</span><br><span class=\"line\">    + Received</span><br><span class=\"line\"></span><br><span class=\"line\">    - Array []</span><br><span class=\"line\">    + Array [</span><br><span class=\"line\">    +   <span class=\"string\">\"Geo\"</span>,</span><br><span class=\"line\">    +   <span class=\"string\">\"dev_zk[][]\"</span>,</span><br><span class=\"line\">    +   <span class=\"string\">\"dev_zk\"</span>,</span><br><span class=\"line\">    + ]</span><br><span class=\"line\"></span><br><span class=\"line\">      at Object.&lt;anonymous&gt;.<span class=\"built_in\">test</span> (weiboBackup.test.js:25:21)</span><br><span class=\"line\">          at new Promise (&lt;anonymous&gt;)</span><br><span class=\"line\">          at &lt;anonymous&gt;</span><br><span class=\"line\">      at process._tickCallback (internal/process/next_tick.js:188:7)</span><br><span class=\"line\"></span><br><span class=\"line\">Test Suites: 1 failed, 1 total</span><br><span class=\"line\">Tests:       1 failed, 1 total</span><br><span class=\"line\">Snapshots:   0 total</span><br><span class=\"line\">Time:        0.897s, estimated 1s</span><br><span class=\"line\">Ran all <span class=\"built_in\">test</span> suites.</span><br><span class=\"line\">npm ERR! Test failed.  See above <span class=\"keyword\">for</span> more details.</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> KPI\b</p>"},{"title":"JS ","date":"2019-01-25T06:35:00.000Z","_content":"\n trouble shooting  JS \n\n<!--more-->\n\n## \n\n\n\n- \n- \n- \n- \n- \n- \n- \n[![kmNDsJ.png](https://s2.ax1x.com/2019/01/25/kmNDsJ.png)](https://imgchr.com/i/kmNDsJ)\n\n JS Infinite Loop\n\n\n\n- \n-  A  B \n- \n- \n\n\n\n## \n\n Chrome 67\n\n-  DevToolsF12\n-  **Sources**  Pause script execution \n- Pause script execution  Stop \n\n![](https://i.stack.imgur.com/iYiF1.png)\n\n## \n\n\n\n```js\nconst loopBreaker = (function () {\n  let count = 0;\n  let startTime;\n  return function () {\n    startTime = startTime || (startTime = Date.now());\n    count += 1;\n    //  10000\n    if (count > 10000 && (Date.now() - startTime > 1000)) {\n      throw new Error(\"Loop Broken!\");\n    }\n    // \n    setTimeout(() => { count = 0; startTime = null; }, 1000);\n  };\n}());\n```\n\n `count` `startTime`  10000  1000 \n\n\n\n```js\nfor (var i = 0; i < 1000000; i--) {\n  loopBreaker();\n  console.log(i);\n}\n```\n\n\n\n## \n\n JS  Babel \n","source":"_posts/js-infinite-loop-breaker.md","raw":"---\n\ntitle: JS \n\ndate: 2019-01-25 14:35:00\n\ntags: [JS ]\n\n---\n\n trouble shooting  JS \n\n<!--more-->\n\n## \n\n\n\n- \n- \n- \n- \n- \n- \n- \n[![kmNDsJ.png](https://s2.ax1x.com/2019/01/25/kmNDsJ.png)](https://imgchr.com/i/kmNDsJ)\n\n JS Infinite Loop\n\n\n\n- \n-  A  B \n- \n- \n\n\n\n## \n\n Chrome 67\n\n-  DevToolsF12\n-  **Sources**  Pause script execution \n- Pause script execution  Stop \n\n![](https://i.stack.imgur.com/iYiF1.png)\n\n## \n\n\n\n```js\nconst loopBreaker = (function () {\n  let count = 0;\n  let startTime;\n  return function () {\n    startTime = startTime || (startTime = Date.now());\n    count += 1;\n    //  10000\n    if (count > 10000 && (Date.now() - startTime > 1000)) {\n      throw new Error(\"Loop Broken!\");\n    }\n    // \n    setTimeout(() => { count = 0; startTime = null; }, 1000);\n  };\n}());\n```\n\n `count` `startTime`  10000  1000 \n\n\n\n```js\nfor (var i = 0; i < 1000000; i--) {\n  loopBreaker();\n  console.log(i);\n}\n```\n\n\n\n## \n\n JS  Babel \n","slug":"js-infinite-loop-breaker","published":1,"updated":"2019-05-01T08:02:09.948Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvle000utgytac6f35sw","content":"<p> trouble shooting  JS </p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li><br><a href=\"https://imgchr.com/i/kmNDsJ\" target=\"_blank\" rel=\"noopener\"><img src=\"https://s2.ax1x.com/2019/01/25/kmNDsJ.png\" alt=\"kmNDsJ.png\"></a></li>\n</ul>\n<p> JS Infinite Loop</p>\n<p></p>\n<ul>\n<li></li>\n<li> A  B </li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Chrome 67</p>\n<ul>\n<li> DevToolsF12</li>\n<li> <strong>Sources</strong>  Pause script execution </li>\n<li>Pause script execution  Stop </li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/iYiF1.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> loopBreaker = (<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> startTime;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    startTime = startTime || (startTime = <span class=\"built_in\">Date</span>.now());</span><br><span class=\"line\">    count += <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"comment\">//  10000</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (count &gt; <span class=\"number\">10000</span> &amp;&amp; (<span class=\"built_in\">Date</span>.now() - startTime &gt; <span class=\"number\">1000</span>)) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">\"Loop Broken!\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123; count = <span class=\"number\">0</span>; startTime = <span class=\"literal\">null</span>; &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;());</span><br></pre></td></tr></table></figure>\n<p> <code>count</code> <code>startTime</code>  10000  1000 </p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">1000000</span>; i--) &#123;</span><br><span class=\"line\">  loopBreaker();</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(i);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> JS  Babel </p>\n","site":{"data":{}},"excerpt":"<p> trouble shooting  JS </p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li><br><a href=\"https://imgchr.com/i/kmNDsJ\" target=\"_blank\" rel=\"noopener\"><img src=\"https://s2.ax1x.com/2019/01/25/kmNDsJ.png\" alt=\"kmNDsJ.png\"></a></li>\n</ul>\n<p> JS Infinite Loop</p>\n<p></p>\n<ul>\n<li></li>\n<li> A  B </li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Chrome 67</p>\n<ul>\n<li> DevToolsF12</li>\n<li> <strong>Sources</strong>  Pause script execution </li>\n<li>Pause script execution  Stop </li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/iYiF1.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> loopBreaker = (<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> startTime;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    startTime = startTime || (startTime = <span class=\"built_in\">Date</span>.now());</span><br><span class=\"line\">    count += <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"comment\">//  10000</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (count &gt; <span class=\"number\">10000</span> &amp;&amp; (<span class=\"built_in\">Date</span>.now() - startTime &gt; <span class=\"number\">1000</span>)) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">\"Loop Broken!\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123; count = <span class=\"number\">0</span>; startTime = <span class=\"literal\">null</span>; &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;());</span><br></pre></td></tr></table></figure>\n<p> <code>count</code> <code>startTime</code>  10000  1000 </p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">1000000</span>; i--) &#123;</span><br><span class=\"line\">  loopBreaker();</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(i);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> JS  Babel </p>"},{"title":"Anjana Vakil JS ","date":"2017-10-22T09:32:00.000Z","_content":"\n YouTube \n\nhttps://www.youtube.com/watch?v=Wo0qiGPSV-s\n\n![](/css/images/8.jpg)\n\n<!--more-->\n\n## \n\n Anjana Vakil  JS  JavaScript  JavaScript\n\n## \n\n web  Uber Research  Recurse Center Recurse Center  Outreach  Outreach Mozilla \n\n![](/css/images/9.jpg)\n\n\n## \n\n \n\n![](/css/images/10.jpg)\n\n## \n\n    Rock Rock\n\n![](/css/images/11.jpg)\n\n## \n\n\n\n> Nobody sits like this rock sits. You rock, rock. The rock just sits and is. You show us how to just sit here and that's what we need.\n> \n\n![](/css/images/12.jpg)\n\nI heart HuckabeesI heart Huckabees\n\n> I Heart Huckabees \n\n \n\n## \n\n `foo`\n\n![](/css/images/13.jpg)\n\n\n\n![](/css/images/14.jpg)\n\n  \n\n![](/css/images/15.jpg)\n\n  bug\n\n![](/css/images/16.jpg)\n\n## \n\n\n\n![](/css/images/17.jpg)\n\n \n\n![](/css/images/18.jpg)\n\n \n\n## \n\n React  \n\n![](/css/images/19.jpg)\n\n   Git \n\n## \n\n\n\n![](/css/images/20.jpg)\n\n \n\n![](/css/images/21.jpg)\n\n## \n\nTrees & sharing\n\n![](/css/images/22.jpg)\n\n\n\n![](/css/images/23.jpg)\n\n\n\n![](/css/images/24.jpg)\n\n\n## \n\n\n\n![](/css/images/25.jpg)\n\n  \n\n![](/css/images/26.jpg)\n\npath copying\n\n![](/css/images/27.jpg)\n\n\n\n![](/css/images/28.jpg)\n\n\n## \n\n[Trie ](https://baike.baidu.com/item/Trie%E6%A0%91)Trie retrieval\n\n![](/css/images/29.jpg)\n\n Trie  Trie  tea  t ea3\n\n![](/css/images/30.jpg)\n\nindex\n\n![](/css/images/31.jpg)\n\n55101101\n\n![](/css/images/32.jpg)\n\n32\n\n![](/css/images/33.jpg)\n\n3252^5=321897715 5332\n\n![](/css/images/34.jpg)\n\n Bitmapped Vector Trie\n\n![](/css/images/35.jpg)\n\n\n## \n\nM  MonkeyP  panda\n\n![](/css/images/36.jpg)\n\n F  F 55101\n\n![](/css/images/37.jpg)\n\n [Hash Array Mapped Trie](https://en.wikipedia.org/wiki/Hash_array_mapped_trie) Phil Bagwell  Rich Hickey  Clojure \n\n![](/css/images/38.jpg)\n\n\n\n## \n\n\n\n![](/css/images/39.jpg)\n\n## Mori  Immutable.js \n\n JavaScript  MoriMori  ClojureScript  JavaScript  ClojureScript  Clojure API \n\n![](/css/images/40.jpg)\n\n Immutable.js Facebook  Lee Byron JavaScript  JavaScript  Clojure  API\n\n![](/css/images/41.jpg)\n\n## Mori  Immutable.js \n\n  Mori`vector` `conj`  `push` `a`  `a2` \n\n![](/css/images/42.jpg)\n\n Immutable.js \n\n![](/css/images/43.jpg)\n\n map   Mori \n\n![](/css/images/44.jpg)\n\n Immutable.js \n\n![](/css/images/45.jpg)\n\n\n\n## Mori  Immutable.js \n\nMori  Clojure  ClojureScript JavaScript  Immutable.js  `o.get()`  JavaScript Immutable.js  MoriMori  Immutable.js  \n\n![](/css/images/46.jpg)\n\n \n\n![](/css/images/47.jpg)\n\n\n","source":"_posts/immutable-data-structures-for-functional-js.md","raw":"---\ntitle: Anjana Vakil JS \ndate: 2017-10-22 17:32:00\ntags: [, , , , , Trie , Mori, Immutable.js, Clojure]\n---\n\n YouTube \n\nhttps://www.youtube.com/watch?v=Wo0qiGPSV-s\n\n![](/css/images/8.jpg)\n\n<!--more-->\n\n## \n\n Anjana Vakil  JS  JavaScript  JavaScript\n\n## \n\n web  Uber Research  Recurse Center Recurse Center  Outreach  Outreach Mozilla \n\n![](/css/images/9.jpg)\n\n\n## \n\n \n\n![](/css/images/10.jpg)\n\n## \n\n    Rock Rock\n\n![](/css/images/11.jpg)\n\n## \n\n\n\n> Nobody sits like this rock sits. You rock, rock. The rock just sits and is. You show us how to just sit here and that's what we need.\n> \n\n![](/css/images/12.jpg)\n\nI heart HuckabeesI heart Huckabees\n\n> I Heart Huckabees \n\n \n\n## \n\n `foo`\n\n![](/css/images/13.jpg)\n\n\n\n![](/css/images/14.jpg)\n\n  \n\n![](/css/images/15.jpg)\n\n  bug\n\n![](/css/images/16.jpg)\n\n## \n\n\n\n![](/css/images/17.jpg)\n\n \n\n![](/css/images/18.jpg)\n\n \n\n## \n\n React  \n\n![](/css/images/19.jpg)\n\n   Git \n\n## \n\n\n\n![](/css/images/20.jpg)\n\n \n\n![](/css/images/21.jpg)\n\n## \n\nTrees & sharing\n\n![](/css/images/22.jpg)\n\n\n\n![](/css/images/23.jpg)\n\n\n\n![](/css/images/24.jpg)\n\n\n## \n\n\n\n![](/css/images/25.jpg)\n\n  \n\n![](/css/images/26.jpg)\n\npath copying\n\n![](/css/images/27.jpg)\n\n\n\n![](/css/images/28.jpg)\n\n\n## \n\n[Trie ](https://baike.baidu.com/item/Trie%E6%A0%91)Trie retrieval\n\n![](/css/images/29.jpg)\n\n Trie  Trie  tea  t ea3\n\n![](/css/images/30.jpg)\n\nindex\n\n![](/css/images/31.jpg)\n\n55101101\n\n![](/css/images/32.jpg)\n\n32\n\n![](/css/images/33.jpg)\n\n3252^5=321897715 5332\n\n![](/css/images/34.jpg)\n\n Bitmapped Vector Trie\n\n![](/css/images/35.jpg)\n\n\n## \n\nM  MonkeyP  panda\n\n![](/css/images/36.jpg)\n\n F  F 55101\n\n![](/css/images/37.jpg)\n\n [Hash Array Mapped Trie](https://en.wikipedia.org/wiki/Hash_array_mapped_trie) Phil Bagwell  Rich Hickey  Clojure \n\n![](/css/images/38.jpg)\n\n\n\n## \n\n\n\n![](/css/images/39.jpg)\n\n## Mori  Immutable.js \n\n JavaScript  MoriMori  ClojureScript  JavaScript  ClojureScript  Clojure API \n\n![](/css/images/40.jpg)\n\n Immutable.js Facebook  Lee Byron JavaScript  JavaScript  Clojure  API\n\n![](/css/images/41.jpg)\n\n## Mori  Immutable.js \n\n  Mori`vector` `conj`  `push` `a`  `a2` \n\n![](/css/images/42.jpg)\n\n Immutable.js \n\n![](/css/images/43.jpg)\n\n map   Mori \n\n![](/css/images/44.jpg)\n\n Immutable.js \n\n![](/css/images/45.jpg)\n\n\n\n## Mori  Immutable.js \n\nMori  Clojure  ClojureScript JavaScript  Immutable.js  `o.get()`  JavaScript Immutable.js  MoriMori  Immutable.js  \n\n![](/css/images/46.jpg)\n\n \n\n![](/css/images/47.jpg)\n\n\n","slug":"immutable-data-structures-for-functional-js","published":1,"updated":"2019-05-01T08:10:29.609Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvli000xtgytp8mmn6yn","content":"<p> YouTube </p>\n<p><a href=\"https://www.youtube.com/watch?v=Wo0qiGPSV-s\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=Wo0qiGPSV-s</a></p>\n<p><img src=\"/css/images/8.jpg\" alt=\"\"></p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Anjana Vakil  JS  JavaScript  JavaScript</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> web  Uber Research  Recurse Center Recurse Center  Outreach  Outreach Mozilla </p>\n<p><img src=\"/css/images/9.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> </p>\n<p><img src=\"/css/images/10.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>    Rock Rock</p>\n<p><img src=\"/css/images/11.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<blockquote>\n<p>Nobody sits like this rock sits. You rock, rock. The rock just sits and is. You show us how to just sit here and thats what we need.<br></p>\n</blockquote>\n<p><img src=\"/css/images/12.jpg\" alt=\"\"></p>\n<p>I heart HuckabeesI heart Huckabees</p>\n<blockquote>\n<p>I Heart Huckabees </p>\n</blockquote>\n<p> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>foo</code></p>\n<p><img src=\"/css/images/13.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"/css/images/14.jpg\" alt=\"\"></p>\n<p>  </p>\n<p><img src=\"/css/images/15.jpg\" alt=\"\"></p>\n<p>  bug</p>\n<p><img src=\"/css/images/16.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"/css/images/17.jpg\" alt=\"\"></p>\n<p> </p>\n<p><img src=\"/css/images/18.jpg\" alt=\"\"></p>\n<p> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> React  </p>\n<p><img src=\"/css/images/19.jpg\" alt=\"\"></p>\n<p>   Git </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"/css/images/20.jpg\" alt=\"\"></p>\n<p> </p>\n<p><img src=\"/css/images/21.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Trees &amp; sharing</p>\n<p><img src=\"/css/images/22.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"/css/images/23.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"/css/images/24.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"/css/images/25.jpg\" alt=\"\"></p>\n<p>  </p>\n<p><img src=\"/css/images/26.jpg\" alt=\"\"></p>\n<p>path copying</p>\n<p><img src=\"/css/images/27.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"/css/images/28.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://baike.baidu.com/item/Trie%E6%A0%91\" target=\"_blank\" rel=\"noopener\">Trie </a>Trie retrieval</p>\n<p><img src=\"/css/images/29.jpg\" alt=\"\"></p>\n<p> Trie  Trie  tea  t ea3</p>\n<p><img src=\"/css/images/30.jpg\" alt=\"\"></p>\n<p>index</p>\n<p><img src=\"/css/images/31.jpg\" alt=\"\"></p>\n<p>55101101</p>\n<p><img src=\"/css/images/32.jpg\" alt=\"\"></p>\n<p>32</p>\n<p><img src=\"/css/images/33.jpg\" alt=\"\"></p>\n<p>3252^5=321897715 5332</p>\n<p><img src=\"/css/images/34.jpg\" alt=\"\"></p>\n<p> Bitmapped Vector Trie</p>\n<p><img src=\"/css/images/35.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>M  MonkeyP  panda</p>\n<p><img src=\"/css/images/36.jpg\" alt=\"\"></p>\n<p> F  F 55101</p>\n<p><img src=\"/css/images/37.jpg\" alt=\"\"></p>\n<p> <a href=\"https://en.wikipedia.org/wiki/Hash_array_mapped_trie\" target=\"_blank\" rel=\"noopener\">Hash Array Mapped Trie</a> Phil Bagwell  Rich Hickey  Clojure </p>\n<p><img src=\"/css/images/38.jpg\" alt=\"\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"/css/images/39.jpg\" alt=\"\"></p>\n<h2 id=\"Mori--Immutable-js-\"><a href=\"#Mori--Immutable-js-\" class=\"headerlink\" title=\"Mori  Immutable.js \"></a>Mori  Immutable.js </h2><p> JavaScript  MoriMori  ClojureScript  JavaScript  ClojureScript  Clojure API </p>\n<p><img src=\"/css/images/40.jpg\" alt=\"\"></p>\n<p> Immutable.js Facebook  Lee Byron JavaScript  JavaScript  Clojure  API</p>\n<p><img src=\"/css/images/41.jpg\" alt=\"\"></p>\n<h2 id=\"Mori--Immutable-js-\"><a href=\"#Mori--Immutable-js-\" class=\"headerlink\" title=\"Mori  Immutable.js \"></a>Mori  Immutable.js </h2><p>  Mori<code>vector</code> <code>conj</code>  <code>push</code> <code>a</code>  <code>a2</code> </p>\n<p><img src=\"/css/images/42.jpg\" alt=\"\"></p>\n<p> Immutable.js </p>\n<p><img src=\"/css/images/43.jpg\" alt=\"\"></p>\n<p> map   Mori </p>\n<p><img src=\"/css/images/44.jpg\" alt=\"\"></p>\n<p> Immutable.js </p>\n<p><img src=\"/css/images/45.jpg\" alt=\"\"></p>\n<p></p>\n<h2 id=\"Mori--Immutable-js-\"><a href=\"#Mori--Immutable-js-\" class=\"headerlink\" title=\"Mori  Immutable.js \"></a>Mori  Immutable.js </h2><p>Mori  Clojure  ClojureScript JavaScript  Immutable.js  <code>o.get()</code>  JavaScript Immutable.js  MoriMori  Immutable.js  </p>\n<p><img src=\"/css/images/46.jpg\" alt=\"\"></p>\n<p> </p>\n<p><img src=\"/css/images/47.jpg\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"<p> YouTube </p>\n<p><a href=\"https://www.youtube.com/watch?v=Wo0qiGPSV-s\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=Wo0qiGPSV-s</a></p>\n<p><img src=\"/css/images/8.jpg\" alt=\"\"></p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Anjana Vakil  JS  JavaScript  JavaScript</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> web  Uber Research  Recurse Center Recurse Center  Outreach  Outreach Mozilla </p>\n<p><img src=\"/css/images/9.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> </p>\n<p><img src=\"/css/images/10.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>    Rock Rock</p>\n<p><img src=\"/css/images/11.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<blockquote>\n<p>Nobody sits like this rock sits. You rock, rock. The rock just sits and is. You show us how to just sit here and thats what we need.<br></p>\n</blockquote>\n<p><img src=\"/css/images/12.jpg\" alt=\"\"></p>\n<p>I heart HuckabeesI heart Huckabees</p>\n<blockquote>\n<p>I Heart Huckabees </p>\n</blockquote>\n<p> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>foo</code></p>\n<p><img src=\"/css/images/13.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"/css/images/14.jpg\" alt=\"\"></p>\n<p>  </p>\n<p><img src=\"/css/images/15.jpg\" alt=\"\"></p>\n<p>  bug</p>\n<p><img src=\"/css/images/16.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"/css/images/17.jpg\" alt=\"\"></p>\n<p> </p>\n<p><img src=\"/css/images/18.jpg\" alt=\"\"></p>\n<p> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> React  </p>\n<p><img src=\"/css/images/19.jpg\" alt=\"\"></p>\n<p>   Git </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"/css/images/20.jpg\" alt=\"\"></p>\n<p> </p>\n<p><img src=\"/css/images/21.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Trees &amp; sharing</p>\n<p><img src=\"/css/images/22.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"/css/images/23.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"/css/images/24.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"/css/images/25.jpg\" alt=\"\"></p>\n<p>  </p>\n<p><img src=\"/css/images/26.jpg\" alt=\"\"></p>\n<p>path copying</p>\n<p><img src=\"/css/images/27.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"/css/images/28.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://baike.baidu.com/item/Trie%E6%A0%91\" target=\"_blank\" rel=\"noopener\">Trie </a>Trie retrieval</p>\n<p><img src=\"/css/images/29.jpg\" alt=\"\"></p>\n<p> Trie  Trie  tea  t ea3</p>\n<p><img src=\"/css/images/30.jpg\" alt=\"\"></p>\n<p>index</p>\n<p><img src=\"/css/images/31.jpg\" alt=\"\"></p>\n<p>55101101</p>\n<p><img src=\"/css/images/32.jpg\" alt=\"\"></p>\n<p>32</p>\n<p><img src=\"/css/images/33.jpg\" alt=\"\"></p>\n<p>3252^5=321897715 5332</p>\n<p><img src=\"/css/images/34.jpg\" alt=\"\"></p>\n<p> Bitmapped Vector Trie</p>\n<p><img src=\"/css/images/35.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>M  MonkeyP  panda</p>\n<p><img src=\"/css/images/36.jpg\" alt=\"\"></p>\n<p> F  F 55101</p>\n<p><img src=\"/css/images/37.jpg\" alt=\"\"></p>\n<p> <a href=\"https://en.wikipedia.org/wiki/Hash_array_mapped_trie\" target=\"_blank\" rel=\"noopener\">Hash Array Mapped Trie</a> Phil Bagwell  Rich Hickey  Clojure </p>\n<p><img src=\"/css/images/38.jpg\" alt=\"\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"/css/images/39.jpg\" alt=\"\"></p>\n<h2 id=\"Mori--Immutable-js-\"><a href=\"#Mori--Immutable-js-\" class=\"headerlink\" title=\"Mori  Immutable.js \"></a>Mori  Immutable.js </h2><p> JavaScript  MoriMori  ClojureScript  JavaScript  ClojureScript  Clojure API </p>\n<p><img src=\"/css/images/40.jpg\" alt=\"\"></p>\n<p> Immutable.js Facebook  Lee Byron JavaScript  JavaScript  Clojure  API</p>\n<p><img src=\"/css/images/41.jpg\" alt=\"\"></p>\n<h2 id=\"Mori--Immutable-js-\"><a href=\"#Mori--Immutable-js-\" class=\"headerlink\" title=\"Mori  Immutable.js \"></a>Mori  Immutable.js </h2><p>  Mori<code>vector</code> <code>conj</code>  <code>push</code> <code>a</code>  <code>a2</code> </p>\n<p><img src=\"/css/images/42.jpg\" alt=\"\"></p>\n<p> Immutable.js </p>\n<p><img src=\"/css/images/43.jpg\" alt=\"\"></p>\n<p> map   Mori </p>\n<p><img src=\"/css/images/44.jpg\" alt=\"\"></p>\n<p> Immutable.js </p>\n<p><img src=\"/css/images/45.jpg\" alt=\"\"></p>\n<p></p>\n<h2 id=\"Mori--Immutable-js-\"><a href=\"#Mori--Immutable-js-\" class=\"headerlink\" title=\"Mori  Immutable.js \"></a>Mori  Immutable.js </h2><p>Mori  Clojure  ClojureScript JavaScript  Immutable.js  <code>o.get()</code>  JavaScript Immutable.js  MoriMori  Immutable.js  </p>\n<p><img src=\"/css/images/46.jpg\" alt=\"\"></p>\n<p> </p>\n<p><img src=\"/css/images/47.jpg\" alt=\"\"></p>"},{"title":"karma","date":"2015-10-12T06:07:00.000Z","_content":"\nAngularjsKarmaAngularjsjs\n\n<!--more-->\n\n## 0Karma\n\n![](/css/images/48.jpg)\n\n## 1\n\n![](/css/images/49.jpg)\n\njspackage.json\n\n## 2\n\n1package.json\n\n```sh\nnpm init\n```\n\n2karma\n\n```sh\nnpm install karma karma-jasmine karma-chrome-launcher --save-dev\n```\n\n karma karma-jasmine karma-chrome-launcher package.json\n\nkarmakarma-jasmine karma-chrome-launcher no provider jasminebugubuntu \n\n\n\n```sh\nnpm install -g karma karma-jasmine karma-chrome-launcher \n```\n\n3karma\n\n```sh\n karma init karma.conf.js\n```\n\n![](/css/images/50.jpg)\n\n4demo.js\n\n```js\ndescribe('A spec suite', function() {\n    it('contains a passing spec', function() {\n        expect(true).toBe(true);\n    });\n});\n```\n\ndescribeit()console'A spec suite';\n\nit()console'contains a passing spec';\n\nexpect(a).tobe(b)abconsole;\n\n\n\n## 3\n\n\n\n```sh\nkarma start karma.conf.js\n```\n\n\n\n![](/css/images/51.jpg)\n\n## \n\n<http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/>\n","source":"_posts/karma-start.md","raw":"---\ntitle: karma\ndate: 2015-10-12 14:07:00\ntags: [Karma, , ]\n---\n\nAngularjsKarmaAngularjsjs\n\n<!--more-->\n\n## 0Karma\n\n![](/css/images/48.jpg)\n\n## 1\n\n![](/css/images/49.jpg)\n\njspackage.json\n\n## 2\n\n1package.json\n\n```sh\nnpm init\n```\n\n2karma\n\n```sh\nnpm install karma karma-jasmine karma-chrome-launcher --save-dev\n```\n\n karma karma-jasmine karma-chrome-launcher package.json\n\nkarmakarma-jasmine karma-chrome-launcher no provider jasminebugubuntu \n\n\n\n```sh\nnpm install -g karma karma-jasmine karma-chrome-launcher \n```\n\n3karma\n\n```sh\n karma init karma.conf.js\n```\n\n![](/css/images/50.jpg)\n\n4demo.js\n\n```js\ndescribe('A spec suite', function() {\n    it('contains a passing spec', function() {\n        expect(true).toBe(true);\n    });\n});\n```\n\ndescribeit()console'A spec suite';\n\nit()console'contains a passing spec';\n\nexpect(a).tobe(b)abconsole;\n\n\n\n## 3\n\n\n\n```sh\nkarma start karma.conf.js\n```\n\n\n\n![](/css/images/51.jpg)\n\n## \n\n<http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/>\n","slug":"karma-start","published":1,"updated":"2019-05-01T08:10:29.651Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvlj000ztgytugiwdp1s","content":"<p>AngularjsKarmaAngularjsjs</p>\n<a id=\"more\"></a>\n<h2 id=\"0Karma\"><a href=\"#0Karma\" class=\"headerlink\" title=\"0Karma\"></a>0Karma</h2><p><img src=\"/css/images/48.jpg\" alt=\"\"></p>\n<h2 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h2><p><img src=\"/css/images/49.jpg\" alt=\"\"></p>\n<p>jspackage.json</p>\n<h2 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h2><p>1package.json</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm init</span><br></pre></td></tr></table></figure>\n<p>2karma</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install karma karma-jasmine karma-chrome-launcher --save-dev</span><br></pre></td></tr></table></figure>\n<p> karma karma-jasmine karma-chrome-launcher package.json</p>\n<p>karmakarma-jasmine karma-chrome-launcher no provider jasminebugubuntu </p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g karma karma-jasmine karma-chrome-launcher</span><br></pre></td></tr></table></figure>\n<p>3karma</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">karma init karma.conf.js</span><br></pre></td></tr></table></figure>\n<p><img src=\"/css/images/50.jpg\" alt=\"\"></p>\n<p>4demo.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">describe(<span class=\"string\">'A spec suite'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    it(<span class=\"string\">'contains a passing spec'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        expect(<span class=\"literal\">true</span>).toBe(<span class=\"literal\">true</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>describeit()consoleA spec suite;</p>\n<p>it()consolecontains a passing spec;</p>\n<p>expect(a).tobe(b)abconsole;</p>\n<p></p>\n<h2 id=\"3\"><a href=\"#3\" class=\"headerlink\" title=\"3\"></a>3</h2><p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">karma start karma.conf.js</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/css/images/51.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/\">http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/</a></p>\n","site":{"data":{}},"excerpt":"<p>AngularjsKarmaAngularjsjs</p>","more":"<h2 id=\"0Karma\"><a href=\"#0Karma\" class=\"headerlink\" title=\"0Karma\"></a>0Karma</h2><p><img src=\"/css/images/48.jpg\" alt=\"\"></p>\n<h2 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h2><p><img src=\"/css/images/49.jpg\" alt=\"\"></p>\n<p>jspackage.json</p>\n<h2 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h2><p>1package.json</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm init</span><br></pre></td></tr></table></figure>\n<p>2karma</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install karma karma-jasmine karma-chrome-launcher --save-dev</span><br></pre></td></tr></table></figure>\n<p> karma karma-jasmine karma-chrome-launcher package.json</p>\n<p>karmakarma-jasmine karma-chrome-launcher no provider jasminebugubuntu </p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g karma karma-jasmine karma-chrome-launcher</span><br></pre></td></tr></table></figure>\n<p>3karma</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">karma init karma.conf.js</span><br></pre></td></tr></table></figure>\n<p><img src=\"/css/images/50.jpg\" alt=\"\"></p>\n<p>4demo.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">describe(<span class=\"string\">'A spec suite'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    it(<span class=\"string\">'contains a passing spec'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        expect(<span class=\"literal\">true</span>).toBe(<span class=\"literal\">true</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>describeit()consoleA spec suite;</p>\n<p>it()consolecontains a passing spec;</p>\n<p>expect(a).tobe(b)abconsole;</p>\n<p></p>\n<h2 id=\"3\"><a href=\"#3\" class=\"headerlink\" title=\"3\"></a>3</h2><p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">karma start karma.conf.js</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/css/images/51.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/\">http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/</a></p>"},{"title":"","date":"2018-07-25T07:00:00.000Z","_content":"\n CR \n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/253b2a3479efb954c13d29c33ebde193.gif)\n\n\n\n<!--more-->\n\n## \n\n### \n\n\n\n![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/92540cd6fba715d2f87569ee4178045a.png)\n\n![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/327680fc4bbd5694af00345eff985b28.png)\n\n### TensorFlow Object Detection API\n\n TensorFlow Object Detection APITensorFlow Object Detection API \n\n![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/b0d53971daa00b7368ce102128808ce2.png)\n\n![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/18885ecc69b4d3d41ba09b174b414653.png)\n## \n\nTensorFlow  retrain GPU  OSX TensorFlow  OSX  GPU \n\n- WIndows  Linux \n- \n-  PAI \n- \n\n Windows  Macbook8gNvidia GeForce GT 730  GPU  Tensorflow \n\n## \n\nTensorFlow Object Detection API [](https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/detection_model_zoo.md)ssd_mobilenet_v1_coco\n\n## \n\n\n\n![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/7b973e2b8ba9e2444738610724a8f391.png)\n\n\n\n- \n- \n\n\n\n![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/2d708f7fec32820d1daec8087053804f.png)\n\n\n\n![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a3090c496957287e049199bd5110e939.png)\n\n## \n\n\n\n-  GPU \n\n- \n\n-  Object Detection  Image Classification  xml \n\n","source":"_posts/ml-component-recognition.md","raw":"---\ntitle: \ndate: 2018-07-25 15:00:00\ntags: [, TensorFlow, Object Detection API, ]\n---\n\n CR \n\n![](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/253b2a3479efb954c13d29c33ebde193.gif)\n\n\n\n<!--more-->\n\n## \n\n### \n\n\n\n![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/92540cd6fba715d2f87569ee4178045a.png)\n\n![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/327680fc4bbd5694af00345eff985b28.png)\n\n### TensorFlow Object Detection API\n\n TensorFlow Object Detection APITensorFlow Object Detection API \n\n![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/b0d53971daa00b7368ce102128808ce2.png)\n\n![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/18885ecc69b4d3d41ba09b174b414653.png)\n## \n\nTensorFlow  retrain GPU  OSX TensorFlow  OSX  GPU \n\n- WIndows  Linux \n- \n-  PAI \n- \n\n Windows  Macbook8gNvidia GeForce GT 730  GPU  Tensorflow \n\n## \n\nTensorFlow Object Detection API [](https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/detection_model_zoo.md)ssd_mobilenet_v1_coco\n\n## \n\n\n\n![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/7b973e2b8ba9e2444738610724a8f391.png)\n\n\n\n- \n- \n\n\n\n![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/2d708f7fec32820d1daec8087053804f.png)\n\n\n\n![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a3090c496957287e049199bd5110e939.png)\n\n## \n\n\n\n-  GPU \n\n- \n\n-  Object Detection  Image Classification  xml \n\n","slug":"ml-component-recognition","published":1,"updated":"2019-05-01T08:02:10.221Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvll0012tgyttufavdv8","content":"<p> CR </p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/253b2a3479efb954c13d29c33ebde193.gif\" alt=\"\"></p>\n<p></p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/92540cd6fba715d2f87569ee4178045a.png\" alt=\"image.png\"></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/327680fc4bbd5694af00345eff985b28.png\" alt=\"image.png\"></p>\n<h3 id=\"TensorFlow-Object-Detection-API\"><a href=\"#TensorFlow-Object-Detection-API\" class=\"headerlink\" title=\"TensorFlow Object Detection API\"></a>TensorFlow Object Detection API</h3><p> TensorFlow Object Detection APITensorFlow Object Detection API </p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/b0d53971daa00b7368ce102128808ce2.png\" alt=\"image.png\"></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/18885ecc69b4d3d41ba09b174b414653.png\" alt=\"image.png\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>TensorFlow  retrain GPU  OSX TensorFlow  OSX  GPU </p>\n<ul>\n<li>WIndows  Linux </li>\n<li></li>\n<li> PAI </li>\n<li></li>\n</ul>\n<p> Windows  Macbook8gNvidia GeForce GT 730  GPU  Tensorflow </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>TensorFlow Object Detection API <a href=\"https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/detection_model_zoo.md\" target=\"_blank\" rel=\"noopener\"></a>ssd_mobilenet_v1_coco</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/7b973e2b8ba9e2444738610724a8f391.png\" alt=\"image.png\"></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/2d708f7fec32820d1daec8087053804f.png\" alt=\"image.png\"></p>\n<p></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a3090c496957287e049199bd5110e939.png\" alt=\"image.png\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li><p> GPU </p>\n</li>\n<li><p></p>\n</li>\n<li><p> Object Detection  Image Classification  xml </p>\n</li>\n</ul>\n<p></p>\n","site":{"data":{}},"excerpt":"<p> CR </p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/253b2a3479efb954c13d29c33ebde193.gif\" alt=\"\"></p>\n<p></p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/92540cd6fba715d2f87569ee4178045a.png\" alt=\"image.png\"></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/327680fc4bbd5694af00345eff985b28.png\" alt=\"image.png\"></p>\n<h3 id=\"TensorFlow-Object-Detection-API\"><a href=\"#TensorFlow-Object-Detection-API\" class=\"headerlink\" title=\"TensorFlow Object Detection API\"></a>TensorFlow Object Detection API</h3><p> TensorFlow Object Detection APITensorFlow Object Detection API </p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/b0d53971daa00b7368ce102128808ce2.png\" alt=\"image.png\"></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/18885ecc69b4d3d41ba09b174b414653.png\" alt=\"image.png\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>TensorFlow  retrain GPU  OSX TensorFlow  OSX  GPU </p>\n<ul>\n<li>WIndows  Linux </li>\n<li></li>\n<li> PAI </li>\n<li></li>\n</ul>\n<p> Windows  Macbook8gNvidia GeForce GT 730  GPU  Tensorflow </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>TensorFlow Object Detection API <a href=\"https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/detection_model_zoo.md\" target=\"_blank\" rel=\"noopener\"></a>ssd_mobilenet_v1_coco</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/7b973e2b8ba9e2444738610724a8f391.png\" alt=\"image.png\"></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/2d708f7fec32820d1daec8087053804f.png\" alt=\"image.png\"></p>\n<p></p>\n<p><img src=\"http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a3090c496957287e049199bd5110e939.png\" alt=\"image.png\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li><p> GPU </p>\n</li>\n<li><p></p>\n</li>\n<li><p> Object Detection  Image Classification  xml </p>\n</li>\n</ul>\n<p></p>"},{"title":"JavaScript ","date":"2017-02-15T10:35:00.000Z","_content":"\n\n\n<!--more-->\n\n## \n\n\n\n-  next  next \n-  head next  next \n- \n-  JavaScript **** JavaScript \n\n![](https://ws1.sinaimg.cn/mw690/83900b4egy1fcrboyt21qj20ic041q2q)\n\n##  JavaScript \n\n\n\n```js\nfunction LinkedList() {\n  ...\n}\n\nmodule.exports = LinkedList;\n```\n\n### \n\n `head` `length`  `Node`  next \n\n```js\nfunction LinkedList() {\n  var Node = function (element) {\n    this.element = element;\n    this.next = null;\n  };\n\n  var length = 0;\n  var head = null;\n}\n\n```\n\n `1510` \n\n```js\n{\n  element: 15,\n  next: {\n    element : 10,\n    next: null\n  }\n}\n```\n\n `head`  `element`  `15` `length`  `2` `Node` \n\n###  append  toString \n\n `append`  `toString` \n\n```js\nvar linkedList = new LinkedList();\n// 15\nlinkedList.append(15);\n// 10\nlinkedList.append(10);\n// \nexpect(linkedList.toString()).toBe('15,10');\n```\n\n `append(15)` `head` \n\n```js\n{\n  element: 15,\n  next: null\n}\n```\n `append(10)` `head` \n\n```js\n{\n  element: 15,\n  next: {\n    element : 10,\n    next: null\n  }\n}\n```\n\n\n\n```js\nthis.append = function (element) {\n  var node = new Node(element),\n    current;\n  \n  //  head \n  if (head === null) {\n    head = node;\n  } else {\n    //  current \n    current = head;\n    while (current.next) {\n      current = current.next;\n    }\n    //  next \n    current.next = node;\n  }\n  length++;\n};\n\n...\n\nthis.toString = function () {\n\n  var current = head,\n    string = '';\n\n  while (current) {\n    string += current.element + (current.next ? ',' : '');\n    current = current.next;\n  }\n  return string;\n\n};\n```\n\n\n\n```js\nwhile (current) {\n  // \n  ...\n  current = current.next;\n}\n```\n JavaScript `current = cuuren.next`  JavaScript \n\n```js\nvar a = { name: 'lewis' };\nb = a;\nb.name = 'susan';\nconsole.log(a); // { name: 'susan' }\n```\n `head``current` \n\n```js\n{\n  element: 15,   // head  element  15 \n  next: {\n    element : 10, // current \n    next: null\n  }\n}\n```\n `current = current.next`  `current`  element  15  element  10  next \n\n###  removeAt \n\n `removeAt` \n\n```js\nvar linkedList = new LinkedList();\nlinkedList.append(15);\nlinkedList.append(10);\n// 0 null\nexpect(linkedList.removeAt(-1)).toBe(null); // \n//  null\nexpect(linkedList.removeAt(3)).toBe(null); // \n// 1\nexpect(linkedList.removeAt(1)).toBe(10); // \n// 0\nexpect(linkedList.removeAt(0)).toBe(15); // \n// \nexpect(linkedList.toString()).toBe('');\n```\n\n\n\n> [Jest ](https://lewis617.github.io/2017/02/15/start-jest/)\n\n\n\n```js\nthis.removeAt = function (position) {\n  // \n  if (position > -1 && position < length) {\n    var current = head,\n      previous,\n      index = 0;\n    // \n    if (position === 0) {\n      head = current.next;\n    } else {\n      // \n      while (index < position) {\n        previous = current;\n        current = current.next;\n        index++;\n      }\n      previous.next = current.next;\n    }\n\n    length--;\n    return current.element;\n\n  }\n  return null;\n};\n```\n\n\n\n```js\nwhile (index < position) {\n  // \n  ...\n  current = current.next;\n  index++;\n}\n```\n\n###  insert \n\n `insert` \n\n```js\nvar linkedList = new LinkedList();\nexpect(linkedList.insert(0, 15)); // \nexpect(linkedList.insert(1, 12)); // \nexpect(linkedList.insert(0, 10)); // \nexpect(linkedList.insert(-1, 8)); // \nexpect(linkedList.insert(4, 8)); // \nexpect(linkedList.toString()).toBe('10,15,12');\n```\n\n\n\n```js\nthis.insert = function (position, element) {\n  // \n  if (position > -1 && position <= length) {\n    var node = new Node(element),\n      current = head,\n      previous,\n      index = 0;\n    // \n    if (position === 0) {\n      node.next = current;\n      head = node;\n    } else {\n      // \n      while (index < position) {\n        previous = current;\n        current = current.next;\n        index++;\n      }\n      node.next = current;\n      previous.next = node;\n    }\n\n    length++;\n\n    return true;\n  }\n  return false;\n};\n```\n\n\n\n###  indexOf \n\n `indexOf` \n\n```js\nvar linkedList = new LinkedList();\nlinkedList.append(15);\nlinkedList.append(10);\nexpect(linkedList.indexOf(12)).toBe(2); // \nexpect(linkedList.indexOf(8)).toBe(-1); // \n```\n\n `position` `-1` \n\n```js\nthis.indexOf = function (element) {\n  var current = head,\n    index = 0;\n\n  while (current) {\n    if (element === current.element) {\n      return index;\n    }\n    index++;\n    current = current.next;\n  }\n  return -1;\n};\n```\n\n\n\n## \n\n\n\n-  head  Node next \n-  while  `current = curren.next`\n-  `previous` \n- \n\n\n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>","source":"_posts/linked-list.md","raw":"---\ntitle: JavaScript \ndate: 2017-02-15 18:35:00\ntags: []\n---\n\n\n\n<!--more-->\n\n## \n\n\n\n-  next  next \n-  head next  next \n- \n-  JavaScript **** JavaScript \n\n![](https://ws1.sinaimg.cn/mw690/83900b4egy1fcrboyt21qj20ic041q2q)\n\n##  JavaScript \n\n\n\n```js\nfunction LinkedList() {\n  ...\n}\n\nmodule.exports = LinkedList;\n```\n\n### \n\n `head` `length`  `Node`  next \n\n```js\nfunction LinkedList() {\n  var Node = function (element) {\n    this.element = element;\n    this.next = null;\n  };\n\n  var length = 0;\n  var head = null;\n}\n\n```\n\n `1510` \n\n```js\n{\n  element: 15,\n  next: {\n    element : 10,\n    next: null\n  }\n}\n```\n\n `head`  `element`  `15` `length`  `2` `Node` \n\n###  append  toString \n\n `append`  `toString` \n\n```js\nvar linkedList = new LinkedList();\n// 15\nlinkedList.append(15);\n// 10\nlinkedList.append(10);\n// \nexpect(linkedList.toString()).toBe('15,10');\n```\n\n `append(15)` `head` \n\n```js\n{\n  element: 15,\n  next: null\n}\n```\n `append(10)` `head` \n\n```js\n{\n  element: 15,\n  next: {\n    element : 10,\n    next: null\n  }\n}\n```\n\n\n\n```js\nthis.append = function (element) {\n  var node = new Node(element),\n    current;\n  \n  //  head \n  if (head === null) {\n    head = node;\n  } else {\n    //  current \n    current = head;\n    while (current.next) {\n      current = current.next;\n    }\n    //  next \n    current.next = node;\n  }\n  length++;\n};\n\n...\n\nthis.toString = function () {\n\n  var current = head,\n    string = '';\n\n  while (current) {\n    string += current.element + (current.next ? ',' : '');\n    current = current.next;\n  }\n  return string;\n\n};\n```\n\n\n\n```js\nwhile (current) {\n  // \n  ...\n  current = current.next;\n}\n```\n JavaScript `current = cuuren.next`  JavaScript \n\n```js\nvar a = { name: 'lewis' };\nb = a;\nb.name = 'susan';\nconsole.log(a); // { name: 'susan' }\n```\n `head``current` \n\n```js\n{\n  element: 15,   // head  element  15 \n  next: {\n    element : 10, // current \n    next: null\n  }\n}\n```\n `current = current.next`  `current`  element  15  element  10  next \n\n###  removeAt \n\n `removeAt` \n\n```js\nvar linkedList = new LinkedList();\nlinkedList.append(15);\nlinkedList.append(10);\n// 0 null\nexpect(linkedList.removeAt(-1)).toBe(null); // \n//  null\nexpect(linkedList.removeAt(3)).toBe(null); // \n// 1\nexpect(linkedList.removeAt(1)).toBe(10); // \n// 0\nexpect(linkedList.removeAt(0)).toBe(15); // \n// \nexpect(linkedList.toString()).toBe('');\n```\n\n\n\n> [Jest ](https://lewis617.github.io/2017/02/15/start-jest/)\n\n\n\n```js\nthis.removeAt = function (position) {\n  // \n  if (position > -1 && position < length) {\n    var current = head,\n      previous,\n      index = 0;\n    // \n    if (position === 0) {\n      head = current.next;\n    } else {\n      // \n      while (index < position) {\n        previous = current;\n        current = current.next;\n        index++;\n      }\n      previous.next = current.next;\n    }\n\n    length--;\n    return current.element;\n\n  }\n  return null;\n};\n```\n\n\n\n```js\nwhile (index < position) {\n  // \n  ...\n  current = current.next;\n  index++;\n}\n```\n\n###  insert \n\n `insert` \n\n```js\nvar linkedList = new LinkedList();\nexpect(linkedList.insert(0, 15)); // \nexpect(linkedList.insert(1, 12)); // \nexpect(linkedList.insert(0, 10)); // \nexpect(linkedList.insert(-1, 8)); // \nexpect(linkedList.insert(4, 8)); // \nexpect(linkedList.toString()).toBe('10,15,12');\n```\n\n\n\n```js\nthis.insert = function (position, element) {\n  // \n  if (position > -1 && position <= length) {\n    var node = new Node(element),\n      current = head,\n      previous,\n      index = 0;\n    // \n    if (position === 0) {\n      node.next = current;\n      head = node;\n    } else {\n      // \n      while (index < position) {\n        previous = current;\n        current = current.next;\n        index++;\n      }\n      node.next = current;\n      previous.next = node;\n    }\n\n    length++;\n\n    return true;\n  }\n  return false;\n};\n```\n\n\n\n###  indexOf \n\n `indexOf` \n\n```js\nvar linkedList = new LinkedList();\nlinkedList.append(15);\nlinkedList.append(10);\nexpect(linkedList.indexOf(12)).toBe(2); // \nexpect(linkedList.indexOf(8)).toBe(-1); // \n```\n\n `position` `-1` \n\n```js\nthis.indexOf = function (element) {\n  var current = head,\n    index = 0;\n\n  while (current) {\n    if (element === current.element) {\n      return index;\n    }\n    index++;\n    current = current.next;\n  }\n  return -1;\n};\n```\n\n\n\n## \n\n\n\n-  head  Node next \n-  while  `current = curren.next`\n-  `previous` \n- \n\n\n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>","slug":"linked-list","published":1,"updated":"2019-05-01T08:02:10.146Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvlm0014tgytc4v6h6pp","content":"<p></p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li> next  next </li>\n<li> head next  next </li>\n<li></li>\n<li> JavaScript <strong></strong> JavaScript </li>\n</ul>\n<p><img src=\"https://ws1.sinaimg.cn/mw690/83900b4egy1fcrboyt21qj20ic041q2q\" alt=\"\"></p>\n<h2 id=\"-JavaScript-\"><a href=\"#-JavaScript-\" class=\"headerlink\" title=\" JavaScript \"></a> JavaScript </h2><p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">LinkedList</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = LinkedList;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>head</code> <code>length</code>  <code>Node</code>  next </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">LinkedList</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> Node = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.element = element;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.next = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> length = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> head = <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> <code>1510</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  element: <span class=\"number\">15</span>,</span><br><span class=\"line\">  next: &#123;</span><br><span class=\"line\">    element : <span class=\"number\">10</span>,</span><br><span class=\"line\">    next: <span class=\"literal\">null</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> <code>head</code>  <code>element</code>  <code>15</code> <code>length</code>  <code>2</code> <code>Node</code> </p>\n<h3 id=\"-append--toString-\"><a href=\"#-append--toString-\" class=\"headerlink\" title=\" append  toString \"></a> append  toString </h3><p> <code>append</code>  <code>toString</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> linkedList = <span class=\"keyword\">new</span> LinkedList();</span><br><span class=\"line\"><span class=\"comment\">// 15</span></span><br><span class=\"line\">linkedList.append(<span class=\"number\">15</span>);</span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\">linkedList.append(<span class=\"number\">10</span>);</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">expect(linkedList.toString()).toBe(<span class=\"string\">'15,10'</span>);</span><br></pre></td></tr></table></figure>\n<p> <code>append(15)</code> <code>head</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  element: <span class=\"number\">15</span>,</span><br><span class=\"line\">  next: <span class=\"literal\">null</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> <code>append(10)</code> <code>head</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  element: <span class=\"number\">15</span>,</span><br><span class=\"line\">  next: &#123;</span><br><span class=\"line\">    element : <span class=\"number\">10</span>,</span><br><span class=\"line\">    next: <span class=\"literal\">null</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.append = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> node = <span class=\"keyword\">new</span> Node(element),</span><br><span class=\"line\">    current;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//  head </span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (head === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    head = node;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//  current </span></span><br><span class=\"line\">    current = head;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (current.next) &#123;</span><br><span class=\"line\">      current = current.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//  next </span></span><br><span class=\"line\">    current.next = node;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  length++;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.toString = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> current = head,</span><br><span class=\"line\">    string = <span class=\"string\">''</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (current) &#123;</span><br><span class=\"line\">    string += current.element + (current.next ? <span class=\"string\">','</span> : <span class=\"string\">''</span>);</span><br><span class=\"line\">    current = current.next;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> string;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span> (current) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  current = current.next;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> JavaScript <code>current = cuuren.next</code>  JavaScript </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = &#123; <span class=\"attr\">name</span>: <span class=\"string\">'lewis'</span> &#125;;</span><br><span class=\"line\">b = a;</span><br><span class=\"line\">b.name = <span class=\"string\">'susan'</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a); <span class=\"comment\">// &#123; name: 'susan' &#125;</span></span><br></pre></td></tr></table></figure>\n<p> <code>head</code><code>current</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  element: <span class=\"number\">15</span>,   <span class=\"comment\">// head  element  15 </span></span><br><span class=\"line\">  next: &#123;</span><br><span class=\"line\">    element : <span class=\"number\">10</span>, <span class=\"comment\">// current </span></span><br><span class=\"line\">    next: <span class=\"literal\">null</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> <code>current = current.next</code>  <code>current</code>  element  15  element  10  next </p>\n<h3 id=\"-removeAt-\"><a href=\"#-removeAt-\" class=\"headerlink\" title=\" removeAt \"></a> removeAt </h3><p> <code>removeAt</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> linkedList = <span class=\"keyword\">new</span> LinkedList();</span><br><span class=\"line\">linkedList.append(<span class=\"number\">15</span>);</span><br><span class=\"line\">linkedList.append(<span class=\"number\">10</span>);</span><br><span class=\"line\"><span class=\"comment\">// 0 null</span></span><br><span class=\"line\">expect(linkedList.removeAt(<span class=\"number\">-1</span>)).toBe(<span class=\"literal\">null</span>); <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">//  null</span></span><br><span class=\"line\">expect(linkedList.removeAt(<span class=\"number\">3</span>)).toBe(<span class=\"literal\">null</span>); <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\">expect(linkedList.removeAt(<span class=\"number\">1</span>)).toBe(<span class=\"number\">10</span>); <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// 0</span></span><br><span class=\"line\">expect(linkedList.removeAt(<span class=\"number\">0</span>)).toBe(<span class=\"number\">15</span>); <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">expect(linkedList.toString()).toBe(<span class=\"string\">''</span>);</span><br></pre></td></tr></table></figure>\n<p></p>\n<blockquote>\n<p><a href=\"https://lewis617.github.io/2017/02/15/start-jest/\" target=\"_blank\" rel=\"noopener\">Jest </a></p>\n</blockquote>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.removeAt = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">position</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (position &gt; <span class=\"number\">-1</span> &amp;&amp; position &lt; length) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> current = head,</span><br><span class=\"line\">      previous,</span><br><span class=\"line\">      index = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (position === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      head = current.next;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">while</span> (index &lt; position) &#123;</span><br><span class=\"line\">        previous = current;</span><br><span class=\"line\">        current = current.next;</span><br><span class=\"line\">        index++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      previous.next = current.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    length--;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> current.element;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span> (index &lt; position) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  current = current.next;</span><br><span class=\"line\">  index++;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-insert-\"><a href=\"#-insert-\" class=\"headerlink\" title=\" insert \"></a> insert </h3><p> <code>insert</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> linkedList = <span class=\"keyword\">new</span> LinkedList();</span><br><span class=\"line\">expect(linkedList.insert(<span class=\"number\">0</span>, <span class=\"number\">15</span>)); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(linkedList.insert(<span class=\"number\">1</span>, <span class=\"number\">12</span>)); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(linkedList.insert(<span class=\"number\">0</span>, <span class=\"number\">10</span>)); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(linkedList.insert(<span class=\"number\">-1</span>, <span class=\"number\">8</span>)); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(linkedList.insert(<span class=\"number\">4</span>, <span class=\"number\">8</span>)); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(linkedList.toString()).toBe(<span class=\"string\">'10,15,12'</span>);</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.insert = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">position, element</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (position &gt; <span class=\"number\">-1</span> &amp;&amp; position &lt;= length) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> node = <span class=\"keyword\">new</span> Node(element),</span><br><span class=\"line\">      current = head,</span><br><span class=\"line\">      previous,</span><br><span class=\"line\">      index = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (position === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      node.next = current;</span><br><span class=\"line\">      head = node;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">while</span> (index &lt; position) &#123;</span><br><span class=\"line\">        previous = current;</span><br><span class=\"line\">        current = current.next;</span><br><span class=\"line\">        index++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      node.next = current;</span><br><span class=\"line\">      previous.next = node;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    length++;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h3 id=\"-indexOf-\"><a href=\"#-indexOf-\" class=\"headerlink\" title=\" indexOf \"></a> indexOf </h3><p> <code>indexOf</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> linkedList = <span class=\"keyword\">new</span> LinkedList();</span><br><span class=\"line\">linkedList.append(<span class=\"number\">15</span>);</span><br><span class=\"line\">linkedList.append(<span class=\"number\">10</span>);</span><br><span class=\"line\">expect(linkedList.indexOf(<span class=\"number\">12</span>)).toBe(<span class=\"number\">2</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(linkedList.indexOf(<span class=\"number\">8</span>)).toBe(<span class=\"number\">-1</span>); <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n<p> <code>position</code> <code>-1</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.indexOf = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> current = head,</span><br><span class=\"line\">    index = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (current) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (element === current.element) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> index;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    index++;</span><br><span class=\"line\">    current = current.next;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li> head  Node next </li>\n<li> while  <code>current = curren.next</code></li>\n<li> <code>previous</code> </li>\n<li></li>\n</ul>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>\n","site":{"data":{}},"excerpt":"<p></p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li> next  next </li>\n<li> head next  next </li>\n<li></li>\n<li> JavaScript <strong></strong> JavaScript </li>\n</ul>\n<p><img src=\"https://ws1.sinaimg.cn/mw690/83900b4egy1fcrboyt21qj20ic041q2q\" alt=\"\"></p>\n<h2 id=\"-JavaScript-\"><a href=\"#-JavaScript-\" class=\"headerlink\" title=\" JavaScript \"></a> JavaScript </h2><p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">LinkedList</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = LinkedList;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>head</code> <code>length</code>  <code>Node</code>  next </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">LinkedList</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> Node = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.element = element;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.next = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> length = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> head = <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> <code>1510</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  element: <span class=\"number\">15</span>,</span><br><span class=\"line\">  next: &#123;</span><br><span class=\"line\">    element : <span class=\"number\">10</span>,</span><br><span class=\"line\">    next: <span class=\"literal\">null</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> <code>head</code>  <code>element</code>  <code>15</code> <code>length</code>  <code>2</code> <code>Node</code> </p>\n<h3 id=\"-append--toString-\"><a href=\"#-append--toString-\" class=\"headerlink\" title=\" append  toString \"></a> append  toString </h3><p> <code>append</code>  <code>toString</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> linkedList = <span class=\"keyword\">new</span> LinkedList();</span><br><span class=\"line\"><span class=\"comment\">// 15</span></span><br><span class=\"line\">linkedList.append(<span class=\"number\">15</span>);</span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\">linkedList.append(<span class=\"number\">10</span>);</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">expect(linkedList.toString()).toBe(<span class=\"string\">'15,10'</span>);</span><br></pre></td></tr></table></figure>\n<p> <code>append(15)</code> <code>head</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  element: <span class=\"number\">15</span>,</span><br><span class=\"line\">  next: <span class=\"literal\">null</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> <code>append(10)</code> <code>head</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  element: <span class=\"number\">15</span>,</span><br><span class=\"line\">  next: &#123;</span><br><span class=\"line\">    element : <span class=\"number\">10</span>,</span><br><span class=\"line\">    next: <span class=\"literal\">null</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.append = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> node = <span class=\"keyword\">new</span> Node(element),</span><br><span class=\"line\">    current;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//  head </span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (head === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    head = node;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//  current </span></span><br><span class=\"line\">    current = head;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (current.next) &#123;</span><br><span class=\"line\">      current = current.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//  next </span></span><br><span class=\"line\">    current.next = node;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  length++;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.toString = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> current = head,</span><br><span class=\"line\">    string = <span class=\"string\">''</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (current) &#123;</span><br><span class=\"line\">    string += current.element + (current.next ? <span class=\"string\">','</span> : <span class=\"string\">''</span>);</span><br><span class=\"line\">    current = current.next;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> string;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span> (current) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  current = current.next;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> JavaScript <code>current = cuuren.next</code>  JavaScript </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = &#123; <span class=\"attr\">name</span>: <span class=\"string\">'lewis'</span> &#125;;</span><br><span class=\"line\">b = a;</span><br><span class=\"line\">b.name = <span class=\"string\">'susan'</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a); <span class=\"comment\">// &#123; name: 'susan' &#125;</span></span><br></pre></td></tr></table></figure>\n<p> <code>head</code><code>current</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  element: <span class=\"number\">15</span>,   <span class=\"comment\">// head  element  15 </span></span><br><span class=\"line\">  next: &#123;</span><br><span class=\"line\">    element : <span class=\"number\">10</span>, <span class=\"comment\">// current </span></span><br><span class=\"line\">    next: <span class=\"literal\">null</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> <code>current = current.next</code>  <code>current</code>  element  15  element  10  next </p>\n<h3 id=\"-removeAt-\"><a href=\"#-removeAt-\" class=\"headerlink\" title=\" removeAt \"></a> removeAt </h3><p> <code>removeAt</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> linkedList = <span class=\"keyword\">new</span> LinkedList();</span><br><span class=\"line\">linkedList.append(<span class=\"number\">15</span>);</span><br><span class=\"line\">linkedList.append(<span class=\"number\">10</span>);</span><br><span class=\"line\"><span class=\"comment\">// 0 null</span></span><br><span class=\"line\">expect(linkedList.removeAt(<span class=\"number\">-1</span>)).toBe(<span class=\"literal\">null</span>); <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">//  null</span></span><br><span class=\"line\">expect(linkedList.removeAt(<span class=\"number\">3</span>)).toBe(<span class=\"literal\">null</span>); <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\">expect(linkedList.removeAt(<span class=\"number\">1</span>)).toBe(<span class=\"number\">10</span>); <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// 0</span></span><br><span class=\"line\">expect(linkedList.removeAt(<span class=\"number\">0</span>)).toBe(<span class=\"number\">15</span>); <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">expect(linkedList.toString()).toBe(<span class=\"string\">''</span>);</span><br></pre></td></tr></table></figure>\n<p></p>\n<blockquote>\n<p><a href=\"https://lewis617.github.io/2017/02/15/start-jest/\" target=\"_blank\" rel=\"noopener\">Jest </a></p>\n</blockquote>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.removeAt = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">position</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (position &gt; <span class=\"number\">-1</span> &amp;&amp; position &lt; length) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> current = head,</span><br><span class=\"line\">      previous,</span><br><span class=\"line\">      index = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (position === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      head = current.next;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">while</span> (index &lt; position) &#123;</span><br><span class=\"line\">        previous = current;</span><br><span class=\"line\">        current = current.next;</span><br><span class=\"line\">        index++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      previous.next = current.next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    length--;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> current.element;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span> (index &lt; position) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  current = current.next;</span><br><span class=\"line\">  index++;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-insert-\"><a href=\"#-insert-\" class=\"headerlink\" title=\" insert \"></a> insert </h3><p> <code>insert</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> linkedList = <span class=\"keyword\">new</span> LinkedList();</span><br><span class=\"line\">expect(linkedList.insert(<span class=\"number\">0</span>, <span class=\"number\">15</span>)); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(linkedList.insert(<span class=\"number\">1</span>, <span class=\"number\">12</span>)); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(linkedList.insert(<span class=\"number\">0</span>, <span class=\"number\">10</span>)); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(linkedList.insert(<span class=\"number\">-1</span>, <span class=\"number\">8</span>)); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(linkedList.insert(<span class=\"number\">4</span>, <span class=\"number\">8</span>)); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(linkedList.toString()).toBe(<span class=\"string\">'10,15,12'</span>);</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.insert = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">position, element</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (position &gt; <span class=\"number\">-1</span> &amp;&amp; position &lt;= length) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> node = <span class=\"keyword\">new</span> Node(element),</span><br><span class=\"line\">      current = head,</span><br><span class=\"line\">      previous,</span><br><span class=\"line\">      index = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (position === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      node.next = current;</span><br><span class=\"line\">      head = node;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">while</span> (index &lt; position) &#123;</span><br><span class=\"line\">        previous = current;</span><br><span class=\"line\">        current = current.next;</span><br><span class=\"line\">        index++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      node.next = current;</span><br><span class=\"line\">      previous.next = node;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    length++;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h3 id=\"-indexOf-\"><a href=\"#-indexOf-\" class=\"headerlink\" title=\" indexOf \"></a> indexOf </h3><p> <code>indexOf</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> linkedList = <span class=\"keyword\">new</span> LinkedList();</span><br><span class=\"line\">linkedList.append(<span class=\"number\">15</span>);</span><br><span class=\"line\">linkedList.append(<span class=\"number\">10</span>);</span><br><span class=\"line\">expect(linkedList.indexOf(<span class=\"number\">12</span>)).toBe(<span class=\"number\">2</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(linkedList.indexOf(<span class=\"number\">8</span>)).toBe(<span class=\"number\">-1</span>); <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n<p> <code>position</code> <code>-1</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.indexOf = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> current = head,</span><br><span class=\"line\">    index = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (current) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (element === current.element) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> index;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    index++;</span><br><span class=\"line\">    current = current.next;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li> head  Node next </li>\n<li> while  <code>current = curren.next</code></li>\n<li> <code>previous</code> </li>\n<li></li>\n</ul>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>"},{"title":"Karmademoarguments","date":"2015-12-08T17:51:00.000Z","_content":"\ndemo\n\n<!--more-->\n\n## demo\n\n1html\n\n2js\n\n3html\n\ndemokarma\n\n## demokarma\n\nKarma [Karma](https://lewis617.github.io/2015/10/12/karma-start/)\n\n1\n\n```sh\nkarma init\n```\n\n`What is the location of your source and test files ?` `*.js`\n\n![](/css/images/52.jpg)\n\n2jsdemo.js\n\n\n\n```sh\nfunction f(a, b, c){\n    alert(arguments.length); // result: \"2\"\n    a = 100;\n    alert(arguments[0]);       // result: \"100\"\n    arguments[0] = \"qqyumidi\";\n    alert(a); // result: \"qqyumidi\"\n    alert(c);                  // result: \"undefined\"\n    c = 2012;\n    alert(arguments[2]);       // result: \"undefined\"\n}\n\nf(1, 2);\n```\n\n3\n\n```sh\nkarma start\n```\n\n\n\n![](/css/images/53.jpg)\n\n## \n\n\n\n## Jasmine\n\ndescribe\n\n## \n\n<http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/>\n","source":"_posts/karma-test-demo.md","raw":"---\ntitle: Karmademoarguments\ndate: 2015-12-09 01:51:00\ntags: [Karma, , ]\n---\n\ndemo\n\n<!--more-->\n\n## demo\n\n1html\n\n2js\n\n3html\n\ndemokarma\n\n## demokarma\n\nKarma [Karma](https://lewis617.github.io/2015/10/12/karma-start/)\n\n1\n\n```sh\nkarma init\n```\n\n`What is the location of your source and test files ?` `*.js`\n\n![](/css/images/52.jpg)\n\n2jsdemo.js\n\n\n\n```sh\nfunction f(a, b, c){\n    alert(arguments.length); // result: \"2\"\n    a = 100;\n    alert(arguments[0]);       // result: \"100\"\n    arguments[0] = \"qqyumidi\";\n    alert(a); // result: \"qqyumidi\"\n    alert(c);                  // result: \"undefined\"\n    c = 2012;\n    alert(arguments[2]);       // result: \"undefined\"\n}\n\nf(1, 2);\n```\n\n3\n\n```sh\nkarma start\n```\n\n\n\n![](/css/images/53.jpg)\n\n## \n\n\n\n## Jasmine\n\ndescribe\n\n## \n\n<http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/>\n","slug":"karma-test-demo","published":1,"updated":"2019-05-01T08:10:29.662Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvln0017tgytaza9k50e","content":"<p>demo</p>\n<a id=\"more\"></a>\n<h2 id=\"demo\"><a href=\"#demo\" class=\"headerlink\" title=\"demo\"></a>demo</h2><p>1html</p>\n<p>2js</p>\n<p>3html</p>\n<p>demokarma</p>\n<h2 id=\"demokarma\"><a href=\"#demokarma\" class=\"headerlink\" title=\"demokarma\"></a>demokarma</h2><p>Karma <a href=\"https://lewis617.github.io/2015/10/12/karma-start/\" target=\"_blank\" rel=\"noopener\">Karma</a></p>\n<p>1</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">karma init</span><br></pre></td></tr></table></figure>\n<p><code>What is the location of your source and test files ?</code> <code>*.js</code></p>\n<p><img src=\"/css/images/52.jpg\" alt=\"\"></p>\n<p>2jsdemo.js</p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> f(a, b, c)&#123;</span><br><span class=\"line\">    alert(arguments.length); // result: <span class=\"string\">\"2\"</span></span><br><span class=\"line\">    a = 100;</span><br><span class=\"line\">    alert(arguments[0]);       // result: <span class=\"string\">\"100\"</span></span><br><span class=\"line\">    arguments[0] = <span class=\"string\">\"qqyumidi\"</span>;</span><br><span class=\"line\">    alert(a); // result: <span class=\"string\">\"qqyumidi\"</span></span><br><span class=\"line\">    alert(c);                  // result: <span class=\"string\">\"undefined\"</span></span><br><span class=\"line\">    c = 2012;</span><br><span class=\"line\">    alert(arguments[2]);       // result: <span class=\"string\">\"undefined\"</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">f(1, 2);</span><br></pre></td></tr></table></figure>\n<p>3</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">karma start</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/css/images/53.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"Jasmine\"><a href=\"#Jasmine\" class=\"headerlink\" title=\"Jasmine\"></a>Jasmine</h2><p>describe</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/\">http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/</a></p>\n","site":{"data":{}},"excerpt":"<p>demo</p>","more":"<h2 id=\"demo\"><a href=\"#demo\" class=\"headerlink\" title=\"demo\"></a>demo</h2><p>1html</p>\n<p>2js</p>\n<p>3html</p>\n<p>demokarma</p>\n<h2 id=\"demokarma\"><a href=\"#demokarma\" class=\"headerlink\" title=\"demokarma\"></a>demokarma</h2><p>Karma <a href=\"https://lewis617.github.io/2015/10/12/karma-start/\" target=\"_blank\" rel=\"noopener\">Karma</a></p>\n<p>1</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">karma init</span><br></pre></td></tr></table></figure>\n<p><code>What is the location of your source and test files ?</code> <code>*.js</code></p>\n<p><img src=\"/css/images/52.jpg\" alt=\"\"></p>\n<p>2jsdemo.js</p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> f(a, b, c)&#123;</span><br><span class=\"line\">    alert(arguments.length); // result: <span class=\"string\">\"2\"</span></span><br><span class=\"line\">    a = 100;</span><br><span class=\"line\">    alert(arguments[0]);       // result: <span class=\"string\">\"100\"</span></span><br><span class=\"line\">    arguments[0] = <span class=\"string\">\"qqyumidi\"</span>;</span><br><span class=\"line\">    alert(a); // result: <span class=\"string\">\"qqyumidi\"</span></span><br><span class=\"line\">    alert(c);                  // result: <span class=\"string\">\"undefined\"</span></span><br><span class=\"line\">    c = 2012;</span><br><span class=\"line\">    alert(arguments[2]);       // result: <span class=\"string\">\"undefined\"</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">f(1, 2);</span><br></pre></td></tr></table></figure>\n<p>3</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">karma start</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/css/images/53.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"Jasmine\"><a href=\"#Jasmine\" class=\"headerlink\" title=\"Jasmine\"></a>Jasmine</h2><p>describe</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/\">http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/</a></p>"},{"title":"AngularReact+Reduxdemo","date":"2016-01-12T20:02:00.000Z","_content":"\njQueryAngularAngularReact+Redux\n\n<!--more-->\n\n## \n\ndemoReact+ReduxReactReduxAngularjs\n\n![](/css/images/54.gif)\n\n## \n\nApp.js\n\n```js\nimport React, { findDOMNode, Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { connect } from 'react-redux';\nimport * as action from './actions' class App extends Component {\n  render() { return ( <div>\n        <input type='text' value={this.props.propsValue} onChange={this.changeHandle.bind(this)} ref=\"input\"/>\n        {this.props.propsValue} </div>\n );\n  }\n  changeHandle(){\n    const node = ReactDOM.findDOMNode(this.refs.input);\n    const value = node.value.trim(); this.props.change(value);\n  }\n} function mapStateToProps(state) { return {\n    propsValue: state.value\n  }\n} //statepropsactionprops\nexport default connect(mapStateToProps,action)(App);\n```\n\nReduxRedux\n\n ![](/css/images/55.jpg)\n\nstateactionactionreducerstate\n\n\n\n1.  input;\n2.  statevalueprops;\n3.  actionprops\n\n## actionreducerstate\n\n actions.js\n\n```\n//changeprops\nexport function change(value){ return{\n        type:\"change\",\n        value:value\n    }\n}\n```\n\nreducers.js\n\n```\n//reducerfunction,actionstate()\nexport default function change(state,action){ if(action.type==\"change\")return{value:action.value}; return {value:'default'};\n}\n```\n\n action\n\nprops\n\n## storereducer\n\nindex.js\n\n```\nimport React from 'react' import { render } from 'react-dom' import { createStore } from 'redux' import { Provider } from 'react-redux' import App from './App' import inputApp from './reducers' let store = createStore(inputApp);\n\nrender( <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector(\"#app\")\n);\n```\n\n`Provider``store`\n\n\n\n1.  `reducer``store`\n2.  `store``Provider`\n3.  `Provider`\n\n## Webpack\n\nwebpack.config.js\n\n```js\nvar path = require('path'); var webpack = require('webpack');\n\nmodule.exports = {\n    entry: {\n        app:path.join(__dirname, 'src'),\n        vendors: ['react','redux']\n    },\n    output: {\n        path: path.join(__dirname, 'dist'),\n        filename: '[name].js' },\n    module: {\n        loaders: [\n            {\n                test:/\\.js?$/,\n                exclude:/node_modules/,\n                loader:'babel',\n                query:{\n                    presets:['react','es2015']\n                }\n            }\n        ]\n    },\n    plugins: [ new webpack.optimize.CommonsChunkPlugin('vendors', 'vendors.js')\n    ]\n};\n```\n\n## \n\n\n\n1.  props,state,action,reducer,store,provider,router,\n2.  reducerstore\n3.  Angular\n4.  domdomAngularReact\n5.  ReactReactBackboneAngularFluxReflux,Redux\n6.  package.json\n7.  HTMLAngularAngularhtml\n8.  \n\nAngular\n\nAngularReactreactAngularReactjQuery\n\nAngularReactReact\n\n1.  React\n2.  Diff\n\nSEOAngularmvvm\n\nCRUDAngular\n\n## \n\ndemoReduxdemo\n\nstatestateactionactionaction\n\nReact+Redux\n\n\n\n[https://github.com/lewis617/react-redux-tutorial/tree/master/input-redux](https://github.com/lewis617/react-redux-tutorial/tree/master/input-redux)\n\n\n\n```sh\nnpm install\n\nnpm run build\n```\nindex.html","source":"_posts/ng-complain-r2.md","raw":"---\ntitle: AngularReact+Reduxdemo\ndate: 2016-01-13 04:02:00\ntags: [Angular, React, Redux]\n---\n\njQueryAngularAngularReact+Redux\n\n<!--more-->\n\n## \n\ndemoReact+ReduxReactReduxAngularjs\n\n![](/css/images/54.gif)\n\n## \n\nApp.js\n\n```js\nimport React, { findDOMNode, Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { connect } from 'react-redux';\nimport * as action from './actions' class App extends Component {\n  render() { return ( <div>\n        <input type='text' value={this.props.propsValue} onChange={this.changeHandle.bind(this)} ref=\"input\"/>\n        {this.props.propsValue} </div>\n );\n  }\n  changeHandle(){\n    const node = ReactDOM.findDOMNode(this.refs.input);\n    const value = node.value.trim(); this.props.change(value);\n  }\n} function mapStateToProps(state) { return {\n    propsValue: state.value\n  }\n} //statepropsactionprops\nexport default connect(mapStateToProps,action)(App);\n```\n\nReduxRedux\n\n ![](/css/images/55.jpg)\n\nstateactionactionreducerstate\n\n\n\n1.  input;\n2.  statevalueprops;\n3.  actionprops\n\n## actionreducerstate\n\n actions.js\n\n```\n//changeprops\nexport function change(value){ return{\n        type:\"change\",\n        value:value\n    }\n}\n```\n\nreducers.js\n\n```\n//reducerfunction,actionstate()\nexport default function change(state,action){ if(action.type==\"change\")return{value:action.value}; return {value:'default'};\n}\n```\n\n action\n\nprops\n\n## storereducer\n\nindex.js\n\n```\nimport React from 'react' import { render } from 'react-dom' import { createStore } from 'redux' import { Provider } from 'react-redux' import App from './App' import inputApp from './reducers' let store = createStore(inputApp);\n\nrender( <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector(\"#app\")\n);\n```\n\n`Provider``store`\n\n\n\n1.  `reducer``store`\n2.  `store``Provider`\n3.  `Provider`\n\n## Webpack\n\nwebpack.config.js\n\n```js\nvar path = require('path'); var webpack = require('webpack');\n\nmodule.exports = {\n    entry: {\n        app:path.join(__dirname, 'src'),\n        vendors: ['react','redux']\n    },\n    output: {\n        path: path.join(__dirname, 'dist'),\n        filename: '[name].js' },\n    module: {\n        loaders: [\n            {\n                test:/\\.js?$/,\n                exclude:/node_modules/,\n                loader:'babel',\n                query:{\n                    presets:['react','es2015']\n                }\n            }\n        ]\n    },\n    plugins: [ new webpack.optimize.CommonsChunkPlugin('vendors', 'vendors.js')\n    ]\n};\n```\n\n## \n\n\n\n1.  props,state,action,reducer,store,provider,router,\n2.  reducerstore\n3.  Angular\n4.  domdomAngularReact\n5.  ReactReactBackboneAngularFluxReflux,Redux\n6.  package.json\n7.  HTMLAngularAngularhtml\n8.  \n\nAngular\n\nAngularReactreactAngularReactjQuery\n\nAngularReactReact\n\n1.  React\n2.  Diff\n\nSEOAngularmvvm\n\nCRUDAngular\n\n## \n\ndemoReduxdemo\n\nstatestateactionactionaction\n\nReact+Redux\n\n\n\n[https://github.com/lewis617/react-redux-tutorial/tree/master/input-redux](https://github.com/lewis617/react-redux-tutorial/tree/master/input-redux)\n\n\n\n```sh\nnpm install\n\nnpm run build\n```\nindex.html","slug":"ng-complain-r2","published":1,"updated":"2019-05-01T08:10:29.724Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvlp0019tgyt4qbp3m47","content":"<p>jQueryAngularAngularReact+Redux</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>demoReact+ReduxReactReduxAngularjs</p>\n<p><img src=\"/css/images/54.gif\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>App.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; findDOMNode, Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> ReactDOM <span class=\"keyword\">from</span> <span class=\"string\">'react-dom'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; connect &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react-redux'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> action <span class=\"keyword\">from</span> <span class=\"string\">'./actions'</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  render() &#123; <span class=\"keyword\">return</span> ( <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">        &lt;input type='text' value=&#123;this.props.propsValue&#125; onChange=&#123;this.changeHandle.bind(this)&#125; ref=\"input\"/&gt;</span><br><span class=\"line\"><span class=\"xml\">        &#123;this.props.propsValue&#125; <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"> );</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;</span></span><br><span class=\"line\"><span class=\"xml\">  changeHandle()&#123;</span></span><br><span class=\"line\"><span class=\"xml\">    const node = ReactDOM.findDOMNode(this.refs.input);</span></span><br><span class=\"line\"><span class=\"xml\">    const value = node.value.trim(); this.props.change(value);</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;</span></span><br><span class=\"line\"><span class=\"xml\">&#125; function mapStateToProps(state) &#123; return &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    propsValue: state.value</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;</span></span><br><span class=\"line\"><span class=\"xml\">&#125; //statepropsactionprops</span></span><br><span class=\"line\"><span class=\"xml\">export default connect(mapStateToProps,action)(App);</span></span><br></pre></td></tr></table></figure>\n<p>ReduxRedux</p>\n<p> <img src=\"/css/images/55.jpg\" alt=\"\"></p>\n<p>stateactionactionreducerstate</p>\n<p></p>\n<ol>\n<li>input;</li>\n<li>statevalueprops;</li>\n<li>actionprops</li>\n</ol>\n<h2 id=\"actionreducerstate\"><a href=\"#actionreducerstate\" class=\"headerlink\" title=\"actionreducerstate\"></a>actionreducerstate</h2><p> actions.js</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//changeprops</span><br><span class=\"line\">export function change(value)&#123; return&#123;</span><br><span class=\"line\">        type:&quot;change&quot;,</span><br><span class=\"line\">        value:value</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>reducers.js</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//reducerfunction,actionstate()</span><br><span class=\"line\">export default function change(state,action)&#123; if(action.type==&quot;change&quot;)return&#123;value:action.value&#125;; return &#123;value:&apos;default&apos;&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> action</p>\n<p>props</p>\n<h2 id=\"storereducer\"><a href=\"#storereducer\" class=\"headerlink\" title=\"storereducer\"></a>storereducer</h2><p>index.js</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import React from &apos;react&apos; import &#123; render &#125; from &apos;react-dom&apos; import &#123; createStore &#125; from &apos;redux&apos; import &#123; Provider &#125; from &apos;react-redux&apos; import App from &apos;./App&apos; import inputApp from &apos;./reducers&apos; let store = createStore(inputApp);</span><br><span class=\"line\"></span><br><span class=\"line\">render( &lt;Provider store=&#123;store&#125;&gt;</span><br><span class=\"line\">    &lt;App /&gt;</span><br><span class=\"line\">  &lt;/Provider&gt;,</span><br><span class=\"line\">  document.querySelector(&quot;#app&quot;)</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n<p><code>Provider</code><code>store</code></p>\n<p></p>\n<ol>\n<li><code>reducer</code><code>store</code></li>\n<li><code>store</code><code>Provider</code></li>\n<li><code>Provider</code></li>\n</ol>\n<h2 id=\"Webpack\"><a href=\"#Webpack\" class=\"headerlink\" title=\"Webpack\"></a>Webpack</h2><p>webpack.config.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>); <span class=\"keyword\">var</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">    entry: &#123;</span><br><span class=\"line\">        app:path.join(__dirname, <span class=\"string\">'src'</span>),</span><br><span class=\"line\">        vendors: [<span class=\"string\">'react'</span>,<span class=\"string\">'redux'</span>]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    output: &#123;</span><br><span class=\"line\">        path: path.join(__dirname, <span class=\"string\">'dist'</span>),</span><br><span class=\"line\">        filename: <span class=\"string\">'[name].js'</span> &#125;,</span><br><span class=\"line\">    <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">        loaders: [</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                test:<span class=\"regexp\">/\\.js?$/</span>,</span><br><span class=\"line\">                exclude:<span class=\"regexp\">/node_modules/</span>,</span><br><span class=\"line\">                loader:<span class=\"string\">'babel'</span>,</span><br><span class=\"line\">                query:&#123;</span><br><span class=\"line\">                    presets:[<span class=\"string\">'react'</span>,<span class=\"string\">'es2015'</span>]</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    plugins: [ <span class=\"keyword\">new</span> webpack.optimize.CommonsChunkPlugin(<span class=\"string\">'vendors'</span>, <span class=\"string\">'vendors.js'</span>)</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li>props,state,action,reducer,store,provider,router,</li>\n<li>reducerstore</li>\n<li>Angular</li>\n<li>domdomAngularReact</li>\n<li>ReactReactBackboneAngularFluxReflux,Redux</li>\n<li>package.json</li>\n<li>HTMLAngularAngularhtml</li>\n<li></li>\n</ol>\n<p>Angular</p>\n<p>AngularReactreactAngularReactjQuery</p>\n<p>AngularReactReact</p>\n<ol>\n<li>React</li>\n<li>Diff</li>\n</ol>\n<p>SEOAngularmvvm</p>\n<p>CRUDAngular</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>demoReduxdemo</p>\n<p>statestateactionactionaction</p>\n<p>React+Redux</p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/react-redux-tutorial/tree/master/input-redux\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial/tree/master/input-redux</a></p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install</span><br><span class=\"line\"></span><br><span class=\"line\">npm run build</span><br></pre></td></tr></table></figure>\n<p>index.html</p>\n","site":{"data":{}},"excerpt":"<p>jQueryAngularAngularReact+Redux</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>demoReact+ReduxReactReduxAngularjs</p>\n<p><img src=\"/css/images/54.gif\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>App.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; findDOMNode, Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> ReactDOM <span class=\"keyword\">from</span> <span class=\"string\">'react-dom'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; connect &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react-redux'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> action <span class=\"keyword\">from</span> <span class=\"string\">'./actions'</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  render() &#123; <span class=\"keyword\">return</span> ( <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">        &lt;input type='text' value=&#123;this.props.propsValue&#125; onChange=&#123;this.changeHandle.bind(this)&#125; ref=\"input\"/&gt;</span><br><span class=\"line\"><span class=\"xml\">        &#123;this.props.propsValue&#125; <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"> );</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;</span></span><br><span class=\"line\"><span class=\"xml\">  changeHandle()&#123;</span></span><br><span class=\"line\"><span class=\"xml\">    const node = ReactDOM.findDOMNode(this.refs.input);</span></span><br><span class=\"line\"><span class=\"xml\">    const value = node.value.trim(); this.props.change(value);</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;</span></span><br><span class=\"line\"><span class=\"xml\">&#125; function mapStateToProps(state) &#123; return &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    propsValue: state.value</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;</span></span><br><span class=\"line\"><span class=\"xml\">&#125; //statepropsactionprops</span></span><br><span class=\"line\"><span class=\"xml\">export default connect(mapStateToProps,action)(App);</span></span><br></pre></td></tr></table></figure>\n<p>ReduxRedux</p>\n<p> <img src=\"/css/images/55.jpg\" alt=\"\"></p>\n<p>stateactionactionreducerstate</p>\n<p></p>\n<ol>\n<li>input;</li>\n<li>statevalueprops;</li>\n<li>actionprops</li>\n</ol>\n<h2 id=\"actionreducerstate\"><a href=\"#actionreducerstate\" class=\"headerlink\" title=\"actionreducerstate\"></a>actionreducerstate</h2><p> actions.js</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//changeprops</span><br><span class=\"line\">export function change(value)&#123; return&#123;</span><br><span class=\"line\">        type:&quot;change&quot;,</span><br><span class=\"line\">        value:value</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>reducers.js</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//reducerfunction,actionstate()</span><br><span class=\"line\">export default function change(state,action)&#123; if(action.type==&quot;change&quot;)return&#123;value:action.value&#125;; return &#123;value:&apos;default&apos;&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> action</p>\n<p>props</p>\n<h2 id=\"storereducer\"><a href=\"#storereducer\" class=\"headerlink\" title=\"storereducer\"></a>storereducer</h2><p>index.js</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import React from &apos;react&apos; import &#123; render &#125; from &apos;react-dom&apos; import &#123; createStore &#125; from &apos;redux&apos; import &#123; Provider &#125; from &apos;react-redux&apos; import App from &apos;./App&apos; import inputApp from &apos;./reducers&apos; let store = createStore(inputApp);</span><br><span class=\"line\"></span><br><span class=\"line\">render( &lt;Provider store=&#123;store&#125;&gt;</span><br><span class=\"line\">    &lt;App /&gt;</span><br><span class=\"line\">  &lt;/Provider&gt;,</span><br><span class=\"line\">  document.querySelector(&quot;#app&quot;)</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n<p><code>Provider</code><code>store</code></p>\n<p></p>\n<ol>\n<li><code>reducer</code><code>store</code></li>\n<li><code>store</code><code>Provider</code></li>\n<li><code>Provider</code></li>\n</ol>\n<h2 id=\"Webpack\"><a href=\"#Webpack\" class=\"headerlink\" title=\"Webpack\"></a>Webpack</h2><p>webpack.config.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>); <span class=\"keyword\">var</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">    entry: &#123;</span><br><span class=\"line\">        app:path.join(__dirname, <span class=\"string\">'src'</span>),</span><br><span class=\"line\">        vendors: [<span class=\"string\">'react'</span>,<span class=\"string\">'redux'</span>]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    output: &#123;</span><br><span class=\"line\">        path: path.join(__dirname, <span class=\"string\">'dist'</span>),</span><br><span class=\"line\">        filename: <span class=\"string\">'[name].js'</span> &#125;,</span><br><span class=\"line\">    <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">        loaders: [</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                test:<span class=\"regexp\">/\\.js?$/</span>,</span><br><span class=\"line\">                exclude:<span class=\"regexp\">/node_modules/</span>,</span><br><span class=\"line\">                loader:<span class=\"string\">'babel'</span>,</span><br><span class=\"line\">                query:&#123;</span><br><span class=\"line\">                    presets:[<span class=\"string\">'react'</span>,<span class=\"string\">'es2015'</span>]</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    plugins: [ <span class=\"keyword\">new</span> webpack.optimize.CommonsChunkPlugin(<span class=\"string\">'vendors'</span>, <span class=\"string\">'vendors.js'</span>)</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li>props,state,action,reducer,store,provider,router,</li>\n<li>reducerstore</li>\n<li>Angular</li>\n<li>domdomAngularReact</li>\n<li>ReactReactBackboneAngularFluxReflux,Redux</li>\n<li>package.json</li>\n<li>HTMLAngularAngularhtml</li>\n<li></li>\n</ol>\n<p>Angular</p>\n<p>AngularReactreactAngularReactjQuery</p>\n<p>AngularReactReact</p>\n<ol>\n<li>React</li>\n<li>Diff</li>\n</ol>\n<p>SEOAngularmvvm</p>\n<p>CRUDAngular</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>demoReduxdemo</p>\n<p>statestateactionactionaction</p>\n<p>React+Redux</p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/react-redux-tutorial/tree/master/input-redux\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial/tree/master/input-redux</a></p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install</span><br><span class=\"line\"></span><br><span class=\"line\">npm run build</span><br></pre></td></tr></table></figure>\n<p>index.html</p>"},{"title":"Angular RequireJs","date":"2015-10-01T08:56:00.000Z","_content":"\nAngularRequirejs\n\n<!--more-->\n\n\n\n![](/css/images/58.jpg)\n\n# \n\n```html\n<!--aaa-->\n<div>\n    <h3>this is aaa</h3>\n    <input type=\"text\" ng-model=\"asd\">{{asd}} <button ng-click=\"submit()\">submit</button>\n</div>\n<!--bbb-->\n<div>\n    <h3>this is bbb</h3>\n    <ul>\n        <li ng-repeat=\"el in list\">{{el}}</li>\n    </ul>\n    <!--ccc-->\n    <div>\n        <h3>this is ccc</h3>\n    </div>\n</div>\n```\n\n\n\n# requires+angular\n\nindex.html:\n\n```html\n<aaa></aaa>\n<bbb>\n    <ccc></ccc>\n</bbb>\n```\n\n\n\n## aaa\n\naaaaaa.jsaaa.html\n\naaa.html\n\n```html\n<div>\n    <h3>this is aaa</h3>\n    <input type=\"text\" ng-model=\"asd\">{{asd}} <button ng-click=\"submit()\">submit</button>\n</div>\n```\n\naaa.jsaaa.htmllinkservice\n\n```js\ndefine(['app','text!./aaa.html'],function(app,aaa){\n    app.directive(\"aaa\", function(service) { return {\n            restrict: 'AE',\n            template: aaa,\n            replace: true,\n            scope:true,\n            link:function(scope,element,attrs){\n                scope.submit=function() {\n                    service.updateName(scope.asd);\n                };\n            }\n        }\n    });\n});\n```\n\n\n\n![](/css/images/59.jpg)\n\n`require(['./aaa/aaa'])`aaa;\n\n## bbb\n\nbbb\n\nbbb.html\n\n```html\n<div>\n    <h3>this is bbb</h3>\n    <ul>\n        <li ng-repeat=\"el in list\">{{el}}</li>\n    </ul>\n    <div ng-transclude></div>\n</div>\n```\n\nbbb.js\n\n```js\ndefine(['app','text!./bbb.html'],function(app,bbb){\n    app.directive('bbb',function(service){ return{\n            restrict:'AE',\n            template:bbb,\n            replace:'true',\n            scope:true,\n            transclude:true,\n            link: function (scope,element,attrs) {\n                scope.list=[1,2,3,4];\n                scope.$on('nameUpdated', function() {\n                    scope.list.push(service.name);\n                });\n            }\n        }\n    });\n});\n```\n\nbbbaaaservicebbbccctransclude\n\n## ccc\n\nccc\n\nccc.html\n\n```html\n<div>\n    <h3>this is ccc</h3>\n</div>\n```\n\nccc.js\n\n```js\ndefine(['app','text!./ccc.html'],function(app,ccc){\n    app.directive('ccc',function(){ return{\n            restrict:'AE',\n            template:ccc,\n            replace:'true',\n            scope:true,\n            link: function (scope,element,attrs) {\n            }\n        }\n    });\n});\n```\n\n20\n\naaa,bbbcccbbbapp\n\n```js\nrequire(['angular','./aaa/aaa','./bbb/bbb','./ccc/ccc','service'],function(angular){\n        angular.bootstrap(document,['app']);\n    });\n```\n\n\n\n![](/css/images/60.jpg)","source":"_posts/ng-requirejs-module.md","raw":"---\ntitle: Angular RequireJs\ndate: 2015-10-01 16:56:00\ntags: [Angular, RequireJs]\n---\n\nAngularRequirejs\n\n<!--more-->\n\n\n\n![](/css/images/58.jpg)\n\n# \n\n```html\n<!--aaa-->\n<div>\n    <h3>this is aaa</h3>\n    <input type=\"text\" ng-model=\"asd\">{{asd}} <button ng-click=\"submit()\">submit</button>\n</div>\n<!--bbb-->\n<div>\n    <h3>this is bbb</h3>\n    <ul>\n        <li ng-repeat=\"el in list\">{{el}}</li>\n    </ul>\n    <!--ccc-->\n    <div>\n        <h3>this is ccc</h3>\n    </div>\n</div>\n```\n\n\n\n# requires+angular\n\nindex.html:\n\n```html\n<aaa></aaa>\n<bbb>\n    <ccc></ccc>\n</bbb>\n```\n\n\n\n## aaa\n\naaaaaa.jsaaa.html\n\naaa.html\n\n```html\n<div>\n    <h3>this is aaa</h3>\n    <input type=\"text\" ng-model=\"asd\">{{asd}} <button ng-click=\"submit()\">submit</button>\n</div>\n```\n\naaa.jsaaa.htmllinkservice\n\n```js\ndefine(['app','text!./aaa.html'],function(app,aaa){\n    app.directive(\"aaa\", function(service) { return {\n            restrict: 'AE',\n            template: aaa,\n            replace: true,\n            scope:true,\n            link:function(scope,element,attrs){\n                scope.submit=function() {\n                    service.updateName(scope.asd);\n                };\n            }\n        }\n    });\n});\n```\n\n\n\n![](/css/images/59.jpg)\n\n`require(['./aaa/aaa'])`aaa;\n\n## bbb\n\nbbb\n\nbbb.html\n\n```html\n<div>\n    <h3>this is bbb</h3>\n    <ul>\n        <li ng-repeat=\"el in list\">{{el}}</li>\n    </ul>\n    <div ng-transclude></div>\n</div>\n```\n\nbbb.js\n\n```js\ndefine(['app','text!./bbb.html'],function(app,bbb){\n    app.directive('bbb',function(service){ return{\n            restrict:'AE',\n            template:bbb,\n            replace:'true',\n            scope:true,\n            transclude:true,\n            link: function (scope,element,attrs) {\n                scope.list=[1,2,3,4];\n                scope.$on('nameUpdated', function() {\n                    scope.list.push(service.name);\n                });\n            }\n        }\n    });\n});\n```\n\nbbbaaaservicebbbccctransclude\n\n## ccc\n\nccc\n\nccc.html\n\n```html\n<div>\n    <h3>this is ccc</h3>\n</div>\n```\n\nccc.js\n\n```js\ndefine(['app','text!./ccc.html'],function(app,ccc){\n    app.directive('ccc',function(){ return{\n            restrict:'AE',\n            template:ccc,\n            replace:'true',\n            scope:true,\n            link: function (scope,element,attrs) {\n            }\n        }\n    });\n});\n```\n\n20\n\naaa,bbbcccbbbapp\n\n```js\nrequire(['angular','./aaa/aaa','./bbb/bbb','./ccc/ccc','service'],function(angular){\n        angular.bootstrap(document,['app']);\n    });\n```\n\n\n\n![](/css/images/60.jpg)","slug":"ng-requirejs-module","published":1,"updated":"2019-05-01T08:10:29.752Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvlq001btgytxhr3mleh","content":"<p>AngularRequirejs</p>\n<a id=\"more\"></a>\n<p></p>\n<p><img src=\"/css/images/58.jpg\" alt=\"\"></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--aaa--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>this is aaa<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">ng-model</span>=<span class=\"string\">\"asd\"</span>&gt;</span>&#123;&#123;asd&#125;&#125; <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">ng-click</span>=<span class=\"string\">\"submit()\"</span>&gt;</span>submit<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--bbb--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>this is bbb<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">ng-repeat</span>=<span class=\"string\">\"el in list\"</span>&gt;</span>&#123;&#123;el&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!--ccc--&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>this is ccc<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<h1 id=\"requires-angular\"><a href=\"#requires-angular\" class=\"headerlink\" title=\"requires+angular\"></a>requires+angular</h1><p>index.html:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">aaa</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">aaa</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">bbb</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ccc</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">ccc</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">bbb</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"aaa\"><a href=\"#aaa\" class=\"headerlink\" title=\"aaa\"></a>aaa</h2><p>aaaaaa.jsaaa.html</p>\n<p>aaa.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>this is aaa<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">ng-model</span>=<span class=\"string\">\"asd\"</span>&gt;</span>&#123;&#123;asd&#125;&#125; <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">ng-click</span>=<span class=\"string\">\"submit()\"</span>&gt;</span>submit<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>aaa.jsaaa.htmllinkservice</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">define([<span class=\"string\">'app'</span>,<span class=\"string\">'text!./aaa.html'</span>],<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">app,aaa</span>)</span>&#123;</span><br><span class=\"line\">    app.directive(<span class=\"string\">\"aaa\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">service</span>) </span>&#123; <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">            restrict: <span class=\"string\">'AE'</span>,</span><br><span class=\"line\">            template: aaa,</span><br><span class=\"line\">            replace: <span class=\"literal\">true</span>,</span><br><span class=\"line\">            scope:<span class=\"literal\">true</span>,</span><br><span class=\"line\">            link:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">scope,element,attrs</span>)</span>&#123;</span><br><span class=\"line\">                scope.submit=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">                    service.updateName(scope.asd);</span><br><span class=\"line\">                &#125;;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/css/images/59.jpg\" alt=\"\"></p>\n<p><code>require([&#39;./aaa/aaa&#39;])</code>aaa;</p>\n<h2 id=\"bbb\"><a href=\"#bbb\" class=\"headerlink\" title=\"bbb\"></a>bbb</h2><p>bbb</p>\n<p>bbb.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>this is bbb<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">ng-repeat</span>=<span class=\"string\">\"el in list\"</span>&gt;</span>&#123;&#123;el&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">ng-transclude</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>bbb.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">define([<span class=\"string\">'app'</span>,<span class=\"string\">'text!./bbb.html'</span>],<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">app,bbb</span>)</span>&#123;</span><br><span class=\"line\">    app.directive(<span class=\"string\">'bbb'</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">service</span>)</span>&#123; <span class=\"keyword\">return</span>&#123;</span><br><span class=\"line\">            restrict:<span class=\"string\">'AE'</span>,</span><br><span class=\"line\">            template:bbb,</span><br><span class=\"line\">            replace:<span class=\"string\">'true'</span>,</span><br><span class=\"line\">            scope:<span class=\"literal\">true</span>,</span><br><span class=\"line\">            transclude:<span class=\"literal\">true</span>,</span><br><span class=\"line\">            link: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">scope,element,attrs</span>) </span>&#123;</span><br><span class=\"line\">                scope.list=[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>];</span><br><span class=\"line\">                scope.$on(<span class=\"string\">'nameUpdated'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">                    scope.list.push(service.name);</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>bbbaaaservicebbbccctransclude</p>\n<h2 id=\"ccc\"><a href=\"#ccc\" class=\"headerlink\" title=\"ccc\"></a>ccc</h2><p>ccc</p>\n<p>ccc.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>this is ccc<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>ccc.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">define([<span class=\"string\">'app'</span>,<span class=\"string\">'text!./ccc.html'</span>],<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">app,ccc</span>)</span>&#123;</span><br><span class=\"line\">    app.directive(<span class=\"string\">'ccc'</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123; <span class=\"keyword\">return</span>&#123;</span><br><span class=\"line\">            restrict:<span class=\"string\">'AE'</span>,</span><br><span class=\"line\">            template:ccc,</span><br><span class=\"line\">            replace:<span class=\"string\">'true'</span>,</span><br><span class=\"line\">            scope:<span class=\"literal\">true</span>,</span><br><span class=\"line\">            link: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">scope,element,attrs</span>) </span>&#123;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>20</p>\n<p>aaa,bbbcccbbbapp</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>([<span class=\"string\">'angular'</span>,<span class=\"string\">'./aaa/aaa'</span>,<span class=\"string\">'./bbb/bbb'</span>,<span class=\"string\">'./ccc/ccc'</span>,<span class=\"string\">'service'</span>],<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">angular</span>)</span>&#123;</span><br><span class=\"line\">        angular.bootstrap(<span class=\"built_in\">document</span>,[<span class=\"string\">'app'</span>]);</span><br><span class=\"line\">    &#125;);</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/css/images/60.jpg\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"<p>AngularRequirejs</p>","more":"<p></p>\n<p><img src=\"/css/images/58.jpg\" alt=\"\"></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--aaa--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>this is aaa<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">ng-model</span>=<span class=\"string\">\"asd\"</span>&gt;</span>&#123;&#123;asd&#125;&#125; <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">ng-click</span>=<span class=\"string\">\"submit()\"</span>&gt;</span>submit<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--bbb--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>this is bbb<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">ng-repeat</span>=<span class=\"string\">\"el in list\"</span>&gt;</span>&#123;&#123;el&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!--ccc--&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>this is ccc<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<h1 id=\"requires-angular\"><a href=\"#requires-angular\" class=\"headerlink\" title=\"requires+angular\"></a>requires+angular</h1><p>index.html:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">aaa</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">aaa</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">bbb</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ccc</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">ccc</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">bbb</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"aaa\"><a href=\"#aaa\" class=\"headerlink\" title=\"aaa\"></a>aaa</h2><p>aaaaaa.jsaaa.html</p>\n<p>aaa.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>this is aaa<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">ng-model</span>=<span class=\"string\">\"asd\"</span>&gt;</span>&#123;&#123;asd&#125;&#125; <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">ng-click</span>=<span class=\"string\">\"submit()\"</span>&gt;</span>submit<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>aaa.jsaaa.htmllinkservice</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">define([<span class=\"string\">'app'</span>,<span class=\"string\">'text!./aaa.html'</span>],<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">app,aaa</span>)</span>&#123;</span><br><span class=\"line\">    app.directive(<span class=\"string\">\"aaa\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">service</span>) </span>&#123; <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">            restrict: <span class=\"string\">'AE'</span>,</span><br><span class=\"line\">            template: aaa,</span><br><span class=\"line\">            replace: <span class=\"literal\">true</span>,</span><br><span class=\"line\">            scope:<span class=\"literal\">true</span>,</span><br><span class=\"line\">            link:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">scope,element,attrs</span>)</span>&#123;</span><br><span class=\"line\">                scope.submit=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">                    service.updateName(scope.asd);</span><br><span class=\"line\">                &#125;;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/css/images/59.jpg\" alt=\"\"></p>\n<p><code>require([&#39;./aaa/aaa&#39;])</code>aaa;</p>\n<h2 id=\"bbb\"><a href=\"#bbb\" class=\"headerlink\" title=\"bbb\"></a>bbb</h2><p>bbb</p>\n<p>bbb.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>this is bbb<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">ng-repeat</span>=<span class=\"string\">\"el in list\"</span>&gt;</span>&#123;&#123;el&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">ng-transclude</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>bbb.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">define([<span class=\"string\">'app'</span>,<span class=\"string\">'text!./bbb.html'</span>],<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">app,bbb</span>)</span>&#123;</span><br><span class=\"line\">    app.directive(<span class=\"string\">'bbb'</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">service</span>)</span>&#123; <span class=\"keyword\">return</span>&#123;</span><br><span class=\"line\">            restrict:<span class=\"string\">'AE'</span>,</span><br><span class=\"line\">            template:bbb,</span><br><span class=\"line\">            replace:<span class=\"string\">'true'</span>,</span><br><span class=\"line\">            scope:<span class=\"literal\">true</span>,</span><br><span class=\"line\">            transclude:<span class=\"literal\">true</span>,</span><br><span class=\"line\">            link: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">scope,element,attrs</span>) </span>&#123;</span><br><span class=\"line\">                scope.list=[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>];</span><br><span class=\"line\">                scope.$on(<span class=\"string\">'nameUpdated'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">                    scope.list.push(service.name);</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>bbbaaaservicebbbccctransclude</p>\n<h2 id=\"ccc\"><a href=\"#ccc\" class=\"headerlink\" title=\"ccc\"></a>ccc</h2><p>ccc</p>\n<p>ccc.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>this is ccc<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>ccc.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">define([<span class=\"string\">'app'</span>,<span class=\"string\">'text!./ccc.html'</span>],<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">app,ccc</span>)</span>&#123;</span><br><span class=\"line\">    app.directive(<span class=\"string\">'ccc'</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123; <span class=\"keyword\">return</span>&#123;</span><br><span class=\"line\">            restrict:<span class=\"string\">'AE'</span>,</span><br><span class=\"line\">            template:ccc,</span><br><span class=\"line\">            replace:<span class=\"string\">'true'</span>,</span><br><span class=\"line\">            scope:<span class=\"literal\">true</span>,</span><br><span class=\"line\">            link: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">scope,element,attrs</span>) </span>&#123;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>20</p>\n<p>aaa,bbbcccbbbapp</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>([<span class=\"string\">'angular'</span>,<span class=\"string\">'./aaa/aaa'</span>,<span class=\"string\">'./bbb/bbb'</span>,<span class=\"string\">'./ccc/ccc'</span>,<span class=\"string\">'service'</span>],<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">angular</span>)</span>&#123;</span><br><span class=\"line\">        angular.bootstrap(<span class=\"built_in\">document</span>,[<span class=\"string\">'app'</span>]);</span><br><span class=\"line\">    &#125;);</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/css/images/60.jpg\" alt=\"\"></p>"},{"title":"AngularJsjQueryslidetoggle","date":"2015-09-29T09:10:00.000Z","_content":"\njQuery`slidetoggle`Angularjsdemo`slidetoggle`Angularjs\n\n<!--more-->\n\nhtml\n\n```html\n<div ng-controller=\"ctrl_main\">\n    <li ng-repeat-start=\"el in list\" ng-click=\"$index=!$index\">{{el.name}}</li>\n    <li ng-repeat-end slide-toggle=\"$index\">{{$index}}</li>\n</div>\n```\n\nctrl_main\n\n```js\napp.controller('ctrl_main', function ($scope) {\n        $scope.list=[{name:'lewis'},{name:'susan'},{name:'alice'},{name:'jay'}]\n    });\n```\n\ndrtv_slidetoggle\n\n```js\n app.directive('slideToggle', function() { return {\n            restrict: 'A',\n            scope:{\n                isOpen: \"=slideToggle\" },\n            link: function(scope, element, attr) {\n                scope.$watch('isOpen', function(newVal,oldVal){ if(newVal !== oldVal){\n                        element.stop().slideToggle('slow');\n                    }\n                });\n            }\n        };\n    });\n```\n\n\n\n![](/css/images/56.jpg)\n\n\n\n![](/css/images/57.jpg)\n\n===Requirejs===\n\nPSRequirejs\n\nRequirejsjs, drtv_slidetoggle.js\n\n```js\ndefine(['app','jquery'], function (app) {\n    app.directive('slideToggle', function() { return {\n            restrict: 'A',\n            scope:{\n                isOpen: \"=slideToggle\" },\n            link: function(scope, element, attr) {\n                scope.$watch('isOpen', function(newVal,oldVal){ if(newVal !== oldVal){\n                        element.stop().slideToggle('slow');\n                    }\n                });\n            }\n        };\n    });\n});\n```\n\napp\n\n```js\n require(['angular','domReady!','ctrl_main','drtv_slidetoggle'], function (angular) {\n            angular.bootstrap(document, ['app'])\n        });\n```","source":"_posts/ng-jq-toggle.md","raw":"---\ntitle: AngularJsjQueryslidetoggle\ndate: 2015-09-29 17:10:00\ntags: [Angular, jQuery]\n---\n\njQuery`slidetoggle`Angularjsdemo`slidetoggle`Angularjs\n\n<!--more-->\n\nhtml\n\n```html\n<div ng-controller=\"ctrl_main\">\n    <li ng-repeat-start=\"el in list\" ng-click=\"$index=!$index\">{{el.name}}</li>\n    <li ng-repeat-end slide-toggle=\"$index\">{{$index}}</li>\n</div>\n```\n\nctrl_main\n\n```js\napp.controller('ctrl_main', function ($scope) {\n        $scope.list=[{name:'lewis'},{name:'susan'},{name:'alice'},{name:'jay'}]\n    });\n```\n\ndrtv_slidetoggle\n\n```js\n app.directive('slideToggle', function() { return {\n            restrict: 'A',\n            scope:{\n                isOpen: \"=slideToggle\" },\n            link: function(scope, element, attr) {\n                scope.$watch('isOpen', function(newVal,oldVal){ if(newVal !== oldVal){\n                        element.stop().slideToggle('slow');\n                    }\n                });\n            }\n        };\n    });\n```\n\n\n\n![](/css/images/56.jpg)\n\n\n\n![](/css/images/57.jpg)\n\n===Requirejs===\n\nPSRequirejs\n\nRequirejsjs, drtv_slidetoggle.js\n\n```js\ndefine(['app','jquery'], function (app) {\n    app.directive('slideToggle', function() { return {\n            restrict: 'A',\n            scope:{\n                isOpen: \"=slideToggle\" },\n            link: function(scope, element, attr) {\n                scope.$watch('isOpen', function(newVal,oldVal){ if(newVal !== oldVal){\n                        element.stop().slideToggle('slow');\n                    }\n                });\n            }\n        };\n    });\n});\n```\n\napp\n\n```js\n require(['angular','domReady!','ctrl_main','drtv_slidetoggle'], function (angular) {\n            angular.bootstrap(document, ['app'])\n        });\n```","slug":"ng-jq-toggle","published":1,"updated":"2019-05-01T08:10:29.739Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvlr001ctgyt9eevwxhv","content":"<p>jQuery<code>slidetoggle</code>Angularjsdemo<code>slidetoggle</code>Angularjs</p>\n<a id=\"more\"></a>\n<p>html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">ng-controller</span>=<span class=\"string\">\"ctrl_main\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">ng-repeat-start</span>=<span class=\"string\">\"el in list\"</span> <span class=\"attr\">ng-click</span>=<span class=\"string\">\"$index=!$index\"</span>&gt;</span>&#123;&#123;el.name&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">ng-repeat-end</span> <span class=\"attr\">slide-toggle</span>=<span class=\"string\">\"$index\"</span>&gt;</span>&#123;&#123;$index&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>ctrl_main</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">app.controller(<span class=\"string\">'ctrl_main'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">$scope</span>) </span>&#123;</span><br><span class=\"line\">        $scope.list=[&#123;<span class=\"attr\">name</span>:<span class=\"string\">'lewis'</span>&#125;,&#123;<span class=\"attr\">name</span>:<span class=\"string\">'susan'</span>&#125;,&#123;<span class=\"attr\">name</span>:<span class=\"string\">'alice'</span>&#125;,&#123;<span class=\"attr\">name</span>:<span class=\"string\">'jay'</span>&#125;]</span><br><span class=\"line\">    &#125;);</span><br></pre></td></tr></table></figure>\n<p>drtv_slidetoggle</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">app.directive(<span class=\"string\">'slideToggle'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">           restrict: <span class=\"string\">'A'</span>,</span><br><span class=\"line\">           scope:&#123;</span><br><span class=\"line\">               isOpen: <span class=\"string\">\"=slideToggle\"</span> &#125;,</span><br><span class=\"line\">           link: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">scope, element, attr</span>) </span>&#123;</span><br><span class=\"line\">               scope.$watch(<span class=\"string\">'isOpen'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">newVal,oldVal</span>)</span>&#123; <span class=\"keyword\">if</span>(newVal !== oldVal)&#123;</span><br><span class=\"line\">                       element.stop().slideToggle(<span class=\"string\">'slow'</span>);</span><br><span class=\"line\">                   &#125;</span><br><span class=\"line\">               &#125;);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;;</span><br><span class=\"line\">   &#125;);</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/css/images/56.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"/css/images/57.jpg\" alt=\"\"></p>\n<p>===Requirejs===</p>\n<p>PSRequirejs</p>\n<p>Requirejsjs, drtv_slidetoggle.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">define([<span class=\"string\">'app'</span>,<span class=\"string\">'jquery'</span>], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">app</span>) </span>&#123;</span><br><span class=\"line\">    app.directive(<span class=\"string\">'slideToggle'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">            restrict: <span class=\"string\">'A'</span>,</span><br><span class=\"line\">            scope:&#123;</span><br><span class=\"line\">                isOpen: <span class=\"string\">\"=slideToggle\"</span> &#125;,</span><br><span class=\"line\">            link: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">scope, element, attr</span>) </span>&#123;</span><br><span class=\"line\">                scope.$watch(<span class=\"string\">'isOpen'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">newVal,oldVal</span>)</span>&#123; <span class=\"keyword\">if</span>(newVal !== oldVal)&#123;</span><br><span class=\"line\">                        element.stop().slideToggle(<span class=\"string\">'slow'</span>);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>app</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>([<span class=\"string\">'angular'</span>,<span class=\"string\">'domReady!'</span>,<span class=\"string\">'ctrl_main'</span>,<span class=\"string\">'drtv_slidetoggle'</span>], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">angular</span>) </span>&#123;</span><br><span class=\"line\">           angular.bootstrap(<span class=\"built_in\">document</span>, [<span class=\"string\">'app'</span>])</span><br><span class=\"line\">       &#125;);</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<p>jQuery<code>slidetoggle</code>Angularjsdemo<code>slidetoggle</code>Angularjs</p>","more":"<p>html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">ng-controller</span>=<span class=\"string\">\"ctrl_main\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">ng-repeat-start</span>=<span class=\"string\">\"el in list\"</span> <span class=\"attr\">ng-click</span>=<span class=\"string\">\"$index=!$index\"</span>&gt;</span>&#123;&#123;el.name&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">ng-repeat-end</span> <span class=\"attr\">slide-toggle</span>=<span class=\"string\">\"$index\"</span>&gt;</span>&#123;&#123;$index&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>ctrl_main</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">app.controller(<span class=\"string\">'ctrl_main'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">$scope</span>) </span>&#123;</span><br><span class=\"line\">        $scope.list=[&#123;<span class=\"attr\">name</span>:<span class=\"string\">'lewis'</span>&#125;,&#123;<span class=\"attr\">name</span>:<span class=\"string\">'susan'</span>&#125;,&#123;<span class=\"attr\">name</span>:<span class=\"string\">'alice'</span>&#125;,&#123;<span class=\"attr\">name</span>:<span class=\"string\">'jay'</span>&#125;]</span><br><span class=\"line\">    &#125;);</span><br></pre></td></tr></table></figure>\n<p>drtv_slidetoggle</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">app.directive(<span class=\"string\">'slideToggle'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">           restrict: <span class=\"string\">'A'</span>,</span><br><span class=\"line\">           scope:&#123;</span><br><span class=\"line\">               isOpen: <span class=\"string\">\"=slideToggle\"</span> &#125;,</span><br><span class=\"line\">           link: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">scope, element, attr</span>) </span>&#123;</span><br><span class=\"line\">               scope.$watch(<span class=\"string\">'isOpen'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">newVal,oldVal</span>)</span>&#123; <span class=\"keyword\">if</span>(newVal !== oldVal)&#123;</span><br><span class=\"line\">                       element.stop().slideToggle(<span class=\"string\">'slow'</span>);</span><br><span class=\"line\">                   &#125;</span><br><span class=\"line\">               &#125;);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;;</span><br><span class=\"line\">   &#125;);</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/css/images/56.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"/css/images/57.jpg\" alt=\"\"></p>\n<p>===Requirejs===</p>\n<p>PSRequirejs</p>\n<p>Requirejsjs, drtv_slidetoggle.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">define([<span class=\"string\">'app'</span>,<span class=\"string\">'jquery'</span>], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">app</span>) </span>&#123;</span><br><span class=\"line\">    app.directive(<span class=\"string\">'slideToggle'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">            restrict: <span class=\"string\">'A'</span>,</span><br><span class=\"line\">            scope:&#123;</span><br><span class=\"line\">                isOpen: <span class=\"string\">\"=slideToggle\"</span> &#125;,</span><br><span class=\"line\">            link: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">scope, element, attr</span>) </span>&#123;</span><br><span class=\"line\">                scope.$watch(<span class=\"string\">'isOpen'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">newVal,oldVal</span>)</span>&#123; <span class=\"keyword\">if</span>(newVal !== oldVal)&#123;</span><br><span class=\"line\">                        element.stop().slideToggle(<span class=\"string\">'slow'</span>);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>app</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>([<span class=\"string\">'angular'</span>,<span class=\"string\">'domReady!'</span>,<span class=\"string\">'ctrl_main'</span>,<span class=\"string\">'drtv_slidetoggle'</span>], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">angular</span>) </span>&#123;</span><br><span class=\"line\">           angular.bootstrap(<span class=\"built_in\">document</span>, [<span class=\"string\">'app'</span>])</span><br><span class=\"line\">       &#125;);</span><br></pre></td></tr></table></figure>"},{"title":"JavaScript ","date":"2017-03-09T10:06:00.000Z","_content":"\n**** LeetCode\n\nhttps://leetcode.com/problems/two-sum\n\nhttps://leetcode.com/problems/3sum\n\nhttps://leetcode.com/problems/4sum\n\n<!--more-->\n\n\n## \n\n\n\n- \n- \n\n `[1, 3, 5, 4, 2]`6\n\n- 1 `[3, 5, 4, 2]` \n- 3 `[5, 4, 2]`  \n- \n\nO(n^2)O(1)O(nlogn)O(1)\n\n\n\n1**** `target` O(n)\n\nLeetCode/001-twoSum.js\n\n```js\n/**\n * You may assume that each input would have exactly one solution, \n * and you may not use the same element twice.\n * @param {number[]} nums\n * @param {number} target\n * @return {number[]}\n */\nvar twoSum = function (nums, target) {\n  var map = {};\n\n  for (var i = 0; i < nums.length; i++) {\n    if (nums[i] in map) {\n      return [map[nums[i]], i];\n    } else {\n      map[target - nums[i]] = i;\n    }\n  }\n};\n```\n\n\n```js\nexpect(twoSum([2, 7, 11, 15], 9)).toEqual([0, 1]);\n```\n\n>  `twoSum`  `threeSum`  `fourSum` \n\n2**** `i`  `j` `target`  `j--` `i++` `target`O(n)O(nlogn + n)=O(nlogn)O(1)\n\nLeetCode/001-twoSum.js\n\n```js\n/**\n * @param {number[]} nums\n * @param {number} target\n * @return {number[]}\n */\nvar twoSum2 = function (nums, target) {\n  var l = 0,\n    r = nums.length - 1,\n    results = [];\n  while (l < r) {\n    var s = nums[l] + nums[r];\n    if (s === target) {\n      results.push([l, r]);\n      while (l < r && nums[l] === nums[l + 1]) {\n        l++;\n      }\n      while (r > l && nums[r] === nums[r - 1]) {\n        r++;\n      }\n      l++;\n      r--;\n    } else if (s < target) {\n      l++;\n    } else {\n      r--;\n    }\n  }\n  return results\n};\n```\n\n\n\n```js\nexpect(twoSum2([-2, -1, -1, 1, 1], 0)).toEqual([[1, 4]]);\n```\n\n## \n\n****+**** `[1, 3, 5, 4, 2]` 7\n\n- 1 `[3, 5, 4, 2]` 7-1\n- 3 `[5, 4, 2]` 7-3\n- \n\n\n\nLeetCode/015-threeSum.js\n\n```js\n/**\n * @param {number[]} nums\n * @return {number[][]}\n */\nvar threeSum = function (nums) {\n  var res = [];\n  nums.sort(function (a, b) {\n    return a - b;\n  });\n\n  for (var i = 0; i < nums.length - 1; i++) {\n    if (i > 0 && nums[i] === nums[i - 1]) {\n      continue;\n    }\n    var l = i + 1;\n    var r = nums.length - 1;\n    while (l < r) {\n      var s = nums[i] + nums[l] + nums[r];\n      if (s < 0) {\n        l++;\n      } else if (s > 0) {\n        r--;\n      } else {\n        res.push([nums[i], nums[l], nums[r]]);\n        while (l < r && nums[l] === nums[l + 1]) {\n          l++;\n        }\n        while (r > l && nums[r] === nums[r - 1]) {\n          r++;\n        }\n        l++;\n        r--;\n      }\n    }\n  }\n  return res;\n};\n```\n\n\n\n```js\nexpect(threeSum([-2, -1, -1, 1, 1, 2, 2])).toEqual([[-2, 1, 1], [-1, -1, 2]]);\n```\n\n\n## \n\n `N``N`  `N`  **** `N` 2\n\nLeetCode/018-fourSum.js\n\n```js\n/**\n * @param {number[]} nums\n * @param {number} target\n * @return {number[][]}\n */\nvar fourSum = function (nums, target) {\n  var findNSum = function (nums, target, N, result, results) {\n    if (nums.length < N || target < nums[0] * N || target > nums[-1] * N) {\n      return;\n    }\n    if (N === 2) {\n      var l = 0,\n        r = nums.length - 1;\n      while (l < r) {\n        var s = nums[l] + nums[r];\n        if (s === target) {\n          results.push(result.concat([nums[l], nums[r]]));\n          while (l < r && nums[l] === nums[l + 1]) {\n            l++;\n          }\n          while (r > l && nums[r] === nums[r - 1]) {\n            r++;\n          }\n          l++;\n          r--;\n        } else if (s < target) {\n          l++;\n        } else {\n          r--;\n        }\n      }\n    } else {\n      for (var i = 0; i < nums.length - N + 1; i++) {\n        if (i === 0 || (i > 0 && nums[i - 1] !== nums[i])) {\n          findNSum(nums.slice(i + 1), target - nums[i], N - 1, result.concat([nums[i]]), results);\n        }\n\n      }\n    }\n  };\n  var results = [];\n  nums.sort(function (a, b) {\n    return a - b;\n  });\n  findNSum(nums, target, 4, [], results);\n  return results;\n};\n\n```\n\n\n\n```js\nexpect(fourSum([-2, -1, -1, 1, 1, 2, 2], 0)).toEqual([[-2, -1, 1, 2], [-1, -1, 1, 1]]);\n```\n `N`  `findSum`  LeetCode \n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>","source":"_posts/n-sum.md","raw":"---\ntitle: JavaScript \ndate: 2017-03-09 18:06:00\ntags: [, LeetCode]\n---\n\n**** LeetCode\n\nhttps://leetcode.com/problems/two-sum\n\nhttps://leetcode.com/problems/3sum\n\nhttps://leetcode.com/problems/4sum\n\n<!--more-->\n\n\n## \n\n\n\n- \n- \n\n `[1, 3, 5, 4, 2]`6\n\n- 1 `[3, 5, 4, 2]` \n- 3 `[5, 4, 2]`  \n- \n\nO(n^2)O(1)O(nlogn)O(1)\n\n\n\n1**** `target` O(n)\n\nLeetCode/001-twoSum.js\n\n```js\n/**\n * You may assume that each input would have exactly one solution, \n * and you may not use the same element twice.\n * @param {number[]} nums\n * @param {number} target\n * @return {number[]}\n */\nvar twoSum = function (nums, target) {\n  var map = {};\n\n  for (var i = 0; i < nums.length; i++) {\n    if (nums[i] in map) {\n      return [map[nums[i]], i];\n    } else {\n      map[target - nums[i]] = i;\n    }\n  }\n};\n```\n\n\n```js\nexpect(twoSum([2, 7, 11, 15], 9)).toEqual([0, 1]);\n```\n\n>  `twoSum`  `threeSum`  `fourSum` \n\n2**** `i`  `j` `target`  `j--` `i++` `target`O(n)O(nlogn + n)=O(nlogn)O(1)\n\nLeetCode/001-twoSum.js\n\n```js\n/**\n * @param {number[]} nums\n * @param {number} target\n * @return {number[]}\n */\nvar twoSum2 = function (nums, target) {\n  var l = 0,\n    r = nums.length - 1,\n    results = [];\n  while (l < r) {\n    var s = nums[l] + nums[r];\n    if (s === target) {\n      results.push([l, r]);\n      while (l < r && nums[l] === nums[l + 1]) {\n        l++;\n      }\n      while (r > l && nums[r] === nums[r - 1]) {\n        r++;\n      }\n      l++;\n      r--;\n    } else if (s < target) {\n      l++;\n    } else {\n      r--;\n    }\n  }\n  return results\n};\n```\n\n\n\n```js\nexpect(twoSum2([-2, -1, -1, 1, 1], 0)).toEqual([[1, 4]]);\n```\n\n## \n\n****+**** `[1, 3, 5, 4, 2]` 7\n\n- 1 `[3, 5, 4, 2]` 7-1\n- 3 `[5, 4, 2]` 7-3\n- \n\n\n\nLeetCode/015-threeSum.js\n\n```js\n/**\n * @param {number[]} nums\n * @return {number[][]}\n */\nvar threeSum = function (nums) {\n  var res = [];\n  nums.sort(function (a, b) {\n    return a - b;\n  });\n\n  for (var i = 0; i < nums.length - 1; i++) {\n    if (i > 0 && nums[i] === nums[i - 1]) {\n      continue;\n    }\n    var l = i + 1;\n    var r = nums.length - 1;\n    while (l < r) {\n      var s = nums[i] + nums[l] + nums[r];\n      if (s < 0) {\n        l++;\n      } else if (s > 0) {\n        r--;\n      } else {\n        res.push([nums[i], nums[l], nums[r]]);\n        while (l < r && nums[l] === nums[l + 1]) {\n          l++;\n        }\n        while (r > l && nums[r] === nums[r - 1]) {\n          r++;\n        }\n        l++;\n        r--;\n      }\n    }\n  }\n  return res;\n};\n```\n\n\n\n```js\nexpect(threeSum([-2, -1, -1, 1, 1, 2, 2])).toEqual([[-2, 1, 1], [-1, -1, 2]]);\n```\n\n\n## \n\n `N``N`  `N`  **** `N` 2\n\nLeetCode/018-fourSum.js\n\n```js\n/**\n * @param {number[]} nums\n * @param {number} target\n * @return {number[][]}\n */\nvar fourSum = function (nums, target) {\n  var findNSum = function (nums, target, N, result, results) {\n    if (nums.length < N || target < nums[0] * N || target > nums[-1] * N) {\n      return;\n    }\n    if (N === 2) {\n      var l = 0,\n        r = nums.length - 1;\n      while (l < r) {\n        var s = nums[l] + nums[r];\n        if (s === target) {\n          results.push(result.concat([nums[l], nums[r]]));\n          while (l < r && nums[l] === nums[l + 1]) {\n            l++;\n          }\n          while (r > l && nums[r] === nums[r - 1]) {\n            r++;\n          }\n          l++;\n          r--;\n        } else if (s < target) {\n          l++;\n        } else {\n          r--;\n        }\n      }\n    } else {\n      for (var i = 0; i < nums.length - N + 1; i++) {\n        if (i === 0 || (i > 0 && nums[i - 1] !== nums[i])) {\n          findNSum(nums.slice(i + 1), target - nums[i], N - 1, result.concat([nums[i]]), results);\n        }\n\n      }\n    }\n  };\n  var results = [];\n  nums.sort(function (a, b) {\n    return a - b;\n  });\n  findNSum(nums, target, 4, [], results);\n  return results;\n};\n\n```\n\n\n\n```js\nexpect(fourSum([-2, -1, -1, 1, 1, 2, 2], 0)).toEqual([[-2, -1, 1, 2], [-1, -1, 1, 1]]);\n```\n `N`  `findSum`  LeetCode \n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>","slug":"n-sum","published":1,"updated":"2019-05-01T08:02:10.298Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvls001etgyt4pcsd5y1","content":"<p><strong></strong> LeetCode</p>\n<p><a href=\"https://leetcode.com/problems/two-sum\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/problems/two-sum</a></p>\n<p><a href=\"https://leetcode.com/problems/3sum\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/problems/3sum</a></p>\n<p><a href=\"https://leetcode.com/problems/4sum\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/problems/4sum</a></p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p> <code>[1, 3, 5, 4, 2]</code>6</p>\n<ul>\n<li>1 <code>[3, 5, 4, 2]</code> </li>\n<li>3 <code>[5, 4, 2]</code>  </li>\n<li></li>\n</ul>\n<p>O(n^2)O(1)O(nlogn)O(1)</p>\n<p></p>\n<p>1<strong></strong> <code>target</code> O(n)</p>\n<p>LeetCode/001-twoSum.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * You may assume that each input would have exactly one solution, </span></span><br><span class=\"line\"><span class=\"comment\"> * and you may not use the same element twice.</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number[]&#125; nums</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number&#125; target</span></span><br><span class=\"line\"><span class=\"comment\"> * @return &#123;number[]&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> twoSum = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">nums, target</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> map = &#123;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (nums[i] <span class=\"keyword\">in</span> map) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> [map[nums[i]], i];</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      map[target - nums[i]] = i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">expect(twoSum([<span class=\"number\">2</span>, <span class=\"number\">7</span>, <span class=\"number\">11</span>, <span class=\"number\">15</span>], <span class=\"number\">9</span>)).toEqual([<span class=\"number\">0</span>, <span class=\"number\">1</span>]);</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p> <code>twoSum</code>  <code>threeSum</code>  <code>fourSum</code> </p>\n</blockquote>\n<p>2<strong></strong> <code>i</code>  <code>j</code> <code>target</code>  <code>j--</code> <code>i++</code> <code>target</code>O(n)O(nlogn + n)=O(nlogn)O(1)</p>\n<p>LeetCode/001-twoSum.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number[]&#125; nums</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number&#125; target</span></span><br><span class=\"line\"><span class=\"comment\"> * @return &#123;number[]&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> twoSum2 = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">nums, target</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> l = <span class=\"number\">0</span>,</span><br><span class=\"line\">    r = nums.length - <span class=\"number\">1</span>,</span><br><span class=\"line\">    results = [];</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (l &lt; r) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> s = nums[l] + nums[r];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (s === target) &#123;</span><br><span class=\"line\">      results.push([l, r]);</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (l &lt; r &amp;&amp; nums[l] === nums[l + <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">        l++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (r &gt; l &amp;&amp; nums[r] === nums[r - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">        r++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      l++;</span><br><span class=\"line\">      r--;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (s &lt; target) &#123;</span><br><span class=\"line\">      l++;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      r--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> results</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">expect(twoSum2([<span class=\"number\">-2</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>], <span class=\"number\">0</span>)).toEqual([[<span class=\"number\">1</span>, <span class=\"number\">4</span>]]);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong>+<strong></strong> <code>[1, 3, 5, 4, 2]</code> 7</p>\n<ul>\n<li>1 <code>[3, 5, 4, 2]</code> 7-1</li>\n<li>3 <code>[5, 4, 2]</code> 7-3</li>\n<li></li>\n</ul>\n<p></p>\n<p>LeetCode/015-threeSum.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number[]&#125; nums</span></span><br><span class=\"line\"><span class=\"comment\"> * @return &#123;number[][]&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> threeSum = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">nums</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> res = [];</span><br><span class=\"line\">  nums.sort(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> a - b;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; nums.length - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span> &amp;&amp; nums[i] === nums[i - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> l = i + <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> r = nums.length - <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (l &lt; r) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> s = nums[i] + nums[l] + nums[r];</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (s &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        l++;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (s &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        r--;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        res.push([nums[i], nums[l], nums[r]]);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (l &lt; r &amp;&amp; nums[l] === nums[l + <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">          l++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (r &gt; l &amp;&amp; nums[r] === nums[r - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">          r++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        l++;</span><br><span class=\"line\">        r--;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">expect(threeSum([<span class=\"number\">-2</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>])).toEqual([[<span class=\"number\">-2</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>], [<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">2</span>]]);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>N</code><code>N</code>  <code>N</code>  <strong></strong> <code>N</code> 2</p>\n<p>LeetCode/018-fourSum.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number[]&#125; nums</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number&#125; target</span></span><br><span class=\"line\"><span class=\"comment\"> * @return &#123;number[][]&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> fourSum = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">nums, target</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> findNSum = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">nums, target, N, result, results</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (nums.length &lt; N || target &lt; nums[<span class=\"number\">0</span>] * N || target &gt; nums[<span class=\"number\">-1</span>] * N) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (N === <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> l = <span class=\"number\">0</span>,</span><br><span class=\"line\">        r = nums.length - <span class=\"number\">1</span>;</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (l &lt; r) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> s = nums[l] + nums[r];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (s === target) &#123;</span><br><span class=\"line\">          results.push(result.concat([nums[l], nums[r]]));</span><br><span class=\"line\">          <span class=\"keyword\">while</span> (l &lt; r &amp;&amp; nums[l] === nums[l + <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">            l++;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">while</span> (r &gt; l &amp;&amp; nums[r] === nums[r - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">            r++;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          l++;</span><br><span class=\"line\">          r--;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (s &lt; target) &#123;</span><br><span class=\"line\">          l++;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          r--;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; nums.length - N + <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i === <span class=\"number\">0</span> || (i &gt; <span class=\"number\">0</span> &amp;&amp; nums[i - <span class=\"number\">1</span>] !== nums[i])) &#123;</span><br><span class=\"line\">          findNSum(nums.slice(i + <span class=\"number\">1</span>), target - nums[i], N - <span class=\"number\">1</span>, result.concat([nums[i]]), results);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> results = [];</span><br><span class=\"line\">  nums.sort(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> a - b;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  findNSum(nums, target, <span class=\"number\">4</span>, [], results);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> results;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">expect(fourSum([<span class=\"number\">-2</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>], <span class=\"number\">0</span>)).toEqual([[<span class=\"number\">-2</span>, <span class=\"number\">-1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>], [<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>]]);</span><br></pre></td></tr></table></figure>\n<p> <code>N</code>  <code>findSum</code>  LeetCode </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>\n","site":{"data":{}},"excerpt":"<p><strong></strong> LeetCode</p>\n<p><a href=\"https://leetcode.com/problems/two-sum\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/problems/two-sum</a></p>\n<p><a href=\"https://leetcode.com/problems/3sum\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/problems/3sum</a></p>\n<p><a href=\"https://leetcode.com/problems/4sum\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/problems/4sum</a></p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p> <code>[1, 3, 5, 4, 2]</code>6</p>\n<ul>\n<li>1 <code>[3, 5, 4, 2]</code> </li>\n<li>3 <code>[5, 4, 2]</code>  </li>\n<li></li>\n</ul>\n<p>O(n^2)O(1)O(nlogn)O(1)</p>\n<p></p>\n<p>1<strong></strong> <code>target</code> O(n)</p>\n<p>LeetCode/001-twoSum.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * You may assume that each input would have exactly one solution, </span></span><br><span class=\"line\"><span class=\"comment\"> * and you may not use the same element twice.</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number[]&#125; nums</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number&#125; target</span></span><br><span class=\"line\"><span class=\"comment\"> * @return &#123;number[]&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> twoSum = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">nums, target</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> map = &#123;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (nums[i] <span class=\"keyword\">in</span> map) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> [map[nums[i]], i];</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      map[target - nums[i]] = i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">expect(twoSum([<span class=\"number\">2</span>, <span class=\"number\">7</span>, <span class=\"number\">11</span>, <span class=\"number\">15</span>], <span class=\"number\">9</span>)).toEqual([<span class=\"number\">0</span>, <span class=\"number\">1</span>]);</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p> <code>twoSum</code>  <code>threeSum</code>  <code>fourSum</code> </p>\n</blockquote>\n<p>2<strong></strong> <code>i</code>  <code>j</code> <code>target</code>  <code>j--</code> <code>i++</code> <code>target</code>O(n)O(nlogn + n)=O(nlogn)O(1)</p>\n<p>LeetCode/001-twoSum.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number[]&#125; nums</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number&#125; target</span></span><br><span class=\"line\"><span class=\"comment\"> * @return &#123;number[]&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> twoSum2 = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">nums, target</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> l = <span class=\"number\">0</span>,</span><br><span class=\"line\">    r = nums.length - <span class=\"number\">1</span>,</span><br><span class=\"line\">    results = [];</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (l &lt; r) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> s = nums[l] + nums[r];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (s === target) &#123;</span><br><span class=\"line\">      results.push([l, r]);</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (l &lt; r &amp;&amp; nums[l] === nums[l + <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">        l++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (r &gt; l &amp;&amp; nums[r] === nums[r - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">        r++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      l++;</span><br><span class=\"line\">      r--;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (s &lt; target) &#123;</span><br><span class=\"line\">      l++;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      r--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> results</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">expect(twoSum2([<span class=\"number\">-2</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>], <span class=\"number\">0</span>)).toEqual([[<span class=\"number\">1</span>, <span class=\"number\">4</span>]]);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong>+<strong></strong> <code>[1, 3, 5, 4, 2]</code> 7</p>\n<ul>\n<li>1 <code>[3, 5, 4, 2]</code> 7-1</li>\n<li>3 <code>[5, 4, 2]</code> 7-3</li>\n<li></li>\n</ul>\n<p></p>\n<p>LeetCode/015-threeSum.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number[]&#125; nums</span></span><br><span class=\"line\"><span class=\"comment\"> * @return &#123;number[][]&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> threeSum = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">nums</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> res = [];</span><br><span class=\"line\">  nums.sort(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> a - b;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; nums.length - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span> &amp;&amp; nums[i] === nums[i - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> l = i + <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> r = nums.length - <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (l &lt; r) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> s = nums[i] + nums[l] + nums[r];</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (s &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        l++;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (s &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        r--;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        res.push([nums[i], nums[l], nums[r]]);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (l &lt; r &amp;&amp; nums[l] === nums[l + <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">          l++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (r &gt; l &amp;&amp; nums[r] === nums[r - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">          r++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        l++;</span><br><span class=\"line\">        r--;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">expect(threeSum([<span class=\"number\">-2</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>])).toEqual([[<span class=\"number\">-2</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>], [<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">2</span>]]);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>N</code><code>N</code>  <code>N</code>  <strong></strong> <code>N</code> 2</p>\n<p>LeetCode/018-fourSum.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number[]&#125; nums</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;number&#125; target</span></span><br><span class=\"line\"><span class=\"comment\"> * @return &#123;number[][]&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> fourSum = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">nums, target</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> findNSum = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">nums, target, N, result, results</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (nums.length &lt; N || target &lt; nums[<span class=\"number\">0</span>] * N || target &gt; nums[<span class=\"number\">-1</span>] * N) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (N === <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> l = <span class=\"number\">0</span>,</span><br><span class=\"line\">        r = nums.length - <span class=\"number\">1</span>;</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (l &lt; r) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> s = nums[l] + nums[r];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (s === target) &#123;</span><br><span class=\"line\">          results.push(result.concat([nums[l], nums[r]]));</span><br><span class=\"line\">          <span class=\"keyword\">while</span> (l &lt; r &amp;&amp; nums[l] === nums[l + <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">            l++;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">while</span> (r &gt; l &amp;&amp; nums[r] === nums[r - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">            r++;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          l++;</span><br><span class=\"line\">          r--;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (s &lt; target) &#123;</span><br><span class=\"line\">          l++;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          r--;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; nums.length - N + <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i === <span class=\"number\">0</span> || (i &gt; <span class=\"number\">0</span> &amp;&amp; nums[i - <span class=\"number\">1</span>] !== nums[i])) &#123;</span><br><span class=\"line\">          findNSum(nums.slice(i + <span class=\"number\">1</span>), target - nums[i], N - <span class=\"number\">1</span>, result.concat([nums[i]]), results);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> results = [];</span><br><span class=\"line\">  nums.sort(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> a - b;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  findNSum(nums, target, <span class=\"number\">4</span>, [], results);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> results;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">expect(fourSum([<span class=\"number\">-2</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>], <span class=\"number\">0</span>)).toEqual([[<span class=\"number\">-2</span>, <span class=\"number\">-1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>], [<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>]]);</span><br></pre></td></tr></table></figure>\n<p> <code>N</code>  <code>findSum</code>  LeetCode </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>"},{"title":"Angular2 hello world","date":"2016-02-15T01:38:00.000Z","_content":"\nAngular2 Angular2Angular2Components\n\n<!--more-->\n\n## \n\n![](/css/images/63.jpg)\n\n CDN \n\n[](https://github.com/lewis617/angular2-tutorial/tree/gh-pages/hellowold)\n\n\n\nhttp-server\n\n```sh \nnpm install -g http-server\n```\n\nhellowold\n\n```sh    \nhttp-server\n```\n8080\n\n[github pages](http://lewis617.github.io/angular2-tutorial/hellowold/) \n\n## \n\n\n\n  1. index.html\n  2. libjs\n  3. app/main.ts\n\n\n\n  1. app/app.ts\n\nApp\n\n## lib\n\n  1. iepolyfill\n\t  * `<script src=\"lib/es6-shim.min.js\"></script>` \n\t  * `<script src=\"lib/system-polyfills.js\"></script>` \n\t  * `<script src=\"lib/shims_for_IE.js\"></script>`  \n\n  2.  zonereflect-metadatazoneangular2ng1$applyzonereflect-metadata ES7`@Component`  `@View` ng2\n\t  * `<script src=\"lib/angular2-polyfills.js\"></script>`\n  4.  ts\n\t  * `<script src=\"lib/system.js\"></script>`  \n\t  * `<script src=\"lib/typescript.js\"></script>`  \n\t  * `<script src=\"lib/Rx.js\"></script>`   \n\n  5.  ng2\n\t  * `<script src=\"lib/angular2.dev.js\"></script>`\n\n## \n\nts\n\napp/app.ts\n\n```ts\nimport {Component} from 'angular2/core';  \n  \n@Component({  \n    selector: 'app',  \n    template: `  \n        <h1>Hello, {{name}}!</h1>  \n        Say hello to: <input [value]=\"name\" (input)=\"name = $event.target.value\">  \n    `  \n})  \nexport class App {  \n    name: string = 'World';  \n}\n```\n\nng1react\n\nng2@\n\n## \n\nng2\n\n\n\n```html\n<h1>Hello, {{name}}!</h1>\n```\n\n`ng-model``[value]``[value]`\n\n```html\n<input [value]=\"name\" (input)=\"name = $event.target.value\">\n```\n\n`()`html5`click`,`hover`,`input`ng2html5\n\n* * *\n\n## \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>","source":"_posts/ng2-hello.md","raw":"---\ntitle: Angular2 hello world\ndate: 2016-02-15 09:38:00\ntags: [Angular2]\n---\n\nAngular2 Angular2Angular2Components\n\n<!--more-->\n\n## \n\n![](/css/images/63.jpg)\n\n CDN \n\n[](https://github.com/lewis617/angular2-tutorial/tree/gh-pages/hellowold)\n\n\n\nhttp-server\n\n```sh \nnpm install -g http-server\n```\n\nhellowold\n\n```sh    \nhttp-server\n```\n8080\n\n[github pages](http://lewis617.github.io/angular2-tutorial/hellowold/) \n\n## \n\n\n\n  1. index.html\n  2. libjs\n  3. app/main.ts\n\n\n\n  1. app/app.ts\n\nApp\n\n## lib\n\n  1. iepolyfill\n\t  * `<script src=\"lib/es6-shim.min.js\"></script>` \n\t  * `<script src=\"lib/system-polyfills.js\"></script>` \n\t  * `<script src=\"lib/shims_for_IE.js\"></script>`  \n\n  2.  zonereflect-metadatazoneangular2ng1$applyzonereflect-metadata ES7`@Component`  `@View` ng2\n\t  * `<script src=\"lib/angular2-polyfills.js\"></script>`\n  4.  ts\n\t  * `<script src=\"lib/system.js\"></script>`  \n\t  * `<script src=\"lib/typescript.js\"></script>`  \n\t  * `<script src=\"lib/Rx.js\"></script>`   \n\n  5.  ng2\n\t  * `<script src=\"lib/angular2.dev.js\"></script>`\n\n## \n\nts\n\napp/app.ts\n\n```ts\nimport {Component} from 'angular2/core';  \n  \n@Component({  \n    selector: 'app',  \n    template: `  \n        <h1>Hello, {{name}}!</h1>  \n        Say hello to: <input [value]=\"name\" (input)=\"name = $event.target.value\">  \n    `  \n})  \nexport class App {  \n    name: string = 'World';  \n}\n```\n\nng1react\n\nng2@\n\n## \n\nng2\n\n\n\n```html\n<h1>Hello, {{name}}!</h1>\n```\n\n`ng-model``[value]``[value]`\n\n```html\n<input [value]=\"name\" (input)=\"name = $event.target.value\">\n```\n\n`()`html5`click`,`hover`,`input`ng2html5\n\n* * *\n\n## \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>","slug":"ng2-hello","published":1,"updated":"2019-05-01T08:10:29.792Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvlt001gtgytcahle8ii","content":"<p>Angular2 Angular2Angular2Components</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/63.jpg\" alt=\"\"></p>\n<p> CDN </p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/hellowold\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p></p>\n<p>http-server</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g http-server</span><br></pre></td></tr></table></figure>\n<p>hellowold</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http-server</span><br></pre></td></tr></table></figure>\n<p>8080</p>\n<p><a href=\"http://lewis617.github.io/angular2-tutorial/hellowold/\" target=\"_blank\" rel=\"noopener\">github pages</a> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li>index.html</li>\n<li>libjs</li>\n<li>app/main.ts</li>\n</ol>\n<p></p>\n<ol>\n<li>app/app.ts</li>\n</ol>\n<p>App</p>\n<h2 id=\"lib\"><a href=\"#lib\" class=\"headerlink\" title=\"lib\"></a>lib</h2><ol>\n<li><p>iepolyfill</p>\n<ul>\n<li><code>&lt;script src=&quot;lib/es6-shim.min.js&quot;&gt;&lt;/script&gt;</code> </li>\n<li><code>&lt;script src=&quot;lib/system-polyfills.js&quot;&gt;&lt;/script&gt;</code> </li>\n<li><code>&lt;script src=&quot;lib/shims_for_IE.js&quot;&gt;&lt;/script&gt;</code>  </li>\n</ul>\n</li>\n<li><p>zonereflect-metadatazoneangular2ng1$applyzonereflect-metadata ES7<code>@Component</code>  <code>@View</code> ng2</p>\n<ul>\n<li><code>&lt;script src=&quot;lib/angular2-polyfills.js&quot;&gt;&lt;/script&gt;</code></li>\n</ul>\n</li>\n<li><p>ts</p>\n<ul>\n<li><code>&lt;script src=&quot;lib/system.js&quot;&gt;&lt;/script&gt;</code>  </li>\n<li><code>&lt;script src=&quot;lib/typescript.js&quot;&gt;&lt;/script&gt;</code>  </li>\n<li><code>&lt;script src=&quot;lib/Rx.js&quot;&gt;&lt;/script&gt;</code>   </li>\n</ul>\n</li>\n<li><p>ng2</p>\n<ul>\n<li><code>&lt;script src=&quot;lib/angular2.dev.js&quot;&gt;&lt;/script&gt;</code></li>\n</ul>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>ts</p>\n<p>app/app.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Component&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;  </span><br><span class=\"line\">    selector: <span class=\"string\">'app'</span>,  </span><br><span class=\"line\">    template: <span class=\"string\">`  </span></span><br><span class=\"line\"><span class=\"string\">        &lt;h1&gt;Hello, &#123;&#123;name&#125;&#125;!&lt;/h1&gt;  </span></span><br><span class=\"line\"><span class=\"string\">        Say hello to: &lt;input [value]=\"name\" (input)=\"name = $event.target.value\"&gt;  </span></span><br><span class=\"line\"><span class=\"string\">    `</span>  </span><br><span class=\"line\">&#125;)  </span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> App &#123;  </span><br><span class=\"line\">    name: <span class=\"built_in\">string</span> = <span class=\"string\">'World'</span>;  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ng1react</p>\n<p>ng2@</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>ng2</p>\n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>Hello, &#123;&#123;name&#125;&#125;!<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><code>ng-model</code><code>[value]</code><code>[value]</code></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> [<span class=\"attr\">value</span>]=<span class=\"string\">\"name\"</span> (<span class=\"attr\">input</span>)=<span class=\"string\">\"name = $event.target.value\"</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><code>()</code>html5<code>click</code>,<code>hover</code>,<code>input</code>ng2html5</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>\n","site":{"data":{}},"excerpt":"<p>Angular2 Angular2Angular2Components</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/63.jpg\" alt=\"\"></p>\n<p> CDN </p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/hellowold\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p></p>\n<p>http-server</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g http-server</span><br></pre></td></tr></table></figure>\n<p>hellowold</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http-server</span><br></pre></td></tr></table></figure>\n<p>8080</p>\n<p><a href=\"http://lewis617.github.io/angular2-tutorial/hellowold/\" target=\"_blank\" rel=\"noopener\">github pages</a> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li>index.html</li>\n<li>libjs</li>\n<li>app/main.ts</li>\n</ol>\n<p></p>\n<ol>\n<li>app/app.ts</li>\n</ol>\n<p>App</p>\n<h2 id=\"lib\"><a href=\"#lib\" class=\"headerlink\" title=\"lib\"></a>lib</h2><ol>\n<li><p>iepolyfill</p>\n<ul>\n<li><code>&lt;script src=&quot;lib/es6-shim.min.js&quot;&gt;&lt;/script&gt;</code> </li>\n<li><code>&lt;script src=&quot;lib/system-polyfills.js&quot;&gt;&lt;/script&gt;</code> </li>\n<li><code>&lt;script src=&quot;lib/shims_for_IE.js&quot;&gt;&lt;/script&gt;</code>  </li>\n</ul>\n</li>\n<li><p>zonereflect-metadatazoneangular2ng1$applyzonereflect-metadata ES7<code>@Component</code>  <code>@View</code> ng2</p>\n<ul>\n<li><code>&lt;script src=&quot;lib/angular2-polyfills.js&quot;&gt;&lt;/script&gt;</code></li>\n</ul>\n</li>\n<li><p>ts</p>\n<ul>\n<li><code>&lt;script src=&quot;lib/system.js&quot;&gt;&lt;/script&gt;</code>  </li>\n<li><code>&lt;script src=&quot;lib/typescript.js&quot;&gt;&lt;/script&gt;</code>  </li>\n<li><code>&lt;script src=&quot;lib/Rx.js&quot;&gt;&lt;/script&gt;</code>   </li>\n</ul>\n</li>\n<li><p>ng2</p>\n<ul>\n<li><code>&lt;script src=&quot;lib/angular2.dev.js&quot;&gt;&lt;/script&gt;</code></li>\n</ul>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>ts</p>\n<p>app/app.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Component&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;  </span><br><span class=\"line\">    selector: <span class=\"string\">'app'</span>,  </span><br><span class=\"line\">    template: <span class=\"string\">`  </span></span><br><span class=\"line\"><span class=\"string\">        &lt;h1&gt;Hello, &#123;&#123;name&#125;&#125;!&lt;/h1&gt;  </span></span><br><span class=\"line\"><span class=\"string\">        Say hello to: &lt;input [value]=\"name\" (input)=\"name = $event.target.value\"&gt;  </span></span><br><span class=\"line\"><span class=\"string\">    `</span>  </span><br><span class=\"line\">&#125;)  </span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> App &#123;  </span><br><span class=\"line\">    name: <span class=\"built_in\">string</span> = <span class=\"string\">'World'</span>;  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ng1react</p>\n<p>ng2@</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>ng2</p>\n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>Hello, &#123;&#123;name&#125;&#125;!<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><code>ng-model</code><code>[value]</code><code>[value]</code></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> [<span class=\"attr\">value</span>]=<span class=\"string\">\"name\"</span> (<span class=\"attr\">input</span>)=<span class=\"string\">\"name = $event.target.value\"</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><code>()</code>html5<code>click</code>,<code>hover</code>,<code>input</code>ng2html5</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>"},{"title":"Angular2 Components","date":"2016-02-16T22:28:00.000Z","_content":"\nng2Components\n\n<!--more-->\n\n## \n\n![](/css/images/62.jpg)\n\nng2 beta\n\n[](https://github.com/lewis617/angular2-tutorial/tree/gh-pages/componnets)\n\n## \n\nng2ng1\n\nreactng1\n\n[Angular RequireJs](https://lewis617.github.io/2015/10/01/ng-requirejs-module/)\n\nng1ng1ng2ng2\n\napp/navbar.ts\n\n```ts\nimport { Component} from 'angular2/core';\nimport {NgFor} from 'angular2/common'\n\n@Component({\n    selector: \"navbar\",\n    directives: [NgFor],\n    styles: [`\n        li{\n          color: gray;\n        }\n    `],\n    template: `\n        <h2>Democratic Party presidential candidates</h2>\n        <ul>\n        <li *ngFor=\"#item of items; #i = index\">{{item}} {{i}}</li>\n        </ul>\n    `\n})\nexport class Navbar {\n    items: Array<String>\n\n    constructor() {\n      this.items = [\n        \"Hillary Clinton\",\n        \"Martin O'Malley\",\n        \"Bernie Sanders\"\n      ]\n    }\n\n    ngOnInit() {\n        console.log('[Component] navbar onInit');\n    }\n}\n```\n\nng2shadow DOMShadow DOMwebjs,css,template\n\n\n\n  1. \n  2. `directives``[ngFor]`\n  3. \n  4. \n  5. `items`\n  6. `items`\n  7. `ngOnInit`\n\n\n\n## \n\n`app``directives`reactreactng2\n\napp/app.ts\n\n```ts\nimport {Component} from 'angular2/core';\nimport {bootstrap} from 'angular2/platform/browser';\nimport {Navbar} from './navbar';\n\n@Component({\n    selector: \"app\",\n    directives:[Navbar],\n    template: `\n      <navbar></navbar>\n    `\n})\nexport class App {\n  constructor() {\n   \n  }\n}\n\nbootstrap(App, [])\n  .catch(err => console.error(err));\n```    \n                    \nng2`directives``directives`\n\n  1. Components\n  2. Structural directives\n  3. Attribute directives\n\n\n\n\n## \n\n`ngOnInit`\n\n  * `ngOnChanges`   \n\n  * `ngOnInit`   \n\n  * `ngOnDestroy`   \n\n  * `ngDoCheck`\n  * `ngAfterContentInit`\n  * `ngAfterContentChecked`\n  * `ngAfterViewInit`\n  * `ngAfterViewChecked`\n\n[Official docs](https://angular.io/docs/ts/latest/api/lifecycle_hooks/OnChanges-interface.html)\n\n* * *\n\n## \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>\n\n","source":"_posts/ng2-component.md","raw":"---\ntitle: Angular2 Components\ndate: 2016-02-17 06:28:00\ntags: [Angular2]\n---\n\nng2Components\n\n<!--more-->\n\n## \n\n![](/css/images/62.jpg)\n\nng2 beta\n\n[](https://github.com/lewis617/angular2-tutorial/tree/gh-pages/componnets)\n\n## \n\nng2ng1\n\nreactng1\n\n[Angular RequireJs](https://lewis617.github.io/2015/10/01/ng-requirejs-module/)\n\nng1ng1ng2ng2\n\napp/navbar.ts\n\n```ts\nimport { Component} from 'angular2/core';\nimport {NgFor} from 'angular2/common'\n\n@Component({\n    selector: \"navbar\",\n    directives: [NgFor],\n    styles: [`\n        li{\n          color: gray;\n        }\n    `],\n    template: `\n        <h2>Democratic Party presidential candidates</h2>\n        <ul>\n        <li *ngFor=\"#item of items; #i = index\">{{item}} {{i}}</li>\n        </ul>\n    `\n})\nexport class Navbar {\n    items: Array<String>\n\n    constructor() {\n      this.items = [\n        \"Hillary Clinton\",\n        \"Martin O'Malley\",\n        \"Bernie Sanders\"\n      ]\n    }\n\n    ngOnInit() {\n        console.log('[Component] navbar onInit');\n    }\n}\n```\n\nng2shadow DOMShadow DOMwebjs,css,template\n\n\n\n  1. \n  2. `directives``[ngFor]`\n  3. \n  4. \n  5. `items`\n  6. `items`\n  7. `ngOnInit`\n\n\n\n## \n\n`app``directives`reactreactng2\n\napp/app.ts\n\n```ts\nimport {Component} from 'angular2/core';\nimport {bootstrap} from 'angular2/platform/browser';\nimport {Navbar} from './navbar';\n\n@Component({\n    selector: \"app\",\n    directives:[Navbar],\n    template: `\n      <navbar></navbar>\n    `\n})\nexport class App {\n  constructor() {\n   \n  }\n}\n\nbootstrap(App, [])\n  .catch(err => console.error(err));\n```    \n                    \nng2`directives``directives`\n\n  1. Components\n  2. Structural directives\n  3. Attribute directives\n\n\n\n\n## \n\n`ngOnInit`\n\n  * `ngOnChanges`   \n\n  * `ngOnInit`   \n\n  * `ngOnDestroy`   \n\n  * `ngDoCheck`\n  * `ngAfterContentInit`\n  * `ngAfterContentChecked`\n  * `ngAfterViewInit`\n  * `ngAfterViewChecked`\n\n[Official docs](https://angular.io/docs/ts/latest/api/lifecycle_hooks/OnChanges-interface.html)\n\n* * *\n\n## \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>\n\n","slug":"ng2-component","published":1,"updated":"2019-05-01T08:10:29.780Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvlu001jtgyt7m7oklj2","content":"<p>ng2Components</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/62.jpg\" alt=\"\"></p>\n<p>ng2 beta</p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/componnets\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>ng2ng1</p>\n<p>reactng1</p>\n<p><a href=\"https://lewis617.github.io/2015/10/01/ng-requirejs-module/\" target=\"_blank\" rel=\"noopener\">Angular RequireJs</a></p>\n<p>ng1ng1ng2ng2</p>\n<p>app/navbar.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; Component&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;NgFor&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/common'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">    selector: <span class=\"string\">\"navbar\"</span>,</span><br><span class=\"line\">    directives: [NgFor],</span><br><span class=\"line\">    styles: [<span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">        li&#123;</span></span><br><span class=\"line\"><span class=\"string\">          color: gray;</span></span><br><span class=\"line\"><span class=\"string\">        &#125;</span></span><br><span class=\"line\"><span class=\"string\">    `</span>],</span><br><span class=\"line\">    template: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">        &lt;h2&gt;Democratic Party presidential candidates&lt;/h2&gt;</span></span><br><span class=\"line\"><span class=\"string\">        &lt;ul&gt;</span></span><br><span class=\"line\"><span class=\"string\">        &lt;li *ngFor=\"#item of items; #i = index\"&gt;&#123;&#123;item&#125;&#125; &#123;&#123;i&#125;&#125;&lt;/li&gt;</span></span><br><span class=\"line\"><span class=\"string\">        &lt;/ul&gt;</span></span><br><span class=\"line\"><span class=\"string\">    `</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> Navbar &#123;</span><br><span class=\"line\">    items: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">String</span>&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">constructor</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.items = [</span><br><span class=\"line\">        <span class=\"string\">\"Hillary Clinton\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"Martin O'Malley\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"Bernie Sanders\"</span></span><br><span class=\"line\">      ]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    ngOnInit() &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'[Component] navbar onInit'</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ng2shadow DOMShadow DOMwebjs,css,template</p>\n<p></p>\n<ol>\n<li></li>\n<li><code>directives</code><code>[ngFor]</code></li>\n<li></li>\n<li></li>\n<li><code>items</code></li>\n<li><code>items</code></li>\n<li><code>ngOnInit</code></li>\n</ol>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>app</code><code>directives</code>reactreactng2</p>\n<p>app/app.ts</p>\n<pre><code class=\"ts\"><span class=\"keyword\">import</span> {Component} <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;\n<span class=\"keyword\">import</span> {bootstrap} <span class=\"keyword\">from</span> <span class=\"string\">'angular2/platform/browser'</span>;\n<span class=\"keyword\">import</span> {Navbar} <span class=\"keyword\">from</span> <span class=\"string\">'./navbar'</span>;\n\n<span class=\"meta\">@Component</span>({\n    selector: <span class=\"string\">\"app\"</span>,\n    directives:[Navbar],\n    template: <span class=\"string\">`</span>\n<span class=\"string\">      &lt;navbar&gt;&lt;/navbar&gt;</span>\n<span class=\"string\">    `</span>\n})\n<span class=\"keyword\">export</span> <span class=\"keyword\">class</span> App {\n  <span class=\"keyword\">constructor</span>(<span class=\"params\"></span>) {\n\n  }\n}\n\nbootstrap(App, [])\n  .catch(<span class=\"function\"><span class=\"params\">err</span> =&gt;</span> <span class=\"built_in\">console</span>.error(err));\n</code></pre>\n<p>ng2<code>directives</code><code>directives</code></p>\n<ol>\n<li>Components</li>\n<li>Structural directives</li>\n<li>Attribute directives</li>\n</ol>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>ngOnInit</code></p>\n<ul>\n<li><p><code>ngOnChanges</code>   </p>\n</li>\n<li><p><code>ngOnInit</code>   </p>\n</li>\n<li><p><code>ngOnDestroy</code>   </p>\n</li>\n<li><p><code>ngDoCheck</code></p>\n</li>\n<li><code>ngAfterContentInit</code></li>\n<li><code>ngAfterContentChecked</code></li>\n<li><code>ngAfterViewInit</code></li>\n<li><code>ngAfterViewChecked</code></li>\n</ul>\n<p><a href=\"https://angular.io/docs/ts/latest/api/lifecycle_hooks/OnChanges-interface.html\" target=\"_blank\" rel=\"noopener\">Official docs</a></p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>\n","site":{"data":{}},"excerpt":"<p>ng2Components</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/62.jpg\" alt=\"\"></p>\n<p>ng2 beta</p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/componnets\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>ng2ng1</p>\n<p>reactng1</p>\n<p><a href=\"https://lewis617.github.io/2015/10/01/ng-requirejs-module/\" target=\"_blank\" rel=\"noopener\">Angular RequireJs</a></p>\n<p>ng1ng1ng2ng2</p>\n<p>app/navbar.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; Component&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;NgFor&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/common'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">    selector: <span class=\"string\">\"navbar\"</span>,</span><br><span class=\"line\">    directives: [NgFor],</span><br><span class=\"line\">    styles: [<span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">        li&#123;</span></span><br><span class=\"line\"><span class=\"string\">          color: gray;</span></span><br><span class=\"line\"><span class=\"string\">        &#125;</span></span><br><span class=\"line\"><span class=\"string\">    `</span>],</span><br><span class=\"line\">    template: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">        &lt;h2&gt;Democratic Party presidential candidates&lt;/h2&gt;</span></span><br><span class=\"line\"><span class=\"string\">        &lt;ul&gt;</span></span><br><span class=\"line\"><span class=\"string\">        &lt;li *ngFor=\"#item of items; #i = index\"&gt;&#123;&#123;item&#125;&#125; &#123;&#123;i&#125;&#125;&lt;/li&gt;</span></span><br><span class=\"line\"><span class=\"string\">        &lt;/ul&gt;</span></span><br><span class=\"line\"><span class=\"string\">    `</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> Navbar &#123;</span><br><span class=\"line\">    items: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">String</span>&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">constructor</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.items = [</span><br><span class=\"line\">        <span class=\"string\">\"Hillary Clinton\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"Martin O'Malley\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"Bernie Sanders\"</span></span><br><span class=\"line\">      ]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    ngOnInit() &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'[Component] navbar onInit'</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ng2shadow DOMShadow DOMwebjs,css,template</p>\n<p></p>\n<ol>\n<li></li>\n<li><code>directives</code><code>[ngFor]</code></li>\n<li></li>\n<li></li>\n<li><code>items</code></li>\n<li><code>items</code></li>\n<li><code>ngOnInit</code></li>\n</ol>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>app</code><code>directives</code>reactreactng2</p>\n<p>app/app.ts</p>\n<pre><code class=\"ts\"><span class=\"keyword\">import</span> {Component} <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;\n<span class=\"keyword\">import</span> {bootstrap} <span class=\"keyword\">from</span> <span class=\"string\">'angular2/platform/browser'</span>;\n<span class=\"keyword\">import</span> {Navbar} <span class=\"keyword\">from</span> <span class=\"string\">'./navbar'</span>;\n\n<span class=\"meta\">@Component</span>({\n    selector: <span class=\"string\">\"app\"</span>,\n    directives:[Navbar],\n    template: <span class=\"string\">`</span>\n<span class=\"string\">      &lt;navbar&gt;&lt;/navbar&gt;</span>\n<span class=\"string\">    `</span>\n})\n<span class=\"keyword\">export</span> <span class=\"keyword\">class</span> App {\n  <span class=\"keyword\">constructor</span>(<span class=\"params\"></span>) {\n\n  }\n}\n\nbootstrap(App, [])\n  .catch(<span class=\"function\"><span class=\"params\">err</span> =&gt;</span> <span class=\"built_in\">console</span>.error(err));\n</code></pre>\n<p>ng2<code>directives</code><code>directives</code></p>\n<ol>\n<li>Components</li>\n<li>Structural directives</li>\n<li>Attribute directives</li>\n</ol>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>ngOnInit</code></p>\n<ul>\n<li><p><code>ngOnChanges</code>   </p>\n</li>\n<li><p><code>ngOnInit</code>   </p>\n</li>\n<li><p><code>ngOnDestroy</code>   </p>\n</li>\n<li><p><code>ngDoCheck</code></p>\n</li>\n<li><code>ngAfterContentInit</code></li>\n<li><code>ngAfterContentChecked</code></li>\n<li><code>ngAfterViewInit</code></li>\n<li><code>ngAfterViewChecked</code></li>\n</ul>\n<p><a href=\"https://angular.io/docs/ts/latest/api/lifecycle_hooks/OnChanges-interface.html\" target=\"_blank\" rel=\"noopener\">Official docs</a></p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>"},{"title":"Angular2 Attribute directives","date":"2016-02-17T19:05:00.000Z","_content":"\nng2Attribute directivesdomcomponents\n\n<!--more-->\n\n## \n\n![](/css/images/61.jpg)\n\nredifycolorhighlight\n\n[](https://github.com/lewis617/angular2-tutorial/tree/gh-pages/directives)\n\n## @Directive\n\n`'angular2/core'``Directive``@Directive`\n\napp/directives.ts\n\n```ts\nimport {Directive, ElementRef, Renderer} from 'angular2/core';\n\n@Directive({\n  selector: '[redify]'\n})\nexport class Redify {\n\n  constructor(private _element: ElementRef, private renderer: Renderer) {\n      renderer.setElementStyle(_element.nativeElement, 'color', 'red');\n  }\n}\n```\n\n\n\n  1. `@Directive``redify`\n  2. `Redify``ElementRef`dom\n  3. `Renderer`dom`color`\n\n`Renderer`dom\n\n[Official docs for ElementRef](https://angular.io/docs/ts/latest/api/core/ElementRef-class.html)\n\n[Official docs for Renderer](https://angular.io/docs/ts/latest/api/core/Renderer-class.html)\n\n## \n\n`host`\n\nsrc/app/highlight.directive.ts\n\n```ts\nhost: {\n  '(mouseenter)': 'onMouseEnter()',\n  '(mouseleave)': 'onMouseLeave()'\n}\n```\n\n`@Directive``host``host``host`\n\nsrc/app/highlight.directive.ts\n\n```ts\nonMouseEnter() { this._highlight(this.highlightColor || this._defaultColor); }\nonMouseLeave() { this._highlight(null); }\n```\n\n## @Input\n\n`@input``'angular2/core'``Input`\n\n```ts\n@Input('myHighlight') highlightColor: string;\n\nprivate _defaultColor = 'red';\n@Input() set defaultColor(colorName:string){\n  this._defaultColor = colorName || this._defaultColor;\n}\n```\n\n\n  1. `highlightColor``@Input('myHighlight')``myHighlight`\n  2. `_defaultColor`\n  3. `defaultColor``setter``_defaultColor``_defaultColor``defaultColor`\n\n es7python\n\n`@Input`\n\n\n\n```ts\n@Input('myHighlight') \nhighlightColor: string;\n```\n\n`myHighlight``highlightColor`\n\n`set``get` `set` \n\n* [getters](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/get)\n* [setters](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/set)\n\n \n \n```ts   \nprivate _defaultColor = 'red';\n@Input() set defaultColor(colorName:string){\n  this._defaultColor = colorName || this._defaultColor;\n}\n```\n\n\n\n```ts   \nprivate highlightColor:string;\n@Input() set myHighlight(colorName:string){\n  this.highlightColor=colorName\n}\n\n@Input('defaultColor')\nprivate _defaultColor = 'red';\n```\n\n\n\n## \n\n`directives``[Redify,HighlightDirective]`\n\napp/app.ts\n\n```ts\nimport {Component} from 'angular2/core';\nimport {bootstrap} from 'angular2/platform/browser';\nimport {Redify} from './directives';\nimport {HighlightDirective} from './highlight.directive';\n\n@Component({\n    selector: \"app\",\n    directives:[Redify,HighlightDirective],\n    template: `\n    redify:\n      <p redify >hello,lewis</p>\n     myHighlight:\n        <div>\n          <input type=\"radio\" name=\"colors\" (click)=\"color='lightgreen'\">Green\n          <input type=\"radio\" name=\"colors\" (click)=\"color='yellow'\">Yellow\n          <input type=\"radio\" name=\"colors\" (click)=\"color='cyan'\">Cyan\n        </div>\n      <p [myHighlight]=\"color\">Highlight me!</p>\n      <p [myHighlight]=\"color\" [defaultColor]=\"'violet'\">Highlight me too!</p>\n    `\n})\nexport class App {\n    constructor() {\n\n    }\n}\n\nbootstrap(App, [])\n    .catch(err => console.error(err));\n    \n```                    \n\n`<p redify >hello,lewis</p>``redify`\n\n`highlight``[]`\n\n```ts\n<p [myHighlight]=\"color\">Highlight me!</p>\n<p [myHighlight]=\"color\" [defaultColor]=\"'violet'\">Highlight me too!</p>\n\n```\n[]hmtl5htmlangular\"html\"\n\n`[myHighlight]=\"color\"``color``myHighlight``[defaultColor]=\"'violet'\"``defaultColor``'violet'`\n\n* * *\n\n## \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>\n\n\n\n","source":"_posts/ng2-attribute-directive.md","raw":"---\ntitle: Angular2 Attribute directives\ndate: 2016-02-18 03:05:00\ntags: [Angular2]\n---\n\nng2Attribute directivesdomcomponents\n\n<!--more-->\n\n## \n\n![](/css/images/61.jpg)\n\nredifycolorhighlight\n\n[](https://github.com/lewis617/angular2-tutorial/tree/gh-pages/directives)\n\n## @Directive\n\n`'angular2/core'``Directive``@Directive`\n\napp/directives.ts\n\n```ts\nimport {Directive, ElementRef, Renderer} from 'angular2/core';\n\n@Directive({\n  selector: '[redify]'\n})\nexport class Redify {\n\n  constructor(private _element: ElementRef, private renderer: Renderer) {\n      renderer.setElementStyle(_element.nativeElement, 'color', 'red');\n  }\n}\n```\n\n\n\n  1. `@Directive``redify`\n  2. `Redify``ElementRef`dom\n  3. `Renderer`dom`color`\n\n`Renderer`dom\n\n[Official docs for ElementRef](https://angular.io/docs/ts/latest/api/core/ElementRef-class.html)\n\n[Official docs for Renderer](https://angular.io/docs/ts/latest/api/core/Renderer-class.html)\n\n## \n\n`host`\n\nsrc/app/highlight.directive.ts\n\n```ts\nhost: {\n  '(mouseenter)': 'onMouseEnter()',\n  '(mouseleave)': 'onMouseLeave()'\n}\n```\n\n`@Directive``host``host``host`\n\nsrc/app/highlight.directive.ts\n\n```ts\nonMouseEnter() { this._highlight(this.highlightColor || this._defaultColor); }\nonMouseLeave() { this._highlight(null); }\n```\n\n## @Input\n\n`@input``'angular2/core'``Input`\n\n```ts\n@Input('myHighlight') highlightColor: string;\n\nprivate _defaultColor = 'red';\n@Input() set defaultColor(colorName:string){\n  this._defaultColor = colorName || this._defaultColor;\n}\n```\n\n\n  1. `highlightColor``@Input('myHighlight')``myHighlight`\n  2. `_defaultColor`\n  3. `defaultColor``setter``_defaultColor``_defaultColor``defaultColor`\n\n es7python\n\n`@Input`\n\n\n\n```ts\n@Input('myHighlight') \nhighlightColor: string;\n```\n\n`myHighlight``highlightColor`\n\n`set``get` `set` \n\n* [getters](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/get)\n* [setters](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/set)\n\n \n \n```ts   \nprivate _defaultColor = 'red';\n@Input() set defaultColor(colorName:string){\n  this._defaultColor = colorName || this._defaultColor;\n}\n```\n\n\n\n```ts   \nprivate highlightColor:string;\n@Input() set myHighlight(colorName:string){\n  this.highlightColor=colorName\n}\n\n@Input('defaultColor')\nprivate _defaultColor = 'red';\n```\n\n\n\n## \n\n`directives``[Redify,HighlightDirective]`\n\napp/app.ts\n\n```ts\nimport {Component} from 'angular2/core';\nimport {bootstrap} from 'angular2/platform/browser';\nimport {Redify} from './directives';\nimport {HighlightDirective} from './highlight.directive';\n\n@Component({\n    selector: \"app\",\n    directives:[Redify,HighlightDirective],\n    template: `\n    redify:\n      <p redify >hello,lewis</p>\n     myHighlight:\n        <div>\n          <input type=\"radio\" name=\"colors\" (click)=\"color='lightgreen'\">Green\n          <input type=\"radio\" name=\"colors\" (click)=\"color='yellow'\">Yellow\n          <input type=\"radio\" name=\"colors\" (click)=\"color='cyan'\">Cyan\n        </div>\n      <p [myHighlight]=\"color\">Highlight me!</p>\n      <p [myHighlight]=\"color\" [defaultColor]=\"'violet'\">Highlight me too!</p>\n    `\n})\nexport class App {\n    constructor() {\n\n    }\n}\n\nbootstrap(App, [])\n    .catch(err => console.error(err));\n    \n```                    \n\n`<p redify >hello,lewis</p>``redify`\n\n`highlight``[]`\n\n```ts\n<p [myHighlight]=\"color\">Highlight me!</p>\n<p [myHighlight]=\"color\" [defaultColor]=\"'violet'\">Highlight me too!</p>\n\n```\n[]hmtl5htmlangular\"html\"\n\n`[myHighlight]=\"color\"``color``myHighlight``[defaultColor]=\"'violet'\"``defaultColor``'violet'`\n\n* * *\n\n## \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>\n\n\n\n","slug":"ng2-attribute-directive","published":1,"updated":"2019-05-01T08:10:29.765Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvlv001ltgyti3vo5oru","content":"<p>ng2Attribute directivesdomcomponents</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/61.jpg\" alt=\"\"></p>\n<p>redifycolorhighlight</p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/directives\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"Directive\"><a href=\"#Directive\" class=\"headerlink\" title=\"@Directive\"></a>@Directive</h2><p><code>&#39;angular2/core&#39;</code><code>Directive</code><code>@Directive</code></p>\n<p>app/directives.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Directive, ElementRef, Renderer&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Directive</span>(&#123;</span><br><span class=\"line\">  selector: <span class=\"string\">'[redify]'</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> Redify &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> _element: ElementRef, <span class=\"keyword\">private</span> renderer: Renderer</span>) &#123;</span><br><span class=\"line\">      renderer.setElementStyle(_element.nativeElement, <span class=\"string\">'color'</span>, <span class=\"string\">'red'</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>@Directive</code><code>redify</code></li>\n<li><code>Redify</code><code>ElementRef</code>dom</li>\n<li><code>Renderer</code>dom<code>color</code></li>\n</ol>\n<p><code>Renderer</code>dom</p>\n<p><a href=\"https://angular.io/docs/ts/latest/api/core/ElementRef-class.html\" target=\"_blank\" rel=\"noopener\">Official docs for ElementRef</a></p>\n<p><a href=\"https://angular.io/docs/ts/latest/api/core/Renderer-class.html\" target=\"_blank\" rel=\"noopener\">Official docs for Renderer</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>host</code></p>\n<p>src/app/highlight.directive.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">host: &#123;</span><br><span class=\"line\">  <span class=\"string\">'(mouseenter)'</span>: <span class=\"string\">'onMouseEnter()'</span>,</span><br><span class=\"line\">  <span class=\"string\">'(mouseleave)'</span>: <span class=\"string\">'onMouseLeave()'</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>@Directive</code><code>host</code><code>host</code><code>host</code></p>\n<p>src/app/highlight.directive.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">onMouseEnter() &#123; <span class=\"keyword\">this</span>._highlight(<span class=\"keyword\">this</span>.highlightColor || <span class=\"keyword\">this</span>._defaultColor); &#125;</span><br><span class=\"line\">onMouseLeave() &#123; <span class=\"keyword\">this</span>._highlight(<span class=\"literal\">null</span>); &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Input\"><a href=\"#Input\" class=\"headerlink\" title=\"@Input\"></a>@Input</h2><p><code>@input</code><code>&#39;angular2/core&#39;</code><code>Input</code></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Input</span>(<span class=\"string\">'myHighlight'</span>) highlightColor: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span> _defaultColor = <span class=\"string\">'red'</span>;</span><br><span class=\"line\"><span class=\"meta\">@Input</span>() <span class=\"keyword\">set</span> defaultColor(colorName:<span class=\"built_in\">string</span>)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>._defaultColor = colorName || <span class=\"keyword\">this</span>._defaultColor;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>highlightColor</code><code>@Input(&#39;myHighlight&#39;)</code><code>myHighlight</code></li>\n<li><code>_defaultColor</code></li>\n<li><p><code>defaultColor</code><code>setter</code><code>_defaultColor</code><code>_defaultColor</code><code>defaultColor</code></p>\n<p>es7python</p>\n</li>\n</ol>\n<p><code>@Input</code></p>\n<p></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Input</span>(<span class=\"string\">'myHighlight'</span>) </span><br><span class=\"line\">highlightColor: <span class=\"built_in\">string</span>;</span><br></pre></td></tr></table></figure>\n<p><code>myHighlight</code><code>highlightColor</code></p>\n<p><code>set</code><code>get</code> <code>set</code> </p>\n<ul>\n<li><a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/get\" target=\"_blank\" rel=\"noopener\">getters</a></li>\n<li><a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/set\" target=\"_blank\" rel=\"noopener\">setters</a></li>\n</ul>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> _defaultColor = <span class=\"string\">'red'</span>;</span><br><span class=\"line\"><span class=\"meta\">@Input</span>() <span class=\"keyword\">set</span> defaultColor(colorName:<span class=\"built_in\">string</span>)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>._defaultColor = colorName || <span class=\"keyword\">this</span>._defaultColor;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> highlightColor:<span class=\"built_in\">string</span>;</span><br><span class=\"line\"><span class=\"meta\">@Input</span>() <span class=\"keyword\">set</span> myHighlight(colorName:<span class=\"built_in\">string</span>)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.highlightColor=colorName</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Input</span>(<span class=\"string\">'defaultColor'</span>)</span><br><span class=\"line\"><span class=\"keyword\">private</span> _defaultColor = <span class=\"string\">'red'</span>;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>directives</code><code>[Redify,HighlightDirective]</code></p>\n<p>app/app.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Component&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;bootstrap&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/platform/browser'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Redify&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./directives'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;HighlightDirective&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./highlight.directive'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">    selector: <span class=\"string\">\"app\"</span>,</span><br><span class=\"line\">    directives:[Redify,HighlightDirective],</span><br><span class=\"line\">    template: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">    redify:</span></span><br><span class=\"line\"><span class=\"string\">      &lt;p redify &gt;hello,lewis&lt;/p&gt;</span></span><br><span class=\"line\"><span class=\"string\">     myHighlight:</span></span><br><span class=\"line\"><span class=\"string\">        &lt;div&gt;</span></span><br><span class=\"line\"><span class=\"string\">          &lt;input type=\"radio\" name=\"colors\" (click)=\"color='lightgreen'\"&gt;Green</span></span><br><span class=\"line\"><span class=\"string\">          &lt;input type=\"radio\" name=\"colors\" (click)=\"color='yellow'\"&gt;Yellow</span></span><br><span class=\"line\"><span class=\"string\">          &lt;input type=\"radio\" name=\"colors\" (click)=\"color='cyan'\"&gt;Cyan</span></span><br><span class=\"line\"><span class=\"string\">        &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;p [myHighlight]=\"color\"&gt;Highlight me!&lt;/p&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;p [myHighlight]=\"color\" [defaultColor]=\"'violet'\"&gt;Highlight me too!&lt;/p&gt;</span></span><br><span class=\"line\"><span class=\"string\">    `</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> App &#123;</span><br><span class=\"line\">    <span class=\"keyword\">constructor</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">bootstrap(App, [])</span><br><span class=\"line\">    .catch(<span class=\"function\"><span class=\"params\">err</span> =&gt;</span> <span class=\"built_in\">console</span>.error(err));</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"string\">``</span><span class=\"string\">`                    </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">`</span>&lt;p redify &gt;hello,lewis&lt;<span class=\"regexp\">/p&gt;``redify`</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">`highlight``[]`</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">```ts</span></span><br><span class=\"line\"><span class=\"regexp\">&lt;p [myHighlight]=\"color\"&gt;Highlight me!&lt;/</span>p&gt;</span><br><span class=\"line\">&lt;p [myHighlight]=<span class=\"string\">\"color\"</span> [defaultColor]=<span class=\"string\">\"'violet'\"</span>&gt;Highlight me too!&lt;<span class=\"regexp\">/p&gt;</span></span><br></pre></td></tr></table></figure>\n<p>[]hmtl5htmlangularhtml</p>\n<p><code>[myHighlight]=&quot;color&quot;</code><code>color</code><code>myHighlight</code><code>[defaultColor]=&quot;&#39;violet&#39;&quot;</code><code>defaultColor</code><code>&#39;violet&#39;</code></p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>\n","site":{"data":{}},"excerpt":"<p>ng2Attribute directivesdomcomponents</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/61.jpg\" alt=\"\"></p>\n<p>redifycolorhighlight</p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/directives\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"Directive\"><a href=\"#Directive\" class=\"headerlink\" title=\"@Directive\"></a>@Directive</h2><p><code>&#39;angular2/core&#39;</code><code>Directive</code><code>@Directive</code></p>\n<p>app/directives.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Directive, ElementRef, Renderer&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Directive</span>(&#123;</span><br><span class=\"line\">  selector: <span class=\"string\">'[redify]'</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> Redify &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> _element: ElementRef, <span class=\"keyword\">private</span> renderer: Renderer</span>) &#123;</span><br><span class=\"line\">      renderer.setElementStyle(_element.nativeElement, <span class=\"string\">'color'</span>, <span class=\"string\">'red'</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>@Directive</code><code>redify</code></li>\n<li><code>Redify</code><code>ElementRef</code>dom</li>\n<li><code>Renderer</code>dom<code>color</code></li>\n</ol>\n<p><code>Renderer</code>dom</p>\n<p><a href=\"https://angular.io/docs/ts/latest/api/core/ElementRef-class.html\" target=\"_blank\" rel=\"noopener\">Official docs for ElementRef</a></p>\n<p><a href=\"https://angular.io/docs/ts/latest/api/core/Renderer-class.html\" target=\"_blank\" rel=\"noopener\">Official docs for Renderer</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>host</code></p>\n<p>src/app/highlight.directive.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">host: &#123;</span><br><span class=\"line\">  <span class=\"string\">'(mouseenter)'</span>: <span class=\"string\">'onMouseEnter()'</span>,</span><br><span class=\"line\">  <span class=\"string\">'(mouseleave)'</span>: <span class=\"string\">'onMouseLeave()'</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>@Directive</code><code>host</code><code>host</code><code>host</code></p>\n<p>src/app/highlight.directive.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">onMouseEnter() &#123; <span class=\"keyword\">this</span>._highlight(<span class=\"keyword\">this</span>.highlightColor || <span class=\"keyword\">this</span>._defaultColor); &#125;</span><br><span class=\"line\">onMouseLeave() &#123; <span class=\"keyword\">this</span>._highlight(<span class=\"literal\">null</span>); &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Input\"><a href=\"#Input\" class=\"headerlink\" title=\"@Input\"></a>@Input</h2><p><code>@input</code><code>&#39;angular2/core&#39;</code><code>Input</code></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Input</span>(<span class=\"string\">'myHighlight'</span>) highlightColor: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span> _defaultColor = <span class=\"string\">'red'</span>;</span><br><span class=\"line\"><span class=\"meta\">@Input</span>() <span class=\"keyword\">set</span> defaultColor(colorName:<span class=\"built_in\">string</span>)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>._defaultColor = colorName || <span class=\"keyword\">this</span>._defaultColor;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>highlightColor</code><code>@Input(&#39;myHighlight&#39;)</code><code>myHighlight</code></li>\n<li><code>_defaultColor</code></li>\n<li><p><code>defaultColor</code><code>setter</code><code>_defaultColor</code><code>_defaultColor</code><code>defaultColor</code></p>\n<p>es7python</p>\n</li>\n</ol>\n<p><code>@Input</code></p>\n<p></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Input</span>(<span class=\"string\">'myHighlight'</span>) </span><br><span class=\"line\">highlightColor: <span class=\"built_in\">string</span>;</span><br></pre></td></tr></table></figure>\n<p><code>myHighlight</code><code>highlightColor</code></p>\n<p><code>set</code><code>get</code> <code>set</code> </p>\n<ul>\n<li><a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/get\" target=\"_blank\" rel=\"noopener\">getters</a></li>\n<li><a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/set\" target=\"_blank\" rel=\"noopener\">setters</a></li>\n</ul>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> _defaultColor = <span class=\"string\">'red'</span>;</span><br><span class=\"line\"><span class=\"meta\">@Input</span>() <span class=\"keyword\">set</span> defaultColor(colorName:<span class=\"built_in\">string</span>)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>._defaultColor = colorName || <span class=\"keyword\">this</span>._defaultColor;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> highlightColor:<span class=\"built_in\">string</span>;</span><br><span class=\"line\"><span class=\"meta\">@Input</span>() <span class=\"keyword\">set</span> myHighlight(colorName:<span class=\"built_in\">string</span>)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.highlightColor=colorName</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Input</span>(<span class=\"string\">'defaultColor'</span>)</span><br><span class=\"line\"><span class=\"keyword\">private</span> _defaultColor = <span class=\"string\">'red'</span>;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>directives</code><code>[Redify,HighlightDirective]</code></p>\n<p>app/app.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Component&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;bootstrap&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/platform/browser'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Redify&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./directives'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;HighlightDirective&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./highlight.directive'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">    selector: <span class=\"string\">\"app\"</span>,</span><br><span class=\"line\">    directives:[Redify,HighlightDirective],</span><br><span class=\"line\">    template: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">    redify:</span></span><br><span class=\"line\"><span class=\"string\">      &lt;p redify &gt;hello,lewis&lt;/p&gt;</span></span><br><span class=\"line\"><span class=\"string\">     myHighlight:</span></span><br><span class=\"line\"><span class=\"string\">        &lt;div&gt;</span></span><br><span class=\"line\"><span class=\"string\">          &lt;input type=\"radio\" name=\"colors\" (click)=\"color='lightgreen'\"&gt;Green</span></span><br><span class=\"line\"><span class=\"string\">          &lt;input type=\"radio\" name=\"colors\" (click)=\"color='yellow'\"&gt;Yellow</span></span><br><span class=\"line\"><span class=\"string\">          &lt;input type=\"radio\" name=\"colors\" (click)=\"color='cyan'\"&gt;Cyan</span></span><br><span class=\"line\"><span class=\"string\">        &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;p [myHighlight]=\"color\"&gt;Highlight me!&lt;/p&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;p [myHighlight]=\"color\" [defaultColor]=\"'violet'\"&gt;Highlight me too!&lt;/p&gt;</span></span><br><span class=\"line\"><span class=\"string\">    `</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> App &#123;</span><br><span class=\"line\">    <span class=\"keyword\">constructor</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">bootstrap(App, [])</span><br><span class=\"line\">    .catch(<span class=\"function\"><span class=\"params\">err</span> =&gt;</span> <span class=\"built_in\">console</span>.error(err));</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"string\">``</span><span class=\"string\">`                    </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">`</span>&lt;p redify &gt;hello,lewis&lt;<span class=\"regexp\">/p&gt;``redify`</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">`highlight``[]`</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">```ts</span></span><br><span class=\"line\"><span class=\"regexp\">&lt;p [myHighlight]=\"color\"&gt;Highlight me!&lt;/</span>p&gt;</span><br><span class=\"line\">&lt;p [myHighlight]=<span class=\"string\">\"color\"</span> [defaultColor]=<span class=\"string\">\"'violet'\"</span>&gt;Highlight me too!&lt;<span class=\"regexp\">/p&gt;</span></span><br></pre></td></tr></table></figure>\n<p>[]hmtl5htmlangularhtml</p>\n<p><code>[myHighlight]=&quot;color&quot;</code><code>color</code><code>myHighlight</code><code>[defaultColor]=&quot;&#39;violet&#39;&quot;</code><code>defaultColor</code><code>&#39;violet&#39;</code></p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>"},{"title":"Angular2 JsonpURLSearchParams","date":"2016-03-21T00:54:00.000Z","_content":"\nhttpng2JsonpURLSearchParamsobservable\n\n<!--more-->\n\n# \n\n![](/css/images/65.jpg)\n\nwikiapi300observable\n\n\n\nhttp\n\n```sh\nhttp-server\n```\n\nhttp-server\n\n```sh\nsudo  npm install http-server -g\n```\n\n\n\nhttps://github.com/lewis617/angular2-tutorial/tree/gh-pages/http\n\ndemo\n\nhttp://lewis617.github.io/angular2-tutorial/http\n\n# Jsonp\n\nobservableapi\n\napp/wiki/wikipedia.service.ts\n\n```ts\nimport {Injectable} from 'angular2/core';\nimport {Jsonp, URLSearchParams} from 'angular2/http';\n\n@Injectable()\nexport class WikipediaService {\n  constructor(private jsonp: Jsonp) {}\n\n  search (term: string) {\n\n    let wikiUrl = 'http://en.wikipedia.org/w/api.php';\n\n    var params = new URLSearchParams();\n    params.set('search', term); // the user's search value\n    params.set('action', 'opensearch');\n    params.set('format', 'json');\n    params.set('callback', 'JSONP_CALLBACK');\n\n    // TODO: Add error handling\n    return this.jsonp\n               .get(wikiUrl, { search: params })\n               .map(request => <string[]> request.json()[1]);\n  }\n}\n```\n\n\n\n  1. api\n  2. `Injectable`\n  3. `Jsonp`\n  4. `search`\n\n`jsonp`\n\n```ts\nimport {JSONP_PROVIDERS} from 'angular2/http';\n```\n\n\napp/wiki/wiki.component.tsapp/wiki/wiki-smart.component.ts\n\n```ts\nproviders:[JSONP_PROVIDERS, WikipediaService]\n```\n\n\n\n# URLSearchParams\n\n\n\n```ts\nimport {Jsonp, URLSearchParams} from 'angular2/http';\n```\n\nhttpapi`URLSearchParams`\n\nqsurl `` `&` \n\n```ts\n    \nlet queryString =\n  `?search=${term}&action=opensearch&format=json&callback=JSONP_CALLBACK`\n\nreturn this.jsonp\n           .get(wikiUrl + queryString)\n           .map(request => <string[]> request.json()[1]);\n```\n\n`URLSearchParams`qsng2`URLSearchParams`\n\n# \n\n\n\napp/wiki/wiki.component.ts\n\n```ts\nitems: Observable<string[]>;\n\nsearch (term: string) {\n  this.items = this._wikipediaService.search(term);\n}\n\n```\n\n`items`Observable`search``term`apiobservableobservable`items`observable\n\napp/wiki/wiki.component.ts\n\n```ts\n<input #term (keyup)=\"search(term.value)\"/>\n\n<ul>\n  <li *ngFor=\"#item of items | async\">{{item}}</li>\n</ul>\n```\n\n`async`\n\n# \n\n300observablepromise\n\napp/wiki/wiki-smart.component.ts\n\n```ts    \nprivate _searchTermStream = new Subject<string>();\n\n search(term:string) { this._searchTermStream.next(term); }\n\n items:Observable<string[]> = this._searchTermStream\n   .debounceTime(300)\n   .distinctUntilChanged()\n   .switchMap((term:string) => this._wikipediaService.search(term));\n```\n\n`searchTermStream``Subject`[](https://github.com/Reactive-Extensions/RxJS/blob/master/doc/gettingstarted/subjects.md)\n\n`Subject``searchTermStream`next`searchTermStream`\n\n`searchTermStream`observable`debounceTime`api300300\n\n<https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/debounce.md>\n\n`distinctUntilChanged`api\"angular\"\"angularrrrr\"\"angular\"\"angular\"`distinctUntilChanged`apipromise\n\nhttps://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/distinctuntilchanged.md\n\napi`switchMap`[flatmaplatest](https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/flatmaplatest.md)\n\nhttps://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/flatmaplatest.md\n\nobservableapi\n\nhttps://github.com/Reactive-Extensions/RxJS/tree/master/doc/api/core/operators\n\n* * *\n\n# \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>\n\n","source":"_posts/ng2-http-2.md","raw":"---\ntitle: Angular2 JsonpURLSearchParams\ndate: 2016-03-21 08:54:00\ntags: [Angular2]\n---\n\nhttpng2JsonpURLSearchParamsobservable\n\n<!--more-->\n\n# \n\n![](/css/images/65.jpg)\n\nwikiapi300observable\n\n\n\nhttp\n\n```sh\nhttp-server\n```\n\nhttp-server\n\n```sh\nsudo  npm install http-server -g\n```\n\n\n\nhttps://github.com/lewis617/angular2-tutorial/tree/gh-pages/http\n\ndemo\n\nhttp://lewis617.github.io/angular2-tutorial/http\n\n# Jsonp\n\nobservableapi\n\napp/wiki/wikipedia.service.ts\n\n```ts\nimport {Injectable} from 'angular2/core';\nimport {Jsonp, URLSearchParams} from 'angular2/http';\n\n@Injectable()\nexport class WikipediaService {\n  constructor(private jsonp: Jsonp) {}\n\n  search (term: string) {\n\n    let wikiUrl = 'http://en.wikipedia.org/w/api.php';\n\n    var params = new URLSearchParams();\n    params.set('search', term); // the user's search value\n    params.set('action', 'opensearch');\n    params.set('format', 'json');\n    params.set('callback', 'JSONP_CALLBACK');\n\n    // TODO: Add error handling\n    return this.jsonp\n               .get(wikiUrl, { search: params })\n               .map(request => <string[]> request.json()[1]);\n  }\n}\n```\n\n\n\n  1. api\n  2. `Injectable`\n  3. `Jsonp`\n  4. `search`\n\n`jsonp`\n\n```ts\nimport {JSONP_PROVIDERS} from 'angular2/http';\n```\n\n\napp/wiki/wiki.component.tsapp/wiki/wiki-smart.component.ts\n\n```ts\nproviders:[JSONP_PROVIDERS, WikipediaService]\n```\n\n\n\n# URLSearchParams\n\n\n\n```ts\nimport {Jsonp, URLSearchParams} from 'angular2/http';\n```\n\nhttpapi`URLSearchParams`\n\nqsurl `` `&` \n\n```ts\n    \nlet queryString =\n  `?search=${term}&action=opensearch&format=json&callback=JSONP_CALLBACK`\n\nreturn this.jsonp\n           .get(wikiUrl + queryString)\n           .map(request => <string[]> request.json()[1]);\n```\n\n`URLSearchParams`qsng2`URLSearchParams`\n\n# \n\n\n\napp/wiki/wiki.component.ts\n\n```ts\nitems: Observable<string[]>;\n\nsearch (term: string) {\n  this.items = this._wikipediaService.search(term);\n}\n\n```\n\n`items`Observable`search``term`apiobservableobservable`items`observable\n\napp/wiki/wiki.component.ts\n\n```ts\n<input #term (keyup)=\"search(term.value)\"/>\n\n<ul>\n  <li *ngFor=\"#item of items | async\">{{item}}</li>\n</ul>\n```\n\n`async`\n\n# \n\n300observablepromise\n\napp/wiki/wiki-smart.component.ts\n\n```ts    \nprivate _searchTermStream = new Subject<string>();\n\n search(term:string) { this._searchTermStream.next(term); }\n\n items:Observable<string[]> = this._searchTermStream\n   .debounceTime(300)\n   .distinctUntilChanged()\n   .switchMap((term:string) => this._wikipediaService.search(term));\n```\n\n`searchTermStream``Subject`[](https://github.com/Reactive-Extensions/RxJS/blob/master/doc/gettingstarted/subjects.md)\n\n`Subject``searchTermStream`next`searchTermStream`\n\n`searchTermStream`observable`debounceTime`api300300\n\n<https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/debounce.md>\n\n`distinctUntilChanged`api\"angular\"\"angularrrrr\"\"angular\"\"angular\"`distinctUntilChanged`apipromise\n\nhttps://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/distinctuntilchanged.md\n\napi`switchMap`[flatmaplatest](https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/flatmaplatest.md)\n\nhttps://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/flatmaplatest.md\n\nobservableapi\n\nhttps://github.com/Reactive-Extensions/RxJS/tree/master/doc/api/core/operators\n\n* * *\n\n# \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>\n\n","slug":"ng2-http-2","published":1,"updated":"2019-05-01T08:10:29.825Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvlw001otgyt5zscodws","content":"<p>httpng2JsonpURLSearchParamsobservable</p>\n<a id=\"more\"></a>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><img src=\"/css/images/65.jpg\" alt=\"\"></p>\n<p>wikiapi300observable</p>\n<p></p>\n<p>http</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http-server</span><br></pre></td></tr></table></figure>\n<p>http-server</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo  npm install http-server -g</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/http\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial/tree/gh-pages/http</a></p>\n<p>demo</p>\n<p><a href=\"http://lewis617.github.io/angular2-tutorial/http\" target=\"_blank\" rel=\"noopener\">http://lewis617.github.io/angular2-tutorial/http</a></p>\n<h1 id=\"Jsonp\"><a href=\"#Jsonp\" class=\"headerlink\" title=\"Jsonp\"></a>Jsonp</h1><p>observableapi</p>\n<p>app/wiki/wikipedia.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Injectable&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Jsonp, URLSearchParams&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/http'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> WikipediaService &#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> jsonp: Jsonp</span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  search (term: <span class=\"built_in\">string</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">let</span> wikiUrl = <span class=\"string\">'http://en.wikipedia.org/w/api.php'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> params = <span class=\"keyword\">new</span> URLSearchParams();</span><br><span class=\"line\">    params.set(<span class=\"string\">'search'</span>, term); <span class=\"comment\">// the user's search value</span></span><br><span class=\"line\">    params.set(<span class=\"string\">'action'</span>, <span class=\"string\">'opensearch'</span>);</span><br><span class=\"line\">    params.set(<span class=\"string\">'format'</span>, <span class=\"string\">'json'</span>);</span><br><span class=\"line\">    params.set(<span class=\"string\">'callback'</span>, <span class=\"string\">'JSONP_CALLBACK'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Add error handling</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.jsonp</span><br><span class=\"line\">               .get(wikiUrl, &#123; search: params &#125;)</span><br><span class=\"line\">               .map(<span class=\"function\"><span class=\"params\">request</span> =&gt;</span> &lt;<span class=\"built_in\">string</span>[]&gt; request.json()[<span class=\"number\">1</span>]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li>api</li>\n<li><code>Injectable</code></li>\n<li><code>Jsonp</code></li>\n<li><code>search</code></li>\n</ol>\n<p><code>jsonp</code></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;JSONP_PROVIDERS&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/http'</span>;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>app/wiki/wiki.component.tsapp/wiki/wiki-smart.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">providers:[JSONP_PROVIDERS, WikipediaService]</span><br></pre></td></tr></table></figure>\n<p></p>\n<h1 id=\"URLSearchParams\"><a href=\"#URLSearchParams\" class=\"headerlink\" title=\"URLSearchParams\"></a>URLSearchParams</h1><p></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Jsonp, URLSearchParams&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/http'</span>;</span><br></pre></td></tr></table></figure>\n<p>httpapi<code>URLSearchParams</code></p>\n<p>qsurl <code></code> <code>&amp;</code> </p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    </span><br><span class=\"line\"><span class=\"keyword\">let</span> queryString =</span><br><span class=\"line\">  <span class=\"string\">`?search=<span class=\"subst\">$&#123;term&#125;</span>&amp;action=opensearch&amp;format=json&amp;callback=JSONP_CALLBACK`</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.jsonp</span><br><span class=\"line\">           .get(wikiUrl + queryString)</span><br><span class=\"line\">           .map(<span class=\"function\"><span class=\"params\">request</span> =&gt;</span> &lt;<span class=\"built_in\">string</span>[]&gt; request.json()[<span class=\"number\">1</span>]);</span><br></pre></td></tr></table></figure>\n<p><code>URLSearchParams</code>qsng2<code>URLSearchParams</code></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p>app/wiki/wiki.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">items: Observable&lt;<span class=\"built_in\">string</span>[]&gt;;</span><br><span class=\"line\"></span><br><span class=\"line\">search (term: <span class=\"built_in\">string</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.items = <span class=\"keyword\">this</span>._wikipediaService.search(term);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>items</code>Observable<code>search</code><code>term</code>apiobservableobservable<code>items</code>observable</p>\n<p>app/wiki/wiki.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;input #term (keyup)=<span class=\"string\">\"search(term.value)\"</span>/&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;ul&gt;</span><br><span class=\"line\">  &lt;li *ngFor=<span class=\"string\">\"#item of items | async\"</span>&gt;&#123;&#123;item&#125;&#125;&lt;<span class=\"regexp\">/li&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">&lt;/u</span>l&gt;</span><br></pre></td></tr></table></figure>\n<p><code>async</code></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>300observablepromise</p>\n<p>app/wiki/wiki-smart.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> _searchTermStream = <span class=\"keyword\">new</span> Subject&lt;<span class=\"built_in\">string</span>&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\"> search(term:<span class=\"built_in\">string</span>) &#123; <span class=\"keyword\">this</span>._searchTermStream.next(term); &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"> items:Observable&lt;<span class=\"built_in\">string</span>[]&gt; = <span class=\"keyword\">this</span>._searchTermStream</span><br><span class=\"line\">   .debounceTime(<span class=\"number\">300</span>)</span><br><span class=\"line\">   .distinctUntilChanged()</span><br><span class=\"line\">   .switchMap(<span class=\"function\">(<span class=\"params\">term:<span class=\"built_in\">string</span></span>) =&gt;</span> <span class=\"keyword\">this</span>._wikipediaService.search(term));</span><br></pre></td></tr></table></figure>\n<p><code>searchTermStream</code><code>Subject</code><a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/gettingstarted/subjects.md\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><code>Subject</code><code>searchTermStream</code>next<code>searchTermStream</code></p>\n<p><code>searchTermStream</code>observable<code>debounceTime</code>api300300</p>\n<p><a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/debounce.md\" target=\"_blank\" rel=\"noopener\">https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/debounce.md</a></p>\n<p><code>distinctUntilChanged</code>apiangularangularrrrrangularangular<code>distinctUntilChanged</code>apipromise</p>\n<p><a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/distinctuntilchanged.md\" target=\"_blank\" rel=\"noopener\">https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/distinctuntilchanged.md</a></p>\n<p>api<code>switchMap</code><a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/flatmaplatest.md\" target=\"_blank\" rel=\"noopener\">flatmaplatest</a></p>\n<p><a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/flatmaplatest.md\" target=\"_blank\" rel=\"noopener\">https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/flatmaplatest.md</a></p>\n<p>observableapi</p>\n<p><a href=\"https://github.com/Reactive-Extensions/RxJS/tree/master/doc/api/core/operators\" target=\"_blank\" rel=\"noopener\">https://github.com/Reactive-Extensions/RxJS/tree/master/doc/api/core/operators</a></p>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>\n","site":{"data":{}},"excerpt":"<p>httpng2JsonpURLSearchParamsobservable</p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><img src=\"/css/images/65.jpg\" alt=\"\"></p>\n<p>wikiapi300observable</p>\n<p></p>\n<p>http</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http-server</span><br></pre></td></tr></table></figure>\n<p>http-server</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo  npm install http-server -g</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/http\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial/tree/gh-pages/http</a></p>\n<p>demo</p>\n<p><a href=\"http://lewis617.github.io/angular2-tutorial/http\" target=\"_blank\" rel=\"noopener\">http://lewis617.github.io/angular2-tutorial/http</a></p>\n<h1 id=\"Jsonp\"><a href=\"#Jsonp\" class=\"headerlink\" title=\"Jsonp\"></a>Jsonp</h1><p>observableapi</p>\n<p>app/wiki/wikipedia.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Injectable&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Jsonp, URLSearchParams&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/http'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> WikipediaService &#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> jsonp: Jsonp</span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  search (term: <span class=\"built_in\">string</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">let</span> wikiUrl = <span class=\"string\">'http://en.wikipedia.org/w/api.php'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> params = <span class=\"keyword\">new</span> URLSearchParams();</span><br><span class=\"line\">    params.set(<span class=\"string\">'search'</span>, term); <span class=\"comment\">// the user's search value</span></span><br><span class=\"line\">    params.set(<span class=\"string\">'action'</span>, <span class=\"string\">'opensearch'</span>);</span><br><span class=\"line\">    params.set(<span class=\"string\">'format'</span>, <span class=\"string\">'json'</span>);</span><br><span class=\"line\">    params.set(<span class=\"string\">'callback'</span>, <span class=\"string\">'JSONP_CALLBACK'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Add error handling</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.jsonp</span><br><span class=\"line\">               .get(wikiUrl, &#123; search: params &#125;)</span><br><span class=\"line\">               .map(<span class=\"function\"><span class=\"params\">request</span> =&gt;</span> &lt;<span class=\"built_in\">string</span>[]&gt; request.json()[<span class=\"number\">1</span>]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li>api</li>\n<li><code>Injectable</code></li>\n<li><code>Jsonp</code></li>\n<li><code>search</code></li>\n</ol>\n<p><code>jsonp</code></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;JSONP_PROVIDERS&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/http'</span>;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>app/wiki/wiki.component.tsapp/wiki/wiki-smart.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">providers:[JSONP_PROVIDERS, WikipediaService]</span><br></pre></td></tr></table></figure>\n<p></p>\n<h1 id=\"URLSearchParams\"><a href=\"#URLSearchParams\" class=\"headerlink\" title=\"URLSearchParams\"></a>URLSearchParams</h1><p></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Jsonp, URLSearchParams&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/http'</span>;</span><br></pre></td></tr></table></figure>\n<p>httpapi<code>URLSearchParams</code></p>\n<p>qsurl <code></code> <code>&amp;</code> </p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    </span><br><span class=\"line\"><span class=\"keyword\">let</span> queryString =</span><br><span class=\"line\">  <span class=\"string\">`?search=<span class=\"subst\">$&#123;term&#125;</span>&amp;action=opensearch&amp;format=json&amp;callback=JSONP_CALLBACK`</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.jsonp</span><br><span class=\"line\">           .get(wikiUrl + queryString)</span><br><span class=\"line\">           .map(<span class=\"function\"><span class=\"params\">request</span> =&gt;</span> &lt;<span class=\"built_in\">string</span>[]&gt; request.json()[<span class=\"number\">1</span>]);</span><br></pre></td></tr></table></figure>\n<p><code>URLSearchParams</code>qsng2<code>URLSearchParams</code></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p>app/wiki/wiki.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">items: Observable&lt;<span class=\"built_in\">string</span>[]&gt;;</span><br><span class=\"line\"></span><br><span class=\"line\">search (term: <span class=\"built_in\">string</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.items = <span class=\"keyword\">this</span>._wikipediaService.search(term);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>items</code>Observable<code>search</code><code>term</code>apiobservableobservable<code>items</code>observable</p>\n<p>app/wiki/wiki.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;input #term (keyup)=<span class=\"string\">\"search(term.value)\"</span>/&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;ul&gt;</span><br><span class=\"line\">  &lt;li *ngFor=<span class=\"string\">\"#item of items | async\"</span>&gt;&#123;&#123;item&#125;&#125;&lt;<span class=\"regexp\">/li&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">&lt;/u</span>l&gt;</span><br></pre></td></tr></table></figure>\n<p><code>async</code></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>300observablepromise</p>\n<p>app/wiki/wiki-smart.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> _searchTermStream = <span class=\"keyword\">new</span> Subject&lt;<span class=\"built_in\">string</span>&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\"> search(term:<span class=\"built_in\">string</span>) &#123; <span class=\"keyword\">this</span>._searchTermStream.next(term); &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"> items:Observable&lt;<span class=\"built_in\">string</span>[]&gt; = <span class=\"keyword\">this</span>._searchTermStream</span><br><span class=\"line\">   .debounceTime(<span class=\"number\">300</span>)</span><br><span class=\"line\">   .distinctUntilChanged()</span><br><span class=\"line\">   .switchMap(<span class=\"function\">(<span class=\"params\">term:<span class=\"built_in\">string</span></span>) =&gt;</span> <span class=\"keyword\">this</span>._wikipediaService.search(term));</span><br></pre></td></tr></table></figure>\n<p><code>searchTermStream</code><code>Subject</code><a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/gettingstarted/subjects.md\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><code>Subject</code><code>searchTermStream</code>next<code>searchTermStream</code></p>\n<p><code>searchTermStream</code>observable<code>debounceTime</code>api300300</p>\n<p><a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/debounce.md\" target=\"_blank\" rel=\"noopener\">https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/debounce.md</a></p>\n<p><code>distinctUntilChanged</code>apiangularangularrrrrangularangular<code>distinctUntilChanged</code>apipromise</p>\n<p><a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/distinctuntilchanged.md\" target=\"_blank\" rel=\"noopener\">https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/distinctuntilchanged.md</a></p>\n<p>api<code>switchMap</code><a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/flatmaplatest.md\" target=\"_blank\" rel=\"noopener\">flatmaplatest</a></p>\n<p><a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/flatmaplatest.md\" target=\"_blank\" rel=\"noopener\">https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/flatmaplatest.md</a></p>\n<p>observableapi</p>\n<p><a href=\"https://github.com/Reactive-Extensions/RxJS/tree/master/doc/api/core/operators\" target=\"_blank\" rel=\"noopener\">https://github.com/Reactive-Extensions/RxJS/tree/master/doc/api/core/operators</a></p>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>"},{"title":"Angular2 In-memory web apiHTTPObservable","date":"2016-03-20T23:30:00.000Z","_content":"\n ng2httpng2\n\nindex.html\n\n```html\n<script src=\"lib/http.dev.js\"></script>\n```\n\n<!--more-->\n\n## \n\n![](/css/images/64.jpg)\n\n\n\n  1. \n  2. wiki\n\nhttpgethttppost\n\nwiki300jsonp\n\n\n\nhttp\n\n```sh\nhttp-server\n```\n\nhttp-server\n\n```sh\nsudo  npm install http-server -g\n```\n\n\n\nhttps://github.com/lewis617/angular2-tutorial/tree/gh-pages/http\n\ndemo\n\nhttp://lewis617.github.io/angular2-tutorial/http\n\n## In-memory web api\n\n[a2-in-memory-web-api](https://github.com/wardbell/a2-in-memory-web-api)  \n\nng2apiapiapi  \n\n\n\nindex.html\n\n```html    \n<script src=\"lib/web-api.js\"></script>\n```\n\n\n\napp/toh/toh.component.ts\n\n```ts\n// in-memory web api providers\nprovide(XHRBackend, { useClass: InMemoryBackendService }), // in-mem server\nprovide(SEED_DATA,  { useClass: HeroData }) // in-mem server data\n```\n\n`XHRBackend``SEED_DATA``XHRBackend``InMemoryBackendService`provider`SEED_DATA``HeroData`provider`HeroData`\n\napp/hero-data.ts\n\n```ts\nexport class HeroData {\n  createDb() {\n    let heroes = [\n      { \"id\": \"1\", \"name\": \"Windstorm\" },\n      { \"id\": \"2\", \"name\": \"Bombasto\" },\n      { \"id\": \"3\", \"name\": \"Magneta\" },\n      { \"id\": \"4\", \"name\": \"Tornado\" }\n    ];\n    return {heroes};\n  }\n}\n```\n`createDB`webapi\n\nprovider~~providerprovideng2api~~\n\n~~https://angular.io/docs/ts/latest/api/core/provide-function.html~~\n\nprovider \napi`app/heroes`urlgetposturl\n\napp/hero-data.ts\n\n```ts   \nreturn {heroes};\n```\n`heroes1``heroes2`\n\n## HTTP\n\napiaping2httphttpng2http\n\njs\n\nindex.html\n\n```html\n<script src=\"lib/http.dev.js\"></script>\n```\n\n \n\napp/toh/toh.component.ts\n\n```ts    \nHTTP_PROVIDERS,\n```\n\nHTTP\n\napp/toh/hero.service.ts\n\n```ts\nexport class HeroService {\n  constructor (private http: Http) {}\n}\n```\napp/toh/hero.service.ts\n\n```ts\nthis.http.get(this._heroesUrl)\n```\n\napp/toh/hero.service.ts\n\n```ts\nthis.http.post(this._heroesUrl, body, options)\n```\n## ng2\n\nhttp\"\"\n\nng1ng2\n\n~~importrequire~~\n\n~~~~\n\n~~~~\n\n  ~~1. ~~\n  ~~2. ~~\n\n\n\n\n\n 1. NgModule  NgModule \n 2. \n\n\n\n\n\n\"\"\"\"\n\nHTTP\"\"\n\n## **Observable**\n\nhttp`map()`\n\napp/toh/hero.service.ts\n\n```ts\nthis.http.get(this._heroesUrl)  \n         .map(res => <Hero[]> res.json().data)  \n         .do(data => console.log(data)) // eyeball results in the console\n```\n\nPromise`then``map()`PromiseObservable\n\nRx.jspromise\n\nObservable Promise\n\n  1. Observable Promise\n  2. Observable Promise\n\n\n\n`this.http.get(this._heroesUrl)`Obeservable`map()``filter`observable\n\n\"\"observable\"\"\n\nobservable`subscribe`\n\napp/toh/hero-list.component.ts\n\n```ts\nthis._heroService.getHeroes()\n         .subscribe(\n           heroes => this.heroes = heroes,\n           error =>  this.errorMessage = <any>error\n         );\n```\nobservableapi\n\n  1. `map()`\n  2. `filter()`\n  3. `do()`console\n  4. `catch()`\n  5. `subscribe()`\n\nhttp\"\"observableapi\n\n* * *\n\n## \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>\n\n\n\n","source":"_posts/ng2-http-1.md","raw":"---\ntitle: Angular2 In-memory web apiHTTPObservable\ndate: 2016-03-21 07:30:00\ntags: [Angular2]\n---\n\n ng2httpng2\n\nindex.html\n\n```html\n<script src=\"lib/http.dev.js\"></script>\n```\n\n<!--more-->\n\n## \n\n![](/css/images/64.jpg)\n\n\n\n  1. \n  2. wiki\n\nhttpgethttppost\n\nwiki300jsonp\n\n\n\nhttp\n\n```sh\nhttp-server\n```\n\nhttp-server\n\n```sh\nsudo  npm install http-server -g\n```\n\n\n\nhttps://github.com/lewis617/angular2-tutorial/tree/gh-pages/http\n\ndemo\n\nhttp://lewis617.github.io/angular2-tutorial/http\n\n## In-memory web api\n\n[a2-in-memory-web-api](https://github.com/wardbell/a2-in-memory-web-api)  \n\nng2apiapiapi  \n\n\n\nindex.html\n\n```html    \n<script src=\"lib/web-api.js\"></script>\n```\n\n\n\napp/toh/toh.component.ts\n\n```ts\n// in-memory web api providers\nprovide(XHRBackend, { useClass: InMemoryBackendService }), // in-mem server\nprovide(SEED_DATA,  { useClass: HeroData }) // in-mem server data\n```\n\n`XHRBackend``SEED_DATA``XHRBackend``InMemoryBackendService`provider`SEED_DATA``HeroData`provider`HeroData`\n\napp/hero-data.ts\n\n```ts\nexport class HeroData {\n  createDb() {\n    let heroes = [\n      { \"id\": \"1\", \"name\": \"Windstorm\" },\n      { \"id\": \"2\", \"name\": \"Bombasto\" },\n      { \"id\": \"3\", \"name\": \"Magneta\" },\n      { \"id\": \"4\", \"name\": \"Tornado\" }\n    ];\n    return {heroes};\n  }\n}\n```\n`createDB`webapi\n\nprovider~~providerprovideng2api~~\n\n~~https://angular.io/docs/ts/latest/api/core/provide-function.html~~\n\nprovider \napi`app/heroes`urlgetposturl\n\napp/hero-data.ts\n\n```ts   \nreturn {heroes};\n```\n`heroes1``heroes2`\n\n## HTTP\n\napiaping2httphttpng2http\n\njs\n\nindex.html\n\n```html\n<script src=\"lib/http.dev.js\"></script>\n```\n\n \n\napp/toh/toh.component.ts\n\n```ts    \nHTTP_PROVIDERS,\n```\n\nHTTP\n\napp/toh/hero.service.ts\n\n```ts\nexport class HeroService {\n  constructor (private http: Http) {}\n}\n```\napp/toh/hero.service.ts\n\n```ts\nthis.http.get(this._heroesUrl)\n```\n\napp/toh/hero.service.ts\n\n```ts\nthis.http.post(this._heroesUrl, body, options)\n```\n## ng2\n\nhttp\"\"\n\nng1ng2\n\n~~importrequire~~\n\n~~~~\n\n~~~~\n\n  ~~1. ~~\n  ~~2. ~~\n\n\n\n\n\n 1. NgModule  NgModule \n 2. \n\n\n\n\n\n\"\"\"\"\n\nHTTP\"\"\n\n## **Observable**\n\nhttp`map()`\n\napp/toh/hero.service.ts\n\n```ts\nthis.http.get(this._heroesUrl)  \n         .map(res => <Hero[]> res.json().data)  \n         .do(data => console.log(data)) // eyeball results in the console\n```\n\nPromise`then``map()`PromiseObservable\n\nRx.jspromise\n\nObservable Promise\n\n  1. Observable Promise\n  2. Observable Promise\n\n\n\n`this.http.get(this._heroesUrl)`Obeservable`map()``filter`observable\n\n\"\"observable\"\"\n\nobservable`subscribe`\n\napp/toh/hero-list.component.ts\n\n```ts\nthis._heroService.getHeroes()\n         .subscribe(\n           heroes => this.heroes = heroes,\n           error =>  this.errorMessage = <any>error\n         );\n```\nobservableapi\n\n  1. `map()`\n  2. `filter()`\n  3. `do()`console\n  4. `catch()`\n  5. `subscribe()`\n\nhttp\"\"observableapi\n\n* * *\n\n## \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>\n\n\n\n","slug":"ng2-http-1","published":1,"updated":"2019-05-01T08:10:29.807Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvlx001qtgytrnw083fg","content":"<p> ng2httpng2</p>\n<p>index.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"lib/http.dev.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/64.jpg\" alt=\"\"></p>\n<p></p>\n<ol>\n<li></li>\n<li>wiki</li>\n</ol>\n<p>httpgethttppost</p>\n<p>wiki300jsonp</p>\n<p></p>\n<p>http</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http-server</span><br></pre></td></tr></table></figure>\n<p>http-server</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo  npm install http-server -g</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/http\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial/tree/gh-pages/http</a></p>\n<p>demo</p>\n<p><a href=\"http://lewis617.github.io/angular2-tutorial/http\" target=\"_blank\" rel=\"noopener\">http://lewis617.github.io/angular2-tutorial/http</a></p>\n<h2 id=\"In-memory-web-api\"><a href=\"#In-memory-web-api\" class=\"headerlink\" title=\"In-memory web api\"></a>In-memory web api</h2><p><a href=\"https://github.com/wardbell/a2-in-memory-web-api\" target=\"_blank\" rel=\"noopener\">a2-in-memory-web-api</a>  </p>\n<p>ng2apiapiapi  </p>\n<p></p>\n<p>index.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"lib/web-api.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<p>app/toh/toh.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// in-memory web api providers</span></span><br><span class=\"line\">provide(XHRBackend, &#123; useClass: InMemoryBackendService &#125;), <span class=\"comment\">// in-mem server</span></span><br><span class=\"line\">provide(SEED_DATA,  &#123; useClass: HeroData &#125;) <span class=\"comment\">// in-mem server data</span></span><br></pre></td></tr></table></figure>\n<p><code>XHRBackend</code><code>SEED_DATA</code><code>XHRBackend</code><code>InMemoryBackendService</code>provider<code>SEED_DATA</code><code>HeroData</code>provider<code>HeroData</code></p>\n<p>app/hero-data.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> HeroData &#123;</span><br><span class=\"line\">  createDb() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> heroes = [</span><br><span class=\"line\">      &#123; <span class=\"string\">\"id\"</span>: <span class=\"string\">\"1\"</span>, <span class=\"string\">\"name\"</span>: <span class=\"string\">\"Windstorm\"</span> &#125;,</span><br><span class=\"line\">      &#123; <span class=\"string\">\"id\"</span>: <span class=\"string\">\"2\"</span>, <span class=\"string\">\"name\"</span>: <span class=\"string\">\"Bombasto\"</span> &#125;,</span><br><span class=\"line\">      &#123; <span class=\"string\">\"id\"</span>: <span class=\"string\">\"3\"</span>, <span class=\"string\">\"name\"</span>: <span class=\"string\">\"Magneta\"</span> &#125;,</span><br><span class=\"line\">      &#123; <span class=\"string\">\"id\"</span>: <span class=\"string\">\"4\"</span>, <span class=\"string\">\"name\"</span>: <span class=\"string\">\"Tornado\"</span> &#125;</span><br><span class=\"line\">    ];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;heroes&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>createDB</code>webapi</p>\n<p>provider<del>providerprovideng2api</del></p>\n<p><del><a href=\"https://angular.io/docs/ts/latest/api/core/provide-function.html\" target=\"_blank\" rel=\"noopener\">https://angular.io/docs/ts/latest/api/core/provide-function.html</a></del></p>\n<p>provider <br>api<code>app/heroes</code>urlgetposturl</p>\n<p>app/hero-data.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">return</span> &#123;heroes&#125;;</span><br></pre></td></tr></table></figure>\n<p><code>heroes1</code><code>heroes2</code></p>\n<h2 id=\"HTTP\"><a href=\"#HTTP\" class=\"headerlink\" title=\"HTTP\"></a>HTTP</h2><p>apiaping2httphttpng2http</p>\n<p>js</p>\n<p>index.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"lib/http.dev.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p> </p>\n<p>app/toh/toh.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP_PROVIDERS,</span><br></pre></td></tr></table></figure>\n<p>HTTP</p>\n<p>app/toh/hero.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> HeroService &#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span> (<span class=\"params\"><span class=\"keyword\">private</span> http: Http</span>) &#123;&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>app/toh/hero.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.http.get(<span class=\"keyword\">this</span>._heroesUrl)</span><br></pre></td></tr></table></figure>\n<p>app/toh/hero.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.http.post(<span class=\"keyword\">this</span>._heroesUrl, body, options)</span><br></pre></td></tr></table></figure>\n<h2 id=\"ng2\"><a href=\"#ng2\" class=\"headerlink\" title=\"ng2\"></a>ng2</h2><p>http</p>\n<p>ng1ng2</p>\n<p><del>importrequire</del></p>\n<p><del></del></p>\n<p><del></del></p>\n<p>  <del>1. </del><br>  <del>2. </del></p>\n<p></p>\n<p></p>\n<ol>\n<li>NgModule  NgModule </li>\n<li></li>\n</ol>\n<p></p>\n<p></p>\n<p></p>\n<p>HTTP</p>\n<h2 id=\"Observable\"><a href=\"#Observable\" class=\"headerlink\" title=\"Observable\"></a><strong>Observable</strong></h2><p>http<code>map()</code></p>\n<p>app/toh/hero.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.http.get(<span class=\"keyword\">this</span>._heroesUrl)  </span><br><span class=\"line\">         .map(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &lt;Hero[]&gt; res.json().data)  </span><br><span class=\"line\">         .do(<span class=\"function\"><span class=\"params\">data</span> =&gt;</span> <span class=\"built_in\">console</span>.log(data)) <span class=\"comment\">// eyeball results in the console</span></span><br></pre></td></tr></table></figure>\n<p>Promise<code>then</code><code>map()</code>PromiseObservable</p>\n<p>Rx.jspromise</p>\n<p>Observable Promise</p>\n<ol>\n<li>Observable Promise</li>\n<li>Observable Promise</li>\n</ol>\n<p></p>\n<p><code>this.http.get(this._heroesUrl)</code>Obeservable<code>map()</code><code>filter</code>observable</p>\n<p>observable</p>\n<p>observable<code>subscribe</code></p>\n<p>app/toh/hero-list.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>._heroService.getHeroes()</span><br><span class=\"line\">         .subscribe(</span><br><span class=\"line\">           heroes =&gt; <span class=\"keyword\">this</span>.heroes = heroes,</span><br><span class=\"line\">           error =&gt;  <span class=\"keyword\">this</span>.errorMessage = &lt;<span class=\"built_in\">any</span>&gt;error</span><br><span class=\"line\">         );</span><br></pre></td></tr></table></figure>\n<p>observableapi</p>\n<ol>\n<li><code>map()</code></li>\n<li><code>filter()</code></li>\n<li><code>do()</code>console</li>\n<li><code>catch()</code></li>\n<li><code>subscribe()</code></li>\n</ol>\n<p>httpobservableapi</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>\n","site":{"data":{}},"excerpt":"<p> ng2httpng2</p>\n<p>index.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"lib/http.dev.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/64.jpg\" alt=\"\"></p>\n<p></p>\n<ol>\n<li></li>\n<li>wiki</li>\n</ol>\n<p>httpgethttppost</p>\n<p>wiki300jsonp</p>\n<p></p>\n<p>http</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http-server</span><br></pre></td></tr></table></figure>\n<p>http-server</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo  npm install http-server -g</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/http\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial/tree/gh-pages/http</a></p>\n<p>demo</p>\n<p><a href=\"http://lewis617.github.io/angular2-tutorial/http\" target=\"_blank\" rel=\"noopener\">http://lewis617.github.io/angular2-tutorial/http</a></p>\n<h2 id=\"In-memory-web-api\"><a href=\"#In-memory-web-api\" class=\"headerlink\" title=\"In-memory web api\"></a>In-memory web api</h2><p><a href=\"https://github.com/wardbell/a2-in-memory-web-api\" target=\"_blank\" rel=\"noopener\">a2-in-memory-web-api</a>  </p>\n<p>ng2apiapiapi  </p>\n<p></p>\n<p>index.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"lib/web-api.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<p>app/toh/toh.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// in-memory web api providers</span></span><br><span class=\"line\">provide(XHRBackend, &#123; useClass: InMemoryBackendService &#125;), <span class=\"comment\">// in-mem server</span></span><br><span class=\"line\">provide(SEED_DATA,  &#123; useClass: HeroData &#125;) <span class=\"comment\">// in-mem server data</span></span><br></pre></td></tr></table></figure>\n<p><code>XHRBackend</code><code>SEED_DATA</code><code>XHRBackend</code><code>InMemoryBackendService</code>provider<code>SEED_DATA</code><code>HeroData</code>provider<code>HeroData</code></p>\n<p>app/hero-data.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> HeroData &#123;</span><br><span class=\"line\">  createDb() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> heroes = [</span><br><span class=\"line\">      &#123; <span class=\"string\">\"id\"</span>: <span class=\"string\">\"1\"</span>, <span class=\"string\">\"name\"</span>: <span class=\"string\">\"Windstorm\"</span> &#125;,</span><br><span class=\"line\">      &#123; <span class=\"string\">\"id\"</span>: <span class=\"string\">\"2\"</span>, <span class=\"string\">\"name\"</span>: <span class=\"string\">\"Bombasto\"</span> &#125;,</span><br><span class=\"line\">      &#123; <span class=\"string\">\"id\"</span>: <span class=\"string\">\"3\"</span>, <span class=\"string\">\"name\"</span>: <span class=\"string\">\"Magneta\"</span> &#125;,</span><br><span class=\"line\">      &#123; <span class=\"string\">\"id\"</span>: <span class=\"string\">\"4\"</span>, <span class=\"string\">\"name\"</span>: <span class=\"string\">\"Tornado\"</span> &#125;</span><br><span class=\"line\">    ];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;heroes&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>createDB</code>webapi</p>\n<p>provider<del>providerprovideng2api</del></p>\n<p><del><a href=\"https://angular.io/docs/ts/latest/api/core/provide-function.html\" target=\"_blank\" rel=\"noopener\">https://angular.io/docs/ts/latest/api/core/provide-function.html</a></del></p>\n<p>provider <br>api<code>app/heroes</code>urlgetposturl</p>\n<p>app/hero-data.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">return</span> &#123;heroes&#125;;</span><br></pre></td></tr></table></figure>\n<p><code>heroes1</code><code>heroes2</code></p>\n<h2 id=\"HTTP\"><a href=\"#HTTP\" class=\"headerlink\" title=\"HTTP\"></a>HTTP</h2><p>apiaping2httphttpng2http</p>\n<p>js</p>\n<p>index.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"lib/http.dev.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p> </p>\n<p>app/toh/toh.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP_PROVIDERS,</span><br></pre></td></tr></table></figure>\n<p>HTTP</p>\n<p>app/toh/hero.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> HeroService &#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span> (<span class=\"params\"><span class=\"keyword\">private</span> http: Http</span>) &#123;&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>app/toh/hero.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.http.get(<span class=\"keyword\">this</span>._heroesUrl)</span><br></pre></td></tr></table></figure>\n<p>app/toh/hero.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.http.post(<span class=\"keyword\">this</span>._heroesUrl, body, options)</span><br></pre></td></tr></table></figure>\n<h2 id=\"ng2\"><a href=\"#ng2\" class=\"headerlink\" title=\"ng2\"></a>ng2</h2><p>http</p>\n<p>ng1ng2</p>\n<p><del>importrequire</del></p>\n<p><del></del></p>\n<p><del></del></p>\n<p>  <del>1. </del><br>  <del>2. </del></p>\n<p></p>\n<p></p>\n<ol>\n<li>NgModule  NgModule </li>\n<li></li>\n</ol>\n<p></p>\n<p></p>\n<p></p>\n<p>HTTP</p>\n<h2 id=\"Observable\"><a href=\"#Observable\" class=\"headerlink\" title=\"Observable\"></a><strong>Observable</strong></h2><p>http<code>map()</code></p>\n<p>app/toh/hero.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.http.get(<span class=\"keyword\">this</span>._heroesUrl)  </span><br><span class=\"line\">         .map(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &lt;Hero[]&gt; res.json().data)  </span><br><span class=\"line\">         .do(<span class=\"function\"><span class=\"params\">data</span> =&gt;</span> <span class=\"built_in\">console</span>.log(data)) <span class=\"comment\">// eyeball results in the console</span></span><br></pre></td></tr></table></figure>\n<p>Promise<code>then</code><code>map()</code>PromiseObservable</p>\n<p>Rx.jspromise</p>\n<p>Observable Promise</p>\n<ol>\n<li>Observable Promise</li>\n<li>Observable Promise</li>\n</ol>\n<p></p>\n<p><code>this.http.get(this._heroesUrl)</code>Obeservable<code>map()</code><code>filter</code>observable</p>\n<p>observable</p>\n<p>observable<code>subscribe</code></p>\n<p>app/toh/hero-list.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>._heroService.getHeroes()</span><br><span class=\"line\">         .subscribe(</span><br><span class=\"line\">           heroes =&gt; <span class=\"keyword\">this</span>.heroes = heroes,</span><br><span class=\"line\">           error =&gt;  <span class=\"keyword\">this</span>.errorMessage = &lt;<span class=\"built_in\">any</span>&gt;error</span><br><span class=\"line\">         );</span><br></pre></td></tr></table></figure>\n<p>observableapi</p>\n<ol>\n<li><code>map()</code></li>\n<li><code>filter()</code></li>\n<li><code>do()</code>console</li>\n<li><code>catch()</code></li>\n<li><code>subscribe()</code></li>\n</ol>\n<p>httpobservableapi</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>"},{"title":"Angular2 pipe","date":"2016-02-24T19:28:00.000Z","_content":"\nng2pipe\n\n<!--more-->\n\n## \n\n![](/css/images/66.jpg)\n\npipe~~statefulstateless~~pureimpure\n\n[](https://github.com/lewis617/angular2-tutorial/tree/gh-pages/pipes)\n\n## stateless pipe\n\npipeng1filterpipe\n\n  * `currency`\n  * `date`\n  * `uppercase`\n  * `json`\n  * `limitTo`\n  * `lowercase`\n  * `async`\n  * `decimal`\n  * `percent`\n\n\"\"\n\npipestatefulstatelessstatelessstateless`DatePipe`statelesspipe:\n\napp/stateless/exponential-strength.pipe.ts\n\n```ts\nimport {Pipe, PipeTransform} from 'angular2/core';\n/*\n * Raise the value exponentially\n * Takes an exponent argument that defaults to 1.\n * Usage:\n *   value | exponentialStrength:exponent\n * Example:\n *   {{ 2 |  exponentialStrength:10}}\n *   formats to: 1024\n*/\n@Pipe({name: 'exponentialStrength'})\nexport class ExponentialStrengthPipe implements PipeTransform {\n  transform(value: number, args: string[]) : any {\n    return Math.pow(value, parseInt(args[0] || '1', 10));\n  }\n}\n```\n210\n\n```ts\n{{ 2 | exponentialStrength:10}}\n```\n\n\n\napp/stateless/power-booster.component.ts\n\n```ts\nimport {Component} from 'angular2/core';\nimport {ExponentialStrengthPipe} from './exponential-strength.pipe';\n@Component({\n  selector: 'power-booster',\n  template: `\n    <h2>Power Booster</h2>\n    <p>\n      Super power boost: {{2 | exponentialStrength: 10}}\n    </p>\n  `,\n  pipes: [ExponentialStrengthPipe]\n})\nexport class PowerBooster { }\n```\n\n`pipes: [ExponentialStrengthPipe]`\n\n## stateful pipe\n\nstateful pipe\n\napp/stateful/fetch-json.pipe.ts\n\n```ts\ndeclare var fetch;\nimport {Pipe, PipeTransform} from 'angular2/core';\n@Pipe({\n  name: 'fetch',\n  pure: false\n})\nexport class FetchJsonPipe  implements PipeTransform {\n  private fetchedValue: any;\n  private fetchPromise: Promise<any>;\n  transform(value: string, args: string[]): any {\n    if (!this.fetchPromise) {\n      this.fetchPromise = fetch(value)\n        .then((result: any) => result.json())\n        .then((json: any)   => this.fetchedValue = json);\n    }\n    return this.fetchedValue;\n  }\n}\n```\n\n\n  1. `pure``false`\n  2. `transform``fetch``this.fetchedValue = json`\n  3. `this.fetchPromise``fetchedValue`\n\n\n\napp/stateful/hero-list.component.ts\n\n```ts\nimport {Component} from 'angular2/core';\nimport {FetchJsonPipe} from './fetch-json.pipe';\n@Component({\n  selector: 'hero-list',\n  template: `\n    <h4>Heroes from JSON File</h4>\n    <div *ngFor=\"#hero of ('/assets/heroes.json' | fetch) \">\n      {{hero.name}}\n    </div>\n    <p>Heroes as JSON:\n    {{'/assets/heroes.json' | fetch | json}}\n    </p>\n  `,\n  pipes: [FetchJsonPipe]\n})\nexport class HeroListComponent {\n  /* I've got nothing to do ;-) */\n}\n```\n`'/assets/heroes.json'`jsonassetswebpack\n\n\n\n![](/css/images/67.jpg)\n\n### \n\n>Stateful pipes are conceptually similar to classes in object-oriented\nprogramming. They can manage the data they transform. A pipe that creates an\nHTTP request, stores the response and displays the output, is a stateful pipe.\n\nstatefule pipehttppipestateful pipestateless pipestateless pipehttp\n\n```ts\ndeclare var fetch;\nimport {Pipe, PipeTransform} from 'angular2/core';\n@Pipe({\n  name: 'fetch'\n})\nexport class FetchJsonPipe  implements PipeTransform {\n  transform(value: string, args: string[]): any {\n    fetch(value)\n        .then((result: any) => result.json())\n        .then((json: any)   =>  json);\n  }\n}\n```\nhttpstateful pipe~~pipe\"\"\"\"----~~ \n\n* * *\n\n## \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>\n\n\n\n","source":"_posts/ng2-pipe.md","raw":"---\ntitle: Angular2 pipe\ndate: 2016-02-25 03:28:00\ntags: [Angular2]\n---\n\nng2pipe\n\n<!--more-->\n\n## \n\n![](/css/images/66.jpg)\n\npipe~~statefulstateless~~pureimpure\n\n[](https://github.com/lewis617/angular2-tutorial/tree/gh-pages/pipes)\n\n## stateless pipe\n\npipeng1filterpipe\n\n  * `currency`\n  * `date`\n  * `uppercase`\n  * `json`\n  * `limitTo`\n  * `lowercase`\n  * `async`\n  * `decimal`\n  * `percent`\n\n\"\"\n\npipestatefulstatelessstatelessstateless`DatePipe`statelesspipe:\n\napp/stateless/exponential-strength.pipe.ts\n\n```ts\nimport {Pipe, PipeTransform} from 'angular2/core';\n/*\n * Raise the value exponentially\n * Takes an exponent argument that defaults to 1.\n * Usage:\n *   value | exponentialStrength:exponent\n * Example:\n *   {{ 2 |  exponentialStrength:10}}\n *   formats to: 1024\n*/\n@Pipe({name: 'exponentialStrength'})\nexport class ExponentialStrengthPipe implements PipeTransform {\n  transform(value: number, args: string[]) : any {\n    return Math.pow(value, parseInt(args[0] || '1', 10));\n  }\n}\n```\n210\n\n```ts\n{{ 2 | exponentialStrength:10}}\n```\n\n\n\napp/stateless/power-booster.component.ts\n\n```ts\nimport {Component} from 'angular2/core';\nimport {ExponentialStrengthPipe} from './exponential-strength.pipe';\n@Component({\n  selector: 'power-booster',\n  template: `\n    <h2>Power Booster</h2>\n    <p>\n      Super power boost: {{2 | exponentialStrength: 10}}\n    </p>\n  `,\n  pipes: [ExponentialStrengthPipe]\n})\nexport class PowerBooster { }\n```\n\n`pipes: [ExponentialStrengthPipe]`\n\n## stateful pipe\n\nstateful pipe\n\napp/stateful/fetch-json.pipe.ts\n\n```ts\ndeclare var fetch;\nimport {Pipe, PipeTransform} from 'angular2/core';\n@Pipe({\n  name: 'fetch',\n  pure: false\n})\nexport class FetchJsonPipe  implements PipeTransform {\n  private fetchedValue: any;\n  private fetchPromise: Promise<any>;\n  transform(value: string, args: string[]): any {\n    if (!this.fetchPromise) {\n      this.fetchPromise = fetch(value)\n        .then((result: any) => result.json())\n        .then((json: any)   => this.fetchedValue = json);\n    }\n    return this.fetchedValue;\n  }\n}\n```\n\n\n  1. `pure``false`\n  2. `transform``fetch``this.fetchedValue = json`\n  3. `this.fetchPromise``fetchedValue`\n\n\n\napp/stateful/hero-list.component.ts\n\n```ts\nimport {Component} from 'angular2/core';\nimport {FetchJsonPipe} from './fetch-json.pipe';\n@Component({\n  selector: 'hero-list',\n  template: `\n    <h4>Heroes from JSON File</h4>\n    <div *ngFor=\"#hero of ('/assets/heroes.json' | fetch) \">\n      {{hero.name}}\n    </div>\n    <p>Heroes as JSON:\n    {{'/assets/heroes.json' | fetch | json}}\n    </p>\n  `,\n  pipes: [FetchJsonPipe]\n})\nexport class HeroListComponent {\n  /* I've got nothing to do ;-) */\n}\n```\n`'/assets/heroes.json'`jsonassetswebpack\n\n\n\n![](/css/images/67.jpg)\n\n### \n\n>Stateful pipes are conceptually similar to classes in object-oriented\nprogramming. They can manage the data they transform. A pipe that creates an\nHTTP request, stores the response and displays the output, is a stateful pipe.\n\nstatefule pipehttppipestateful pipestateless pipestateless pipehttp\n\n```ts\ndeclare var fetch;\nimport {Pipe, PipeTransform} from 'angular2/core';\n@Pipe({\n  name: 'fetch'\n})\nexport class FetchJsonPipe  implements PipeTransform {\n  transform(value: string, args: string[]): any {\n    fetch(value)\n        .then((result: any) => result.json())\n        .then((json: any)   =>  json);\n  }\n}\n```\nhttpstateful pipe~~pipe\"\"\"\"----~~ \n\n* * *\n\n## \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>\n\n\n\n","slug":"ng2-pipe","published":1,"updated":"2019-05-01T08:10:29.842Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvly001stgytfy2wuc7h","content":"<p>ng2pipe</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/66.jpg\" alt=\"\"></p>\n<p>pipe<del>statefulstateless</del>pureimpure</p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/pipes\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"stateless-pipe\"><a href=\"#stateless-pipe\" class=\"headerlink\" title=\"stateless pipe\"></a>stateless pipe</h2><p>pipeng1filterpipe</p>\n<ul>\n<li><code>currency</code></li>\n<li><code>date</code></li>\n<li><code>uppercase</code></li>\n<li><code>json</code></li>\n<li><code>limitTo</code></li>\n<li><code>lowercase</code></li>\n<li><code>async</code></li>\n<li><code>decimal</code></li>\n<li><code>percent</code></li>\n</ul>\n<p></p>\n<p>pipestatefulstatelessstatelessstateless<code>DatePipe</code>statelesspipe:</p>\n<p>app/stateless/exponential-strength.pipe.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Pipe, PipeTransform&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * Raise the value exponentially</span></span><br><span class=\"line\"><span class=\"comment\"> * Takes an exponent argument that defaults to 1.</span></span><br><span class=\"line\"><span class=\"comment\"> * Usage:</span></span><br><span class=\"line\"><span class=\"comment\"> *   value | exponentialStrength:exponent</span></span><br><span class=\"line\"><span class=\"comment\"> * Example:</span></span><br><span class=\"line\"><span class=\"comment\"> *   &#123;&#123; 2 |  exponentialStrength:10&#125;&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> *   formats to: 1024</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"meta\">@Pipe</span>(&#123;name: <span class=\"string\">'exponentialStrength'</span>&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> ExponentialStrengthPipe <span class=\"keyword\">implements</span> PipeTransform &#123;</span><br><span class=\"line\">  transform(value: <span class=\"built_in\">number</span>, args: <span class=\"built_in\">string</span>[]) : <span class=\"built_in\">any</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Math</span>.pow(value, <span class=\"built_in\">parseInt</span>(args[<span class=\"number\">0</span>] || <span class=\"string\">'1'</span>, <span class=\"number\">10</span>));</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>210</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123; <span class=\"number\">2</span> | exponentialStrength:<span class=\"number\">10</span>&#125;&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>app/stateless/power-booster.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Component&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;ExponentialStrengthPipe&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./exponential-strength.pipe'</span>;</span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">  selector: <span class=\"string\">'power-booster'</span>,</span><br><span class=\"line\">  template: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">    &lt;h2&gt;Power Booster&lt;/h2&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;p&gt;</span></span><br><span class=\"line\"><span class=\"string\">      Super power boost: &#123;&#123;2 | exponentialStrength: 10&#125;&#125;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/p&gt;</span></span><br><span class=\"line\"><span class=\"string\">  `</span>,</span><br><span class=\"line\">  pipes: [ExponentialStrengthPipe]</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> PowerBooster &#123; &#125;</span><br></pre></td></tr></table></figure>\n<p><code>pipes: [ExponentialStrengthPipe]</code></p>\n<h2 id=\"stateful-pipe\"><a href=\"#stateful-pipe\" class=\"headerlink\" title=\"stateful pipe\"></a>stateful pipe</h2><p>stateful pipe</p>\n<p>app/stateful/fetch-json.pipe.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">declare</span> <span class=\"keyword\">var</span> fetch;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Pipe, PipeTransform&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"meta\">@Pipe</span>(&#123;</span><br><span class=\"line\">  name: <span class=\"string\">'fetch'</span>,</span><br><span class=\"line\">  pure: <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> FetchJsonPipe  <span class=\"keyword\">implements</span> PipeTransform &#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> fetchedValue: <span class=\"built_in\">any</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> fetchPromise: <span class=\"built_in\">Promise</span>&lt;<span class=\"built_in\">any</span>&gt;;</span><br><span class=\"line\">  transform(value: <span class=\"built_in\">string</span>, args: <span class=\"built_in\">string</span>[]): <span class=\"built_in\">any</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.fetchPromise) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.fetchPromise = fetch(value)</span><br><span class=\"line\">        .then(<span class=\"function\">(<span class=\"params\">result: <span class=\"built_in\">any</span></span>) =&gt;</span> result.json())</span><br><span class=\"line\">        .then(<span class=\"function\">(<span class=\"params\">json: <span class=\"built_in\">any</span></span>)   =&gt;</span> <span class=\"keyword\">this</span>.fetchedValue = json);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.fetchedValue;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>pure</code><code>false</code></li>\n<li><code>transform</code><code>fetch</code><code>this.fetchedValue = json</code></li>\n<li><code>this.fetchPromise</code><code>fetchedValue</code></li>\n</ol>\n<p></p>\n<p>app/stateful/hero-list.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Component&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;FetchJsonPipe&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./fetch-json.pipe'</span>;</span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">  selector: <span class=\"string\">'hero-list'</span>,</span><br><span class=\"line\">  template: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">    &lt;h4&gt;Heroes from JSON File&lt;/h4&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div *ngFor=\"#hero of ('/assets/heroes.json' | fetch) \"&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &#123;&#123;hero.name&#125;&#125;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;p&gt;Heroes as JSON:</span></span><br><span class=\"line\"><span class=\"string\">    &#123;&#123;'/assets/heroes.json' | fetch | json&#125;&#125;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/p&gt;</span></span><br><span class=\"line\"><span class=\"string\">  `</span>,</span><br><span class=\"line\">  pipes: [FetchJsonPipe]</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> HeroListComponent &#123;</span><br><span class=\"line\">  <span class=\"comment\">/* I've got nothing to do ;-) */</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>&#39;/assets/heroes.json&#39;</code>jsonassetswebpack</p>\n<p></p>\n<p><img src=\"/css/images/67.jpg\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p>Stateful pipes are conceptually similar to classes in object-oriented<br>programming. They can manage the data they transform. A pipe that creates an<br>HTTP request, stores the response and displays the output, is a stateful pipe.</p>\n</blockquote>\n<p>statefule pipehttppipestateful pipestateless pipestateless pipehttp</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">declare</span> <span class=\"keyword\">var</span> fetch;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Pipe, PipeTransform&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"meta\">@Pipe</span>(&#123;</span><br><span class=\"line\">  name: <span class=\"string\">'fetch'</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> FetchJsonPipe  <span class=\"keyword\">implements</span> PipeTransform &#123;</span><br><span class=\"line\">  transform(value: <span class=\"built_in\">string</span>, args: <span class=\"built_in\">string</span>[]): <span class=\"built_in\">any</span> &#123;</span><br><span class=\"line\">    fetch(value)</span><br><span class=\"line\">        .then(<span class=\"function\">(<span class=\"params\">result: <span class=\"built_in\">any</span></span>) =&gt;</span> result.json())</span><br><span class=\"line\">        .then(<span class=\"function\">(<span class=\"params\">json: <span class=\"built_in\">any</span></span>)   =&gt;</span>  json);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>httpstateful pipe<del>pipe-</del> </p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>\n","site":{"data":{}},"excerpt":"<p>ng2pipe</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/66.jpg\" alt=\"\"></p>\n<p>pipe<del>statefulstateless</del>pureimpure</p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/pipes\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"stateless-pipe\"><a href=\"#stateless-pipe\" class=\"headerlink\" title=\"stateless pipe\"></a>stateless pipe</h2><p>pipeng1filterpipe</p>\n<ul>\n<li><code>currency</code></li>\n<li><code>date</code></li>\n<li><code>uppercase</code></li>\n<li><code>json</code></li>\n<li><code>limitTo</code></li>\n<li><code>lowercase</code></li>\n<li><code>async</code></li>\n<li><code>decimal</code></li>\n<li><code>percent</code></li>\n</ul>\n<p></p>\n<p>pipestatefulstatelessstatelessstateless<code>DatePipe</code>statelesspipe:</p>\n<p>app/stateless/exponential-strength.pipe.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Pipe, PipeTransform&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * Raise the value exponentially</span></span><br><span class=\"line\"><span class=\"comment\"> * Takes an exponent argument that defaults to 1.</span></span><br><span class=\"line\"><span class=\"comment\"> * Usage:</span></span><br><span class=\"line\"><span class=\"comment\"> *   value | exponentialStrength:exponent</span></span><br><span class=\"line\"><span class=\"comment\"> * Example:</span></span><br><span class=\"line\"><span class=\"comment\"> *   &#123;&#123; 2 |  exponentialStrength:10&#125;&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> *   formats to: 1024</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"meta\">@Pipe</span>(&#123;name: <span class=\"string\">'exponentialStrength'</span>&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> ExponentialStrengthPipe <span class=\"keyword\">implements</span> PipeTransform &#123;</span><br><span class=\"line\">  transform(value: <span class=\"built_in\">number</span>, args: <span class=\"built_in\">string</span>[]) : <span class=\"built_in\">any</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Math</span>.pow(value, <span class=\"built_in\">parseInt</span>(args[<span class=\"number\">0</span>] || <span class=\"string\">'1'</span>, <span class=\"number\">10</span>));</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>210</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;&#123; <span class=\"number\">2</span> | exponentialStrength:<span class=\"number\">10</span>&#125;&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>app/stateless/power-booster.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Component&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;ExponentialStrengthPipe&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./exponential-strength.pipe'</span>;</span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">  selector: <span class=\"string\">'power-booster'</span>,</span><br><span class=\"line\">  template: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">    &lt;h2&gt;Power Booster&lt;/h2&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;p&gt;</span></span><br><span class=\"line\"><span class=\"string\">      Super power boost: &#123;&#123;2 | exponentialStrength: 10&#125;&#125;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/p&gt;</span></span><br><span class=\"line\"><span class=\"string\">  `</span>,</span><br><span class=\"line\">  pipes: [ExponentialStrengthPipe]</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> PowerBooster &#123; &#125;</span><br></pre></td></tr></table></figure>\n<p><code>pipes: [ExponentialStrengthPipe]</code></p>\n<h2 id=\"stateful-pipe\"><a href=\"#stateful-pipe\" class=\"headerlink\" title=\"stateful pipe\"></a>stateful pipe</h2><p>stateful pipe</p>\n<p>app/stateful/fetch-json.pipe.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">declare</span> <span class=\"keyword\">var</span> fetch;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Pipe, PipeTransform&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"meta\">@Pipe</span>(&#123;</span><br><span class=\"line\">  name: <span class=\"string\">'fetch'</span>,</span><br><span class=\"line\">  pure: <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> FetchJsonPipe  <span class=\"keyword\">implements</span> PipeTransform &#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> fetchedValue: <span class=\"built_in\">any</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> fetchPromise: <span class=\"built_in\">Promise</span>&lt;<span class=\"built_in\">any</span>&gt;;</span><br><span class=\"line\">  transform(value: <span class=\"built_in\">string</span>, args: <span class=\"built_in\">string</span>[]): <span class=\"built_in\">any</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.fetchPromise) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.fetchPromise = fetch(value)</span><br><span class=\"line\">        .then(<span class=\"function\">(<span class=\"params\">result: <span class=\"built_in\">any</span></span>) =&gt;</span> result.json())</span><br><span class=\"line\">        .then(<span class=\"function\">(<span class=\"params\">json: <span class=\"built_in\">any</span></span>)   =&gt;</span> <span class=\"keyword\">this</span>.fetchedValue = json);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.fetchedValue;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>pure</code><code>false</code></li>\n<li><code>transform</code><code>fetch</code><code>this.fetchedValue = json</code></li>\n<li><code>this.fetchPromise</code><code>fetchedValue</code></li>\n</ol>\n<p></p>\n<p>app/stateful/hero-list.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Component&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;FetchJsonPipe&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./fetch-json.pipe'</span>;</span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">  selector: <span class=\"string\">'hero-list'</span>,</span><br><span class=\"line\">  template: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">    &lt;h4&gt;Heroes from JSON File&lt;/h4&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div *ngFor=\"#hero of ('/assets/heroes.json' | fetch) \"&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &#123;&#123;hero.name&#125;&#125;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;p&gt;Heroes as JSON:</span></span><br><span class=\"line\"><span class=\"string\">    &#123;&#123;'/assets/heroes.json' | fetch | json&#125;&#125;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/p&gt;</span></span><br><span class=\"line\"><span class=\"string\">  `</span>,</span><br><span class=\"line\">  pipes: [FetchJsonPipe]</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> HeroListComponent &#123;</span><br><span class=\"line\">  <span class=\"comment\">/* I've got nothing to do ;-) */</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>&#39;/assets/heroes.json&#39;</code>jsonassetswebpack</p>\n<p></p>\n<p><img src=\"/css/images/67.jpg\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p>Stateful pipes are conceptually similar to classes in object-oriented<br>programming. They can manage the data they transform. A pipe that creates an<br>HTTP request, stores the response and displays the output, is a stateful pipe.</p>\n</blockquote>\n<p>statefule pipehttppipestateful pipestateless pipestateless pipehttp</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">declare</span> <span class=\"keyword\">var</span> fetch;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Pipe, PipeTransform&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"meta\">@Pipe</span>(&#123;</span><br><span class=\"line\">  name: <span class=\"string\">'fetch'</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> FetchJsonPipe  <span class=\"keyword\">implements</span> PipeTransform &#123;</span><br><span class=\"line\">  transform(value: <span class=\"built_in\">string</span>, args: <span class=\"built_in\">string</span>[]): <span class=\"built_in\">any</span> &#123;</span><br><span class=\"line\">    fetch(value)</span><br><span class=\"line\">        .then(<span class=\"function\">(<span class=\"params\">result: <span class=\"built_in\">any</span></span>) =&gt;</span> result.json())</span><br><span class=\"line\">        .then(<span class=\"function\">(<span class=\"params\">json: <span class=\"built_in\">any</span></span>)   =&gt;</span>  json);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>httpstateful pipe<del>pipe-</del> </p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>"},{"title":"Angular2 matrix URL notation","date":"2016-04-04T01:33:00.000Z","_content":"\n ng2 \n\n<!--more-->\n\n## \n\n\n\n![](/css/images/71.jpg)\n\n\n\n\n\n<https://github.com/lewis617/angular2-tutorial/tree/gh-pages/router>\n\n\n\n\n\n```sh\nhttp-server\n```\n\n##  \n\n app/app.component.ts  URL \n\napp/app.component.ts\n\n```ts\n    \n{ // Crisis Center child route\n  path: '/crisis-center/...',\n  name: 'CrisisCenter',\n  component: CrisisCenterComponent,\n  useAsDefault: true\n},\n```\n\n`...` URL \n\napp/crisis-center/crisis-center.component.ts\n\n```ts\nimport {Component}     from 'angular2/core';\nimport {RouteConfig, RouterOutlet} from 'angular2/router';\n\nimport {CrisisListComponent}   from './crisis-list.component';\nimport {CrisisDetailComponent} from './crisis-detail.component';\nimport {CrisisService}         from './crisis.service';\n\n@Component({\n  template:  `\n    <h2>CRISIS CENTER</h2>\n    <router-outlet></router-outlet>\n  `,\n  directives: [RouterOutlet],\n  providers:  [CrisisService]\n})\n@RouteConfig([\n  {path:'/',    name: 'CrisisList',   component: CrisisListComponent, useAsDefault: true},\n  {path:'/:id', name: 'CrisisDetail', component: CrisisDetailComponent}\n])\nexport class CrisisCenterComponent { }\n\n```\n\n\"\n\n  1. `h2` `router-outlet`\n  2. `@RouteConfig`\n\n\n\n## \n\n`routerCanDeactivate`:\n\napp/crisis-center/crisis-detail.component.ts  \n\n```ts\n\nrouterCanDeactivate(next: ComponentInstruction, prev: ComponentInstruction) : any {\n  // Allow synchronous navigation (`true`) if no crisis or the crisis is unchanged.\n  if (!this.crisis || this.crisis.name === this.editName) {\n    return true;\n  }\n  // Otherwise ask the user with the dialog service and return its\n  // promise which resolves to true or false when the user decides\n  return this._dialog.confirm('Discard changes?');\n}\n```\n\n save  cancer \n\n```ts\nthis._dialog.confirm('Discard changes?');\n```\n\n\n\n![](/css/images/72.jpg)\n\n`dialog` `window.confirm()` Bool  Promise  ng1 `window.confirm` promise  \n\napp/dialog.service.ts\n\n```ts\n    \n\nimport {Injectable} from 'angular2/core';\n/**\n * Async modal dialog service\n * DialogService makes this app easier to test by faking this service.\n * TODO: better modal implemenation that doesn't use window.confirm\n */\n@Injectable()\nexport class DialogService {\n  /**\n   * Ask user to confirm an action. `message` explains the action and choices.\n   * Returns promise resolving to `true`=confirm or `false`=cancel\n   */\n  confirm(message?:string) {\n    return new Promise<boolean>((resolve, reject) =>\n      resolve(window.confirm(message || 'Is it OK?')));\n  };\n}\n```\n Promise `confirm` `confirm`Promise\n\n ng1 `resolve`Promise ng1  wilddog \n\nhttps://github.com/lewis617/wild-angular-seed/blob/gh-pages/components/wilddog.utils/wilddog.utils.js#L85\n\n# _matrix URL_ notation\n\n URL \n\nhttp://localhost:63342/angular2-tutorial/router/index.html/crisis-center/;id=1;foo=foo\n\n`;id=1;foo=foo` query string`?``&``;` _matrix URL_ notation  \n\n> _Matrix URL_ notation is an idea first floated in a [1996 proposal](http://www.w3.org/DesignIssues/MatrixURIs.html) by the founder of the web, Tim Berners-Lee.\n\n> Although matrix notation never made it into the HTML standard, it is legal and it became popular among browser routing systems as a way to isolate parameters belonging to parent and child routes. The Angular Component Router is such a system.\n\n> The syntax may seem strange to us but users are unlikely to notice or care as long as the URL can be emailed and pasted into a browser address bar as this one can.\n\n ng2 \n\n URL  query string_matrix URL_ notationng2  _matrix URL_  notation \n\n* * *\n\n## \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>\n","source":"_posts/ng2-router-2.md","raw":"---\ntitle: Angular2 matrix URL notation\ndate: 2016-04-04 09:33:00\ntags: [Angular2]\n---\n\n ng2 \n\n<!--more-->\n\n## \n\n\n\n![](/css/images/71.jpg)\n\n\n\n\n\n<https://github.com/lewis617/angular2-tutorial/tree/gh-pages/router>\n\n\n\n\n\n```sh\nhttp-server\n```\n\n##  \n\n app/app.component.ts  URL \n\napp/app.component.ts\n\n```ts\n    \n{ // Crisis Center child route\n  path: '/crisis-center/...',\n  name: 'CrisisCenter',\n  component: CrisisCenterComponent,\n  useAsDefault: true\n},\n```\n\n`...` URL \n\napp/crisis-center/crisis-center.component.ts\n\n```ts\nimport {Component}     from 'angular2/core';\nimport {RouteConfig, RouterOutlet} from 'angular2/router';\n\nimport {CrisisListComponent}   from './crisis-list.component';\nimport {CrisisDetailComponent} from './crisis-detail.component';\nimport {CrisisService}         from './crisis.service';\n\n@Component({\n  template:  `\n    <h2>CRISIS CENTER</h2>\n    <router-outlet></router-outlet>\n  `,\n  directives: [RouterOutlet],\n  providers:  [CrisisService]\n})\n@RouteConfig([\n  {path:'/',    name: 'CrisisList',   component: CrisisListComponent, useAsDefault: true},\n  {path:'/:id', name: 'CrisisDetail', component: CrisisDetailComponent}\n])\nexport class CrisisCenterComponent { }\n\n```\n\n\"\n\n  1. `h2` `router-outlet`\n  2. `@RouteConfig`\n\n\n\n## \n\n`routerCanDeactivate`:\n\napp/crisis-center/crisis-detail.component.ts  \n\n```ts\n\nrouterCanDeactivate(next: ComponentInstruction, prev: ComponentInstruction) : any {\n  // Allow synchronous navigation (`true`) if no crisis or the crisis is unchanged.\n  if (!this.crisis || this.crisis.name === this.editName) {\n    return true;\n  }\n  // Otherwise ask the user with the dialog service and return its\n  // promise which resolves to true or false when the user decides\n  return this._dialog.confirm('Discard changes?');\n}\n```\n\n save  cancer \n\n```ts\nthis._dialog.confirm('Discard changes?');\n```\n\n\n\n![](/css/images/72.jpg)\n\n`dialog` `window.confirm()` Bool  Promise  ng1 `window.confirm` promise  \n\napp/dialog.service.ts\n\n```ts\n    \n\nimport {Injectable} from 'angular2/core';\n/**\n * Async modal dialog service\n * DialogService makes this app easier to test by faking this service.\n * TODO: better modal implemenation that doesn't use window.confirm\n */\n@Injectable()\nexport class DialogService {\n  /**\n   * Ask user to confirm an action. `message` explains the action and choices.\n   * Returns promise resolving to `true`=confirm or `false`=cancel\n   */\n  confirm(message?:string) {\n    return new Promise<boolean>((resolve, reject) =>\n      resolve(window.confirm(message || 'Is it OK?')));\n  };\n}\n```\n Promise `confirm` `confirm`Promise\n\n ng1 `resolve`Promise ng1  wilddog \n\nhttps://github.com/lewis617/wild-angular-seed/blob/gh-pages/components/wilddog.utils/wilddog.utils.js#L85\n\n# _matrix URL_ notation\n\n URL \n\nhttp://localhost:63342/angular2-tutorial/router/index.html/crisis-center/;id=1;foo=foo\n\n`;id=1;foo=foo` query string`?``&``;` _matrix URL_ notation  \n\n> _Matrix URL_ notation is an idea first floated in a [1996 proposal](http://www.w3.org/DesignIssues/MatrixURIs.html) by the founder of the web, Tim Berners-Lee.\n\n> Although matrix notation never made it into the HTML standard, it is legal and it became popular among browser routing systems as a way to isolate parameters belonging to parent and child routes. The Angular Component Router is such a system.\n\n> The syntax may seem strange to us but users are unlikely to notice or care as long as the URL can be emailed and pasted into a browser address bar as this one can.\n\n ng2 \n\n URL  query string_matrix URL_ notationng2  _matrix URL_  notation \n\n* * *\n\n## \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>\n","slug":"ng2-router-2","published":1,"updated":"2019-05-01T08:10:29.882Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvlz001utgytq694duzk","content":"<p> ng2 </p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"/css/images/71.jpg\" alt=\"\"></p>\n<p></p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/router\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial/tree/gh-pages/router</a></p>\n<p></p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http-server</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> app/app.component.ts  URL </p>\n<p>app/app.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    </span><br><span class=\"line\">&#123; <span class=\"comment\">// Crisis Center child route</span></span><br><span class=\"line\">  path: <span class=\"string\">'/crisis-center/...'</span>,</span><br><span class=\"line\">  name: <span class=\"string\">'CrisisCenter'</span>,</span><br><span class=\"line\">  component: CrisisCenterComponent,</span><br><span class=\"line\">  useAsDefault: <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<p><code>...</code> URL </p>\n<p>app/crisis-center/crisis-center.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Component&#125;     <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;RouteConfig, RouterOutlet&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/router'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;CrisisListComponent&#125;   <span class=\"keyword\">from</span> <span class=\"string\">'./crisis-list.component'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;CrisisDetailComponent&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./crisis-detail.component'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;CrisisService&#125;         <span class=\"keyword\">from</span> <span class=\"string\">'./crisis.service'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">  template:  <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">    &lt;h2&gt;CRISIS CENTER&lt;/h2&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;router-outlet&gt;&lt;/router-outlet&gt;</span></span><br><span class=\"line\"><span class=\"string\">  `</span>,</span><br><span class=\"line\">  directives: [RouterOutlet],</span><br><span class=\"line\">  providers:  [CrisisService]</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"meta\">@RouteConfig</span>([</span><br><span class=\"line\">  &#123;path:<span class=\"string\">'/'</span>,    name: <span class=\"string\">'CrisisList'</span>,   component: CrisisListComponent, useAsDefault: <span class=\"literal\">true</span>&#125;,</span><br><span class=\"line\">  &#123;path:<span class=\"string\">'/:id'</span>, name: <span class=\"string\">'CrisisDetail'</span>, component: CrisisDetailComponent&#125;</span><br><span class=\"line\">])</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> CrisisCenterComponent &#123; &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>h2</code> <code>router-outlet</code></li>\n<li><code>@RouteConfig</code></li>\n</ol>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>routerCanDeactivate</code>:</p>\n<p>app/crisis-center/crisis-detail.component.ts  </p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">routerCanDeactivate(next: ComponentInstruction, prev: ComponentInstruction) : <span class=\"built_in\">any</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// Allow synchronous navigation (`true`) if no crisis or the crisis is unchanged.</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.crisis || <span class=\"keyword\">this</span>.crisis.name === <span class=\"keyword\">this</span>.editName) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// Otherwise ask the user with the dialog service and return its</span></span><br><span class=\"line\">  <span class=\"comment\">// promise which resolves to true or false when the user decides</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>._dialog.confirm(<span class=\"string\">'Discard changes?'</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> save  cancer </p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>._dialog.confirm(<span class=\"string\">'Discard changes?'</span>);</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/css/images/72.jpg\" alt=\"\"></p>\n<p><code>dialog</code> <code>window.confirm()</code> Bool  Promise  ng1 <code>window.confirm</code> promise  </p>\n<p>app/dialog.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Injectable&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Async modal dialog service</span></span><br><span class=\"line\"><span class=\"comment\"> * DialogService makes this app easier to test by faking this service.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">TODO:</span> better modal implemenation that doesn't use window.confirm</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> DialogService &#123;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * Ask user to confirm an action. `message` explains the action and choices.</span></span><br><span class=\"line\"><span class=\"comment\">   * Returns promise resolving to `true`=confirm or `false`=cancel</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  confirm(message?:<span class=\"built_in\">string</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>&lt;<span class=\"built_in\">boolean</span>&gt;<span class=\"function\">(<span class=\"params\">(<span class=\"params\">resolve, reject</span>) =&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">      resolve(<span class=\"params\"><span class=\"built_in\">window</span>.confirm(<span class=\"params\">message || 'Is it OK?'</span>)</span>)</span>);</span></span><br><span class=\"line\"><span class=\"function\">  &#125;;</span></span><br><span class=\"line\"><span class=\"function\">&#125;</span></span><br></pre></td></tr></table></figure>\n<p> Promise <code>confirm</code> <code>confirm</code>Promise</p>\n<p> ng1 <code>resolve</code>Promise ng1  wilddog </p>\n<p><a href=\"https://github.com/lewis617/wild-angular-seed/blob/gh-pages/components/wilddog.utils/wilddog.utils.js#L85\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/wild-angular-seed/blob/gh-pages/components/wilddog.utils/wilddog.utils.js#L85</a></p>\n<h1 id=\"matrix-URL-notation\"><a href=\"#matrix-URL-notation\" class=\"headerlink\" title=\"matrix URL notation\"></a><em>matrix URL</em> notation</h1><p> URL </p>\n<p><a href=\"http://localhost:63342/angular2-tutorial/router/index.html/crisis-center/;id=1;foo=foo\" target=\"_blank\" rel=\"noopener\">http://localhost:63342/angular2-tutorial/router/index.html/crisis-center/;id=1;foo=foo</a></p>\n<p><code>;id=1;foo=foo</code> query string<code>?</code><code>&amp;</code><code>;</code> <em>matrix URL</em> notation  </p>\n<blockquote>\n<p><em>Matrix URL</em> notation is an idea first floated in a <a href=\"http://www.w3.org/DesignIssues/MatrixURIs.html\" target=\"_blank\" rel=\"noopener\">1996 proposal</a> by the founder of the web, Tim Berners-Lee.</p>\n</blockquote>\n<blockquote>\n<p>Although matrix notation never made it into the HTML standard, it is legal and it became popular among browser routing systems as a way to isolate parameters belonging to parent and child routes. The Angular Component Router is such a system.</p>\n</blockquote>\n<blockquote>\n<p>The syntax may seem strange to us but users are unlikely to notice or care as long as the URL can be emailed and pasted into a browser address bar as this one can.</p>\n</blockquote>\n<p> ng2 </p>\n<p> URL  query string<em>matrix URL</em> notationng2  <em>matrix URL</em>  notation </p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>\n","site":{"data":{}},"excerpt":"<p> ng2 </p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"/css/images/71.jpg\" alt=\"\"></p>\n<p></p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/router\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial/tree/gh-pages/router</a></p>\n<p></p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http-server</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> app/app.component.ts  URL </p>\n<p>app/app.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    </span><br><span class=\"line\">&#123; <span class=\"comment\">// Crisis Center child route</span></span><br><span class=\"line\">  path: <span class=\"string\">'/crisis-center/...'</span>,</span><br><span class=\"line\">  name: <span class=\"string\">'CrisisCenter'</span>,</span><br><span class=\"line\">  component: CrisisCenterComponent,</span><br><span class=\"line\">  useAsDefault: <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<p><code>...</code> URL </p>\n<p>app/crisis-center/crisis-center.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Component&#125;     <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;RouteConfig, RouterOutlet&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/router'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;CrisisListComponent&#125;   <span class=\"keyword\">from</span> <span class=\"string\">'./crisis-list.component'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;CrisisDetailComponent&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./crisis-detail.component'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;CrisisService&#125;         <span class=\"keyword\">from</span> <span class=\"string\">'./crisis.service'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">  template:  <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">    &lt;h2&gt;CRISIS CENTER&lt;/h2&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;router-outlet&gt;&lt;/router-outlet&gt;</span></span><br><span class=\"line\"><span class=\"string\">  `</span>,</span><br><span class=\"line\">  directives: [RouterOutlet],</span><br><span class=\"line\">  providers:  [CrisisService]</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"meta\">@RouteConfig</span>([</span><br><span class=\"line\">  &#123;path:<span class=\"string\">'/'</span>,    name: <span class=\"string\">'CrisisList'</span>,   component: CrisisListComponent, useAsDefault: <span class=\"literal\">true</span>&#125;,</span><br><span class=\"line\">  &#123;path:<span class=\"string\">'/:id'</span>, name: <span class=\"string\">'CrisisDetail'</span>, component: CrisisDetailComponent&#125;</span><br><span class=\"line\">])</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> CrisisCenterComponent &#123; &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>h2</code> <code>router-outlet</code></li>\n<li><code>@RouteConfig</code></li>\n</ol>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>routerCanDeactivate</code>:</p>\n<p>app/crisis-center/crisis-detail.component.ts  </p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">routerCanDeactivate(next: ComponentInstruction, prev: ComponentInstruction) : <span class=\"built_in\">any</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// Allow synchronous navigation (`true`) if no crisis or the crisis is unchanged.</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.crisis || <span class=\"keyword\">this</span>.crisis.name === <span class=\"keyword\">this</span>.editName) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// Otherwise ask the user with the dialog service and return its</span></span><br><span class=\"line\">  <span class=\"comment\">// promise which resolves to true or false when the user decides</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>._dialog.confirm(<span class=\"string\">'Discard changes?'</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> save  cancer </p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>._dialog.confirm(<span class=\"string\">'Discard changes?'</span>);</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/css/images/72.jpg\" alt=\"\"></p>\n<p><code>dialog</code> <code>window.confirm()</code> Bool  Promise  ng1 <code>window.confirm</code> promise  </p>\n<p>app/dialog.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Injectable&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Async modal dialog service</span></span><br><span class=\"line\"><span class=\"comment\"> * DialogService makes this app easier to test by faking this service.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">TODO:</span> better modal implemenation that doesn't use window.confirm</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> DialogService &#123;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * Ask user to confirm an action. `message` explains the action and choices.</span></span><br><span class=\"line\"><span class=\"comment\">   * Returns promise resolving to `true`=confirm or `false`=cancel</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  confirm(message?:<span class=\"built_in\">string</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>&lt;<span class=\"built_in\">boolean</span>&gt;<span class=\"function\">(<span class=\"params\">(<span class=\"params\">resolve, reject</span>) =&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">      resolve(<span class=\"params\"><span class=\"built_in\">window</span>.confirm(<span class=\"params\">message || 'Is it OK?'</span>)</span>)</span>);</span></span><br><span class=\"line\"><span class=\"function\">  &#125;;</span></span><br><span class=\"line\"><span class=\"function\">&#125;</span></span><br></pre></td></tr></table></figure>\n<p> Promise <code>confirm</code> <code>confirm</code>Promise</p>\n<p> ng1 <code>resolve</code>Promise ng1  wilddog </p>\n<p><a href=\"https://github.com/lewis617/wild-angular-seed/blob/gh-pages/components/wilddog.utils/wilddog.utils.js#L85\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/wild-angular-seed/blob/gh-pages/components/wilddog.utils/wilddog.utils.js#L85</a></p>\n<h1 id=\"matrix-URL-notation\"><a href=\"#matrix-URL-notation\" class=\"headerlink\" title=\"matrix URL notation\"></a><em>matrix URL</em> notation</h1><p> URL </p>\n<p><a href=\"http://localhost:63342/angular2-tutorial/router/index.html/crisis-center/;id=1;foo=foo\" target=\"_blank\" rel=\"noopener\">http://localhost:63342/angular2-tutorial/router/index.html/crisis-center/;id=1;foo=foo</a></p>\n<p><code>;id=1;foo=foo</code> query string<code>?</code><code>&amp;</code><code>;</code> <em>matrix URL</em> notation  </p>\n<blockquote>\n<p><em>Matrix URL</em> notation is an idea first floated in a <a href=\"http://www.w3.org/DesignIssues/MatrixURIs.html\" target=\"_blank\" rel=\"noopener\">1996 proposal</a> by the founder of the web, Tim Berners-Lee.</p>\n</blockquote>\n<blockquote>\n<p>Although matrix notation never made it into the HTML standard, it is legal and it became popular among browser routing systems as a way to isolate parameters belonging to parent and child routes. The Angular Component Router is such a system.</p>\n</blockquote>\n<blockquote>\n<p>The syntax may seem strange to us but users are unlikely to notice or care as long as the URL can be emailed and pasted into a browser address bar as this one can.</p>\n</blockquote>\n<p> ng2 </p>\n<p> URL  query string<em>matrix URL</em> notationng2  <em>matrix URL</em>  notation </p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>"},{"title":"Angular2 ","date":"2016-04-04T00:49:00.000Z","_content":"\n ng2 \n\n<!--more-->\n\n## \n\n![](/css/images/68.jpg)\n\n\"\"\"\"appPromise\n\n\n\n<https://github.com/lewis617/angular2-tutorial/tree/gh-pages/router>\n\n\n\n\n\n```sh    \nhttp-server\n```\n\n## base href  \n\nng2base href URL \"\"app[HTML 5 pushState](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries) base href URL \n\nindex.html\n\n```html   \n<!-- Add the router library -->\n<script src=\"lib/router.dev.js\"></script>\n\n<!-- Set the base href -->\n<script>document.write('<base href=\"' + document.location + '\" />');</script>\n\n```\n## \n\napp/main.ts\n\n```ts\nimport {bootstrap}        from 'angular2/platform/browser';\nimport {ROUTER_PROVIDERS} from 'angular2/router';\n\nimport {AppComponent}     from './app.component';\n\n// Add these symbols to override the `LocationStrategy`\n//import {provide}           from 'angular2/core';\n//import {LocationStrategy,\n//        HashLocationStrategy} from 'angular2/router';\n\nbootstrap(AppComponent, [ROUTER_PROVIDERS,\n  //provide(LocationStrategy,\n  //       {useClass: HashLocationStrategy}) // .../#/crisis-center/\n ]);\n```\n\n [HTML 5 pushState](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries) #404~~http-server~~ base href/ng1#\n\n```ts\nimport {bootstrap}        from 'angular2/platform/browser';\nimport {ROUTER_PROVIDERS} from 'angular2/router';\n\nimport {AppComponent}     from './app.component';\n\n// Add these symbols to override the `LocationStrategy`\nimport {provide}           from 'angular2/core';\nimport {LocationStrategy,\n    HashLocationStrategy} from 'angular2/router';\n\nbootstrap(AppComponent, [ROUTER_PROVIDERS,\nprovide(LocationStrategy,\n     {useClass: HashLocationStrategy}) // .../#/crisis-center/\n]);\n\n```\n\napp#404url [HTML 5 pushState](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries) \n\n## ROUTER_DIRECTIVESRouteConfigrouterLinkrouter-outlet\n\n\n\napp/app.component.ts\n\n```ts\nimport {Component} from 'angular2/core';\nimport {RouteConfig, ROUTER_DIRECTIVES} from 'angular2/router';\n\nimport {CrisisCenterComponent} from './crisis-center/crisis-center.component';\nimport {HeroListComponent}     from './heroes/hero-list.component';\nimport {HeroDetailComponent}   from './heroes/hero-detail.component';\n\nimport {DialogService}         from './dialog.service';\nimport {HeroService}           from './heroes/hero.service';\n\n@Component({\n  selector: 'my-app',\n  template: `\n    <h1 class=\"title\">Component Router</h1>\n    <nav>\n      <a [routerLink]=\"['CrisisCenter']\">Crisis Center</a>\n      <a [routerLink]=\"['Heroes']\">Heroes</a>\n    </nav>\n    <router-outlet></router-outlet>\n  `,\n  providers:  [DialogService, HeroService],\n  directives: [ROUTER_DIRECTIVES]\n})\n@RouteConfig([\n\n  { // Crisis Center child route\n    path: '/crisis-center/...',\n    name: 'CrisisCenter',\n    component: CrisisCenterComponent,\n    useAsDefault: true\n  },\n\n  {path: '/heroes',   name: 'Heroes',     component: HeroListComponent},\n  {path: '/hero/:id', name: 'HeroDetail', component: HeroDetailComponent},\n  {path: '/disaster', name: 'Asteroid', redirectTo: ['CrisisCenter', 'CrisisDetail', {id:3}]}\n])\nexport class AppComponent { }\n```\n\n\n\n  1. `h1``nav``a``router-outlet`\n  2. `DialogService`, `HeroService`\n  3. `ROUTER_DIRECTIVES`\n  4. `@RouteConfig`/crisis-center/`router-outlet``CrisisCenterComponent`/heroes`router-outlet``HeroListComponent`\n  5. /disaster`CrisisCenter``CrisisDetail``CrisisCenter`, `CrisisDetail`\n  6. \n\n`nav`heroes`Heroes`\n\n![](/css/images/69.jpg)\n\n\n\nhttp://localhost:63342/angular2-tutorial/router/index.html/heroes\n\n/heroes\n\n## promise\n\nheroesheroesPromise[Angular2 InjectablePromiseInterface](https://lewis617.github.io/2016/02/28/ng2-service/)PromisePromise\n\napp/heroes/hero.service.ts\n\n```ts\nimport {Injectable} from 'angular2/core';\n\nexport class Hero {\n  constructor(public id: number, public name: string) { }\n}\n\n@Injectable()\nexport class HeroService {\n  getHeroes() { return heroesPromise; }\n\n  getHero(id: number | string) {\n    return heroesPromise\n      .then(heroes => heroes.filter(h => h.id === +id)[0]);\n  }\n}\n\nvar HEROES = [\n    new Hero(11, 'Mr. Nice'),\n    new Hero(12, 'Narco'),\n    new Hero(13, 'Bombasto'),\n    new Hero(14, 'Celeritas'),\n    new Hero(15, 'Magneta'),\n    new Hero(16, 'RubberMan')\n];\n\nvar heroesPromise = Promise.resolve(HEROES);\n```\n\n\n\n  1. `Hero`\n  2. `HeroService`\n\n  3. `HEROES``hero`\n  4. `heroesPromise``value``HEROES``resolved``then``value``HEROES`\n\nPromisePromise\n\n  1. `Promise.resolve()`\n  2. `new Promise()`functionfunctionresolvereject\n\nchrome console\n\n![](/css/images/70.jpg)\n\nPromise[Angular2 InjectablePromiseInterface](https://lewis617.github.io/2016/02/28/ng2-service/) \n\n## RouterRouteParams\n\n`RouteParams``Router`\n\napp/heroes/hero-list.component.ts\n\n```ts\n    \n\n// TODO SOMEDAY: Feature Componetized like CrisisCenter\nimport {Component, OnInit}   from 'angular2/core';\nimport {Hero, HeroService}   from './hero.service';\nimport {Router, RouteParams} from 'angular2/router';\n\n@Component({\n  template: `\n    <h2>HEROES</h2>\n    <ul class=\"items\">\n      <li *ngFor=\"#hero of heroes\"\n        [class.selected]=\"isSelected(hero)\"\n        (click)=\"onSelect(hero)\">\n        <span class=\"badge\">{{hero.id}}</span> {{hero.name}}\n      </li>\n    </ul>\n  `\n})\nexport class HeroListComponent implements OnInit {\n  heroes: Hero[];\n\n  private _selectedId: number;\n\n  constructor(\n    private _service: HeroService,\n    private _router: Router,\n    routeParams: RouteParams) {\n      this._selectedId = +routeParams.get('id');\n  }\n\n  isSelected(hero: Hero) { return hero.id === this._selectedId; }\n\n  onSelect(hero: Hero) {\n    this._router.navigate( ['HeroDetail', { id: hero.id }] );\n  }\n\n  ngOnInit() {\n    this._service.getHeroes().then(heroes => this.heroes = heroes)\n  }\n}\n```\n\n\n\n  1. \n  2. `HeroService``Router``RouteParams`\n  3. \n  4. `this._router.navigate( ['HeroDetail', { id: hero.id }] );``app``HeroDetail``id`\n  5. `this._service.getHeroes().then(heroes =&gt; this.heroes = heroes)``heroes``this.heroes`\n\n`Router`\n\n```ts\nthis._router.navigate( ['HeroDetail', { id: hero.id }] );\n```\n\n`RouteParams`\n\n```ts\nthis._selectedId = +routeParams.get('id');\n```\n\n`routeParams.get('id')``+`\n\n`HeroService`\n\n```ts\nthis._service.getHeroes().then(heroes =>; this.heroes = heroes)\n```\n\n## \n\n\n\napp/heroes/hero-detail.component.ts\n\n```ts\nimport {Component,  OnInit}  from 'angular2/core';\nimport {Hero, HeroService}   from './hero.service';\nimport {RouteParams, Router} from 'angular2/router';\n\n@Component({\n  template: `\n  <h2>HEROES</h2>\n  <div *ngIf=\"hero\">\n    <h3>\"{{hero.name}}\"</h3>\n    <div>\n      <label>Id: </label>{{hero.id}}</div>\n    <div>\n      <label>Name: </label>\n      <input [(ngModel)]=\"hero.name\" placeholder=\"name\"/>\n    </div>\n    <p>\n      <button (click)=\"gotoHeroes()\">Back</button>\n    </p>\n  </div>\n  `,\n})\nexport class HeroDetailComponent implements OnInit  {\n  hero: Hero;\n\n  constructor(\n    private _router:Router,\n    private _routeParams:RouteParams,\n    private _service:HeroService){}\n\n  ngOnInit() {\n    let id = this._routeParams.get('id');\n    this._service.getHero(id).then(hero => this.hero = hero);\n  }\n\n  gotoHeroes() {\n    let heroId = this.hero ? this.hero.id : null;\n    // Pass along the hero id if available\n    // so that the HeroList component can select that hero.\n    // Add a totally useless `foo` parameter for kicks.\n    this._router.navigate(['Heroes',  {id: heroId, foo: 'foo'} ]);\n  }\n}\n```\n\n\njs  \n`hero``this.hero``input`\n\n```ts\n<input [(ngModel)]=\"hero.name\" placeholder=\"name\"/>\n```\n`input``this.hero``hero``hero`\n\n`input`back\n\n## Route Parameters or Query Parameters?\n\nbackURL\n\nhttp://localhost:63342/angular2-tutorial/router/index.html/heroes?id=11&amp;foo=foo\n\nQuery Parameters`?id=11&amp;foo=foo`\n\n\n\n```ts\nthis._router.navigate(['Heroes', {id: heroId, foo: 'foo'}]);\n```\n\n`id``foo`tokenQuery Parametersselectcss\n\n`id`token\n\n```ts\n{path: '/hero/:id', name: 'HeroDetail', component: HeroDetailComponent}  \n```\n\nRoute ParametersidRoute Parameters  Query Parameters\n\n\"\"\n\n* * *\n\n\n\n## \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>\n\n","source":"_posts/ng2-router-1.md","raw":"---\ntitle: Angular2 \ndate: 2016-04-04 08:49:00\ntags: [Angular2]\n---\n\n ng2 \n\n<!--more-->\n\n## \n\n![](/css/images/68.jpg)\n\n\"\"\"\"appPromise\n\n\n\n<https://github.com/lewis617/angular2-tutorial/tree/gh-pages/router>\n\n\n\n\n\n```sh    \nhttp-server\n```\n\n## base href  \n\nng2base href URL \"\"app[HTML 5 pushState](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries) base href URL \n\nindex.html\n\n```html   \n<!-- Add the router library -->\n<script src=\"lib/router.dev.js\"></script>\n\n<!-- Set the base href -->\n<script>document.write('<base href=\"' + document.location + '\" />');</script>\n\n```\n## \n\napp/main.ts\n\n```ts\nimport {bootstrap}        from 'angular2/platform/browser';\nimport {ROUTER_PROVIDERS} from 'angular2/router';\n\nimport {AppComponent}     from './app.component';\n\n// Add these symbols to override the `LocationStrategy`\n//import {provide}           from 'angular2/core';\n//import {LocationStrategy,\n//        HashLocationStrategy} from 'angular2/router';\n\nbootstrap(AppComponent, [ROUTER_PROVIDERS,\n  //provide(LocationStrategy,\n  //       {useClass: HashLocationStrategy}) // .../#/crisis-center/\n ]);\n```\n\n [HTML 5 pushState](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries) #404~~http-server~~ base href/ng1#\n\n```ts\nimport {bootstrap}        from 'angular2/platform/browser';\nimport {ROUTER_PROVIDERS} from 'angular2/router';\n\nimport {AppComponent}     from './app.component';\n\n// Add these symbols to override the `LocationStrategy`\nimport {provide}           from 'angular2/core';\nimport {LocationStrategy,\n    HashLocationStrategy} from 'angular2/router';\n\nbootstrap(AppComponent, [ROUTER_PROVIDERS,\nprovide(LocationStrategy,\n     {useClass: HashLocationStrategy}) // .../#/crisis-center/\n]);\n\n```\n\napp#404url [HTML 5 pushState](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries) \n\n## ROUTER_DIRECTIVESRouteConfigrouterLinkrouter-outlet\n\n\n\napp/app.component.ts\n\n```ts\nimport {Component} from 'angular2/core';\nimport {RouteConfig, ROUTER_DIRECTIVES} from 'angular2/router';\n\nimport {CrisisCenterComponent} from './crisis-center/crisis-center.component';\nimport {HeroListComponent}     from './heroes/hero-list.component';\nimport {HeroDetailComponent}   from './heroes/hero-detail.component';\n\nimport {DialogService}         from './dialog.service';\nimport {HeroService}           from './heroes/hero.service';\n\n@Component({\n  selector: 'my-app',\n  template: `\n    <h1 class=\"title\">Component Router</h1>\n    <nav>\n      <a [routerLink]=\"['CrisisCenter']\">Crisis Center</a>\n      <a [routerLink]=\"['Heroes']\">Heroes</a>\n    </nav>\n    <router-outlet></router-outlet>\n  `,\n  providers:  [DialogService, HeroService],\n  directives: [ROUTER_DIRECTIVES]\n})\n@RouteConfig([\n\n  { // Crisis Center child route\n    path: '/crisis-center/...',\n    name: 'CrisisCenter',\n    component: CrisisCenterComponent,\n    useAsDefault: true\n  },\n\n  {path: '/heroes',   name: 'Heroes',     component: HeroListComponent},\n  {path: '/hero/:id', name: 'HeroDetail', component: HeroDetailComponent},\n  {path: '/disaster', name: 'Asteroid', redirectTo: ['CrisisCenter', 'CrisisDetail', {id:3}]}\n])\nexport class AppComponent { }\n```\n\n\n\n  1. `h1``nav``a``router-outlet`\n  2. `DialogService`, `HeroService`\n  3. `ROUTER_DIRECTIVES`\n  4. `@RouteConfig`/crisis-center/`router-outlet``CrisisCenterComponent`/heroes`router-outlet``HeroListComponent`\n  5. /disaster`CrisisCenter``CrisisDetail``CrisisCenter`, `CrisisDetail`\n  6. \n\n`nav`heroes`Heroes`\n\n![](/css/images/69.jpg)\n\n\n\nhttp://localhost:63342/angular2-tutorial/router/index.html/heroes\n\n/heroes\n\n## promise\n\nheroesheroesPromise[Angular2 InjectablePromiseInterface](https://lewis617.github.io/2016/02/28/ng2-service/)PromisePromise\n\napp/heroes/hero.service.ts\n\n```ts\nimport {Injectable} from 'angular2/core';\n\nexport class Hero {\n  constructor(public id: number, public name: string) { }\n}\n\n@Injectable()\nexport class HeroService {\n  getHeroes() { return heroesPromise; }\n\n  getHero(id: number | string) {\n    return heroesPromise\n      .then(heroes => heroes.filter(h => h.id === +id)[0]);\n  }\n}\n\nvar HEROES = [\n    new Hero(11, 'Mr. Nice'),\n    new Hero(12, 'Narco'),\n    new Hero(13, 'Bombasto'),\n    new Hero(14, 'Celeritas'),\n    new Hero(15, 'Magneta'),\n    new Hero(16, 'RubberMan')\n];\n\nvar heroesPromise = Promise.resolve(HEROES);\n```\n\n\n\n  1. `Hero`\n  2. `HeroService`\n\n  3. `HEROES``hero`\n  4. `heroesPromise``value``HEROES``resolved``then``value``HEROES`\n\nPromisePromise\n\n  1. `Promise.resolve()`\n  2. `new Promise()`functionfunctionresolvereject\n\nchrome console\n\n![](/css/images/70.jpg)\n\nPromise[Angular2 InjectablePromiseInterface](https://lewis617.github.io/2016/02/28/ng2-service/) \n\n## RouterRouteParams\n\n`RouteParams``Router`\n\napp/heroes/hero-list.component.ts\n\n```ts\n    \n\n// TODO SOMEDAY: Feature Componetized like CrisisCenter\nimport {Component, OnInit}   from 'angular2/core';\nimport {Hero, HeroService}   from './hero.service';\nimport {Router, RouteParams} from 'angular2/router';\n\n@Component({\n  template: `\n    <h2>HEROES</h2>\n    <ul class=\"items\">\n      <li *ngFor=\"#hero of heroes\"\n        [class.selected]=\"isSelected(hero)\"\n        (click)=\"onSelect(hero)\">\n        <span class=\"badge\">{{hero.id}}</span> {{hero.name}}\n      </li>\n    </ul>\n  `\n})\nexport class HeroListComponent implements OnInit {\n  heroes: Hero[];\n\n  private _selectedId: number;\n\n  constructor(\n    private _service: HeroService,\n    private _router: Router,\n    routeParams: RouteParams) {\n      this._selectedId = +routeParams.get('id');\n  }\n\n  isSelected(hero: Hero) { return hero.id === this._selectedId; }\n\n  onSelect(hero: Hero) {\n    this._router.navigate( ['HeroDetail', { id: hero.id }] );\n  }\n\n  ngOnInit() {\n    this._service.getHeroes().then(heroes => this.heroes = heroes)\n  }\n}\n```\n\n\n\n  1. \n  2. `HeroService``Router``RouteParams`\n  3. \n  4. `this._router.navigate( ['HeroDetail', { id: hero.id }] );``app``HeroDetail``id`\n  5. `this._service.getHeroes().then(heroes =&gt; this.heroes = heroes)``heroes``this.heroes`\n\n`Router`\n\n```ts\nthis._router.navigate( ['HeroDetail', { id: hero.id }] );\n```\n\n`RouteParams`\n\n```ts\nthis._selectedId = +routeParams.get('id');\n```\n\n`routeParams.get('id')``+`\n\n`HeroService`\n\n```ts\nthis._service.getHeroes().then(heroes =>; this.heroes = heroes)\n```\n\n## \n\n\n\napp/heroes/hero-detail.component.ts\n\n```ts\nimport {Component,  OnInit}  from 'angular2/core';\nimport {Hero, HeroService}   from './hero.service';\nimport {RouteParams, Router} from 'angular2/router';\n\n@Component({\n  template: `\n  <h2>HEROES</h2>\n  <div *ngIf=\"hero\">\n    <h3>\"{{hero.name}}\"</h3>\n    <div>\n      <label>Id: </label>{{hero.id}}</div>\n    <div>\n      <label>Name: </label>\n      <input [(ngModel)]=\"hero.name\" placeholder=\"name\"/>\n    </div>\n    <p>\n      <button (click)=\"gotoHeroes()\">Back</button>\n    </p>\n  </div>\n  `,\n})\nexport class HeroDetailComponent implements OnInit  {\n  hero: Hero;\n\n  constructor(\n    private _router:Router,\n    private _routeParams:RouteParams,\n    private _service:HeroService){}\n\n  ngOnInit() {\n    let id = this._routeParams.get('id');\n    this._service.getHero(id).then(hero => this.hero = hero);\n  }\n\n  gotoHeroes() {\n    let heroId = this.hero ? this.hero.id : null;\n    // Pass along the hero id if available\n    // so that the HeroList component can select that hero.\n    // Add a totally useless `foo` parameter for kicks.\n    this._router.navigate(['Heroes',  {id: heroId, foo: 'foo'} ]);\n  }\n}\n```\n\n\njs  \n`hero``this.hero``input`\n\n```ts\n<input [(ngModel)]=\"hero.name\" placeholder=\"name\"/>\n```\n`input``this.hero``hero``hero`\n\n`input`back\n\n## Route Parameters or Query Parameters?\n\nbackURL\n\nhttp://localhost:63342/angular2-tutorial/router/index.html/heroes?id=11&amp;foo=foo\n\nQuery Parameters`?id=11&amp;foo=foo`\n\n\n\n```ts\nthis._router.navigate(['Heroes', {id: heroId, foo: 'foo'}]);\n```\n\n`id``foo`tokenQuery Parametersselectcss\n\n`id`token\n\n```ts\n{path: '/hero/:id', name: 'HeroDetail', component: HeroDetailComponent}  \n```\n\nRoute ParametersidRoute Parameters  Query Parameters\n\n\"\"\n\n* * *\n\n\n\n## \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>\n\n","slug":"ng2-router-1","published":1,"updated":"2019-05-01T08:10:29.860Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvlz001vtgytjhmxc861","content":"<p> ng2 </p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/68.jpg\" alt=\"\"></p>\n<p>appPromise</p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/router\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial/tree/gh-pages/router</a></p>\n<p></p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http-server</span><br></pre></td></tr></table></figure>\n<h2 id=\"base-href\"><a href=\"#base-href\" class=\"headerlink\" title=\"base href\"></a>base href</h2><p>ng2base href URL app<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries\" target=\"_blank\" rel=\"noopener\">HTML 5 pushState</a> base href URL </p>\n<p>index.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- Add the router library --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"lib/router.dev.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- Set the base href --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"><span class=\"built_in\">document</span>.write(<span class=\"string\">'&lt;base href=\"'</span> + <span class=\"built_in\">document</span>.location + <span class=\"string\">'\" /&gt;'</span>);</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>app/main.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;bootstrap&#125;        <span class=\"keyword\">from</span> <span class=\"string\">'angular2/platform/browser'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;ROUTER_PROVIDERS&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/router'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;AppComponent&#125;     <span class=\"keyword\">from</span> <span class=\"string\">'./app.component'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Add these symbols to override the `LocationStrategy`</span></span><br><span class=\"line\"><span class=\"comment\">//import &#123;provide&#125;           from 'angular2/core';</span></span><br><span class=\"line\"><span class=\"comment\">//import &#123;LocationStrategy,</span></span><br><span class=\"line\"><span class=\"comment\">//        HashLocationStrategy&#125; from 'angular2/router';</span></span><br><span class=\"line\"></span><br><span class=\"line\">bootstrap(AppComponent, [ROUTER_PROVIDERS,</span><br><span class=\"line\">  <span class=\"comment\">//provide(LocationStrategy,</span></span><br><span class=\"line\">  <span class=\"comment\">//       &#123;useClass: HashLocationStrategy&#125;) // .../#/crisis-center/</span></span><br><span class=\"line\"> ]);</span><br></pre></td></tr></table></figure>\n<p> <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries\" target=\"_blank\" rel=\"noopener\">HTML 5 pushState</a> #404<del>http-server</del> base href/ng1#</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;bootstrap&#125;        <span class=\"keyword\">from</span> <span class=\"string\">'angular2/platform/browser'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;ROUTER_PROVIDERS&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/router'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;AppComponent&#125;     <span class=\"keyword\">from</span> <span class=\"string\">'./app.component'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Add these symbols to override the `LocationStrategy`</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;provide&#125;           <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;LocationStrategy,</span><br><span class=\"line\">    HashLocationStrategy&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/router'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">bootstrap(AppComponent, [ROUTER_PROVIDERS,</span><br><span class=\"line\">provide(LocationStrategy,</span><br><span class=\"line\">     &#123;useClass: HashLocationStrategy&#125;) <span class=\"comment\">// .../#/crisis-center/</span></span><br><span class=\"line\">]);</span><br></pre></td></tr></table></figure>\n<p>app#404url <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries\" target=\"_blank\" rel=\"noopener\">HTML 5 pushState</a> </p>\n<h2 id=\"ROUTER-DIRECTIVESRouteConfigrouterLinkrouter-outlet\"><a href=\"#ROUTER-DIRECTIVESRouteConfigrouterLinkrouter-outlet\" class=\"headerlink\" title=\"ROUTER_DIRECTIVESRouteConfigrouterLinkrouter-outlet\"></a>ROUTER_DIRECTIVESRouteConfigrouterLinkrouter-outlet</h2><p></p>\n<p>app/app.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Component&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;RouteConfig, ROUTER_DIRECTIVES&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/router'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;CrisisCenterComponent&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./crisis-center/crisis-center.component'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;HeroListComponent&#125;     <span class=\"keyword\">from</span> <span class=\"string\">'./heroes/hero-list.component'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;HeroDetailComponent&#125;   <span class=\"keyword\">from</span> <span class=\"string\">'./heroes/hero-detail.component'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;DialogService&#125;         <span class=\"keyword\">from</span> <span class=\"string\">'./dialog.service'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;HeroService&#125;           <span class=\"keyword\">from</span> <span class=\"string\">'./heroes/hero.service'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">  selector: <span class=\"string\">'my-app'</span>,</span><br><span class=\"line\">  template: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">    &lt;h1 class=\"title\"&gt;Component Router&lt;/h1&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;nav&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a [routerLink]=\"['CrisisCenter']\"&gt;Crisis Center&lt;/a&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a [routerLink]=\"['Heroes']\"&gt;Heroes&lt;/a&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/nav&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;router-outlet&gt;&lt;/router-outlet&gt;</span></span><br><span class=\"line\"><span class=\"string\">  `</span>,</span><br><span class=\"line\">  providers:  [DialogService, HeroService],</span><br><span class=\"line\">  directives: [ROUTER_DIRECTIVES]</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"meta\">@RouteConfig</span>([</span><br><span class=\"line\"></span><br><span class=\"line\">  &#123; <span class=\"comment\">// Crisis Center child route</span></span><br><span class=\"line\">    path: <span class=\"string\">'/crisis-center/...'</span>,</span><br><span class=\"line\">    name: <span class=\"string\">'CrisisCenter'</span>,</span><br><span class=\"line\">    component: CrisisCenterComponent,</span><br><span class=\"line\">    useAsDefault: <span class=\"literal\">true</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  &#123;path: <span class=\"string\">'/heroes'</span>,   name: <span class=\"string\">'Heroes'</span>,     component: HeroListComponent&#125;,</span><br><span class=\"line\">  &#123;path: <span class=\"string\">'/hero/:id'</span>, name: <span class=\"string\">'HeroDetail'</span>, component: HeroDetailComponent&#125;,</span><br><span class=\"line\">  &#123;path: <span class=\"string\">'/disaster'</span>, name: <span class=\"string\">'Asteroid'</span>, redirectTo: [<span class=\"string\">'CrisisCenter'</span>, <span class=\"string\">'CrisisDetail'</span>, &#123;id:<span class=\"number\">3</span>&#125;]&#125;</span><br><span class=\"line\">])</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> AppComponent &#123; &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>h1</code><code>nav</code><code>a</code><code>router-outlet</code></li>\n<li><code>DialogService</code>, <code>HeroService</code></li>\n<li><code>ROUTER_DIRECTIVES</code></li>\n<li><code>@RouteConfig</code>/crisis-center/<code>router-outlet</code><code>CrisisCenterComponent</code>/heroes<code>router-outlet</code><code>HeroListComponent</code></li>\n<li>/disaster<code>CrisisCenter</code><code>CrisisDetail</code><code>CrisisCenter</code>, <code>CrisisDetail</code></li>\n<li></li>\n</ol>\n<p><code>nav</code>heroes<code>Heroes</code></p>\n<p><img src=\"/css/images/69.jpg\" alt=\"\"></p>\n<p></p>\n<p><a href=\"http://localhost:63342/angular2-tutorial/router/index.html/heroes\" target=\"_blank\" rel=\"noopener\">http://localhost:63342/angular2-tutorial/router/index.html/heroes</a></p>\n<p>/heroes</p>\n<h2 id=\"promise\"><a href=\"#promise\" class=\"headerlink\" title=\"promise\"></a>promise</h2><p>heroesheroesPromise<a href=\"https://lewis617.github.io/2016/02/28/ng2-service/\" target=\"_blank\" rel=\"noopener\">Angular2 InjectablePromiseInterface</a>PromisePromise</p>\n<p>app/heroes/hero.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Injectable&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> Hero &#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(<span class=\"params\"><span class=\"keyword\">public</span> id: <span class=\"built_in\">number</span>, <span class=\"keyword\">public</span> name: <span class=\"built_in\">string</span></span>) &#123; &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> HeroService &#123;</span><br><span class=\"line\">  getHeroes() &#123; <span class=\"keyword\">return</span> heroesPromise; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  getHero(id: <span class=\"built_in\">number</span> | <span class=\"built_in\">string</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> heroesPromise</span><br><span class=\"line\">      .then(<span class=\"function\"><span class=\"params\">heroes</span> =&gt;</span> heroes.filter(<span class=\"function\"><span class=\"params\">h</span> =&gt;</span> h.id === +id)[<span class=\"number\">0</span>]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> HEROES = [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Hero(<span class=\"number\">11</span>, <span class=\"string\">'Mr. Nice'</span>),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Hero(<span class=\"number\">12</span>, <span class=\"string\">'Narco'</span>),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Hero(<span class=\"number\">13</span>, <span class=\"string\">'Bombasto'</span>),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Hero(<span class=\"number\">14</span>, <span class=\"string\">'Celeritas'</span>),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Hero(<span class=\"number\">15</span>, <span class=\"string\">'Magneta'</span>),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Hero(<span class=\"number\">16</span>, <span class=\"string\">'RubberMan'</span>)</span><br><span class=\"line\">];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> heroesPromise = <span class=\"built_in\">Promise</span>.resolve(HEROES);</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>Hero</code></li>\n<li><p><code>HeroService</code></p>\n</li>\n<li><p><code>HEROES</code><code>hero</code></p>\n</li>\n<li><code>heroesPromise</code><code>value</code><code>HEROES</code><code>resolved</code><code>then</code><code>value</code><code>HEROES</code></li>\n</ol>\n<p>PromisePromise</p>\n<ol>\n<li><code>Promise.resolve()</code></li>\n<li><code>new Promise()</code>functionfunctionresolvereject</li>\n</ol>\n<p>chrome console</p>\n<p><img src=\"/css/images/70.jpg\" alt=\"\"></p>\n<p>Promise<a href=\"https://lewis617.github.io/2016/02/28/ng2-service/\" target=\"_blank\" rel=\"noopener\">Angular2 InjectablePromiseInterface</a> </p>\n<h2 id=\"RouterRouteParams\"><a href=\"#RouterRouteParams\" class=\"headerlink\" title=\"RouterRouteParams\"></a>RouterRouteParams</h2><p><code>RouteParams</code><code>Router</code></p>\n<p>app/heroes/hero-list.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// TODO SOMEDAY: Feature Componetized like CrisisCenter</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Component, OnInit&#125;   <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Hero, HeroService&#125;   <span class=\"keyword\">from</span> <span class=\"string\">'./hero.service'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Router, RouteParams&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/router'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">  template: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">    &lt;h2&gt;HEROES&lt;/h2&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;ul class=\"items\"&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;li *ngFor=\"#hero of heroes\"</span></span><br><span class=\"line\"><span class=\"string\">        [class.selected]=\"isSelected(hero)\"</span></span><br><span class=\"line\"><span class=\"string\">        (click)=\"onSelect(hero)\"&gt;</span></span><br><span class=\"line\"><span class=\"string\">        &lt;span class=\"badge\"&gt;&#123;&#123;hero.id&#125;&#125;&lt;/span&gt; &#123;&#123;hero.name&#125;&#125;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;/li&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/ul&gt;</span></span><br><span class=\"line\"><span class=\"string\">  `</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> HeroListComponent <span class=\"keyword\">implements</span> OnInit &#123;</span><br><span class=\"line\">  heroes: Hero[];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> _selectedId: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">    <span class=\"keyword\">private</span> _service: HeroService,</span></span><br><span class=\"line\"><span class=\"params\">    <span class=\"keyword\">private</span> _router: Router,</span></span><br><span class=\"line\"><span class=\"params\">    routeParams: RouteParams</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>._selectedId = +routeParams.get(<span class=\"string\">'id'</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  isSelected(hero: Hero) &#123; <span class=\"keyword\">return</span> hero.id === <span class=\"keyword\">this</span>._selectedId; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  onSelect(hero: Hero) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>._router.navigate( [<span class=\"string\">'HeroDetail'</span>, &#123; id: hero.id &#125;] );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  ngOnInit() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>._service.getHeroes().then(<span class=\"function\"><span class=\"params\">heroes</span> =&gt;</span> <span class=\"keyword\">this</span>.heroes = heroes)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li></li>\n<li><code>HeroService</code><code>Router</code><code>RouteParams</code></li>\n<li></li>\n<li><code>this._router.navigate( [&#39;HeroDetail&#39;, { id: hero.id }] );</code><code>app</code><code>HeroDetail</code><code>id</code></li>\n<li><code>this._service.getHeroes().then(heroes =&amp;gt; this.heroes = heroes)</code><code>heroes</code><code>this.heroes</code></li>\n</ol>\n<p><code>Router</code></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>._router.navigate( [<span class=\"string\">'HeroDetail'</span>, &#123; id: hero.id &#125;] );</span><br></pre></td></tr></table></figure>\n<p><code>RouteParams</code></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>._selectedId = +routeParams.get(<span class=\"string\">'id'</span>);</span><br></pre></td></tr></table></figure>\n<p><code>routeParams.get(&#39;id&#39;)</code><code>+</code></p>\n<p><code>HeroService</code></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>._service.getHeroes().then(<span class=\"function\"><span class=\"params\">heroes</span> =&gt;</span>; <span class=\"keyword\">this</span>.heroes = heroes)</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>app/heroes/hero-detail.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Component,  OnInit&#125;  <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Hero, HeroService&#125;   <span class=\"keyword\">from</span> <span class=\"string\">'./hero.service'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;RouteParams, Router&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/router'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">  template: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">  &lt;h2&gt;HEROES&lt;/h2&gt;</span></span><br><span class=\"line\"><span class=\"string\">  &lt;div *ngIf=\"hero\"&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;h3&gt;\"&#123;&#123;hero.name&#125;&#125;\"&lt;/h3&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;label&gt;Id: &lt;/label&gt;&#123;&#123;hero.id&#125;&#125;&lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;label&gt;Name: &lt;/label&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;input [(ngModel)]=\"hero.name\" placeholder=\"name\"/&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;p&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;button (click)=\"gotoHeroes()\"&gt;Back&lt;/button&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/p&gt;</span></span><br><span class=\"line\"><span class=\"string\">  &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">  `</span>,</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> HeroDetailComponent <span class=\"keyword\">implements</span> OnInit  &#123;</span><br><span class=\"line\">  hero: Hero;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">    <span class=\"keyword\">private</span> _router:Router,</span></span><br><span class=\"line\"><span class=\"params\">    <span class=\"keyword\">private</span> _routeParams:RouteParams,</span></span><br><span class=\"line\"><span class=\"params\">    <span class=\"keyword\">private</span> _service:HeroService</span>)&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  ngOnInit() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> id = <span class=\"keyword\">this</span>._routeParams.get(<span class=\"string\">'id'</span>);</span><br><span class=\"line\">    <span class=\"keyword\">this</span>._service.getHero(id).then(<span class=\"function\"><span class=\"params\">hero</span> =&gt;</span> <span class=\"keyword\">this</span>.hero = hero);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  gotoHeroes() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> heroId = <span class=\"keyword\">this</span>.hero ? <span class=\"keyword\">this</span>.hero.id : <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"comment\">// Pass along the hero id if available</span></span><br><span class=\"line\">    <span class=\"comment\">// so that the HeroList component can select that hero.</span></span><br><span class=\"line\">    <span class=\"comment\">// Add a totally useless `foo` parameter for kicks.</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>._router.navigate([<span class=\"string\">'Heroes'</span>,  &#123;id: heroId, foo: <span class=\"string\">'foo'</span>&#125; ]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>js<br><code>hero</code><code>this.hero</code><code>input</code></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;input [(ngModel)]=<span class=\"string\">\"hero.name\"</span> placeholder=<span class=\"string\">\"name\"</span>/&gt;</span><br></pre></td></tr></table></figure>\n<p><code>input</code><code>this.hero</code><code>hero</code><code>hero</code></p>\n<p><code>input</code>back</p>\n<h2 id=\"Route-Parameters-or-Query-Parameters\"><a href=\"#Route-Parameters-or-Query-Parameters\" class=\"headerlink\" title=\"Route Parameters or Query Parameters?\"></a>Route Parameters or Query Parameters?</h2><p>backURL</p>\n<p><a href=\"http://localhost:63342/angular2-tutorial/router/index.html/heroes?id=11&amp;foo=foo\" target=\"_blank\" rel=\"noopener\">http://localhost:63342/angular2-tutorial/router/index.html/heroes?id=11&amp;foo=foo</a></p>\n<p>Query Parameters<code>?id=11&amp;amp;foo=foo</code></p>\n<p></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>._router.navigate([<span class=\"string\">'Heroes'</span>, &#123;id: heroId, foo: <span class=\"string\">'foo'</span>&#125;]);</span><br></pre></td></tr></table></figure>\n<p><code>id</code><code>foo</code>tokenQuery Parametersselectcss</p>\n<p><code>id</code>token</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;path: <span class=\"string\">'/hero/:id'</span>, name: <span class=\"string\">'HeroDetail'</span>, component: HeroDetailComponent&#125;</span><br></pre></td></tr></table></figure>\n<p>Route ParametersidRoute Parameters  Query Parameters</p>\n<p></p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>\n","site":{"data":{}},"excerpt":"<p> ng2 </p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/68.jpg\" alt=\"\"></p>\n<p>appPromise</p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/router\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial/tree/gh-pages/router</a></p>\n<p></p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http-server</span><br></pre></td></tr></table></figure>\n<h2 id=\"base-href\"><a href=\"#base-href\" class=\"headerlink\" title=\"base href\"></a>base href</h2><p>ng2base href URL app<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries\" target=\"_blank\" rel=\"noopener\">HTML 5 pushState</a> base href URL </p>\n<p>index.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- Add the router library --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"lib/router.dev.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- Set the base href --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"><span class=\"built_in\">document</span>.write(<span class=\"string\">'&lt;base href=\"'</span> + <span class=\"built_in\">document</span>.location + <span class=\"string\">'\" /&gt;'</span>);</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>app/main.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;bootstrap&#125;        <span class=\"keyword\">from</span> <span class=\"string\">'angular2/platform/browser'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;ROUTER_PROVIDERS&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/router'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;AppComponent&#125;     <span class=\"keyword\">from</span> <span class=\"string\">'./app.component'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Add these symbols to override the `LocationStrategy`</span></span><br><span class=\"line\"><span class=\"comment\">//import &#123;provide&#125;           from 'angular2/core';</span></span><br><span class=\"line\"><span class=\"comment\">//import &#123;LocationStrategy,</span></span><br><span class=\"line\"><span class=\"comment\">//        HashLocationStrategy&#125; from 'angular2/router';</span></span><br><span class=\"line\"></span><br><span class=\"line\">bootstrap(AppComponent, [ROUTER_PROVIDERS,</span><br><span class=\"line\">  <span class=\"comment\">//provide(LocationStrategy,</span></span><br><span class=\"line\">  <span class=\"comment\">//       &#123;useClass: HashLocationStrategy&#125;) // .../#/crisis-center/</span></span><br><span class=\"line\"> ]);</span><br></pre></td></tr></table></figure>\n<p> <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries\" target=\"_blank\" rel=\"noopener\">HTML 5 pushState</a> #404<del>http-server</del> base href/ng1#</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;bootstrap&#125;        <span class=\"keyword\">from</span> <span class=\"string\">'angular2/platform/browser'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;ROUTER_PROVIDERS&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/router'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;AppComponent&#125;     <span class=\"keyword\">from</span> <span class=\"string\">'./app.component'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Add these symbols to override the `LocationStrategy`</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;provide&#125;           <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;LocationStrategy,</span><br><span class=\"line\">    HashLocationStrategy&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/router'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">bootstrap(AppComponent, [ROUTER_PROVIDERS,</span><br><span class=\"line\">provide(LocationStrategy,</span><br><span class=\"line\">     &#123;useClass: HashLocationStrategy&#125;) <span class=\"comment\">// .../#/crisis-center/</span></span><br><span class=\"line\">]);</span><br></pre></td></tr></table></figure>\n<p>app#404url <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries\" target=\"_blank\" rel=\"noopener\">HTML 5 pushState</a> </p>\n<h2 id=\"ROUTER-DIRECTIVESRouteConfigrouterLinkrouter-outlet\"><a href=\"#ROUTER-DIRECTIVESRouteConfigrouterLinkrouter-outlet\" class=\"headerlink\" title=\"ROUTER_DIRECTIVESRouteConfigrouterLinkrouter-outlet\"></a>ROUTER_DIRECTIVESRouteConfigrouterLinkrouter-outlet</h2><p></p>\n<p>app/app.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Component&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;RouteConfig, ROUTER_DIRECTIVES&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/router'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;CrisisCenterComponent&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./crisis-center/crisis-center.component'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;HeroListComponent&#125;     <span class=\"keyword\">from</span> <span class=\"string\">'./heroes/hero-list.component'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;HeroDetailComponent&#125;   <span class=\"keyword\">from</span> <span class=\"string\">'./heroes/hero-detail.component'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;DialogService&#125;         <span class=\"keyword\">from</span> <span class=\"string\">'./dialog.service'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;HeroService&#125;           <span class=\"keyword\">from</span> <span class=\"string\">'./heroes/hero.service'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">  selector: <span class=\"string\">'my-app'</span>,</span><br><span class=\"line\">  template: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">    &lt;h1 class=\"title\"&gt;Component Router&lt;/h1&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;nav&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a [routerLink]=\"['CrisisCenter']\"&gt;Crisis Center&lt;/a&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a [routerLink]=\"['Heroes']\"&gt;Heroes&lt;/a&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/nav&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;router-outlet&gt;&lt;/router-outlet&gt;</span></span><br><span class=\"line\"><span class=\"string\">  `</span>,</span><br><span class=\"line\">  providers:  [DialogService, HeroService],</span><br><span class=\"line\">  directives: [ROUTER_DIRECTIVES]</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"meta\">@RouteConfig</span>([</span><br><span class=\"line\"></span><br><span class=\"line\">  &#123; <span class=\"comment\">// Crisis Center child route</span></span><br><span class=\"line\">    path: <span class=\"string\">'/crisis-center/...'</span>,</span><br><span class=\"line\">    name: <span class=\"string\">'CrisisCenter'</span>,</span><br><span class=\"line\">    component: CrisisCenterComponent,</span><br><span class=\"line\">    useAsDefault: <span class=\"literal\">true</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  &#123;path: <span class=\"string\">'/heroes'</span>,   name: <span class=\"string\">'Heroes'</span>,     component: HeroListComponent&#125;,</span><br><span class=\"line\">  &#123;path: <span class=\"string\">'/hero/:id'</span>, name: <span class=\"string\">'HeroDetail'</span>, component: HeroDetailComponent&#125;,</span><br><span class=\"line\">  &#123;path: <span class=\"string\">'/disaster'</span>, name: <span class=\"string\">'Asteroid'</span>, redirectTo: [<span class=\"string\">'CrisisCenter'</span>, <span class=\"string\">'CrisisDetail'</span>, &#123;id:<span class=\"number\">3</span>&#125;]&#125;</span><br><span class=\"line\">])</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> AppComponent &#123; &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>h1</code><code>nav</code><code>a</code><code>router-outlet</code></li>\n<li><code>DialogService</code>, <code>HeroService</code></li>\n<li><code>ROUTER_DIRECTIVES</code></li>\n<li><code>@RouteConfig</code>/crisis-center/<code>router-outlet</code><code>CrisisCenterComponent</code>/heroes<code>router-outlet</code><code>HeroListComponent</code></li>\n<li>/disaster<code>CrisisCenter</code><code>CrisisDetail</code><code>CrisisCenter</code>, <code>CrisisDetail</code></li>\n<li></li>\n</ol>\n<p><code>nav</code>heroes<code>Heroes</code></p>\n<p><img src=\"/css/images/69.jpg\" alt=\"\"></p>\n<p></p>\n<p><a href=\"http://localhost:63342/angular2-tutorial/router/index.html/heroes\" target=\"_blank\" rel=\"noopener\">http://localhost:63342/angular2-tutorial/router/index.html/heroes</a></p>\n<p>/heroes</p>\n<h2 id=\"promise\"><a href=\"#promise\" class=\"headerlink\" title=\"promise\"></a>promise</h2><p>heroesheroesPromise<a href=\"https://lewis617.github.io/2016/02/28/ng2-service/\" target=\"_blank\" rel=\"noopener\">Angular2 InjectablePromiseInterface</a>PromisePromise</p>\n<p>app/heroes/hero.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Injectable&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> Hero &#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(<span class=\"params\"><span class=\"keyword\">public</span> id: <span class=\"built_in\">number</span>, <span class=\"keyword\">public</span> name: <span class=\"built_in\">string</span></span>) &#123; &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> HeroService &#123;</span><br><span class=\"line\">  getHeroes() &#123; <span class=\"keyword\">return</span> heroesPromise; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  getHero(id: <span class=\"built_in\">number</span> | <span class=\"built_in\">string</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> heroesPromise</span><br><span class=\"line\">      .then(<span class=\"function\"><span class=\"params\">heroes</span> =&gt;</span> heroes.filter(<span class=\"function\"><span class=\"params\">h</span> =&gt;</span> h.id === +id)[<span class=\"number\">0</span>]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> HEROES = [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Hero(<span class=\"number\">11</span>, <span class=\"string\">'Mr. Nice'</span>),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Hero(<span class=\"number\">12</span>, <span class=\"string\">'Narco'</span>),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Hero(<span class=\"number\">13</span>, <span class=\"string\">'Bombasto'</span>),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Hero(<span class=\"number\">14</span>, <span class=\"string\">'Celeritas'</span>),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Hero(<span class=\"number\">15</span>, <span class=\"string\">'Magneta'</span>),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Hero(<span class=\"number\">16</span>, <span class=\"string\">'RubberMan'</span>)</span><br><span class=\"line\">];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> heroesPromise = <span class=\"built_in\">Promise</span>.resolve(HEROES);</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>Hero</code></li>\n<li><p><code>HeroService</code></p>\n</li>\n<li><p><code>HEROES</code><code>hero</code></p>\n</li>\n<li><code>heroesPromise</code><code>value</code><code>HEROES</code><code>resolved</code><code>then</code><code>value</code><code>HEROES</code></li>\n</ol>\n<p>PromisePromise</p>\n<ol>\n<li><code>Promise.resolve()</code></li>\n<li><code>new Promise()</code>functionfunctionresolvereject</li>\n</ol>\n<p>chrome console</p>\n<p><img src=\"/css/images/70.jpg\" alt=\"\"></p>\n<p>Promise<a href=\"https://lewis617.github.io/2016/02/28/ng2-service/\" target=\"_blank\" rel=\"noopener\">Angular2 InjectablePromiseInterface</a> </p>\n<h2 id=\"RouterRouteParams\"><a href=\"#RouterRouteParams\" class=\"headerlink\" title=\"RouterRouteParams\"></a>RouterRouteParams</h2><p><code>RouteParams</code><code>Router</code></p>\n<p>app/heroes/hero-list.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// TODO SOMEDAY: Feature Componetized like CrisisCenter</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Component, OnInit&#125;   <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Hero, HeroService&#125;   <span class=\"keyword\">from</span> <span class=\"string\">'./hero.service'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Router, RouteParams&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/router'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">  template: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">    &lt;h2&gt;HEROES&lt;/h2&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;ul class=\"items\"&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;li *ngFor=\"#hero of heroes\"</span></span><br><span class=\"line\"><span class=\"string\">        [class.selected]=\"isSelected(hero)\"</span></span><br><span class=\"line\"><span class=\"string\">        (click)=\"onSelect(hero)\"&gt;</span></span><br><span class=\"line\"><span class=\"string\">        &lt;span class=\"badge\"&gt;&#123;&#123;hero.id&#125;&#125;&lt;/span&gt; &#123;&#123;hero.name&#125;&#125;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;/li&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/ul&gt;</span></span><br><span class=\"line\"><span class=\"string\">  `</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> HeroListComponent <span class=\"keyword\">implements</span> OnInit &#123;</span><br><span class=\"line\">  heroes: Hero[];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> _selectedId: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">    <span class=\"keyword\">private</span> _service: HeroService,</span></span><br><span class=\"line\"><span class=\"params\">    <span class=\"keyword\">private</span> _router: Router,</span></span><br><span class=\"line\"><span class=\"params\">    routeParams: RouteParams</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>._selectedId = +routeParams.get(<span class=\"string\">'id'</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  isSelected(hero: Hero) &#123; <span class=\"keyword\">return</span> hero.id === <span class=\"keyword\">this</span>._selectedId; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  onSelect(hero: Hero) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>._router.navigate( [<span class=\"string\">'HeroDetail'</span>, &#123; id: hero.id &#125;] );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  ngOnInit() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>._service.getHeroes().then(<span class=\"function\"><span class=\"params\">heroes</span> =&gt;</span> <span class=\"keyword\">this</span>.heroes = heroes)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li></li>\n<li><code>HeroService</code><code>Router</code><code>RouteParams</code></li>\n<li></li>\n<li><code>this._router.navigate( [&#39;HeroDetail&#39;, { id: hero.id }] );</code><code>app</code><code>HeroDetail</code><code>id</code></li>\n<li><code>this._service.getHeroes().then(heroes =&amp;gt; this.heroes = heroes)</code><code>heroes</code><code>this.heroes</code></li>\n</ol>\n<p><code>Router</code></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>._router.navigate( [<span class=\"string\">'HeroDetail'</span>, &#123; id: hero.id &#125;] );</span><br></pre></td></tr></table></figure>\n<p><code>RouteParams</code></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>._selectedId = +routeParams.get(<span class=\"string\">'id'</span>);</span><br></pre></td></tr></table></figure>\n<p><code>routeParams.get(&#39;id&#39;)</code><code>+</code></p>\n<p><code>HeroService</code></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>._service.getHeroes().then(<span class=\"function\"><span class=\"params\">heroes</span> =&gt;</span>; <span class=\"keyword\">this</span>.heroes = heroes)</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>app/heroes/hero-detail.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Component,  OnInit&#125;  <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Hero, HeroService&#125;   <span class=\"keyword\">from</span> <span class=\"string\">'./hero.service'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;RouteParams, Router&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/router'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">  template: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">  &lt;h2&gt;HEROES&lt;/h2&gt;</span></span><br><span class=\"line\"><span class=\"string\">  &lt;div *ngIf=\"hero\"&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;h3&gt;\"&#123;&#123;hero.name&#125;&#125;\"&lt;/h3&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;label&gt;Id: &lt;/label&gt;&#123;&#123;hero.id&#125;&#125;&lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;label&gt;Name: &lt;/label&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;input [(ngModel)]=\"hero.name\" placeholder=\"name\"/&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;p&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;button (click)=\"gotoHeroes()\"&gt;Back&lt;/button&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/p&gt;</span></span><br><span class=\"line\"><span class=\"string\">  &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">  `</span>,</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> HeroDetailComponent <span class=\"keyword\">implements</span> OnInit  &#123;</span><br><span class=\"line\">  hero: Hero;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">    <span class=\"keyword\">private</span> _router:Router,</span></span><br><span class=\"line\"><span class=\"params\">    <span class=\"keyword\">private</span> _routeParams:RouteParams,</span></span><br><span class=\"line\"><span class=\"params\">    <span class=\"keyword\">private</span> _service:HeroService</span>)&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  ngOnInit() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> id = <span class=\"keyword\">this</span>._routeParams.get(<span class=\"string\">'id'</span>);</span><br><span class=\"line\">    <span class=\"keyword\">this</span>._service.getHero(id).then(<span class=\"function\"><span class=\"params\">hero</span> =&gt;</span> <span class=\"keyword\">this</span>.hero = hero);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  gotoHeroes() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> heroId = <span class=\"keyword\">this</span>.hero ? <span class=\"keyword\">this</span>.hero.id : <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"comment\">// Pass along the hero id if available</span></span><br><span class=\"line\">    <span class=\"comment\">// so that the HeroList component can select that hero.</span></span><br><span class=\"line\">    <span class=\"comment\">// Add a totally useless `foo` parameter for kicks.</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>._router.navigate([<span class=\"string\">'Heroes'</span>,  &#123;id: heroId, foo: <span class=\"string\">'foo'</span>&#125; ]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>js<br><code>hero</code><code>this.hero</code><code>input</code></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;input [(ngModel)]=<span class=\"string\">\"hero.name\"</span> placeholder=<span class=\"string\">\"name\"</span>/&gt;</span><br></pre></td></tr></table></figure>\n<p><code>input</code><code>this.hero</code><code>hero</code><code>hero</code></p>\n<p><code>input</code>back</p>\n<h2 id=\"Route-Parameters-or-Query-Parameters\"><a href=\"#Route-Parameters-or-Query-Parameters\" class=\"headerlink\" title=\"Route Parameters or Query Parameters?\"></a>Route Parameters or Query Parameters?</h2><p>backURL</p>\n<p><a href=\"http://localhost:63342/angular2-tutorial/router/index.html/heroes?id=11&amp;foo=foo\" target=\"_blank\" rel=\"noopener\">http://localhost:63342/angular2-tutorial/router/index.html/heroes?id=11&amp;foo=foo</a></p>\n<p>Query Parameters<code>?id=11&amp;amp;foo=foo</code></p>\n<p></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>._router.navigate([<span class=\"string\">'Heroes'</span>, &#123;id: heroId, foo: <span class=\"string\">'foo'</span>&#125;]);</span><br></pre></td></tr></table></figure>\n<p><code>id</code><code>foo</code>tokenQuery Parametersselectcss</p>\n<p><code>id</code>token</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;path: <span class=\"string\">'/hero/:id'</span>, name: <span class=\"string\">'HeroDetail'</span>, component: HeroDetailComponent&#125;</span><br></pre></td></tr></table></figure>\n<p>Route ParametersidRoute Parameters  Query Parameters</p>\n<p></p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>"},{"title":"Angular2 Structural directives","date":"2016-02-19T01:11:00.000Z","_content":"\nstructural directivesstructural directivesdom[ngIf](https://angular.io/docs/ts/latest/guide/template-syntax.html#ngIf),[ngSwitch](https://angular.io/docs/ts/latest/guide/template-syntax.html#ngSwitch) [ngFor](https://angular.io/docs/ts/latest/guide/template-syntax.html#ngFor)\n\n<!--more-->\n\n## \n\n![](/css/images/76.jpg)\n\nstructural directives\n\n[](https://github.com/lewis617/angular2-tutorial/tree/gh-pages/lifecycle)\n\n## UnlessDirective\n\n\n\napp/unless.directive.ts\n\n```ts\nimport {Directive, Input} from 'angular2/core';\nimport {TemplateRef, ViewContainerRef} from 'angular2/core';\n@Directive({ selector: '[myUnless]' })\nexport class UnlessDirective {\n  constructor(\n    private _templateRef: TemplateRef,\n    private _viewContainer: ViewContainerRef\n    ) { }\n  @Input() set myUnless(condition: boolean) {\n    if (!condition) {\n      this._viewContainer.createEmbeddedView(this._templateRef);\n    } else {\n      this._viewContainer.clear();\n    }\n  }\n}\n```\n\n`TemplateRef`, `ViewContainerRef``template``TemplateRef``template``ViewContainerRef`\n\n\n\n  * [TemplateRef](https://angular.io/docs/ts/latest/api/core/TemplateRef-class.html)\n  * [ViewContainerRef](https://angular.io/docs/ts/latest/api/core/ViewContainerRef-class.html)\n\n## \n\n\n\napp/lifecycle.ts\n\n```ts\nimport {Component,Input} from 'angular2/core';\nimport {bootstrap} from 'angular2/platform/browser';\nimport {OnChanges, SimpleChange,OnInit,AfterContentInit,AfterContentChecked,AfterViewInit,AfterViewChecked,OnDestroy} from 'angular2/core';\n\n@Component({\n    selector: \"lifecycle\",\n    template: `\n    <div>\n    <span>{{name}}</span>\n     <button (click)=\"doSomething()\">click and watch the lifecycle</button>\n     </div>\n    `\n})\nexport class Lifecycle\nimplements OnChanges, OnInit,AfterContentInit,AfterContentChecked,AfterViewInit, AfterViewChecked, OnDestroy{\n    @Input()\n    name:string\n    doSomething(){\n        console.log('***********doSomething**********');\n        setTimeout(()=>{\n             console.log('***********setTimeout**********');\n            this.name='susan'\n        },1000)\n    }\n    ngOnInit(){console.log('onInit');}\n    ngOnDestroy(){console.log('OnDestroy')}\n    ngOnChanges(changes: {[propertyName: string]: SimpleChange}){console.log('ngOnChanges',changes)}\n    ngAfterContentInit(){console.log('AfterContentInit')}\n    ngAfterContentChecked(){console.log('AfterContentChecked')}\n    ngAfterViewInit(){console.log('AfterViewInit')}\n    ngAfterViewChecked(){console.log('AfterViewChecked')}\n}\n```\n\n\n\n  1. `span``button`\n  2. `name`,`@input``parent`\n  3. `doSomething``setTimeout`\n  4. \n\n\n\n## \n\n\"myunless\"\n\napp/app.ts\n\n```ts\nimport {Component} from 'angular2/core';\nimport {bootstrap} from 'angular2/platform/browser';\nimport {UnlessDirective}from './unless.directive';\nimport {Lifecycle} from './lifecycle'\n\n@Component({\n    selector: \"app\",\n    directives:[UnlessDirective,Lifecycle],\n    template: `\n      <button\n      (click)=\"condition = !condition\"\n      [style.background] = \"condition ? 'orangered': 'lightgreen'\"\n      >\n      Set 'condition' to {{condition ? 'False': 'True'}}\n      </button>\n\n      <lifecycle *myUnless=\"condition\" name=\"lewis\"></lifecycle>\n    `\n})\nexport class App {\n    constructor() {}\n}\n\nbootstrap(App, [])\n    .catch(err => console.error(err));    \n```\n\n\n\n  1. `directives:[UnlessDirective,Lifecycle]`\n  2. `button``condition`\n  3. `lifecycle``<lifecycle *myUnless=condition name=lewis></lifecycle>`\n  4. `app``bootstrap(App, []) .catch(err => console.error(err));`\n\n## \n\n### \n\n![](/css/images/77.jpg)\n\n  1. `onInit``ngOnChanges`\n  2. `OnChanges``input``output`;ng1`$watch`;\n  3. `AfterContentInit``AfterViewInit`\n  4. `AfterContentChecked``AfterViewChecked`\n\n`DoCheck`  \n\n### Set 'condition' toTrue\n\n![](/css/images/78.jpg)\n\nconsole\n\n![](/css/images/79.jpg)\n\n### Set 'condition' to False\n\n![](/css/images/80.jpg)\n\nconsole\n\n![](/css/images/81.jpg)\n\n`Onchanges``onInit``AfterContentInit``AfterViewInit``AfterContentChecked``AfterViewChecked`\"\"angualr\n\n### click and watch the lifecyclenamesusan\n\n![](/css/images/82.jpg)\n\nconsole\n\n![](/css/images/83.jpg)\n\n`AfterContentChecked``AfterViewChecked``OnChanges`\n\n## \n\n  1. `TemplateRef`, `ViewContainerRef`\n  2. \n  3. \"\"\n  4. angualr\"\"\n  5. `OnChanges`ng1`$watch``@input`\n  6. ng2`zone`windowsetTimeout\"\"ng1`$apply`\n  7. `setTimeout(()=>{},0)`\"event loop\"ng2\"\"\n  8. `doSomething`ng2\"\"\n\n* * *\n\n## \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>\n\n","source":"_posts/ng2-structural-directive.md","raw":"---\ntitle: Angular2 Structural directives\ndate: 2016-02-19 09:11:00\ntags: [Angular2]\n---\n\nstructural directivesstructural directivesdom[ngIf](https://angular.io/docs/ts/latest/guide/template-syntax.html#ngIf),[ngSwitch](https://angular.io/docs/ts/latest/guide/template-syntax.html#ngSwitch) [ngFor](https://angular.io/docs/ts/latest/guide/template-syntax.html#ngFor)\n\n<!--more-->\n\n## \n\n![](/css/images/76.jpg)\n\nstructural directives\n\n[](https://github.com/lewis617/angular2-tutorial/tree/gh-pages/lifecycle)\n\n## UnlessDirective\n\n\n\napp/unless.directive.ts\n\n```ts\nimport {Directive, Input} from 'angular2/core';\nimport {TemplateRef, ViewContainerRef} from 'angular2/core';\n@Directive({ selector: '[myUnless]' })\nexport class UnlessDirective {\n  constructor(\n    private _templateRef: TemplateRef,\n    private _viewContainer: ViewContainerRef\n    ) { }\n  @Input() set myUnless(condition: boolean) {\n    if (!condition) {\n      this._viewContainer.createEmbeddedView(this._templateRef);\n    } else {\n      this._viewContainer.clear();\n    }\n  }\n}\n```\n\n`TemplateRef`, `ViewContainerRef``template``TemplateRef``template``ViewContainerRef`\n\n\n\n  * [TemplateRef](https://angular.io/docs/ts/latest/api/core/TemplateRef-class.html)\n  * [ViewContainerRef](https://angular.io/docs/ts/latest/api/core/ViewContainerRef-class.html)\n\n## \n\n\n\napp/lifecycle.ts\n\n```ts\nimport {Component,Input} from 'angular2/core';\nimport {bootstrap} from 'angular2/platform/browser';\nimport {OnChanges, SimpleChange,OnInit,AfterContentInit,AfterContentChecked,AfterViewInit,AfterViewChecked,OnDestroy} from 'angular2/core';\n\n@Component({\n    selector: \"lifecycle\",\n    template: `\n    <div>\n    <span>{{name}}</span>\n     <button (click)=\"doSomething()\">click and watch the lifecycle</button>\n     </div>\n    `\n})\nexport class Lifecycle\nimplements OnChanges, OnInit,AfterContentInit,AfterContentChecked,AfterViewInit, AfterViewChecked, OnDestroy{\n    @Input()\n    name:string\n    doSomething(){\n        console.log('***********doSomething**********');\n        setTimeout(()=>{\n             console.log('***********setTimeout**********');\n            this.name='susan'\n        },1000)\n    }\n    ngOnInit(){console.log('onInit');}\n    ngOnDestroy(){console.log('OnDestroy')}\n    ngOnChanges(changes: {[propertyName: string]: SimpleChange}){console.log('ngOnChanges',changes)}\n    ngAfterContentInit(){console.log('AfterContentInit')}\n    ngAfterContentChecked(){console.log('AfterContentChecked')}\n    ngAfterViewInit(){console.log('AfterViewInit')}\n    ngAfterViewChecked(){console.log('AfterViewChecked')}\n}\n```\n\n\n\n  1. `span``button`\n  2. `name`,`@input``parent`\n  3. `doSomething``setTimeout`\n  4. \n\n\n\n## \n\n\"myunless\"\n\napp/app.ts\n\n```ts\nimport {Component} from 'angular2/core';\nimport {bootstrap} from 'angular2/platform/browser';\nimport {UnlessDirective}from './unless.directive';\nimport {Lifecycle} from './lifecycle'\n\n@Component({\n    selector: \"app\",\n    directives:[UnlessDirective,Lifecycle],\n    template: `\n      <button\n      (click)=\"condition = !condition\"\n      [style.background] = \"condition ? 'orangered': 'lightgreen'\"\n      >\n      Set 'condition' to {{condition ? 'False': 'True'}}\n      </button>\n\n      <lifecycle *myUnless=\"condition\" name=\"lewis\"></lifecycle>\n    `\n})\nexport class App {\n    constructor() {}\n}\n\nbootstrap(App, [])\n    .catch(err => console.error(err));    \n```\n\n\n\n  1. `directives:[UnlessDirective,Lifecycle]`\n  2. `button``condition`\n  3. `lifecycle``<lifecycle *myUnless=condition name=lewis></lifecycle>`\n  4. `app``bootstrap(App, []) .catch(err => console.error(err));`\n\n## \n\n### \n\n![](/css/images/77.jpg)\n\n  1. `onInit``ngOnChanges`\n  2. `OnChanges``input``output`;ng1`$watch`;\n  3. `AfterContentInit``AfterViewInit`\n  4. `AfterContentChecked``AfterViewChecked`\n\n`DoCheck`  \n\n### Set 'condition' toTrue\n\n![](/css/images/78.jpg)\n\nconsole\n\n![](/css/images/79.jpg)\n\n### Set 'condition' to False\n\n![](/css/images/80.jpg)\n\nconsole\n\n![](/css/images/81.jpg)\n\n`Onchanges``onInit``AfterContentInit``AfterViewInit``AfterContentChecked``AfterViewChecked`\"\"angualr\n\n### click and watch the lifecyclenamesusan\n\n![](/css/images/82.jpg)\n\nconsole\n\n![](/css/images/83.jpg)\n\n`AfterContentChecked``AfterViewChecked``OnChanges`\n\n## \n\n  1. `TemplateRef`, `ViewContainerRef`\n  2. \n  3. \"\"\n  4. angualr\"\"\n  5. `OnChanges`ng1`$watch``@input`\n  6. ng2`zone`windowsetTimeout\"\"ng1`$apply`\n  7. `setTimeout(()=>{},0)`\"event loop\"ng2\"\"\n  8. `doSomething`ng2\"\"\n\n* * *\n\n## \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>\n\n","slug":"ng2-structural-directive","published":1,"updated":"2019-05-01T08:10:29.926Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvm1001xtgytt8k1o575","content":"<p>structural directivesstructural directivesdom<a href=\"https://angular.io/docs/ts/latest/guide/template-syntax.html#ngIf\" target=\"_blank\" rel=\"noopener\">ngIf</a>,<a href=\"https://angular.io/docs/ts/latest/guide/template-syntax.html#ngSwitch\" target=\"_blank\" rel=\"noopener\">ngSwitch</a> <a href=\"https://angular.io/docs/ts/latest/guide/template-syntax.html#ngFor\" target=\"_blank\" rel=\"noopener\">ngFor</a></p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/76.jpg\" alt=\"\"></p>\n<p>structural directives</p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/lifecycle\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"UnlessDirective\"><a href=\"#UnlessDirective\" class=\"headerlink\" title=\"UnlessDirective\"></a>UnlessDirective</h2><p></p>\n<p>app/unless.directive.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Directive, Input&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;TemplateRef, ViewContainerRef&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"meta\">@Directive</span>(&#123; selector: <span class=\"string\">'[myUnless]'</span> &#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> UnlessDirective &#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">    <span class=\"keyword\">private</span> _templateRef: TemplateRef,</span></span><br><span class=\"line\"><span class=\"params\">    <span class=\"keyword\">private</span> _viewContainer: ViewContainerRef</span></span><br><span class=\"line\"><span class=\"params\">    </span>) &#123; &#125;</span><br><span class=\"line\">  <span class=\"meta\">@Input</span>() <span class=\"keyword\">set</span> myUnless(condition: <span class=\"built_in\">boolean</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!condition) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>._viewContainer.createEmbeddedView(<span class=\"keyword\">this</span>._templateRef);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>._viewContainer.clear();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>TemplateRef</code>, <code>ViewContainerRef</code><code>template</code><code>TemplateRef</code><code>template</code><code>ViewContainerRef</code></p>\n<p></p>\n<ul>\n<li><a href=\"https://angular.io/docs/ts/latest/api/core/TemplateRef-class.html\" target=\"_blank\" rel=\"noopener\">TemplateRef</a></li>\n<li><a href=\"https://angular.io/docs/ts/latest/api/core/ViewContainerRef-class.html\" target=\"_blank\" rel=\"noopener\">ViewContainerRef</a></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>app/lifecycle.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Component,Input&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;bootstrap&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/platform/browser'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;OnChanges, SimpleChange,OnInit,AfterContentInit,AfterContentChecked,AfterViewInit,AfterViewChecked,OnDestroy&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">    selector: <span class=\"string\">\"lifecycle\"</span>,</span><br><span class=\"line\">    template: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;span&gt;&#123;&#123;name&#125;&#125;&lt;/span&gt;</span></span><br><span class=\"line\"><span class=\"string\">     &lt;button (click)=\"doSomething()\"&gt;click and watch the lifecycle&lt;/button&gt;</span></span><br><span class=\"line\"><span class=\"string\">     &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">    `</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> Lifecycle</span><br><span class=\"line\"><span class=\"keyword\">implements</span> OnChanges, OnInit,AfterContentInit,AfterContentChecked,AfterViewInit, AfterViewChecked, OnDestroy&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Input</span>()</span><br><span class=\"line\">    name:<span class=\"built_in\">string</span></span><br><span class=\"line\">    doSomething()&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'***********doSomething**********'</span>);</span><br><span class=\"line\">        setTimeout(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span>&#123;</span><br><span class=\"line\">             <span class=\"built_in\">console</span>.log(<span class=\"string\">'***********setTimeout**********'</span>);</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.name=<span class=\"string\">'susan'</span></span><br><span class=\"line\">        &#125;,<span class=\"number\">1000</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ngOnInit()&#123;<span class=\"built_in\">console</span>.log(<span class=\"string\">'onInit'</span>);&#125;</span><br><span class=\"line\">    ngOnDestroy()&#123;<span class=\"built_in\">console</span>.log(<span class=\"string\">'OnDestroy'</span>)&#125;</span><br><span class=\"line\">    ngOnChanges(changes: &#123;[propertyName: <span class=\"built_in\">string</span>]: SimpleChange&#125;)&#123;<span class=\"built_in\">console</span>.log(<span class=\"string\">'ngOnChanges'</span>,changes)&#125;</span><br><span class=\"line\">    ngAfterContentInit()&#123;<span class=\"built_in\">console</span>.log(<span class=\"string\">'AfterContentInit'</span>)&#125;</span><br><span class=\"line\">    ngAfterContentChecked()&#123;<span class=\"built_in\">console</span>.log(<span class=\"string\">'AfterContentChecked'</span>)&#125;</span><br><span class=\"line\">    ngAfterViewInit()&#123;<span class=\"built_in\">console</span>.log(<span class=\"string\">'AfterViewInit'</span>)&#125;</span><br><span class=\"line\">    ngAfterViewChecked()&#123;<span class=\"built_in\">console</span>.log(<span class=\"string\">'AfterViewChecked'</span>)&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>span</code><code>button</code></li>\n<li><code>name</code>,<code>@input</code><code>parent</code></li>\n<li><code>doSomething</code><code>setTimeout</code></li>\n<li></li>\n</ol>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>myunless</p>\n<p>app/app.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Component&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;bootstrap&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/platform/browser'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;UnlessDirective&#125;<span class=\"keyword\">from</span> <span class=\"string\">'./unless.directive'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Lifecycle&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./lifecycle'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">    selector: <span class=\"string\">\"app\"</span>,</span><br><span class=\"line\">    directives:[UnlessDirective,Lifecycle],</span><br><span class=\"line\">    template: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">      &lt;button</span></span><br><span class=\"line\"><span class=\"string\">      (click)=\"condition = !condition\"</span></span><br><span class=\"line\"><span class=\"string\">      [style.background] = \"condition ? 'orangered': 'lightgreen'\"</span></span><br><span class=\"line\"><span class=\"string\">      &gt;</span></span><br><span class=\"line\"><span class=\"string\">      Set 'condition' to &#123;&#123;condition ? 'False': 'True'&#125;&#125;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;/button&gt;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">      &lt;lifecycle *myUnless=\"condition\" name=\"lewis\"&gt;&lt;/lifecycle&gt;</span></span><br><span class=\"line\"><span class=\"string\">    `</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> App &#123;</span><br><span class=\"line\">    <span class=\"keyword\">constructor</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">bootstrap(App, [])</span><br><span class=\"line\">    .catch(<span class=\"function\"><span class=\"params\">err</span> =&gt;</span> <span class=\"built_in\">console</span>.error(err));</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>directives:[UnlessDirective,Lifecycle]</code></li>\n<li><code>button</code><code>condition</code></li>\n<li><code>lifecycle</code><code>&lt;lifecycle *myUnless=condition name=lewis&gt;&lt;/lifecycle&gt;</code></li>\n<li><code>app</code><code>bootstrap(App, []) .catch(err =&gt; console.error(err));</code></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/css/images/77.jpg\" alt=\"\"></p>\n<ol>\n<li><code>onInit</code><code>ngOnChanges</code></li>\n<li><code>OnChanges</code><code>input</code><code>output</code>;ng1<code>$watch</code>;</li>\n<li><code>AfterContentInit</code><code>AfterViewInit</code></li>\n<li><code>AfterContentChecked</code><code>AfterViewChecked</code></li>\n</ol>\n<p><code>DoCheck</code>  </p>\n<h3 id=\"Set-condition-toTrue\"><a href=\"#Set-condition-toTrue\" class=\"headerlink\" title=\"Set condition toTrue\"></a>Set condition toTrue</h3><p><img src=\"/css/images/78.jpg\" alt=\"\"></p>\n<p>console</p>\n<p><img src=\"/css/images/79.jpg\" alt=\"\"></p>\n<h3 id=\"Set-condition-to-False\"><a href=\"#Set-condition-to-False\" class=\"headerlink\" title=\"Set condition to False\"></a>Set condition to False</h3><p><img src=\"/css/images/80.jpg\" alt=\"\"></p>\n<p>console</p>\n<p><img src=\"/css/images/81.jpg\" alt=\"\"></p>\n<p><code>Onchanges</code><code>onInit</code><code>AfterContentInit</code><code>AfterViewInit</code><code>AfterContentChecked</code><code>AfterViewChecked</code>angualr</p>\n<h3 id=\"click-and-watch-the-lifecyclenamesusan\"><a href=\"#click-and-watch-the-lifecyclenamesusan\" class=\"headerlink\" title=\"click and watch the lifecyclenamesusan\"></a>click and watch the lifecyclenamesusan</h3><p><img src=\"/css/images/82.jpg\" alt=\"\"></p>\n<p>console</p>\n<p><img src=\"/css/images/83.jpg\" alt=\"\"></p>\n<p><code>AfterContentChecked</code><code>AfterViewChecked</code><code>OnChanges</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><code>TemplateRef</code>, <code>ViewContainerRef</code></li>\n<li></li>\n<li></li>\n<li>angualr</li>\n<li><code>OnChanges</code>ng1<code>$watch</code><code>@input</code></li>\n<li>ng2<code>zone</code>windowsetTimeoutng1<code>$apply</code></li>\n<li><code>setTimeout(()=&gt;{},0)</code>event loopng2</li>\n<li><code>doSomething</code>ng2</li>\n</ol>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>\n","site":{"data":{}},"excerpt":"<p>structural directivesstructural directivesdom<a href=\"https://angular.io/docs/ts/latest/guide/template-syntax.html#ngIf\" target=\"_blank\" rel=\"noopener\">ngIf</a>,<a href=\"https://angular.io/docs/ts/latest/guide/template-syntax.html#ngSwitch\" target=\"_blank\" rel=\"noopener\">ngSwitch</a> <a href=\"https://angular.io/docs/ts/latest/guide/template-syntax.html#ngFor\" target=\"_blank\" rel=\"noopener\">ngFor</a></p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/76.jpg\" alt=\"\"></p>\n<p>structural directives</p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/lifecycle\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"UnlessDirective\"><a href=\"#UnlessDirective\" class=\"headerlink\" title=\"UnlessDirective\"></a>UnlessDirective</h2><p></p>\n<p>app/unless.directive.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Directive, Input&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;TemplateRef, ViewContainerRef&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"meta\">@Directive</span>(&#123; selector: <span class=\"string\">'[myUnless]'</span> &#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> UnlessDirective &#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">    <span class=\"keyword\">private</span> _templateRef: TemplateRef,</span></span><br><span class=\"line\"><span class=\"params\">    <span class=\"keyword\">private</span> _viewContainer: ViewContainerRef</span></span><br><span class=\"line\"><span class=\"params\">    </span>) &#123; &#125;</span><br><span class=\"line\">  <span class=\"meta\">@Input</span>() <span class=\"keyword\">set</span> myUnless(condition: <span class=\"built_in\">boolean</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!condition) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>._viewContainer.createEmbeddedView(<span class=\"keyword\">this</span>._templateRef);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>._viewContainer.clear();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>TemplateRef</code>, <code>ViewContainerRef</code><code>template</code><code>TemplateRef</code><code>template</code><code>ViewContainerRef</code></p>\n<p></p>\n<ul>\n<li><a href=\"https://angular.io/docs/ts/latest/api/core/TemplateRef-class.html\" target=\"_blank\" rel=\"noopener\">TemplateRef</a></li>\n<li><a href=\"https://angular.io/docs/ts/latest/api/core/ViewContainerRef-class.html\" target=\"_blank\" rel=\"noopener\">ViewContainerRef</a></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>app/lifecycle.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Component,Input&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;bootstrap&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/platform/browser'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;OnChanges, SimpleChange,OnInit,AfterContentInit,AfterContentChecked,AfterViewInit,AfterViewChecked,OnDestroy&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">    selector: <span class=\"string\">\"lifecycle\"</span>,</span><br><span class=\"line\">    template: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;span&gt;&#123;&#123;name&#125;&#125;&lt;/span&gt;</span></span><br><span class=\"line\"><span class=\"string\">     &lt;button (click)=\"doSomething()\"&gt;click and watch the lifecycle&lt;/button&gt;</span></span><br><span class=\"line\"><span class=\"string\">     &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">    `</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> Lifecycle</span><br><span class=\"line\"><span class=\"keyword\">implements</span> OnChanges, OnInit,AfterContentInit,AfterContentChecked,AfterViewInit, AfterViewChecked, OnDestroy&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Input</span>()</span><br><span class=\"line\">    name:<span class=\"built_in\">string</span></span><br><span class=\"line\">    doSomething()&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'***********doSomething**********'</span>);</span><br><span class=\"line\">        setTimeout(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span>&#123;</span><br><span class=\"line\">             <span class=\"built_in\">console</span>.log(<span class=\"string\">'***********setTimeout**********'</span>);</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.name=<span class=\"string\">'susan'</span></span><br><span class=\"line\">        &#125;,<span class=\"number\">1000</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ngOnInit()&#123;<span class=\"built_in\">console</span>.log(<span class=\"string\">'onInit'</span>);&#125;</span><br><span class=\"line\">    ngOnDestroy()&#123;<span class=\"built_in\">console</span>.log(<span class=\"string\">'OnDestroy'</span>)&#125;</span><br><span class=\"line\">    ngOnChanges(changes: &#123;[propertyName: <span class=\"built_in\">string</span>]: SimpleChange&#125;)&#123;<span class=\"built_in\">console</span>.log(<span class=\"string\">'ngOnChanges'</span>,changes)&#125;</span><br><span class=\"line\">    ngAfterContentInit()&#123;<span class=\"built_in\">console</span>.log(<span class=\"string\">'AfterContentInit'</span>)&#125;</span><br><span class=\"line\">    ngAfterContentChecked()&#123;<span class=\"built_in\">console</span>.log(<span class=\"string\">'AfterContentChecked'</span>)&#125;</span><br><span class=\"line\">    ngAfterViewInit()&#123;<span class=\"built_in\">console</span>.log(<span class=\"string\">'AfterViewInit'</span>)&#125;</span><br><span class=\"line\">    ngAfterViewChecked()&#123;<span class=\"built_in\">console</span>.log(<span class=\"string\">'AfterViewChecked'</span>)&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>span</code><code>button</code></li>\n<li><code>name</code>,<code>@input</code><code>parent</code></li>\n<li><code>doSomething</code><code>setTimeout</code></li>\n<li></li>\n</ol>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>myunless</p>\n<p>app/app.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Component&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/core'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;bootstrap&#125; <span class=\"keyword\">from</span> <span class=\"string\">'angular2/platform/browser'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;UnlessDirective&#125;<span class=\"keyword\">from</span> <span class=\"string\">'./unless.directive'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Lifecycle&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./lifecycle'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">    selector: <span class=\"string\">\"app\"</span>,</span><br><span class=\"line\">    directives:[UnlessDirective,Lifecycle],</span><br><span class=\"line\">    template: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">      &lt;button</span></span><br><span class=\"line\"><span class=\"string\">      (click)=\"condition = !condition\"</span></span><br><span class=\"line\"><span class=\"string\">      [style.background] = \"condition ? 'orangered': 'lightgreen'\"</span></span><br><span class=\"line\"><span class=\"string\">      &gt;</span></span><br><span class=\"line\"><span class=\"string\">      Set 'condition' to &#123;&#123;condition ? 'False': 'True'&#125;&#125;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;/button&gt;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">      &lt;lifecycle *myUnless=\"condition\" name=\"lewis\"&gt;&lt;/lifecycle&gt;</span></span><br><span class=\"line\"><span class=\"string\">    `</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> App &#123;</span><br><span class=\"line\">    <span class=\"keyword\">constructor</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">bootstrap(App, [])</span><br><span class=\"line\">    .catch(<span class=\"function\"><span class=\"params\">err</span> =&gt;</span> <span class=\"built_in\">console</span>.error(err));</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>directives:[UnlessDirective,Lifecycle]</code></li>\n<li><code>button</code><code>condition</code></li>\n<li><code>lifecycle</code><code>&lt;lifecycle *myUnless=condition name=lewis&gt;&lt;/lifecycle&gt;</code></li>\n<li><code>app</code><code>bootstrap(App, []) .catch(err =&gt; console.error(err));</code></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/css/images/77.jpg\" alt=\"\"></p>\n<ol>\n<li><code>onInit</code><code>ngOnChanges</code></li>\n<li><code>OnChanges</code><code>input</code><code>output</code>;ng1<code>$watch</code>;</li>\n<li><code>AfterContentInit</code><code>AfterViewInit</code></li>\n<li><code>AfterContentChecked</code><code>AfterViewChecked</code></li>\n</ol>\n<p><code>DoCheck</code>  </p>\n<h3 id=\"Set-condition-toTrue\"><a href=\"#Set-condition-toTrue\" class=\"headerlink\" title=\"Set condition toTrue\"></a>Set condition toTrue</h3><p><img src=\"/css/images/78.jpg\" alt=\"\"></p>\n<p>console</p>\n<p><img src=\"/css/images/79.jpg\" alt=\"\"></p>\n<h3 id=\"Set-condition-to-False\"><a href=\"#Set-condition-to-False\" class=\"headerlink\" title=\"Set condition to False\"></a>Set condition to False</h3><p><img src=\"/css/images/80.jpg\" alt=\"\"></p>\n<p>console</p>\n<p><img src=\"/css/images/81.jpg\" alt=\"\"></p>\n<p><code>Onchanges</code><code>onInit</code><code>AfterContentInit</code><code>AfterViewInit</code><code>AfterContentChecked</code><code>AfterViewChecked</code>angualr</p>\n<h3 id=\"click-and-watch-the-lifecyclenamesusan\"><a href=\"#click-and-watch-the-lifecyclenamesusan\" class=\"headerlink\" title=\"click and watch the lifecyclenamesusan\"></a>click and watch the lifecyclenamesusan</h3><p><img src=\"/css/images/82.jpg\" alt=\"\"></p>\n<p>console</p>\n<p><img src=\"/css/images/83.jpg\" alt=\"\"></p>\n<p><code>AfterContentChecked</code><code>AfterViewChecked</code><code>OnChanges</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><code>TemplateRef</code>, <code>ViewContainerRef</code></li>\n<li></li>\n<li></li>\n<li>angualr</li>\n<li><code>OnChanges</code>ng1<code>$watch</code><code>@input</code></li>\n<li>ng2<code>zone</code>windowsetTimeoutng1<code>$apply</code></li>\n<li><code>setTimeout(()=&gt;{},0)</code>event loopng2</li>\n<li><code>doSomething</code>ng2</li>\n</ol>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>"},{"title":"Angular2 InjectablePromiseInterface","date":"2016-02-28T21:29:00.000Z","_content":"\nng2serviceng1servicehttpservice\n\n<!--more-->\n\n# \n\n\n\n![](/css/images/73.jpg)\n\n[](https://github.com/lewis617/angular2-tutorial/tree/gh-pages/service)\n\n# Injectable\n\nng2`@Injectable()``HeroSerivce``@Injectable()``@Injectable()`\n\napp/hero.service.ts\n\n```ts\n@Injectable()\nexport class HeroService {\n  getHeroes() {\n    return Promise.resolve(HEROES);\n  }\n  // See the \"Take it slow\" appendix\n  getHeroesSlowly() {\n    return new Promise<Hero[]>(resolve =>\n      setTimeout(() => resolve(HEROES), 2000) // 2 seconds\n    );\n  }\n}\n```\n\n\n\n  1. `injectable`\n  2. \n  3. Promise`resolve`\n  4. Promise`resolve`\n\n`resolve`Promise\n\n# Promise\n\nng1promise`resolve`Promiseng1`$q.defer()`\n\npromiseng1javascriptpromiseES6[Promise](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise)\n\n  1. Promisefunctionfunction`resolve`, `reject``Promise.resolve()`\n  2. Promise`then()`functionfunction`resolve``then()``catch()`\n\nPromisechromeconsole\n\n![](/css/images/74.jpg)\n\n  1. Promisefunction\n  2. `Promise.resolve('123')`\"\"promise\n  3. `new Promise(resolve=>;resolve('123'))`\"\"promise\n\n23http\n\nPromisethen\n\n![](/css/images/75.jpg)\n\n  1. `resolved`promise`p`\n  2. `p.then()``'123'`\n  3. `p.then()`pendingpromise\n\npromise\n\napp/hero.service.ts\n\n```ts\n@Injectable()\nexport class HeroService {\n  getHeroes() {\n    return Promise.resolve(HEROES);\n  }\n  // See the \"Take it slow\" appendix\n  getHeroesSlowly() {\n    return new Promise<Hero[]>(resolve =>\n      setTimeout(() => resolve(HEROES), 2000) // 2 seconds\n    );\n  }\n}\n```\npromisepromise\n\nng1[](https://github.com/lewis617/daily-task/blob/gh-pages/modules/login/ctrl.js)promise`then()`\n\n```js    \n    \nAuth.$createUser({email: email, password: pass})\n    .then(function() {\n        // authenticate so we have permission to write to Firebase\n        return Auth.$authWithPassword({ email: email, password: pass });\n    })\n    .then(function(user) {\n        // create a user profile in our data store\n        var ref = wdutil.ref('users', user.uid);\n        return wdutil.handler(function(cb) {\n            ref.set({email: email, name: $scope.name||firstPartOfEmail(email)}, cb);\n        });\n    })\n    .then(function(/* user */) {\n        $scope.wait.show=false;\n        // redirect to the account page\n        $location.path('/account');\n    }, function(err) {\n        $scope.wait.show=false;\n        $scope.alerts.push({type:'danger',msg:wdutil.errMessage(err)});\n    });\n```\n\n# Interface\n\ninterfacetsreactpropTypes\n\napp/hero.ts\n\n```ts\nexport interface Hero {\n  id: number;\n  name: string;\n}\n```\n\n\n\napp/hero.service.ts\n\n```ts\nimport {Hero} from './hero';\n```\napp/hero.service.ts\n\n```ts   \nreturn new Promise<Hero[]>(resolve =>\n      setTimeout(() => resolve(HEROES), 2000) // 2 seconds\n    );\n```\n\n\napp/app.component.ts\n\n```ts\nheroes: Hero[];\nselectedHero: Hero;\n```\napp/hero-detail.component.ts\n\n```ts\nexport class HeroDetailComponent {\n  hero: Hero;\n}\n```\n\n\n\n# \n\n\n\napp/app.component.ts\n\n```ts\n    \nimport {HeroService} from './hero.service';\n\n...\n\nproviders: [HeroService]\n\n...\n\nconstructor(private _heroService: HeroService) { }\n\n  getHeroes() {\n    this._heroService.getHeroes().then(heroes => this.heroes = heroes);\n  }\n```\n\n\n\n  1. \n  2. \n  3. `_heroService`\n  4. `this._heroService`\n\n`getHeroes()`Promise`then`\n\n* * *\n\n# \n\nhttp://www.liuyiqi.cn/2016/12/25/angular2-tutorial-catalog/\n\n","source":"_posts/ng2-service.md","raw":"---\ntitle: Angular2 InjectablePromiseInterface\ndate: 2016-02-29 05:29:00\ntags: [Angular2]\n---\n\nng2serviceng1servicehttpservice\n\n<!--more-->\n\n# \n\n\n\n![](/css/images/73.jpg)\n\n[](https://github.com/lewis617/angular2-tutorial/tree/gh-pages/service)\n\n# Injectable\n\nng2`@Injectable()``HeroSerivce``@Injectable()``@Injectable()`\n\napp/hero.service.ts\n\n```ts\n@Injectable()\nexport class HeroService {\n  getHeroes() {\n    return Promise.resolve(HEROES);\n  }\n  // See the \"Take it slow\" appendix\n  getHeroesSlowly() {\n    return new Promise<Hero[]>(resolve =>\n      setTimeout(() => resolve(HEROES), 2000) // 2 seconds\n    );\n  }\n}\n```\n\n\n\n  1. `injectable`\n  2. \n  3. Promise`resolve`\n  4. Promise`resolve`\n\n`resolve`Promise\n\n# Promise\n\nng1promise`resolve`Promiseng1`$q.defer()`\n\npromiseng1javascriptpromiseES6[Promise](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise)\n\n  1. Promisefunctionfunction`resolve`, `reject``Promise.resolve()`\n  2. Promise`then()`functionfunction`resolve``then()``catch()`\n\nPromisechromeconsole\n\n![](/css/images/74.jpg)\n\n  1. Promisefunction\n  2. `Promise.resolve('123')`\"\"promise\n  3. `new Promise(resolve=>;resolve('123'))`\"\"promise\n\n23http\n\nPromisethen\n\n![](/css/images/75.jpg)\n\n  1. `resolved`promise`p`\n  2. `p.then()``'123'`\n  3. `p.then()`pendingpromise\n\npromise\n\napp/hero.service.ts\n\n```ts\n@Injectable()\nexport class HeroService {\n  getHeroes() {\n    return Promise.resolve(HEROES);\n  }\n  // See the \"Take it slow\" appendix\n  getHeroesSlowly() {\n    return new Promise<Hero[]>(resolve =>\n      setTimeout(() => resolve(HEROES), 2000) // 2 seconds\n    );\n  }\n}\n```\npromisepromise\n\nng1[](https://github.com/lewis617/daily-task/blob/gh-pages/modules/login/ctrl.js)promise`then()`\n\n```js    \n    \nAuth.$createUser({email: email, password: pass})\n    .then(function() {\n        // authenticate so we have permission to write to Firebase\n        return Auth.$authWithPassword({ email: email, password: pass });\n    })\n    .then(function(user) {\n        // create a user profile in our data store\n        var ref = wdutil.ref('users', user.uid);\n        return wdutil.handler(function(cb) {\n            ref.set({email: email, name: $scope.name||firstPartOfEmail(email)}, cb);\n        });\n    })\n    .then(function(/* user */) {\n        $scope.wait.show=false;\n        // redirect to the account page\n        $location.path('/account');\n    }, function(err) {\n        $scope.wait.show=false;\n        $scope.alerts.push({type:'danger',msg:wdutil.errMessage(err)});\n    });\n```\n\n# Interface\n\ninterfacetsreactpropTypes\n\napp/hero.ts\n\n```ts\nexport interface Hero {\n  id: number;\n  name: string;\n}\n```\n\n\n\napp/hero.service.ts\n\n```ts\nimport {Hero} from './hero';\n```\napp/hero.service.ts\n\n```ts   \nreturn new Promise<Hero[]>(resolve =>\n      setTimeout(() => resolve(HEROES), 2000) // 2 seconds\n    );\n```\n\n\napp/app.component.ts\n\n```ts\nheroes: Hero[];\nselectedHero: Hero;\n```\napp/hero-detail.component.ts\n\n```ts\nexport class HeroDetailComponent {\n  hero: Hero;\n}\n```\n\n\n\n# \n\n\n\napp/app.component.ts\n\n```ts\n    \nimport {HeroService} from './hero.service';\n\n...\n\nproviders: [HeroService]\n\n...\n\nconstructor(private _heroService: HeroService) { }\n\n  getHeroes() {\n    this._heroService.getHeroes().then(heroes => this.heroes = heroes);\n  }\n```\n\n\n\n  1. \n  2. \n  3. `_heroService`\n  4. `this._heroService`\n\n`getHeroes()`Promise`then`\n\n* * *\n\n# \n\nhttp://www.liuyiqi.cn/2016/12/25/angular2-tutorial-catalog/\n\n","slug":"ng2-service","published":1,"updated":"2019-05-01T08:10:29.899Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvm1001ztgytc6oggr1j","content":"<p>ng2serviceng1servicehttpservice</p>\n<a id=\"more\"></a>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p><img src=\"/css/images/73.jpg\" alt=\"\"></p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/service\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h1 id=\"Injectable\"><a href=\"#Injectable\" class=\"headerlink\" title=\"Injectable\"></a>Injectable</h1><p>ng2<code>@Injectable()</code><code>HeroSerivce</code><code>@Injectable()</code><code>@Injectable()</code></p>\n<p>app/hero.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> HeroService &#123;</span><br><span class=\"line\">  getHeroes() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Promise</span>.resolve(HEROES);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// See the \"Take it slow\" appendix</span></span><br><span class=\"line\">  getHeroesSlowly() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>&lt;Hero[]&gt;(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span></span><br><span class=\"line\">      setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> resolve(HEROES), <span class=\"number\">2000</span>) <span class=\"comment\">// 2 seconds</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>injectable</code></li>\n<li></li>\n<li>Promise<code>resolve</code></li>\n<li>Promise<code>resolve</code></li>\n</ol>\n<p><code>resolve</code>Promise</p>\n<h1 id=\"Promise\"><a href=\"#Promise\" class=\"headerlink\" title=\"Promise\"></a>Promise</h1><p>ng1promise<code>resolve</code>Promiseng1<code>$q.defer()</code></p>\n<p>promiseng1javascriptpromiseES6<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise\" target=\"_blank\" rel=\"noopener\">Promise</a></p>\n<ol>\n<li>Promisefunctionfunction<code>resolve</code>, <code>reject</code><code>Promise.resolve()</code></li>\n<li>Promise<code>then()</code>functionfunction<code>resolve</code><code>then()</code><code>catch()</code></li>\n</ol>\n<p>Promisechromeconsole</p>\n<p><img src=\"/css/images/74.jpg\" alt=\"\"></p>\n<ol>\n<li>Promisefunction</li>\n<li><code>Promise.resolve(&#39;123&#39;)</code>promise</li>\n<li><code>new Promise(resolve=&gt;;resolve(&#39;123&#39;))</code>promise</li>\n</ol>\n<p>23http</p>\n<p>Promisethen</p>\n<p><img src=\"/css/images/75.jpg\" alt=\"\"></p>\n<ol>\n<li><code>resolved</code>promise<code>p</code></li>\n<li><code>p.then()</code><code>&#39;123&#39;</code></li>\n<li><code>p.then()</code>pendingpromise</li>\n</ol>\n<p>promise</p>\n<p>app/hero.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> HeroService &#123;</span><br><span class=\"line\">  getHeroes() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Promise</span>.resolve(HEROES);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// See the \"Take it slow\" appendix</span></span><br><span class=\"line\">  getHeroesSlowly() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>&lt;Hero[]&gt;(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span></span><br><span class=\"line\">      setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> resolve(HEROES), <span class=\"number\">2000</span>) <span class=\"comment\">// 2 seconds</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>promisepromise</p>\n<p>ng1<a href=\"https://github.com/lewis617/daily-task/blob/gh-pages/modules/login/ctrl.js\" target=\"_blank\" rel=\"noopener\"></a>promise<code>then()</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    </span><br><span class=\"line\">Auth.$createUser(&#123;<span class=\"attr\">email</span>: email, <span class=\"attr\">password</span>: pass&#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// authenticate so we have permission to write to Firebase</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> Auth.$authWithPassword(&#123; <span class=\"attr\">email</span>: email, <span class=\"attr\">password</span>: pass &#125;);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">user</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// create a user profile in our data store</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> ref = wdutil.ref(<span class=\"string\">'users'</span>, user.uid);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> wdutil.handler(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">cb</span>) </span>&#123;</span><br><span class=\"line\">            ref.set(&#123;<span class=\"attr\">email</span>: email, <span class=\"attr\">name</span>: $scope.name||firstPartOfEmail(email)&#125;, cb);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"><span class=\"regexp\">/* user */</span></span>) </span>&#123;</span><br><span class=\"line\">        $scope.wait.show=<span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"comment\">// redirect to the account page</span></span><br><span class=\"line\">        $location.path(<span class=\"string\">'/account'</span>);</span><br><span class=\"line\">    &#125;, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err</span>) </span>&#123;</span><br><span class=\"line\">        $scope.wait.show=<span class=\"literal\">false</span>;</span><br><span class=\"line\">        $scope.alerts.push(&#123;<span class=\"attr\">type</span>:<span class=\"string\">'danger'</span>,<span class=\"attr\">msg</span>:wdutil.errMessage(err)&#125;);</span><br><span class=\"line\">    &#125;);</span><br></pre></td></tr></table></figure>\n<h1 id=\"Interface\"><a href=\"#Interface\" class=\"headerlink\" title=\"Interface\"></a>Interface</h1><p>interfacetsreactpropTypes</p>\n<p>app/hero.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> Hero &#123;</span><br><span class=\"line\">  id: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">  name: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>app/hero.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Hero&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./hero'</span>;</span><br></pre></td></tr></table></figure>\n<p>app/hero.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>&lt;Hero[]&gt;(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span></span><br><span class=\"line\">      setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> resolve(HEROES), <span class=\"number\">2000</span>) <span class=\"comment\">// 2 seconds</span></span><br><span class=\"line\">    );</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>app/app.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">heroes: Hero[];</span><br><span class=\"line\">selectedHero: Hero;</span><br></pre></td></tr></table></figure>\n<p>app/hero-detail.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> HeroDetailComponent &#123;</span><br><span class=\"line\">  hero: Hero;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p>app/app.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    </span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;HeroService&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./hero.service'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\">providers: [HeroService]</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> _heroService: HeroService</span>) &#123; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  getHeroes() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>._heroService.getHeroes().then(<span class=\"function\"><span class=\"params\">heroes</span> =&gt;</span> <span class=\"keyword\">this</span>.heroes = heroes);</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li><code>_heroService</code></li>\n<li><code>this._heroService</code></li>\n</ol>\n<p><code>getHeroes()</code>Promise<code>then</code></p>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><a href=\"http://www.liuyiqi.cn/2016/12/25/angular2-tutorial-catalog/\">http://www.liuyiqi.cn/2016/12/25/angular2-tutorial-catalog/</a></p>\n","site":{"data":{}},"excerpt":"<p>ng2serviceng1servicehttpservice</p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p><img src=\"/css/images/73.jpg\" alt=\"\"></p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/service\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h1 id=\"Injectable\"><a href=\"#Injectable\" class=\"headerlink\" title=\"Injectable\"></a>Injectable</h1><p>ng2<code>@Injectable()</code><code>HeroSerivce</code><code>@Injectable()</code><code>@Injectable()</code></p>\n<p>app/hero.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> HeroService &#123;</span><br><span class=\"line\">  getHeroes() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Promise</span>.resolve(HEROES);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// See the \"Take it slow\" appendix</span></span><br><span class=\"line\">  getHeroesSlowly() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>&lt;Hero[]&gt;(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span></span><br><span class=\"line\">      setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> resolve(HEROES), <span class=\"number\">2000</span>) <span class=\"comment\">// 2 seconds</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>injectable</code></li>\n<li></li>\n<li>Promise<code>resolve</code></li>\n<li>Promise<code>resolve</code></li>\n</ol>\n<p><code>resolve</code>Promise</p>\n<h1 id=\"Promise\"><a href=\"#Promise\" class=\"headerlink\" title=\"Promise\"></a>Promise</h1><p>ng1promise<code>resolve</code>Promiseng1<code>$q.defer()</code></p>\n<p>promiseng1javascriptpromiseES6<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise\" target=\"_blank\" rel=\"noopener\">Promise</a></p>\n<ol>\n<li>Promisefunctionfunction<code>resolve</code>, <code>reject</code><code>Promise.resolve()</code></li>\n<li>Promise<code>then()</code>functionfunction<code>resolve</code><code>then()</code><code>catch()</code></li>\n</ol>\n<p>Promisechromeconsole</p>\n<p><img src=\"/css/images/74.jpg\" alt=\"\"></p>\n<ol>\n<li>Promisefunction</li>\n<li><code>Promise.resolve(&#39;123&#39;)</code>promise</li>\n<li><code>new Promise(resolve=&gt;;resolve(&#39;123&#39;))</code>promise</li>\n</ol>\n<p>23http</p>\n<p>Promisethen</p>\n<p><img src=\"/css/images/75.jpg\" alt=\"\"></p>\n<ol>\n<li><code>resolved</code>promise<code>p</code></li>\n<li><code>p.then()</code><code>&#39;123&#39;</code></li>\n<li><code>p.then()</code>pendingpromise</li>\n</ol>\n<p>promise</p>\n<p>app/hero.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Injectable</span>()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> HeroService &#123;</span><br><span class=\"line\">  getHeroes() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Promise</span>.resolve(HEROES);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// See the \"Take it slow\" appendix</span></span><br><span class=\"line\">  getHeroesSlowly() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>&lt;Hero[]&gt;(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span></span><br><span class=\"line\">      setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> resolve(HEROES), <span class=\"number\">2000</span>) <span class=\"comment\">// 2 seconds</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>promisepromise</p>\n<p>ng1<a href=\"https://github.com/lewis617/daily-task/blob/gh-pages/modules/login/ctrl.js\" target=\"_blank\" rel=\"noopener\"></a>promise<code>then()</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    </span><br><span class=\"line\">Auth.$createUser(&#123;<span class=\"attr\">email</span>: email, <span class=\"attr\">password</span>: pass&#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// authenticate so we have permission to write to Firebase</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> Auth.$authWithPassword(&#123; <span class=\"attr\">email</span>: email, <span class=\"attr\">password</span>: pass &#125;);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">user</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// create a user profile in our data store</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> ref = wdutil.ref(<span class=\"string\">'users'</span>, user.uid);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> wdutil.handler(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">cb</span>) </span>&#123;</span><br><span class=\"line\">            ref.set(&#123;<span class=\"attr\">email</span>: email, <span class=\"attr\">name</span>: $scope.name||firstPartOfEmail(email)&#125;, cb);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"><span class=\"regexp\">/* user */</span></span>) </span>&#123;</span><br><span class=\"line\">        $scope.wait.show=<span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"comment\">// redirect to the account page</span></span><br><span class=\"line\">        $location.path(<span class=\"string\">'/account'</span>);</span><br><span class=\"line\">    &#125;, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err</span>) </span>&#123;</span><br><span class=\"line\">        $scope.wait.show=<span class=\"literal\">false</span>;</span><br><span class=\"line\">        $scope.alerts.push(&#123;<span class=\"attr\">type</span>:<span class=\"string\">'danger'</span>,<span class=\"attr\">msg</span>:wdutil.errMessage(err)&#125;);</span><br><span class=\"line\">    &#125;);</span><br></pre></td></tr></table></figure>\n<h1 id=\"Interface\"><a href=\"#Interface\" class=\"headerlink\" title=\"Interface\"></a>Interface</h1><p>interfacetsreactpropTypes</p>\n<p>app/hero.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> Hero &#123;</span><br><span class=\"line\">  id: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">  name: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>app/hero.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Hero&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./hero'</span>;</span><br></pre></td></tr></table></figure>\n<p>app/hero.service.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>&lt;Hero[]&gt;(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span></span><br><span class=\"line\">      setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> resolve(HEROES), <span class=\"number\">2000</span>) <span class=\"comment\">// 2 seconds</span></span><br><span class=\"line\">    );</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>app/app.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">heroes: Hero[];</span><br><span class=\"line\">selectedHero: Hero;</span><br></pre></td></tr></table></figure>\n<p>app/hero-detail.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> HeroDetailComponent &#123;</span><br><span class=\"line\">  hero: Hero;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p>app/app.component.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    </span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;HeroService&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./hero.service'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\">providers: [HeroService]</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> _heroService: HeroService</span>) &#123; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  getHeroes() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>._heroService.getHeroes().then(<span class=\"function\"><span class=\"params\">heroes</span> =&gt;</span> <span class=\"keyword\">this</span>.heroes = heroes);</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li><code>_heroService</code></li>\n<li><code>this._heroService</code></li>\n</ol>\n<p><code>getHeroes()</code>Promise<code>then</code></p>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><a href=\"http://www.liuyiqi.cn/2016/12/25/angular2-tutorial-catalog/\">http://www.liuyiqi.cn/2016/12/25/angular2-tutorial-catalog/</a></p>"},{"title":" superagent+cheerio ","date":"2017-04-24T11:57:00.000Z","_content":" superagent+cheerio \n\n-  superagent \n-  superagent  JS \n-  superagent \n-  cheerio  DOM\n- \n- \n\n<!--more-->\n\n##  superagent \n\nsuperagent+cheerio  Node superagent  Ajax  URl URL  URL  superagent \n\n```js\n request\n   .get('http://example.com/search')\n   .end(function(err, res){\n\t   //  HTML \n       console.log(res.text);\n   });\n```\n\n HTMl  cheerio  cheerio  \n\n##  superagent  JS \n\n superagent  URL  JS  JS  URL  JS  JS  eval  superagent  JS  JS  `.buffer(true)` \n\n```js\nrequest.get('https://raw.githubusercontent.com/sindresorhus/negative-zero/master/index.js')\n    .buffer(true)\n    .end(function (err, res) {\n      ...\n    }\n```\n\n Issue\n\n https://github.com/visionmedia/superagent/issues/523\n\n##  superagent \n\n superagent  JS  superagent  Node  `fs.createWriteStream` \n\n```js\nfunction download(url, localPath, cb) {\n    var stream = fs.createWriteStream(localPath);\n    stream.on('finish', function () {\n        console.log('The download of ' + localPath + ' is complete!');\n        cb();\n    });\n    request.get(url).pipe(stream);\n}\n```\n\n\n\n##  cheerio  DOM\n\n superagent  jQuery  DOM Node  cheerio  jQuery cheerio \n\n```js\nvar cheerio = require('cheerio')\nvar $ = cheerio.load('<h2 class=\"title\">Hello world</h2>')\n\n$('h2.title').text('Hello there!')\n$('h2').addClass('welcome')\n\nreturn $.html()\n//=> <h2 class=\"title welcome\">Hello there!</h2>\n```\n\n superagent  html  cheerio \n\n cheerio \n\nhttps://github.com/cheeriojs/cheerio\n\n\n## \n\n chartset `gb2312`  `gb2312` superagent \n\nhttps://github.com/magicdawn/superagent-charset\n\n\n\n```js\nrequest.get(mainOrigin + mainPathname)\n    .charset('gb2312')\n    .end(function (err, res) {\n    ...\n  })\n```\n `.charset()` \n\n```html\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=gb2312\">\n```\n\n## \n\n\n\n `''``''`\n\n```js\n// str ''\nvar str = ''.replace(//g, '');\n```\n\n `'MP3'`  `''``''`\n\n```js\n// str ''\nvar str = ''.replace(/(MP3)?/g, '');\n```\n>  0  1 \n\n\n\n- `''`\n- `'MP3'`\n- `'MP3MP3+LRC'`\n- `'MP3 MP3+LRC'`\n- `'MP3 MP3+LRC+'`\n- `'MP3 MP3+LRC+ '`\n\n `''`\n\n```js\n/((MP3)?)|(\\s?MP3\\+LRC(\\+)?)|(\\s?$)/g\n```\n\n `|` `\\s` \n\n## \n\n superagent+cheerio \n\n## \n\n<https://github.com/lewis617/practical-js>","source":"_posts/node-spider.md","raw":"---\ntitle:  superagent+cheerio \ndate: 2017-04-24 19:57:00\ntags: [practical-js, Node, , superagent, cheerio, , ]\n---\n superagent+cheerio \n\n-  superagent \n-  superagent  JS \n-  superagent \n-  cheerio  DOM\n- \n- \n\n<!--more-->\n\n##  superagent \n\nsuperagent+cheerio  Node superagent  Ajax  URl URL  URL  superagent \n\n```js\n request\n   .get('http://example.com/search')\n   .end(function(err, res){\n\t   //  HTML \n       console.log(res.text);\n   });\n```\n\n HTMl  cheerio  cheerio  \n\n##  superagent  JS \n\n superagent  URL  JS  JS  URL  JS  JS  eval  superagent  JS  JS  `.buffer(true)` \n\n```js\nrequest.get('https://raw.githubusercontent.com/sindresorhus/negative-zero/master/index.js')\n    .buffer(true)\n    .end(function (err, res) {\n      ...\n    }\n```\n\n Issue\n\n https://github.com/visionmedia/superagent/issues/523\n\n##  superagent \n\n superagent  JS  superagent  Node  `fs.createWriteStream` \n\n```js\nfunction download(url, localPath, cb) {\n    var stream = fs.createWriteStream(localPath);\n    stream.on('finish', function () {\n        console.log('The download of ' + localPath + ' is complete!');\n        cb();\n    });\n    request.get(url).pipe(stream);\n}\n```\n\n\n\n##  cheerio  DOM\n\n superagent  jQuery  DOM Node  cheerio  jQuery cheerio \n\n```js\nvar cheerio = require('cheerio')\nvar $ = cheerio.load('<h2 class=\"title\">Hello world</h2>')\n\n$('h2.title').text('Hello there!')\n$('h2').addClass('welcome')\n\nreturn $.html()\n//=> <h2 class=\"title welcome\">Hello there!</h2>\n```\n\n superagent  html  cheerio \n\n cheerio \n\nhttps://github.com/cheeriojs/cheerio\n\n\n## \n\n chartset `gb2312`  `gb2312` superagent \n\nhttps://github.com/magicdawn/superagent-charset\n\n\n\n```js\nrequest.get(mainOrigin + mainPathname)\n    .charset('gb2312')\n    .end(function (err, res) {\n    ...\n  })\n```\n `.charset()` \n\n```html\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=gb2312\">\n```\n\n## \n\n\n\n `''``''`\n\n```js\n// str ''\nvar str = ''.replace(//g, '');\n```\n\n `'MP3'`  `''``''`\n\n```js\n// str ''\nvar str = ''.replace(/(MP3)?/g, '');\n```\n>  0  1 \n\n\n\n- `''`\n- `'MP3'`\n- `'MP3MP3+LRC'`\n- `'MP3 MP3+LRC'`\n- `'MP3 MP3+LRC+'`\n- `'MP3 MP3+LRC+ '`\n\n `''`\n\n```js\n/((MP3)?)|(\\s?MP3\\+LRC(\\+)?)|(\\s?$)/g\n```\n\n `|` `\\s` \n\n## \n\n superagent+cheerio \n\n## \n\n<https://github.com/lewis617/practical-js>","slug":"node-spider","published":1,"updated":"2019-05-01T08:02:11.417Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvm20022tgytlxx68xrd","content":"<p> superagent+cheerio </p>\n<ul>\n<li> superagent </li>\n<li> superagent  JS </li>\n<li> superagent </li>\n<li> cheerio  DOM</li>\n<li></li>\n<li></li>\n</ul>\n<a id=\"more\"></a>\n<h2 id=\"-superagent-\"><a href=\"#-superagent-\" class=\"headerlink\" title=\" superagent \"></a> superagent </h2><p>superagent+cheerio  Node superagent  Ajax  URl URL  URL  superagent </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">request</span><br><span class=\"line\">  .get(<span class=\"string\">'http://example.com/search'</span>)</span><br><span class=\"line\">  .end(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err, res</span>)</span>&#123;</span><br><span class=\"line\">   <span class=\"comment\">//  HTML </span></span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(res.text);</span><br><span class=\"line\">  &#125;);</span><br></pre></td></tr></table></figure>\n<p> HTMl  cheerio  cheerio  </p>\n<h2 id=\"-superagent--JS-\"><a href=\"#-superagent--JS-\" class=\"headerlink\" title=\" superagent  JS \"></a> superagent  JS </h2><p> superagent  URL  JS  JS  URL  JS  JS  eval  superagent  JS  JS  <code>.buffer(true)</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">request.get(<span class=\"string\">'https://raw.githubusercontent.com/sindresorhus/negative-zero/master/index.js'</span>)</span><br><span class=\"line\">    .buffer(<span class=\"literal\">true</span>)</span><br><span class=\"line\">    .end(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, res</span>) </span>&#123;</span><br><span class=\"line\">      ...</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p> Issue</p>\n<p> <a href=\"https://github.com/visionmedia/superagent/issues/523\" target=\"_blank\" rel=\"noopener\">https://github.com/visionmedia/superagent/issues/523</a></p>\n<h2 id=\"-superagent-\"><a href=\"#-superagent-\" class=\"headerlink\" title=\" superagent \"></a> superagent </h2><p> superagent  JS  superagent  Node  <code>fs.createWriteStream</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">download</span>(<span class=\"params\">url, localPath, cb</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> stream = fs.createWriteStream(localPath);</span><br><span class=\"line\">    stream.on(<span class=\"string\">'finish'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'The download of '</span> + localPath + <span class=\"string\">' is complete!'</span>);</span><br><span class=\"line\">        cb();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    request.get(url).pipe(stream);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"-cheerio--DOM\"><a href=\"#-cheerio--DOM\" class=\"headerlink\" title=\" cheerio  DOM\"></a> cheerio  DOM</h2><p> superagent  jQuery  DOM Node  cheerio  jQuery cheerio </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> cheerio = <span class=\"built_in\">require</span>(<span class=\"string\">'cheerio'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> $ = cheerio.load(<span class=\"string\">'&lt;h2 class=\"title\"&gt;Hello world&lt;/h2&gt;'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">$(<span class=\"string\">'h2.title'</span>).text(<span class=\"string\">'Hello there!'</span>)</span><br><span class=\"line\">$(<span class=\"string\">'h2'</span>).addClass(<span class=\"string\">'welcome'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">return</span> $.html()</span><br><span class=\"line\"><span class=\"comment\">//=&gt; &lt;h2 class=\"title welcome\"&gt;Hello there!&lt;/h2&gt;</span></span><br></pre></td></tr></table></figure>\n<p> superagent  html  cheerio </p>\n<p> cheerio </p>\n<p><a href=\"https://github.com/cheeriojs/cheerio\" target=\"_blank\" rel=\"noopener\">https://github.com/cheeriojs/cheerio</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> chartset <code>gb2312</code>  <code>gb2312</code> superagent </p>\n<p><a href=\"https://github.com/magicdawn/superagent-charset\" target=\"_blank\" rel=\"noopener\">https://github.com/magicdawn/superagent-charset</a></p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">request.get(mainOrigin + mainPathname)</span><br><span class=\"line\">    .charset(<span class=\"string\">'gb2312'</span>)</span><br><span class=\"line\">    .end(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, res</span>) </span>&#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">  &#125;)</span><br></pre></td></tr></table></figure>\n<p> <code>.charset()</code> </p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"Content-Type\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"text/html; charset=gb2312\"</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p> <code>&#39;&#39;</code><code>&#39;&#39;</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// str ''</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">''</span>.replace(<span class=\"regexp\">//g</span>, <span class=\"string\">''</span>);</span><br></pre></td></tr></table></figure>\n<p> <code>&#39;MP3&#39;</code>  <code>&#39;&#39;</code><code>&#39;&#39;</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// str ''</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">''</span>.replace(<span class=\"regexp\">/(MP3)?/g</span>, <span class=\"string\">''</span>);</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p> 0  1 </p>\n</blockquote>\n<p></p>\n<ul>\n<li><code>&#39;&#39;</code></li>\n<li><code>&#39;MP3&#39;</code></li>\n<li><code>&#39;MP3MP3+LRC&#39;</code></li>\n<li><code>&#39;MP3 MP3+LRC&#39;</code></li>\n<li><code>&#39;MP3 MP3+LRC+&#39;</code></li>\n<li><code>&#39;MP3 MP3+LRC+ &#39;</code></li>\n</ul>\n<p> <code>&#39;&#39;</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/((MP3)?)|(\\s?MP3\\+LRC(\\+)?)|(\\s?$)/g</span><br></pre></td></tr></table></figure>\n<p> <code>|</code> <code>\\s</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> superagent+cheerio </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/practical-js\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/practical-js</a></p>\n","site":{"data":{}},"excerpt":"<p> superagent+cheerio </p>\n<ul>\n<li> superagent </li>\n<li> superagent  JS </li>\n<li> superagent </li>\n<li> cheerio  DOM</li>\n<li></li>\n<li></li>\n</ul>","more":"<h2 id=\"-superagent-\"><a href=\"#-superagent-\" class=\"headerlink\" title=\" superagent \"></a> superagent </h2><p>superagent+cheerio  Node superagent  Ajax  URl URL  URL  superagent </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">request</span><br><span class=\"line\">  .get(<span class=\"string\">'http://example.com/search'</span>)</span><br><span class=\"line\">  .end(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err, res</span>)</span>&#123;</span><br><span class=\"line\">   <span class=\"comment\">//  HTML </span></span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(res.text);</span><br><span class=\"line\">  &#125;);</span><br></pre></td></tr></table></figure>\n<p> HTMl  cheerio  cheerio  </p>\n<h2 id=\"-superagent--JS-\"><a href=\"#-superagent--JS-\" class=\"headerlink\" title=\" superagent  JS \"></a> superagent  JS </h2><p> superagent  URL  JS  JS  URL  JS  JS  eval  superagent  JS  JS  <code>.buffer(true)</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">request.get(<span class=\"string\">'https://raw.githubusercontent.com/sindresorhus/negative-zero/master/index.js'</span>)</span><br><span class=\"line\">    .buffer(<span class=\"literal\">true</span>)</span><br><span class=\"line\">    .end(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, res</span>) </span>&#123;</span><br><span class=\"line\">      ...</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p> Issue</p>\n<p> <a href=\"https://github.com/visionmedia/superagent/issues/523\" target=\"_blank\" rel=\"noopener\">https://github.com/visionmedia/superagent/issues/523</a></p>\n<h2 id=\"-superagent-\"><a href=\"#-superagent-\" class=\"headerlink\" title=\" superagent \"></a> superagent </h2><p> superagent  JS  superagent  Node  <code>fs.createWriteStream</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">download</span>(<span class=\"params\">url, localPath, cb</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> stream = fs.createWriteStream(localPath);</span><br><span class=\"line\">    stream.on(<span class=\"string\">'finish'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'The download of '</span> + localPath + <span class=\"string\">' is complete!'</span>);</span><br><span class=\"line\">        cb();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    request.get(url).pipe(stream);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"-cheerio--DOM\"><a href=\"#-cheerio--DOM\" class=\"headerlink\" title=\" cheerio  DOM\"></a> cheerio  DOM</h2><p> superagent  jQuery  DOM Node  cheerio  jQuery cheerio </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> cheerio = <span class=\"built_in\">require</span>(<span class=\"string\">'cheerio'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> $ = cheerio.load(<span class=\"string\">'&lt;h2 class=\"title\"&gt;Hello world&lt;/h2&gt;'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">$(<span class=\"string\">'h2.title'</span>).text(<span class=\"string\">'Hello there!'</span>)</span><br><span class=\"line\">$(<span class=\"string\">'h2'</span>).addClass(<span class=\"string\">'welcome'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">return</span> $.html()</span><br><span class=\"line\"><span class=\"comment\">//=&gt; &lt;h2 class=\"title welcome\"&gt;Hello there!&lt;/h2&gt;</span></span><br></pre></td></tr></table></figure>\n<p> superagent  html  cheerio </p>\n<p> cheerio </p>\n<p><a href=\"https://github.com/cheeriojs/cheerio\" target=\"_blank\" rel=\"noopener\">https://github.com/cheeriojs/cheerio</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> chartset <code>gb2312</code>  <code>gb2312</code> superagent </p>\n<p><a href=\"https://github.com/magicdawn/superagent-charset\" target=\"_blank\" rel=\"noopener\">https://github.com/magicdawn/superagent-charset</a></p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">request.get(mainOrigin + mainPathname)</span><br><span class=\"line\">    .charset(<span class=\"string\">'gb2312'</span>)</span><br><span class=\"line\">    .end(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, res</span>) </span>&#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">  &#125;)</span><br></pre></td></tr></table></figure>\n<p> <code>.charset()</code> </p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"Content-Type\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"text/html; charset=gb2312\"</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p> <code>&#39;&#39;</code><code>&#39;&#39;</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// str ''</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">''</span>.replace(<span class=\"regexp\">//g</span>, <span class=\"string\">''</span>);</span><br></pre></td></tr></table></figure>\n<p> <code>&#39;MP3&#39;</code>  <code>&#39;&#39;</code><code>&#39;&#39;</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// str ''</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">''</span>.replace(<span class=\"regexp\">/(MP3)?/g</span>, <span class=\"string\">''</span>);</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p> 0  1 </p>\n</blockquote>\n<p></p>\n<ul>\n<li><code>&#39;&#39;</code></li>\n<li><code>&#39;MP3&#39;</code></li>\n<li><code>&#39;MP3MP3+LRC&#39;</code></li>\n<li><code>&#39;MP3 MP3+LRC&#39;</code></li>\n<li><code>&#39;MP3 MP3+LRC+&#39;</code></li>\n<li><code>&#39;MP3 MP3+LRC+ &#39;</code></li>\n</ul>\n<p> <code>&#39;&#39;</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/((MP3)?)|(\\s?MP3\\+LRC(\\+)?)|(\\s?$)/g</span><br></pre></td></tr></table></figure>\n<p> <code>|</code> <code>\\s</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> superagent+cheerio </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/practical-js\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/practical-js</a></p>"},{"title":"nginxflask","date":"2015-12-17T19:56:00.000Z","_content":"\n## \n\napijspythonapijsajaxapiajaxapi\n\n<!--more-->\n\n![](/css/images/85.jpg)\n\npython\n\n1.  \n2.  \n3.  api\n\n123jsonpCross-Origin Resource Sharingnginx\n\n## flask\n\npycharmflasknameclientserver\n\n![](/css/images/86.jpg)\n\nclientserverpython50005001\n\nclient.py\n\n```python\nfrom flask import Flask\n\napp = Flask(__name__)\n\n@app.route('/') def hello_world(): return 'this is client'\n\nif __name__ == '__main__':\n    app.run(port=5000)\n```\n\n server.py\n\n```\nfrom flask import Flask\n\napp = Flask(__name__)\n\n@app.route('/') def hello_world(): return 'this is server' @app.route('/api/') def api(): return 'api'\n\nif __name__ == '__main__':\n    app.run(port=5001)\n```\n\nclient.py\n\n![](/css/images/87.jpg)\n\nserver.py\n\n![](/css/images/88.jpg)\n\n## nginxubuntu\n\nnginxubuntu\n\n## nginx50005001\n\nnginx\n\n```sh\nsudo gedit /etc/nginx/sites-available/default\n```\n\n\n\n```test\n## demo listen 5017 proxy 5000 and 5001 ##\nserver {\n    listen 5017; \n    server_name a.xxx.com;\n    access_log /var/log/nginx/a.access.log;\n    error_log /var/log/nginx/a.error.log;\n    root html;\n    index index.html index.htm index.php;\n\n    ## send request back to flask ##\n    location / {\n        proxy_pass  http://127.0.0.1:5000/ ; \n #Proxy Settings\n        proxy_redirect off;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;\n        proxy_max_temp_file_size 0;\n        proxy_connect_timeout 90;\n        proxy_send_timeout 90;\n        proxy_read_timeout 90;\n        proxy_buffer_size 4k;\n        proxy_buffers 4 32k;\n        proxy_busy_buffers_size 64k;\n\n   }\n    location /proxy {\n        rewrite ^.+proxy/?(.*)$ /$1 break;\n        proxy_pass  http://127.0.0.1:5001/ ; \n #Proxy Settings\n        proxy_redirect off;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;\n        proxy_max_temp_file_size 0;\n        proxy_connect_timeout 90;\n        proxy_send_timeout 90;\n        proxy_read_timeout 90;\n        proxy_buffer_size 4k;\n        proxy_buffers 4 32k;\n        proxy_busy_buffers_size 64k;\n\n   }\n\n}\n\n## End a.xxx.com ##\n```\n\nnginx:\n\n```sh\nsudo /etc/init.d/nginx restart \n```\n\nlocalhost:5017localhost:5000\n\n![](/css/images/89.jpg)\n\nlocalhost:5017/proxylocalhost:5001\n\n![](/css/images/90.jpg)\n\nlocalhost:5017/proxy/api/localhost:5001/api/\n\n![](/css/images/91.jpg)\n\n50005001url50175017/proxy\n\n![](/css/images/92.jpg)\n\nuwsgiuwsgipython","source":"_posts/nginx-cross-domain.md","raw":"---\ntitle: nginxflask\ndate: 2015-12-18 03:56:00\ntags: [nginx, , Flask]\n---\n\n## \n\napijspythonapijsajaxapiajaxapi\n\n<!--more-->\n\n![](/css/images/85.jpg)\n\npython\n\n1.  \n2.  \n3.  api\n\n123jsonpCross-Origin Resource Sharingnginx\n\n## flask\n\npycharmflasknameclientserver\n\n![](/css/images/86.jpg)\n\nclientserverpython50005001\n\nclient.py\n\n```python\nfrom flask import Flask\n\napp = Flask(__name__)\n\n@app.route('/') def hello_world(): return 'this is client'\n\nif __name__ == '__main__':\n    app.run(port=5000)\n```\n\n server.py\n\n```\nfrom flask import Flask\n\napp = Flask(__name__)\n\n@app.route('/') def hello_world(): return 'this is server' @app.route('/api/') def api(): return 'api'\n\nif __name__ == '__main__':\n    app.run(port=5001)\n```\n\nclient.py\n\n![](/css/images/87.jpg)\n\nserver.py\n\n![](/css/images/88.jpg)\n\n## nginxubuntu\n\nnginxubuntu\n\n## nginx50005001\n\nnginx\n\n```sh\nsudo gedit /etc/nginx/sites-available/default\n```\n\n\n\n```test\n## demo listen 5017 proxy 5000 and 5001 ##\nserver {\n    listen 5017; \n    server_name a.xxx.com;\n    access_log /var/log/nginx/a.access.log;\n    error_log /var/log/nginx/a.error.log;\n    root html;\n    index index.html index.htm index.php;\n\n    ## send request back to flask ##\n    location / {\n        proxy_pass  http://127.0.0.1:5000/ ; \n #Proxy Settings\n        proxy_redirect off;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;\n        proxy_max_temp_file_size 0;\n        proxy_connect_timeout 90;\n        proxy_send_timeout 90;\n        proxy_read_timeout 90;\n        proxy_buffer_size 4k;\n        proxy_buffers 4 32k;\n        proxy_busy_buffers_size 64k;\n\n   }\n    location /proxy {\n        rewrite ^.+proxy/?(.*)$ /$1 break;\n        proxy_pass  http://127.0.0.1:5001/ ; \n #Proxy Settings\n        proxy_redirect off;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;\n        proxy_max_temp_file_size 0;\n        proxy_connect_timeout 90;\n        proxy_send_timeout 90;\n        proxy_read_timeout 90;\n        proxy_buffer_size 4k;\n        proxy_buffers 4 32k;\n        proxy_busy_buffers_size 64k;\n\n   }\n\n}\n\n## End a.xxx.com ##\n```\n\nnginx:\n\n```sh\nsudo /etc/init.d/nginx restart \n```\n\nlocalhost:5017localhost:5000\n\n![](/css/images/89.jpg)\n\nlocalhost:5017/proxylocalhost:5001\n\n![](/css/images/90.jpg)\n\nlocalhost:5017/proxy/api/localhost:5001/api/\n\n![](/css/images/91.jpg)\n\n50005001url50175017/proxy\n\n![](/css/images/92.jpg)\n\nuwsgiuwsgipython","slug":"nginx-cross-domain","published":1,"updated":"2019-05-01T08:10:29.962Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvm30024tgyt271d9618","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>apijspythonapijsajaxapiajaxapi</p>\n<a id=\"more\"></a>\n<p><img src=\"/css/images/85.jpg\" alt=\"\"></p>\n<p>python</p>\n<ol>\n<li></li>\n<li></li>\n<li>api</li>\n</ol>\n<p>123jsonpCross-Origin Resource Sharingnginx</p>\n<h2 id=\"flask\"><a href=\"#flask\" class=\"headerlink\" title=\"flask\"></a>flask</h2><p>pycharmflasknameclientserver</p>\n<p><img src=\"/css/images/86.jpg\" alt=\"\"></p>\n<p>clientserverpython50005001</p>\n<p>client.py</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> flask <span class=\"keyword\">import</span> Flask</span><br><span class=\"line\"></span><br><span class=\"line\">app = Flask(__name__)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@app.route('/') def hello_world(): return 'this is client'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">    app.run(port=<span class=\"number\">5000</span>)</span><br></pre></td></tr></table></figure>\n<p> server.py</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">from flask import Flask</span><br><span class=\"line\"></span><br><span class=\"line\">app = Flask(__name__)</span><br><span class=\"line\"></span><br><span class=\"line\">@app.route(&apos;/&apos;) def hello_world(): return &apos;this is server&apos; @app.route(&apos;/api/&apos;) def api(): return &apos;api&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">if __name__ == &apos;__main__&apos;:</span><br><span class=\"line\">    app.run(port=5001)</span><br></pre></td></tr></table></figure>\n<p>client.py</p>\n<p><img src=\"/css/images/87.jpg\" alt=\"\"></p>\n<p>server.py</p>\n<p><img src=\"/css/images/88.jpg\" alt=\"\"></p>\n<h2 id=\"nginxubuntu\"><a href=\"#nginxubuntu\" class=\"headerlink\" title=\"nginxubuntu\"></a>nginxubuntu</h2><p>nginxubuntu</p>\n<h2 id=\"nginx50005001\"><a href=\"#nginx50005001\" class=\"headerlink\" title=\"nginx50005001\"></a>nginx50005001</h2><p>nginx</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo gedit /etc/nginx/sites-available/default</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## demo listen 5017 proxy 5000 and 5001 ##</span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">    listen 5017; </span><br><span class=\"line\">    server_name a.xxx.com;</span><br><span class=\"line\">    access_log /var/log/nginx/a.access.log;</span><br><span class=\"line\">    error_log /var/log/nginx/a.error.log;</span><br><span class=\"line\">    root html;</span><br><span class=\"line\">    index index.html index.htm index.php;</span><br><span class=\"line\"></span><br><span class=\"line\">    ## send request back to flask ##</span><br><span class=\"line\">    location / &#123;</span><br><span class=\"line\">        proxy_pass  http://127.0.0.1:5000/ ; </span><br><span class=\"line\"> #Proxy Settings</span><br><span class=\"line\">        proxy_redirect off;</span><br><span class=\"line\">        proxy_set_header Host $host;</span><br><span class=\"line\">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class=\"line\">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class=\"line\">        proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;</span><br><span class=\"line\">        proxy_max_temp_file_size 0;</span><br><span class=\"line\">        proxy_connect_timeout 90;</span><br><span class=\"line\">        proxy_send_timeout 90;</span><br><span class=\"line\">        proxy_read_timeout 90;</span><br><span class=\"line\">        proxy_buffer_size 4k;</span><br><span class=\"line\">        proxy_buffers 4 32k;</span><br><span class=\"line\">        proxy_busy_buffers_size 64k;</span><br><span class=\"line\"></span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">    location /proxy &#123;</span><br><span class=\"line\">        rewrite ^.+proxy/?(.*)$ /$1 break;</span><br><span class=\"line\">        proxy_pass  http://127.0.0.1:5001/ ; </span><br><span class=\"line\"> #Proxy Settings</span><br><span class=\"line\">        proxy_redirect off;</span><br><span class=\"line\">        proxy_set_header Host $host;</span><br><span class=\"line\">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class=\"line\">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class=\"line\">        proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;</span><br><span class=\"line\">        proxy_max_temp_file_size 0;</span><br><span class=\"line\">        proxy_connect_timeout 90;</span><br><span class=\"line\">        proxy_send_timeout 90;</span><br><span class=\"line\">        proxy_read_timeout 90;</span><br><span class=\"line\">        proxy_buffer_size 4k;</span><br><span class=\"line\">        proxy_buffers 4 32k;</span><br><span class=\"line\">        proxy_busy_buffers_size 64k;</span><br><span class=\"line\"></span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">## End a.xxx.com ##</span><br></pre></td></tr></table></figure>\n<p>nginx:</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo /etc/init.d/nginx restart</span><br></pre></td></tr></table></figure>\n<p>localhost:5017localhost:5000</p>\n<p><img src=\"/css/images/89.jpg\" alt=\"\"></p>\n<p>localhost:5017/proxylocalhost:5001</p>\n<p><img src=\"/css/images/90.jpg\" alt=\"\"></p>\n<p>localhost:5017/proxy/api/localhost:5001/api/</p>\n<p><img src=\"/css/images/91.jpg\" alt=\"\"></p>\n<p>50005001url50175017/proxy</p>\n<p><img src=\"/css/images/92.jpg\" alt=\"\"></p>\n<p>uwsgiuwsgipython</p>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>apijspythonapijsajaxapiajaxapi</p>","more":"<p><img src=\"/css/images/85.jpg\" alt=\"\"></p>\n<p>python</p>\n<ol>\n<li></li>\n<li></li>\n<li>api</li>\n</ol>\n<p>123jsonpCross-Origin Resource Sharingnginx</p>\n<h2 id=\"flask\"><a href=\"#flask\" class=\"headerlink\" title=\"flask\"></a>flask</h2><p>pycharmflasknameclientserver</p>\n<p><img src=\"/css/images/86.jpg\" alt=\"\"></p>\n<p>clientserverpython50005001</p>\n<p>client.py</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> flask <span class=\"keyword\">import</span> Flask</span><br><span class=\"line\"></span><br><span class=\"line\">app = Flask(__name__)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@app.route('/') def hello_world(): return 'this is client'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">    app.run(port=<span class=\"number\">5000</span>)</span><br></pre></td></tr></table></figure>\n<p> server.py</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">from flask import Flask</span><br><span class=\"line\"></span><br><span class=\"line\">app = Flask(__name__)</span><br><span class=\"line\"></span><br><span class=\"line\">@app.route(&apos;/&apos;) def hello_world(): return &apos;this is server&apos; @app.route(&apos;/api/&apos;) def api(): return &apos;api&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">if __name__ == &apos;__main__&apos;:</span><br><span class=\"line\">    app.run(port=5001)</span><br></pre></td></tr></table></figure>\n<p>client.py</p>\n<p><img src=\"/css/images/87.jpg\" alt=\"\"></p>\n<p>server.py</p>\n<p><img src=\"/css/images/88.jpg\" alt=\"\"></p>\n<h2 id=\"nginxubuntu\"><a href=\"#nginxubuntu\" class=\"headerlink\" title=\"nginxubuntu\"></a>nginxubuntu</h2><p>nginxubuntu</p>\n<h2 id=\"nginx50005001\"><a href=\"#nginx50005001\" class=\"headerlink\" title=\"nginx50005001\"></a>nginx50005001</h2><p>nginx</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo gedit /etc/nginx/sites-available/default</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## demo listen 5017 proxy 5000 and 5001 ##</span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">    listen 5017; </span><br><span class=\"line\">    server_name a.xxx.com;</span><br><span class=\"line\">    access_log /var/log/nginx/a.access.log;</span><br><span class=\"line\">    error_log /var/log/nginx/a.error.log;</span><br><span class=\"line\">    root html;</span><br><span class=\"line\">    index index.html index.htm index.php;</span><br><span class=\"line\"></span><br><span class=\"line\">    ## send request back to flask ##</span><br><span class=\"line\">    location / &#123;</span><br><span class=\"line\">        proxy_pass  http://127.0.0.1:5000/ ; </span><br><span class=\"line\"> #Proxy Settings</span><br><span class=\"line\">        proxy_redirect off;</span><br><span class=\"line\">        proxy_set_header Host $host;</span><br><span class=\"line\">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class=\"line\">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class=\"line\">        proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;</span><br><span class=\"line\">        proxy_max_temp_file_size 0;</span><br><span class=\"line\">        proxy_connect_timeout 90;</span><br><span class=\"line\">        proxy_send_timeout 90;</span><br><span class=\"line\">        proxy_read_timeout 90;</span><br><span class=\"line\">        proxy_buffer_size 4k;</span><br><span class=\"line\">        proxy_buffers 4 32k;</span><br><span class=\"line\">        proxy_busy_buffers_size 64k;</span><br><span class=\"line\"></span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">    location /proxy &#123;</span><br><span class=\"line\">        rewrite ^.+proxy/?(.*)$ /$1 break;</span><br><span class=\"line\">        proxy_pass  http://127.0.0.1:5001/ ; </span><br><span class=\"line\"> #Proxy Settings</span><br><span class=\"line\">        proxy_redirect off;</span><br><span class=\"line\">        proxy_set_header Host $host;</span><br><span class=\"line\">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class=\"line\">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class=\"line\">        proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;</span><br><span class=\"line\">        proxy_max_temp_file_size 0;</span><br><span class=\"line\">        proxy_connect_timeout 90;</span><br><span class=\"line\">        proxy_send_timeout 90;</span><br><span class=\"line\">        proxy_read_timeout 90;</span><br><span class=\"line\">        proxy_buffer_size 4k;</span><br><span class=\"line\">        proxy_buffers 4 32k;</span><br><span class=\"line\">        proxy_busy_buffers_size 64k;</span><br><span class=\"line\"></span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">## End a.xxx.com ##</span><br></pre></td></tr></table></figure>\n<p>nginx:</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo /etc/init.d/nginx restart</span><br></pre></td></tr></table></figure>\n<p>localhost:5017localhost:5000</p>\n<p><img src=\"/css/images/89.jpg\" alt=\"\"></p>\n<p>localhost:5017/proxylocalhost:5001</p>\n<p><img src=\"/css/images/90.jpg\" alt=\"\"></p>\n<p>localhost:5017/proxy/api/localhost:5001/api/</p>\n<p><img src=\"/css/images/91.jpg\" alt=\"\"></p>\n<p>50005001url50175017/proxy</p>\n<p><img src=\"/css/images/92.jpg\" alt=\"\"></p>\n<p>uwsgiuwsgipython</p>"},{"title":"Jason MillerPreactInto the void 0","date":"2017-09-04T11:00:00.000Z","_content":"Jason MillerJSConftalk\n\nhttps://www.youtube.com/watch?v=LY6y3HbDVmg\n\n![](/css/images/96.jpg)\n\n<!--more-->\n\n## \n\nJasonGithubdevelopit_developitserial library author[15](https://dushi.singtao.ca/toronto/%E8%B4%A2%E7%BB%8F-%E5%88%86%E7%B1%BB/%E5%88%9B%E4%B8%9A%E6%95%85%E4%BA%8B-%E5%88%86%E7%B1%BB/%E5%9C%A8%E5%8A%A0%E6%8B%BF%E5%A4%A7%E6%8A%8A%E6%89%94%E6%96%A7%E5%A4%B4%E5%81%9A%E6%88%9015%E4%B8%87%E7%94%A8%E6%88%B7%E7%9A%84%E5%A4%A7%E7%94%9F%E6%84%8F/)\n\n![](/css/images/94.jpg)\n\nwebwindows mobile 5UIADHD\n\n![](/css/images/95.jpg)\n\n## \n\nPreactPreact: Into the void 0void(0)jsundefined\n\n![](https://ww1.sinaimg.cn/mw690/83900b4egy1fj6o29y7yvj21gk0t8gp1.jpg)\n\nPreactPreactPreact\n\n![](/css/images/97.jpg)\n\n\n## JSX\n\nJSXJSXJSXJSXJSXWebpackwebpack2\n\n![](/css/images/98.jpg)\n\nJSXJSXXMLHTMLbabelJSXDOM\n\n![](/css/images/99.jpg)\n\n\nJavaScript`one`  `world`\n\n> JSXHTMLJSX\n\n![](/css/images/100.jpg)\n\nJSXchildrenchildren\n![](/css/images/101.jpg)\n\nhyperscripthyperscriptJSXJSXhyperscriptCSSJSX\n\n![](/css/images/102.jpg)\n\nJSXJSXJSXDOMJSXDOMDOMWebpackXMLSOAPJSXJSX\n\n![](/css/images/103.jpg)\n\n## DOM\n\nDOM\n\n![](/css/images/104.jpg)\n\nDOMDOMDOM\n\n![](/css/images/105.jpg)\n\nJSXDOM\n\n![](/css/images/106.jpg)\n\nhJSXhhDOMDOM\n\n![](/css/images/107.jpg)\n\nchildrenDOM\n\n![](/css/images/108.jpg)\n\nDOMDOM`document.createElement`DOMDOMDOM\n\n![](/css/images/109.jpg)\n\nattributesReactattrbutespropertiespropsattributespropertiesHTMLattributespropertiesDOM property reflectionpropertiesattributes\n\n![](/css/images/110.jpg)\n\nDOMfoopropertypropertyattributespropertygetter setter\n\n![](/css/images/111.jpg)\n\nDOM\n\n![](/css/images/112.jpg)\n\n\n## DIFF\n\nDOMDOM0DIFFDOMdomDOMDIFF\n\n![](/css/images/113.jpg)\n\nDIFFDOMDOMJSX\n![](/css/images/114.jpg)\n\nDOMDOM\n\n![](/css/images/115.jpg)\n\nDIFFtypeDOMchildrenattributes/props\n\n![](/css/images/116.jpg)\n\ntype propsrender\n\n> \n\n![](/css/images/117.jpg)\n\nchildrenchildrenkeyunkeykeykeyed mapchildrenDOMindexkids\n\n![](/css/images/118.jpg)\n\nkeyed mapunkey liststack overflowstack overflowPPTkeysDOMDOMonetwothreetwoDOMtwoDOMpushpopkeykey12313key2DOMkey2\n\n![](/css/images/119.jpg)\n\nDIFFattributesundefinedappreactpreactinferno\n\n![](/css/images/120.jpg)\n\n## \n\nPreact\n\n![](/css/images/121.jpg)\n\nDOMDOMDOMimmediate mode drawing APIDOMaccessibilitytitleDOMDOMDOMwindowsemojihookemojiDOMPreactDOMDOMDOM\n\n![](/css/images/122.jpg)\n\nDOM\n\n![](/css/images/123.jpg)\n\nDOMAPIAPIAPI\n\n![](/css/images/124.jpg)\n\n\nbenchmark showing`textContent``Text.nodeValue`DOM`textContent`\n\n![](/css/images/125.jpg)\n\ngettersTextnodeTypeundefinedNodenodeTypegetter\n\n![](/css/images/126.jpg)\n\nsplitTextgetter\n\n![](/css/images/127.jpg)\n\ngetters\n\n![](/css/images/128.jpg)\n\nLive NodeLists\n\n![](/css/images/129.jpg)\n\nchildrenlive NodeList\n\n![](/css/images/130.jpg)\n\n\n\n![](/css/images/131.jpg)\n\n\n## \n\nBenchmark\n\n![](/css/images/132.jpg)\n\nChrome\n\n![](/css/images/133.jpg)\n\nIRHydra\n\n![](/css/images/134.jpg)\n\nESBenchBabelbenchmark\n\n![](/css/images/135.jpg)\n\n\n## \n\n0nullfalse\n\n![](/css/images/136.jpg)\n\n\n\n![](/css/images/137.jpg)\n\n\n\n![](/css/images/138.jpg)\n\n\n\n![](/css/images/139.jpg)\n\n---\n\n## \n\n<https://github.com/lewis617/react-redux-tutorial>\n\n<http://www.liuyiqi.cn/tags/React/>\n","source":"_posts/preact-into-the-void-0.md","raw":"---\ntitle: Jason MillerPreactInto the void 0\ndate: 2017-09-04 19:00:00\ntags: [, Preact, JSX, DOM, ]\n---\nJason MillerJSConftalk\n\nhttps://www.youtube.com/watch?v=LY6y3HbDVmg\n\n![](/css/images/96.jpg)\n\n<!--more-->\n\n## \n\nJasonGithubdevelopit_developitserial library author[15](https://dushi.singtao.ca/toronto/%E8%B4%A2%E7%BB%8F-%E5%88%86%E7%B1%BB/%E5%88%9B%E4%B8%9A%E6%95%85%E4%BA%8B-%E5%88%86%E7%B1%BB/%E5%9C%A8%E5%8A%A0%E6%8B%BF%E5%A4%A7%E6%8A%8A%E6%89%94%E6%96%A7%E5%A4%B4%E5%81%9A%E6%88%9015%E4%B8%87%E7%94%A8%E6%88%B7%E7%9A%84%E5%A4%A7%E7%94%9F%E6%84%8F/)\n\n![](/css/images/94.jpg)\n\nwebwindows mobile 5UIADHD\n\n![](/css/images/95.jpg)\n\n## \n\nPreactPreact: Into the void 0void(0)jsundefined\n\n![](https://ww1.sinaimg.cn/mw690/83900b4egy1fj6o29y7yvj21gk0t8gp1.jpg)\n\nPreactPreactPreact\n\n![](/css/images/97.jpg)\n\n\n## JSX\n\nJSXJSXJSXJSXJSXWebpackwebpack2\n\n![](/css/images/98.jpg)\n\nJSXJSXXMLHTMLbabelJSXDOM\n\n![](/css/images/99.jpg)\n\n\nJavaScript`one`  `world`\n\n> JSXHTMLJSX\n\n![](/css/images/100.jpg)\n\nJSXchildrenchildren\n![](/css/images/101.jpg)\n\nhyperscripthyperscriptJSXJSXhyperscriptCSSJSX\n\n![](/css/images/102.jpg)\n\nJSXJSXJSXDOMJSXDOMDOMWebpackXMLSOAPJSXJSX\n\n![](/css/images/103.jpg)\n\n## DOM\n\nDOM\n\n![](/css/images/104.jpg)\n\nDOMDOMDOM\n\n![](/css/images/105.jpg)\n\nJSXDOM\n\n![](/css/images/106.jpg)\n\nhJSXhhDOMDOM\n\n![](/css/images/107.jpg)\n\nchildrenDOM\n\n![](/css/images/108.jpg)\n\nDOMDOM`document.createElement`DOMDOMDOM\n\n![](/css/images/109.jpg)\n\nattributesReactattrbutespropertiespropsattributespropertiesHTMLattributespropertiesDOM property reflectionpropertiesattributes\n\n![](/css/images/110.jpg)\n\nDOMfoopropertypropertyattributespropertygetter setter\n\n![](/css/images/111.jpg)\n\nDOM\n\n![](/css/images/112.jpg)\n\n\n## DIFF\n\nDOMDOM0DIFFDOMdomDOMDIFF\n\n![](/css/images/113.jpg)\n\nDIFFDOMDOMJSX\n![](/css/images/114.jpg)\n\nDOMDOM\n\n![](/css/images/115.jpg)\n\nDIFFtypeDOMchildrenattributes/props\n\n![](/css/images/116.jpg)\n\ntype propsrender\n\n> \n\n![](/css/images/117.jpg)\n\nchildrenchildrenkeyunkeykeykeyed mapchildrenDOMindexkids\n\n![](/css/images/118.jpg)\n\nkeyed mapunkey liststack overflowstack overflowPPTkeysDOMDOMonetwothreetwoDOMtwoDOMpushpopkeykey12313key2DOMkey2\n\n![](/css/images/119.jpg)\n\nDIFFattributesundefinedappreactpreactinferno\n\n![](/css/images/120.jpg)\n\n## \n\nPreact\n\n![](/css/images/121.jpg)\n\nDOMDOMDOMimmediate mode drawing APIDOMaccessibilitytitleDOMDOMDOMwindowsemojihookemojiDOMPreactDOMDOMDOM\n\n![](/css/images/122.jpg)\n\nDOM\n\n![](/css/images/123.jpg)\n\nDOMAPIAPIAPI\n\n![](/css/images/124.jpg)\n\n\nbenchmark showing`textContent``Text.nodeValue`DOM`textContent`\n\n![](/css/images/125.jpg)\n\ngettersTextnodeTypeundefinedNodenodeTypegetter\n\n![](/css/images/126.jpg)\n\nsplitTextgetter\n\n![](/css/images/127.jpg)\n\ngetters\n\n![](/css/images/128.jpg)\n\nLive NodeLists\n\n![](/css/images/129.jpg)\n\nchildrenlive NodeList\n\n![](/css/images/130.jpg)\n\n\n\n![](/css/images/131.jpg)\n\n\n## \n\nBenchmark\n\n![](/css/images/132.jpg)\n\nChrome\n\n![](/css/images/133.jpg)\n\nIRHydra\n\n![](/css/images/134.jpg)\n\nESBenchBabelbenchmark\n\n![](/css/images/135.jpg)\n\n\n## \n\n0nullfalse\n\n![](/css/images/136.jpg)\n\n\n\n![](/css/images/137.jpg)\n\n\n\n![](/css/images/138.jpg)\n\n\n\n![](/css/images/139.jpg)\n\n---\n\n## \n\n<https://github.com/lewis617/react-redux-tutorial>\n\n<http://www.liuyiqi.cn/tags/React/>\n","slug":"preact-into-the-void-0","published":1,"updated":"2019-05-01T08:10:30.099Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvm40027tgyt5rcgyvyg","content":"<p>Jason MillerJSConftalk</p>\n<p><a href=\"https://www.youtube.com/watch?v=LY6y3HbDVmg\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=LY6y3HbDVmg</a></p>\n<p><img src=\"/css/images/96.jpg\" alt=\"\"></p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>JasonGithubdevelopit_developitserial library author<a href=\"https://dushi.singtao.ca/toronto/%E8%B4%A2%E7%BB%8F-%E5%88%86%E7%B1%BB/%E5%88%9B%E4%B8%9A%E6%95%85%E4%BA%8B-%E5%88%86%E7%B1%BB/%E5%9C%A8%E5%8A%A0%E6%8B%BF%E5%A4%A7%E6%8A%8A%E6%89%94%E6%96%A7%E5%A4%B4%E5%81%9A%E6%88%9015%E4%B8%87%E7%94%A8%E6%88%B7%E7%9A%84%E5%A4%A7%E7%94%9F%E6%84%8F/\" target=\"_blank\" rel=\"noopener\">15</a></p>\n<p><img src=\"/css/images/94.jpg\" alt=\"\"></p>\n<p>webwindows mobile 5UIADHD</p>\n<p><img src=\"/css/images/95.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>PreactPreact: Into the void 0void(0)jsundefined</p>\n<p><img src=\"https://ww1.sinaimg.cn/mw690/83900b4egy1fj6o29y7yvj21gk0t8gp1.jpg\" alt=\"\"></p>\n<p>PreactPreactPreact</p>\n<p><img src=\"/css/images/97.jpg\" alt=\"\"></p>\n<h2 id=\"JSX\"><a href=\"#JSX\" class=\"headerlink\" title=\"JSX\"></a>JSX</h2><p>JSXJSXJSXJSXJSXWebpackwebpack2</p>\n<p><img src=\"/css/images/98.jpg\" alt=\"\"></p>\n<p>JSXJSXXMLHTMLbabelJSXDOM</p>\n<p><img src=\"/css/images/99.jpg\" alt=\"\"></p>\n<p>JavaScript<code>one</code>  <code>world</code></p>\n<blockquote>\n<p>JSXHTMLJSX</p>\n</blockquote>\n<p><img src=\"/css/images/100.jpg\" alt=\"\"></p>\n<p>JSXchildrenchildren<br><img src=\"/css/images/101.jpg\" alt=\"\"></p>\n<p>hyperscripthyperscriptJSXJSXhyperscriptCSSJSX</p>\n<p><img src=\"/css/images/102.jpg\" alt=\"\"></p>\n<p>JSXJSXJSXDOMJSXDOMDOMWebpackXMLSOAPJSXJSX</p>\n<p><img src=\"/css/images/103.jpg\" alt=\"\"></p>\n<h2 id=\"DOM\"><a href=\"#DOM\" class=\"headerlink\" title=\"DOM\"></a>DOM</h2><p>DOM</p>\n<p><img src=\"/css/images/104.jpg\" alt=\"\"></p>\n<p>DOMDOMDOM</p>\n<p><img src=\"/css/images/105.jpg\" alt=\"\"></p>\n<p>JSXDOM</p>\n<p><img src=\"/css/images/106.jpg\" alt=\"\"></p>\n<p>hJSXhhDOMDOM</p>\n<p><img src=\"/css/images/107.jpg\" alt=\"\"></p>\n<p>childrenDOM</p>\n<p><img src=\"/css/images/108.jpg\" alt=\"\"></p>\n<p>DOMDOM<code>document.createElement</code>DOMDOMDOM</p>\n<p><img src=\"/css/images/109.jpg\" alt=\"\"></p>\n<p>attributesReactattrbutespropertiespropsattributespropertiesHTMLattributespropertiesDOM property reflectionpropertiesattributes</p>\n<p><img src=\"/css/images/110.jpg\" alt=\"\"></p>\n<p>DOMfoopropertypropertyattributespropertygetter setter</p>\n<p><img src=\"/css/images/111.jpg\" alt=\"\"></p>\n<p>DOM</p>\n<p><img src=\"/css/images/112.jpg\" alt=\"\"></p>\n<h2 id=\"DIFF\"><a href=\"#DIFF\" class=\"headerlink\" title=\"DIFF\"></a>DIFF</h2><p>DOMDOM0DIFFDOMdomDOMDIFF</p>\n<p><img src=\"/css/images/113.jpg\" alt=\"\"></p>\n<p>DIFFDOMDOMJSX<br><img src=\"/css/images/114.jpg\" alt=\"\"></p>\n<p>DOMDOM</p>\n<p><img src=\"/css/images/115.jpg\" alt=\"\"></p>\n<p>DIFFtypeDOMchildrenattributes/props</p>\n<p><img src=\"/css/images/116.jpg\" alt=\"\"></p>\n<p>type propsrender</p>\n<blockquote>\n<p></p>\n</blockquote>\n<p><img src=\"/css/images/117.jpg\" alt=\"\"></p>\n<p>childrenchildrenkeyunkeykeykeyed mapchildrenDOMindexkids</p>\n<p><img src=\"/css/images/118.jpg\" alt=\"\"></p>\n<p>keyed mapunkey liststack overflowstack overflowPPTkeysDOMDOMonetwothreetwoDOMtwoDOMpushpopkeykey12313key2DOMkey2</p>\n<p><img src=\"/css/images/119.jpg\" alt=\"\"></p>\n<p>DIFFattributesundefinedappreactpreactinferno</p>\n<p><img src=\"/css/images/120.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Preact</p>\n<p><img src=\"/css/images/121.jpg\" alt=\"\"></p>\n<p>DOMDOMDOMimmediate mode drawing APIDOMaccessibilitytitleDOMDOMDOMwindowsemojihookemojiDOMPreactDOMDOMDOM</p>\n<p><img src=\"/css/images/122.jpg\" alt=\"\"></p>\n<p>DOM</p>\n<p><img src=\"/css/images/123.jpg\" alt=\"\"></p>\n<p>DOMAPIAPIAPI</p>\n<p><img src=\"/css/images/124.jpg\" alt=\"\"></p>\n<p>benchmark showing<code>textContent</code><code>Text.nodeValue</code>DOM<code>textContent</code></p>\n<p><img src=\"/css/images/125.jpg\" alt=\"\"></p>\n<p>gettersTextnodeTypeundefinedNodenodeTypegetter</p>\n<p><img src=\"/css/images/126.jpg\" alt=\"\"></p>\n<p>splitTextgetter</p>\n<p><img src=\"/css/images/127.jpg\" alt=\"\"></p>\n<p>getters</p>\n<p><img src=\"/css/images/128.jpg\" alt=\"\"></p>\n<p>Live NodeLists</p>\n<p><img src=\"/css/images/129.jpg\" alt=\"\"></p>\n<p>childrenlive NodeList</p>\n<p><img src=\"/css/images/130.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"/css/images/131.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Benchmark</p>\n<p><img src=\"/css/images/132.jpg\" alt=\"\"></p>\n<p>Chrome</p>\n<p><img src=\"/css/images/133.jpg\" alt=\"\"></p>\n<p>IRHydra</p>\n<p><img src=\"/css/images/134.jpg\" alt=\"\"></p>\n<p>ESBenchBabelbenchmark</p>\n<p><img src=\"/css/images/135.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>0nullfalse</p>\n<p><img src=\"/css/images/136.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"/css/images/137.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"/css/images/138.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"/css/images/139.jpg\" alt=\"\"></p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/React/\">http://www.liuyiqi.cn/tags/React/</a></p>\n","site":{"data":{}},"excerpt":"<p>Jason MillerJSConftalk</p>\n<p><a href=\"https://www.youtube.com/watch?v=LY6y3HbDVmg\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=LY6y3HbDVmg</a></p>\n<p><img src=\"/css/images/96.jpg\" alt=\"\"></p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>JasonGithubdevelopit_developitserial library author<a href=\"https://dushi.singtao.ca/toronto/%E8%B4%A2%E7%BB%8F-%E5%88%86%E7%B1%BB/%E5%88%9B%E4%B8%9A%E6%95%85%E4%BA%8B-%E5%88%86%E7%B1%BB/%E5%9C%A8%E5%8A%A0%E6%8B%BF%E5%A4%A7%E6%8A%8A%E6%89%94%E6%96%A7%E5%A4%B4%E5%81%9A%E6%88%9015%E4%B8%87%E7%94%A8%E6%88%B7%E7%9A%84%E5%A4%A7%E7%94%9F%E6%84%8F/\" target=\"_blank\" rel=\"noopener\">15</a></p>\n<p><img src=\"/css/images/94.jpg\" alt=\"\"></p>\n<p>webwindows mobile 5UIADHD</p>\n<p><img src=\"/css/images/95.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>PreactPreact: Into the void 0void(0)jsundefined</p>\n<p><img src=\"https://ww1.sinaimg.cn/mw690/83900b4egy1fj6o29y7yvj21gk0t8gp1.jpg\" alt=\"\"></p>\n<p>PreactPreactPreact</p>\n<p><img src=\"/css/images/97.jpg\" alt=\"\"></p>\n<h2 id=\"JSX\"><a href=\"#JSX\" class=\"headerlink\" title=\"JSX\"></a>JSX</h2><p>JSXJSXJSXJSXJSXWebpackwebpack2</p>\n<p><img src=\"/css/images/98.jpg\" alt=\"\"></p>\n<p>JSXJSXXMLHTMLbabelJSXDOM</p>\n<p><img src=\"/css/images/99.jpg\" alt=\"\"></p>\n<p>JavaScript<code>one</code>  <code>world</code></p>\n<blockquote>\n<p>JSXHTMLJSX</p>\n</blockquote>\n<p><img src=\"/css/images/100.jpg\" alt=\"\"></p>\n<p>JSXchildrenchildren<br><img src=\"/css/images/101.jpg\" alt=\"\"></p>\n<p>hyperscripthyperscriptJSXJSXhyperscriptCSSJSX</p>\n<p><img src=\"/css/images/102.jpg\" alt=\"\"></p>\n<p>JSXJSXJSXDOMJSXDOMDOMWebpackXMLSOAPJSXJSX</p>\n<p><img src=\"/css/images/103.jpg\" alt=\"\"></p>\n<h2 id=\"DOM\"><a href=\"#DOM\" class=\"headerlink\" title=\"DOM\"></a>DOM</h2><p>DOM</p>\n<p><img src=\"/css/images/104.jpg\" alt=\"\"></p>\n<p>DOMDOMDOM</p>\n<p><img src=\"/css/images/105.jpg\" alt=\"\"></p>\n<p>JSXDOM</p>\n<p><img src=\"/css/images/106.jpg\" alt=\"\"></p>\n<p>hJSXhhDOMDOM</p>\n<p><img src=\"/css/images/107.jpg\" alt=\"\"></p>\n<p>childrenDOM</p>\n<p><img src=\"/css/images/108.jpg\" alt=\"\"></p>\n<p>DOMDOM<code>document.createElement</code>DOMDOMDOM</p>\n<p><img src=\"/css/images/109.jpg\" alt=\"\"></p>\n<p>attributesReactattrbutespropertiespropsattributespropertiesHTMLattributespropertiesDOM property reflectionpropertiesattributes</p>\n<p><img src=\"/css/images/110.jpg\" alt=\"\"></p>\n<p>DOMfoopropertypropertyattributespropertygetter setter</p>\n<p><img src=\"/css/images/111.jpg\" alt=\"\"></p>\n<p>DOM</p>\n<p><img src=\"/css/images/112.jpg\" alt=\"\"></p>\n<h2 id=\"DIFF\"><a href=\"#DIFF\" class=\"headerlink\" title=\"DIFF\"></a>DIFF</h2><p>DOMDOM0DIFFDOMdomDOMDIFF</p>\n<p><img src=\"/css/images/113.jpg\" alt=\"\"></p>\n<p>DIFFDOMDOMJSX<br><img src=\"/css/images/114.jpg\" alt=\"\"></p>\n<p>DOMDOM</p>\n<p><img src=\"/css/images/115.jpg\" alt=\"\"></p>\n<p>DIFFtypeDOMchildrenattributes/props</p>\n<p><img src=\"/css/images/116.jpg\" alt=\"\"></p>\n<p>type propsrender</p>\n<blockquote>\n<p></p>\n</blockquote>\n<p><img src=\"/css/images/117.jpg\" alt=\"\"></p>\n<p>childrenchildrenkeyunkeykeykeyed mapchildrenDOMindexkids</p>\n<p><img src=\"/css/images/118.jpg\" alt=\"\"></p>\n<p>keyed mapunkey liststack overflowstack overflowPPTkeysDOMDOMonetwothreetwoDOMtwoDOMpushpopkeykey12313key2DOMkey2</p>\n<p><img src=\"/css/images/119.jpg\" alt=\"\"></p>\n<p>DIFFattributesundefinedappreactpreactinferno</p>\n<p><img src=\"/css/images/120.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Preact</p>\n<p><img src=\"/css/images/121.jpg\" alt=\"\"></p>\n<p>DOMDOMDOMimmediate mode drawing APIDOMaccessibilitytitleDOMDOMDOMwindowsemojihookemojiDOMPreactDOMDOMDOM</p>\n<p><img src=\"/css/images/122.jpg\" alt=\"\"></p>\n<p>DOM</p>\n<p><img src=\"/css/images/123.jpg\" alt=\"\"></p>\n<p>DOMAPIAPIAPI</p>\n<p><img src=\"/css/images/124.jpg\" alt=\"\"></p>\n<p>benchmark showing<code>textContent</code><code>Text.nodeValue</code>DOM<code>textContent</code></p>\n<p><img src=\"/css/images/125.jpg\" alt=\"\"></p>\n<p>gettersTextnodeTypeundefinedNodenodeTypegetter</p>\n<p><img src=\"/css/images/126.jpg\" alt=\"\"></p>\n<p>splitTextgetter</p>\n<p><img src=\"/css/images/127.jpg\" alt=\"\"></p>\n<p>getters</p>\n<p><img src=\"/css/images/128.jpg\" alt=\"\"></p>\n<p>Live NodeLists</p>\n<p><img src=\"/css/images/129.jpg\" alt=\"\"></p>\n<p>childrenlive NodeList</p>\n<p><img src=\"/css/images/130.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"/css/images/131.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Benchmark</p>\n<p><img src=\"/css/images/132.jpg\" alt=\"\"></p>\n<p>Chrome</p>\n<p><img src=\"/css/images/133.jpg\" alt=\"\"></p>\n<p>IRHydra</p>\n<p><img src=\"/css/images/134.jpg\" alt=\"\"></p>\n<p>ESBenchBabelbenchmark</p>\n<p><img src=\"/css/images/135.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>0nullfalse</p>\n<p><img src=\"/css/images/136.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"/css/images/137.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"/css/images/138.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"/css/images/139.jpg\" alt=\"\"></p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/React/\">http://www.liuyiqi.cn/tags/React/</a></p>"},{"title":"JavaScript ","date":"2017-02-15T05:53:00.000Z","_content":"\n\n\n<!--more-->\n\n## \n\nFIFO\n\n- \n-  JavaScript Event LoopTask Queue\n- \n\n![](https://ws1.sinaimg.cn/mw690/83900b4ely1fcr48hfps7j20c40drglj)\n\n##  JavaScript \n\n[JavaScript ](https://lewis617.github.io/2017/02/15/stack/)\n\n\n\n```js\nvar queue = new Queue();\nexpect(queue.isEmpty()).toBeTruthy();\nqueue.enqueue('');\nqueue.enqueue('');\nqueue.enqueue('');\nexpect(queue.front()).toBe('');\nexpect(queue.toString()).toBe(',,');\nexpect(queue.size()).toBe(3);\nexpect(queue.isEmpty()).toBeFalsy();\nqueue.dequeue();\nqueue.dequeue();\nexpect(queue.toString()).toBe('');\n```\n\n\n\n```js\nfunction Queue() {\n  //  items\n  var items = [];\n  // \n  this.enqueue = function (element) {\n    items.push(element);\n  };\n  // \n  this.dequeue = function () {\n    return items.shift();\n  };\n  // \n  this.front = function () {\n    return items[0];\n  };\n  // \n  this.isEmpty = function () {\n    return items.length == 0;\n  };\n  // \n  this.size = function () {\n    return items.length;\n  };\n  // \n  this.toString = function () {\n    return items.toString();\n  };\n}\n\n// \nmodule.exports = Queue;\n```\n\n\n\n- push\n- pop\n- unshift\n- shift\n\n shift\n\n## \n\n Array priority\n\n```js\nvar priorityQueue = new PriorityQueue();\npriorityQueue.enqueue('', 2);\npriorityQueue.enqueue('', 1);\npriorityQueue.enqueue('', 3);\nexpect(priorityQueue.toString()).toBe('-1,-2,-3');\n```\n\n`'-1,-2,-3'`\n\n `enqueue` `toString`\n\n```js\nfunction PriorityQueue() {\n  var items = [];\n\n  // \n  var QueueElement = function (element, priority) {\n    this.element = element;\n    this.priority = priority;\n  };\n\n  this.enqueue = function (element, priority) {\n    var queueElement = new QueueElement(element, priority);\n\n    // \n    if (this.isEmpty()) {\n      items.push(queueElement);\n    } else {\n      var added = false;\n      for (var i = 0; i < items.length; i++) {\n        if (queueElement.priority < items[i].priority) {\n          // \n          items.splice(i, 0, queueElement);\n          added = true;\n          break;\n        }\n      }\n      // \n      if (!added) {\n        items.push(queueElement);\n      }\n    }\n  };\n\n  ...\n  \n  this.toString = function () {\n    var string = '';\n    for (var i = 0; i < items.length; i++) {\n      string += items[i].element + '-' + items[i].priority + (items.length - i > 1 ? ',' : '');\n    }\n    return string;\n  };\n}\n\nmodule.exports = PriorityQueue;\n```\n\n100%`toString` \n\n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>","source":"_posts/queue.md","raw":"---\ntitle: JavaScript \ndate: 2017-02-15 13:53:00\ntags: []\n---\n\n\n\n<!--more-->\n\n## \n\nFIFO\n\n- \n-  JavaScript Event LoopTask Queue\n- \n\n![](https://ws1.sinaimg.cn/mw690/83900b4ely1fcr48hfps7j20c40drglj)\n\n##  JavaScript \n\n[JavaScript ](https://lewis617.github.io/2017/02/15/stack/)\n\n\n\n```js\nvar queue = new Queue();\nexpect(queue.isEmpty()).toBeTruthy();\nqueue.enqueue('');\nqueue.enqueue('');\nqueue.enqueue('');\nexpect(queue.front()).toBe('');\nexpect(queue.toString()).toBe(',,');\nexpect(queue.size()).toBe(3);\nexpect(queue.isEmpty()).toBeFalsy();\nqueue.dequeue();\nqueue.dequeue();\nexpect(queue.toString()).toBe('');\n```\n\n\n\n```js\nfunction Queue() {\n  //  items\n  var items = [];\n  // \n  this.enqueue = function (element) {\n    items.push(element);\n  };\n  // \n  this.dequeue = function () {\n    return items.shift();\n  };\n  // \n  this.front = function () {\n    return items[0];\n  };\n  // \n  this.isEmpty = function () {\n    return items.length == 0;\n  };\n  // \n  this.size = function () {\n    return items.length;\n  };\n  // \n  this.toString = function () {\n    return items.toString();\n  };\n}\n\n// \nmodule.exports = Queue;\n```\n\n\n\n- push\n- pop\n- unshift\n- shift\n\n shift\n\n## \n\n Array priority\n\n```js\nvar priorityQueue = new PriorityQueue();\npriorityQueue.enqueue('', 2);\npriorityQueue.enqueue('', 1);\npriorityQueue.enqueue('', 3);\nexpect(priorityQueue.toString()).toBe('-1,-2,-3');\n```\n\n`'-1,-2,-3'`\n\n `enqueue` `toString`\n\n```js\nfunction PriorityQueue() {\n  var items = [];\n\n  // \n  var QueueElement = function (element, priority) {\n    this.element = element;\n    this.priority = priority;\n  };\n\n  this.enqueue = function (element, priority) {\n    var queueElement = new QueueElement(element, priority);\n\n    // \n    if (this.isEmpty()) {\n      items.push(queueElement);\n    } else {\n      var added = false;\n      for (var i = 0; i < items.length; i++) {\n        if (queueElement.priority < items[i].priority) {\n          // \n          items.splice(i, 0, queueElement);\n          added = true;\n          break;\n        }\n      }\n      // \n      if (!added) {\n        items.push(queueElement);\n      }\n    }\n  };\n\n  ...\n  \n  this.toString = function () {\n    var string = '';\n    for (var i = 0; i < items.length; i++) {\n      string += items[i].element + '-' + items[i].priority + (items.length - i > 1 ? ',' : '');\n    }\n    return string;\n  };\n}\n\nmodule.exports = PriorityQueue;\n```\n\n100%`toString` \n\n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>","slug":"queue","published":1,"updated":"2019-05-01T08:02:11.586Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvm50029tgyto8p2oe6q","content":"<p></p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>FIFO</p>\n<ul>\n<li></li>\n<li> JavaScript Event LoopTask Queue</li>\n<li></li>\n</ul>\n<p><img src=\"https://ws1.sinaimg.cn/mw690/83900b4ely1fcr48hfps7j20c40drglj\" alt=\"\"></p>\n<h2 id=\"-JavaScript-\"><a href=\"#-JavaScript-\" class=\"headerlink\" title=\" JavaScript \"></a> JavaScript </h2><p><a href=\"https://lewis617.github.io/2017/02/15/stack/\" target=\"_blank\" rel=\"noopener\">JavaScript </a></p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> queue = <span class=\"keyword\">new</span> Queue();</span><br><span class=\"line\">expect(queue.isEmpty()).toBeTruthy();</span><br><span class=\"line\">queue.enqueue(<span class=\"string\">''</span>);</span><br><span class=\"line\">queue.enqueue(<span class=\"string\">''</span>);</span><br><span class=\"line\">queue.enqueue(<span class=\"string\">''</span>);</span><br><span class=\"line\">expect(queue.front()).toBe(<span class=\"string\">''</span>);</span><br><span class=\"line\">expect(queue.toString()).toBe(<span class=\"string\">',,'</span>);</span><br><span class=\"line\">expect(queue.size()).toBe(<span class=\"number\">3</span>);</span><br><span class=\"line\">expect(queue.isEmpty()).toBeFalsy();</span><br><span class=\"line\">queue.dequeue();</span><br><span class=\"line\">queue.dequeue();</span><br><span class=\"line\">expect(queue.toString()).toBe(<span class=\"string\">''</span>);</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Queue</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//  items</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> items = [];</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.enqueue = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element</span>) </span>&#123;</span><br><span class=\"line\">    items.push(element);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.dequeue = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items.shift();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.front = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items[<span class=\"number\">0</span>];</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.isEmpty = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items.length == <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.size = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items.length;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.toString = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items.toString();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = Queue;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li>push</li>\n<li>pop</li>\n<li>unshift</li>\n<li>shift</li>\n</ul>\n<p> shift</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Array priority</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> priorityQueue = <span class=\"keyword\">new</span> PriorityQueue();</span><br><span class=\"line\">priorityQueue.enqueue(<span class=\"string\">''</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\">priorityQueue.enqueue(<span class=\"string\">''</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">priorityQueue.enqueue(<span class=\"string\">''</span>, <span class=\"number\">3</span>);</span><br><span class=\"line\">expect(priorityQueue.toString()).toBe(<span class=\"string\">'-1,-2,-3'</span>);</span><br></pre></td></tr></table></figure>\n<p><code>&#39;-1,-2,-3&#39;</code></p>\n<p> <code>enqueue</code> <code>toString</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">PriorityQueue</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> items = [];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> QueueElement = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element, priority</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.element = element;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.priority = priority;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.enqueue = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element, priority</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> queueElement = <span class=\"keyword\">new</span> QueueElement(element, priority);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      items.push(queueElement);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> added = <span class=\"literal\">false</span>;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; items.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (queueElement.priority &lt; items[i].priority) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// </span></span><br><span class=\"line\">          items.splice(i, <span class=\"number\">0</span>, queueElement);</span><br><span class=\"line\">          added = <span class=\"literal\">true</span>;</span><br><span class=\"line\">          <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!added) &#123;</span><br><span class=\"line\">        items.push(queueElement);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">this</span>.toString = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> string = <span class=\"string\">''</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; items.length; i++) &#123;</span><br><span class=\"line\">      string += items[i].element + <span class=\"string\">'-'</span> + items[i].priority + (items.length - i &gt; <span class=\"number\">1</span> ? <span class=\"string\">','</span> : <span class=\"string\">''</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> string;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = PriorityQueue;</span><br></pre></td></tr></table></figure>\n<p>100%<code>toString</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>\n","site":{"data":{}},"excerpt":"<p></p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>FIFO</p>\n<ul>\n<li></li>\n<li> JavaScript Event LoopTask Queue</li>\n<li></li>\n</ul>\n<p><img src=\"https://ws1.sinaimg.cn/mw690/83900b4ely1fcr48hfps7j20c40drglj\" alt=\"\"></p>\n<h2 id=\"-JavaScript-\"><a href=\"#-JavaScript-\" class=\"headerlink\" title=\" JavaScript \"></a> JavaScript </h2><p><a href=\"https://lewis617.github.io/2017/02/15/stack/\" target=\"_blank\" rel=\"noopener\">JavaScript </a></p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> queue = <span class=\"keyword\">new</span> Queue();</span><br><span class=\"line\">expect(queue.isEmpty()).toBeTruthy();</span><br><span class=\"line\">queue.enqueue(<span class=\"string\">''</span>);</span><br><span class=\"line\">queue.enqueue(<span class=\"string\">''</span>);</span><br><span class=\"line\">queue.enqueue(<span class=\"string\">''</span>);</span><br><span class=\"line\">expect(queue.front()).toBe(<span class=\"string\">''</span>);</span><br><span class=\"line\">expect(queue.toString()).toBe(<span class=\"string\">',,'</span>);</span><br><span class=\"line\">expect(queue.size()).toBe(<span class=\"number\">3</span>);</span><br><span class=\"line\">expect(queue.isEmpty()).toBeFalsy();</span><br><span class=\"line\">queue.dequeue();</span><br><span class=\"line\">queue.dequeue();</span><br><span class=\"line\">expect(queue.toString()).toBe(<span class=\"string\">''</span>);</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Queue</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//  items</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> items = [];</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.enqueue = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element</span>) </span>&#123;</span><br><span class=\"line\">    items.push(element);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.dequeue = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items.shift();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.front = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items[<span class=\"number\">0</span>];</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.isEmpty = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items.length == <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.size = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items.length;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.toString = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items.toString();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = Queue;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li>push</li>\n<li>pop</li>\n<li>unshift</li>\n<li>shift</li>\n</ul>\n<p> shift</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Array priority</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> priorityQueue = <span class=\"keyword\">new</span> PriorityQueue();</span><br><span class=\"line\">priorityQueue.enqueue(<span class=\"string\">''</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\">priorityQueue.enqueue(<span class=\"string\">''</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">priorityQueue.enqueue(<span class=\"string\">''</span>, <span class=\"number\">3</span>);</span><br><span class=\"line\">expect(priorityQueue.toString()).toBe(<span class=\"string\">'-1,-2,-3'</span>);</span><br></pre></td></tr></table></figure>\n<p><code>&#39;-1,-2,-3&#39;</code></p>\n<p> <code>enqueue</code> <code>toString</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">PriorityQueue</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> items = [];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> QueueElement = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element, priority</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.element = element;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.priority = priority;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.enqueue = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element, priority</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> queueElement = <span class=\"keyword\">new</span> QueueElement(element, priority);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      items.push(queueElement);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> added = <span class=\"literal\">false</span>;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; items.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (queueElement.priority &lt; items[i].priority) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// </span></span><br><span class=\"line\">          items.splice(i, <span class=\"number\">0</span>, queueElement);</span><br><span class=\"line\">          added = <span class=\"literal\">true</span>;</span><br><span class=\"line\">          <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!added) &#123;</span><br><span class=\"line\">        items.push(queueElement);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">this</span>.toString = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> string = <span class=\"string\">''</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; items.length; i++) &#123;</span><br><span class=\"line\">      string += items[i].element + <span class=\"string\">'-'</span> + items[i].priority + (items.length - i &gt; <span class=\"number\">1</span> ? <span class=\"string\">','</span> : <span class=\"string\">''</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> string;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = PriorityQueue;</span><br></pre></td></tr></table></figure>\n<p>100%<code>toString</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>"},{"title":"React  Redux reduce()filter()map()some()every()...","date":"2016-01-21T01:23:00.000Z","_content":"\nreduce()filter()map()some()every()...es5es6React+Redux<https://developer.mozilla.org/en-US/> api\n\nReduxes6\n\n<!--more-->\n\n## \n\ntodomvc<https://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/todomvc>\n\n![](/css/images/140.jpg)\n\n## reduce()\n\n\n\ncomponents/MainSection.js 62\n\n```js \nconst completedCount = todos.reduce((count, todo) =>\n      todo.completed ? count + 1 : count,\n      0\n    )\n```\n\n`todos``reduce()``0`,`reduce()``count`\n\n`todos``count`0`todo``todos`** ? 1 : 2**\n\n`todos``count``todo``todos`\n\n\n\n`completed``true`\n\n## filter()\n\n\n\n\n\nreducers/todos.js 24\n\n```js\nreturn state.filter(todo =>\n        todo.id !== action.id\n      )\n```\n\n`state``filter()``todo``true`\n\n`todo.id !==action.id``return``return`es5\n\n```js\nreturn state.filter(function(todo) {  \nreturn todo.id !== action.id  \n}  \n)\n```\n`id``id`\n\n## map()\n\n\n\nreducers/todos.js 29\n\n```js\nreturn state.map(todo =>\n        todo.id === action.id ?\n          Object.assign({}, todo, { text: action.text }) :\n          todo\n      )\n```\n\n`return``id``Object.assign()``todo``text``action.text`\n\n`Object.assign()``target``source`jquery`extend`\n\n`text`\n\n## some()every()\n\n`some()``true``every()``false`\n\ncomponents/MainSection.js  19 \n\n```js\nconst atLeastOneCompleted = this.props.todos.some(todo => todo.completed)\n```\n`completed``true``true`\n\nreducers/todos.js 43\n\n```js\nconst areAllMarked = state.every(todo => todo.completed)\n```\n`completed``true``true`\n\n## ...\n\nreducers/todos.js 20\n\n```js\n    \n    \nreturn [\n        {\n          id: state.reduce((maxId, todo) => Math.max(todo.id, maxId), -1) + 1,\n          completed: false,\n          text: action.text\n        }, \n        ...state\n      ]\n```\n\n`state`\n\ncomponents/MainSection.js  72 \n\n```jsx harmony\n<TodoItem key={todo.id} todo={todo} {...actions} />\n```\n\n`actions`props\n\n* * *\n\n## \n\n<https://github.com/lewis617/react-redux-tutorial>\n\n<http://www.liuyiqi.cn/tags/React/>\n\n\n\n","source":"_posts/r2-array.md","raw":"---\ntitle: React  Redux reduce()filter()map()some()every()...\ndate: 2016-01-21 09:23:00\ntags: [React, Redux]\n---\n\nreduce()filter()map()some()every()...es5es6React+Redux<https://developer.mozilla.org/en-US/> api\n\nReduxes6\n\n<!--more-->\n\n## \n\ntodomvc<https://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/todomvc>\n\n![](/css/images/140.jpg)\n\n## reduce()\n\n\n\ncomponents/MainSection.js 62\n\n```js \nconst completedCount = todos.reduce((count, todo) =>\n      todo.completed ? count + 1 : count,\n      0\n    )\n```\n\n`todos``reduce()``0`,`reduce()``count`\n\n`todos``count`0`todo``todos`** ? 1 : 2**\n\n`todos``count``todo``todos`\n\n\n\n`completed``true`\n\n## filter()\n\n\n\n\n\nreducers/todos.js 24\n\n```js\nreturn state.filter(todo =>\n        todo.id !== action.id\n      )\n```\n\n`state``filter()``todo``true`\n\n`todo.id !==action.id``return``return`es5\n\n```js\nreturn state.filter(function(todo) {  \nreturn todo.id !== action.id  \n}  \n)\n```\n`id``id`\n\n## map()\n\n\n\nreducers/todos.js 29\n\n```js\nreturn state.map(todo =>\n        todo.id === action.id ?\n          Object.assign({}, todo, { text: action.text }) :\n          todo\n      )\n```\n\n`return``id``Object.assign()``todo``text``action.text`\n\n`Object.assign()``target``source`jquery`extend`\n\n`text`\n\n## some()every()\n\n`some()``true``every()``false`\n\ncomponents/MainSection.js  19 \n\n```js\nconst atLeastOneCompleted = this.props.todos.some(todo => todo.completed)\n```\n`completed``true``true`\n\nreducers/todos.js 43\n\n```js\nconst areAllMarked = state.every(todo => todo.completed)\n```\n`completed``true``true`\n\n## ...\n\nreducers/todos.js 20\n\n```js\n    \n    \nreturn [\n        {\n          id: state.reduce((maxId, todo) => Math.max(todo.id, maxId), -1) + 1,\n          completed: false,\n          text: action.text\n        }, \n        ...state\n      ]\n```\n\n`state`\n\ncomponents/MainSection.js  72 \n\n```jsx harmony\n<TodoItem key={todo.id} todo={todo} {...actions} />\n```\n\n`actions`props\n\n* * *\n\n## \n\n<https://github.com/lewis617/react-redux-tutorial>\n\n<http://www.liuyiqi.cn/tags/React/>\n\n\n\n","slug":"r2-array","published":1,"updated":"2019-05-01T08:10:30.135Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvm6002ctgytglfh2c6c","content":"<p>reduce()filter()map()some()every()es5es6React+Redux<a href=\"https://developer.mozilla.org/en-US/\" target=\"_blank\" rel=\"noopener\">https://developer.mozilla.org/en-US/</a> api</p>\n<p>Reduxes6</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>todomvc<a href=\"https://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/todomvc\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/todomvc</a></p>\n<p><img src=\"/css/images/140.jpg\" alt=\"\"></p>\n<h2 id=\"reduce\"><a href=\"#reduce\" class=\"headerlink\" title=\"reduce()\"></a>reduce()</h2><p></p>\n<p>components/MainSection.js 62</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> completedCount = todos.reduce(<span class=\"function\">(<span class=\"params\">count, todo</span>) =&gt;</span></span><br><span class=\"line\">      todo.completed ? count + <span class=\"number\">1</span> : count,</span><br><span class=\"line\">      <span class=\"number\">0</span></span><br><span class=\"line\">    )</span><br></pre></td></tr></table></figure>\n<p><code>todos</code><code>reduce()</code><code>0</code>,<code>reduce()</code><code>count</code></p>\n<p><code>todos</code><code>count</code>0<code>todo</code><code>todos</code><strong> ? 1 : 2</strong></p>\n<p><code>todos</code><code>count</code><code>todo</code><code>todos</code></p>\n<p></p>\n<p><code>completed</code><code>true</code></p>\n<h2 id=\"filter\"><a href=\"#filter\" class=\"headerlink\" title=\"filter()\"></a>filter()</h2><p></p>\n<p></p>\n<p>reducers/todos.js 24</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">return</span> state.filter(<span class=\"function\"><span class=\"params\">todo</span> =&gt;</span></span><br><span class=\"line\">        todo.id !== action.id</span><br><span class=\"line\">      )</span><br></pre></td></tr></table></figure>\n<p><code>state</code><code>filter()</code><code>todo</code><code>true</code></p>\n<p><code>todo.id !==action.id</code><code>return</code><code>return</code>es5</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">return</span> state.filter(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">todo</span>) </span>&#123;  </span><br><span class=\"line\"><span class=\"keyword\">return</span> todo.id !== action.id  </span><br><span class=\"line\">&#125;  </span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<p><code>id</code><code>id</code></p>\n<h2 id=\"map\"><a href=\"#map\" class=\"headerlink\" title=\"map()\"></a>map()</h2><p></p>\n<p>reducers/todos.js 29</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">return</span> state.map(<span class=\"function\"><span class=\"params\">todo</span> =&gt;</span></span><br><span class=\"line\">        todo.id === action.id ?</span><br><span class=\"line\">          <span class=\"built_in\">Object</span>.assign(&#123;&#125;, todo, &#123; <span class=\"attr\">text</span>: action.text &#125;) :</span><br><span class=\"line\">          todo</span><br><span class=\"line\">      )</span><br></pre></td></tr></table></figure>\n<p><code>return</code><code>id</code><code>Object.assign()</code><code>todo</code><code>text</code><code>action.text</code></p>\n<p><code>Object.assign()</code><code>target</code><code>source</code>jquery<code>extend</code></p>\n<p><code>text</code></p>\n<h2 id=\"some-every\"><a href=\"#some-every\" class=\"headerlink\" title=\"some()every()\"></a>some()every()</h2><p><code>some()</code><code>true</code><code>every()</code><code>false</code></p>\n<p>components/MainSection.js  19 </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> atLeastOneCompleted = <span class=\"keyword\">this</span>.props.todos.some(<span class=\"function\"><span class=\"params\">todo</span> =&gt;</span> todo.completed)</span><br></pre></td></tr></table></figure>\n<p><code>completed</code><code>true</code><code>true</code></p>\n<p>reducers/todos.js 43</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> areAllMarked = state.every(<span class=\"function\"><span class=\"params\">todo</span> =&gt;</span> todo.completed)</span><br></pre></td></tr></table></figure>\n<p><code>completed</code><code>true</code><code>true</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>reducers/todos.js 20</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"keyword\">return</span> [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          id: state.reduce(<span class=\"function\">(<span class=\"params\">maxId, todo</span>) =&gt;</span> <span class=\"built_in\">Math</span>.max(todo.id, maxId), <span class=\"number\">-1</span>) + <span class=\"number\">1</span>,</span><br><span class=\"line\">          completed: <span class=\"literal\">false</span>,</span><br><span class=\"line\">          text: action.text</span><br><span class=\"line\">        &#125;, </span><br><span class=\"line\">        ...state</span><br><span class=\"line\">      ]</span><br></pre></td></tr></table></figure>\n<p><code>state</code></p>\n<p>components/MainSection.js  72 </p>\n<figure class=\"highlight jsx\"><figcaption><span>harmony</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;TodoItem key=&#123;todo.id&#125; todo=&#123;todo&#125; &#123;...actions&#125; /&gt;</span><br></pre></td></tr></table></figure>\n<p><code>actions</code>props</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/React/\">http://www.liuyiqi.cn/tags/React/</a></p>\n","site":{"data":{}},"excerpt":"<p>reduce()filter()map()some()every()es5es6React+Redux<a href=\"https://developer.mozilla.org/en-US/\" target=\"_blank\" rel=\"noopener\">https://developer.mozilla.org/en-US/</a> api</p>\n<p>Reduxes6</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>todomvc<a href=\"https://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/todomvc\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/todomvc</a></p>\n<p><img src=\"/css/images/140.jpg\" alt=\"\"></p>\n<h2 id=\"reduce\"><a href=\"#reduce\" class=\"headerlink\" title=\"reduce()\"></a>reduce()</h2><p></p>\n<p>components/MainSection.js 62</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> completedCount = todos.reduce(<span class=\"function\">(<span class=\"params\">count, todo</span>) =&gt;</span></span><br><span class=\"line\">      todo.completed ? count + <span class=\"number\">1</span> : count,</span><br><span class=\"line\">      <span class=\"number\">0</span></span><br><span class=\"line\">    )</span><br></pre></td></tr></table></figure>\n<p><code>todos</code><code>reduce()</code><code>0</code>,<code>reduce()</code><code>count</code></p>\n<p><code>todos</code><code>count</code>0<code>todo</code><code>todos</code><strong> ? 1 : 2</strong></p>\n<p><code>todos</code><code>count</code><code>todo</code><code>todos</code></p>\n<p></p>\n<p><code>completed</code><code>true</code></p>\n<h2 id=\"filter\"><a href=\"#filter\" class=\"headerlink\" title=\"filter()\"></a>filter()</h2><p></p>\n<p></p>\n<p>reducers/todos.js 24</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">return</span> state.filter(<span class=\"function\"><span class=\"params\">todo</span> =&gt;</span></span><br><span class=\"line\">        todo.id !== action.id</span><br><span class=\"line\">      )</span><br></pre></td></tr></table></figure>\n<p><code>state</code><code>filter()</code><code>todo</code><code>true</code></p>\n<p><code>todo.id !==action.id</code><code>return</code><code>return</code>es5</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">return</span> state.filter(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">todo</span>) </span>&#123;  </span><br><span class=\"line\"><span class=\"keyword\">return</span> todo.id !== action.id  </span><br><span class=\"line\">&#125;  </span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<p><code>id</code><code>id</code></p>\n<h2 id=\"map\"><a href=\"#map\" class=\"headerlink\" title=\"map()\"></a>map()</h2><p></p>\n<p>reducers/todos.js 29</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">return</span> state.map(<span class=\"function\"><span class=\"params\">todo</span> =&gt;</span></span><br><span class=\"line\">        todo.id === action.id ?</span><br><span class=\"line\">          <span class=\"built_in\">Object</span>.assign(&#123;&#125;, todo, &#123; <span class=\"attr\">text</span>: action.text &#125;) :</span><br><span class=\"line\">          todo</span><br><span class=\"line\">      )</span><br></pre></td></tr></table></figure>\n<p><code>return</code><code>id</code><code>Object.assign()</code><code>todo</code><code>text</code><code>action.text</code></p>\n<p><code>Object.assign()</code><code>target</code><code>source</code>jquery<code>extend</code></p>\n<p><code>text</code></p>\n<h2 id=\"some-every\"><a href=\"#some-every\" class=\"headerlink\" title=\"some()every()\"></a>some()every()</h2><p><code>some()</code><code>true</code><code>every()</code><code>false</code></p>\n<p>components/MainSection.js  19 </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> atLeastOneCompleted = <span class=\"keyword\">this</span>.props.todos.some(<span class=\"function\"><span class=\"params\">todo</span> =&gt;</span> todo.completed)</span><br></pre></td></tr></table></figure>\n<p><code>completed</code><code>true</code><code>true</code></p>\n<p>reducers/todos.js 43</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> areAllMarked = state.every(<span class=\"function\"><span class=\"params\">todo</span> =&gt;</span> todo.completed)</span><br></pre></td></tr></table></figure>\n<p><code>completed</code><code>true</code><code>true</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>reducers/todos.js 20</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"keyword\">return</span> [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          id: state.reduce(<span class=\"function\">(<span class=\"params\">maxId, todo</span>) =&gt;</span> <span class=\"built_in\">Math</span>.max(todo.id, maxId), <span class=\"number\">-1</span>) + <span class=\"number\">1</span>,</span><br><span class=\"line\">          completed: <span class=\"literal\">false</span>,</span><br><span class=\"line\">          text: action.text</span><br><span class=\"line\">        &#125;, </span><br><span class=\"line\">        ...state</span><br><span class=\"line\">      ]</span><br></pre></td></tr></table></figure>\n<p><code>state</code></p>\n<p>components/MainSection.js  72 </p>\n<figure class=\"highlight jsx\"><figcaption><span>harmony</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;TodoItem key=&#123;todo.id&#125; todo=&#123;todo&#125; &#123;...actions&#125; /&gt;</span><br></pre></td></tr></table></figure>\n<p><code>actions</code>props</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/React/\">http://www.liuyiqi.cn/tags/React/</a></p>"},{"title":"Angular2 ","date":"2016-02-15T23:40:00.000Z","_content":"\nng2[](https://angular.io/docs/ts/latest/guide/template-syntax.html)\n\n<!--more-->\n\n## \n\n![](/css/images/84.jpg)\n\n[](https://github.com/lewis617/angular2-tutorial/tree/gh-pages/template-syntax)\n\n## \n\n`[value]``value``[]`html\n\napp/app.html\n\n```html\n<input [value]=\"firstName\" [placeholder]=\"firstNamePlaceholder\" />\n```\n\n\n\napp/app.html\n\n```html\n<input value=\"{{firstName}}\" placeholder=\"{{firstNamePlaceholder}}\" />\n```\n\n\napp/app.ts\n\n```ts\nfirstName: string = 'lewis';\n```\n\n## \n\nng2html5 `(eventName)`\n\napp/app.html\n\n```html\n<button (click)=\"doSomething($event)\" ></button>\n```\n\n`doSomething``firstName`\n\napp/app.ts\n\n```ts\ndoSomething($event){\n    console.log('',$event.target);\n}\n```\n\n## \n\ninput\n\napp/app.html\n\n```html\n<input type=\"text\" [value]=\"firstName (input)=\"firstName=$event.target.value\" />\n<input type=\"text\" [(ngModel)]=\"firstName\" />\n```\n\n`[(ngModel)]``input``firstName`\n\nng2\"\"zone.js\n\n> A zone is an execution context that persists across async tasks.\n\n`$apply()`\n\n## \n\n `#` dom\n\napp/app.html\n\n```html\n<!-- phone refers to the input element; pass its `value` to an event handler -->\n<input #phone placeholder=\"phone number\">\n<button (click)=\"callPhone(phone.value)\">Call</button>\n\n<!-- fax refers to the input element; pass its `value` to an event handler -->\n<input var-fax placeholder=\"fax number\">\n<button (click)=\"callFax(fax.value)\">Fax</button>\n```\n\n\n## *template\n\n*template\n\n```html\n<p *ngIf=\"isActive\"></p>\n```\n\n\n```html    \n<template [ngIf]=\"isActive\"><p></p></template>\n```\n`isActive``true``p`\n\n`template` DOM DOMruntime\n\n`template`DOM`div`\n\n`*``template`\n\n`*``NgFor`, `NgIf``NgSwitch``*``template`\n\n## \n\n[](https://angular.io/docs/ts/latest/guide/template-syntax.html)\n\n* * *\n\n## \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>\n","source":"_posts/ng2-temlate.md","raw":"---\ntitle: Angular2 \ndate: 2016-02-16 07:40:00\ntags: [Angular2]\n---\n\nng2[](https://angular.io/docs/ts/latest/guide/template-syntax.html)\n\n<!--more-->\n\n## \n\n![](/css/images/84.jpg)\n\n[](https://github.com/lewis617/angular2-tutorial/tree/gh-pages/template-syntax)\n\n## \n\n`[value]``value``[]`html\n\napp/app.html\n\n```html\n<input [value]=\"firstName\" [placeholder]=\"firstNamePlaceholder\" />\n```\n\n\n\napp/app.html\n\n```html\n<input value=\"{{firstName}}\" placeholder=\"{{firstNamePlaceholder}}\" />\n```\n\n\napp/app.ts\n\n```ts\nfirstName: string = 'lewis';\n```\n\n## \n\nng2html5 `(eventName)`\n\napp/app.html\n\n```html\n<button (click)=\"doSomething($event)\" ></button>\n```\n\n`doSomething``firstName`\n\napp/app.ts\n\n```ts\ndoSomething($event){\n    console.log('',$event.target);\n}\n```\n\n## \n\ninput\n\napp/app.html\n\n```html\n<input type=\"text\" [value]=\"firstName (input)=\"firstName=$event.target.value\" />\n<input type=\"text\" [(ngModel)]=\"firstName\" />\n```\n\n`[(ngModel)]``input``firstName`\n\nng2\"\"zone.js\n\n> A zone is an execution context that persists across async tasks.\n\n`$apply()`\n\n## \n\n `#` dom\n\napp/app.html\n\n```html\n<!-- phone refers to the input element; pass its `value` to an event handler -->\n<input #phone placeholder=\"phone number\">\n<button (click)=\"callPhone(phone.value)\">Call</button>\n\n<!-- fax refers to the input element; pass its `value` to an event handler -->\n<input var-fax placeholder=\"fax number\">\n<button (click)=\"callFax(fax.value)\">Fax</button>\n```\n\n\n## *template\n\n*template\n\n```html\n<p *ngIf=\"isActive\"></p>\n```\n\n\n```html    \n<template [ngIf]=\"isActive\"><p></p></template>\n```\n`isActive``true``p`\n\n`template` DOM DOMruntime\n\n`template`DOM`div`\n\n`*``template`\n\n`*``NgFor`, `NgIf``NgSwitch``*``template`\n\n## \n\n[](https://angular.io/docs/ts/latest/guide/template-syntax.html)\n\n* * *\n\n## \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>\n","slug":"ng2-temlate","published":1,"updated":"2019-05-01T08:10:29.944Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvm7002etgytzw7l2am1","content":"<p>ng2<a href=\"https://angular.io/docs/ts/latest/guide/template-syntax.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/84.jpg\" alt=\"\"></p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/template-syntax\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>[value]</code><code>value</code><code>[]</code>html</p>\n<p>app/app.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> [<span class=\"attr\">value</span>]=<span class=\"string\">\"firstName\"</span> [<span class=\"attr\">placeholder</span>]=<span class=\"string\">\"firstNamePlaceholder\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<p>app/app.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">value</span>=<span class=\"string\">\"&#123;&#123;firstName&#125;&#125;\"</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"&#123;&#123;firstNamePlaceholder&#125;&#125;\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<p>app/app.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">firstName: <span class=\"built_in\">string</span> = <span class=\"string\">'lewis'</span>;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>ng2html5 <code>(eventName)</code></p>\n<p>app/app.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> (<span class=\"attr\">click</span>)=<span class=\"string\">\"doSomething($event)\"</span> &gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><code>doSomething</code><code>firstName</code></p>\n<p>app/app.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">doSomething($event)&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">''</span>,$event.target);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>input</p>\n<p>app/app.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> [<span class=\"attr\">value</span>]=<span class=\"string\">\"firstName (input)=\"</span><span class=\"attr\">firstName</span>=<span class=\"string\">$event.target.value</span>\" /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> [(<span class=\"attr\">ngModel</span>)]=<span class=\"string\">\"firstName\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n<p><code>[(ngModel)]</code><code>input</code><code>firstName</code></p>\n<p>ng2zone.js</p>\n<blockquote>\n<p>A zone is an execution context that persists across async tasks.</p>\n</blockquote>\n<p><code>$apply()</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>#</code> dom</p>\n<p>app/app.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- phone refers to the input element; pass its `value` to an event handler --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> #<span class=\"attr\">phone</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"phone number\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> (<span class=\"attr\">click</span>)=<span class=\"string\">\"callPhone(phone.value)\"</span>&gt;</span>Call<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- fax refers to the input element; pass its `value` to an event handler --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">var-fax</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"fax number\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> (<span class=\"attr\">click</span>)=<span class=\"string\">\"callFax(fax.value)\"</span>&gt;</span>Fax<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"template\"><a href=\"#template\" class=\"headerlink\" title=\"*template\"></a>*template</h2><p>*template</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> *<span class=\"attr\">ngIf</span>=<span class=\"string\">\"isActive\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span> [<span class=\"attr\">ngIf</span>]=<span class=\"string\">\"isActive\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><code>isActive</code><code>true</code><code>p</code></p>\n<p><code>template</code> DOM DOMruntime</p>\n<p><code>template</code>DOM<code>div</code></p>\n<p><code>*</code><code>template</code></p>\n<p><code>*</code><code>NgFor</code>, <code>NgIf</code><code>NgSwitch</code><code>*</code><code>template</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://angular.io/docs/ts/latest/guide/template-syntax.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>\n","site":{"data":{}},"excerpt":"<p>ng2<a href=\"https://angular.io/docs/ts/latest/guide/template-syntax.html\" target=\"_blank\" rel=\"noopener\"></a></p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/84.jpg\" alt=\"\"></p>\n<p><a href=\"https://github.com/lewis617/angular2-tutorial/tree/gh-pages/template-syntax\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>[value]</code><code>value</code><code>[]</code>html</p>\n<p>app/app.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> [<span class=\"attr\">value</span>]=<span class=\"string\">\"firstName\"</span> [<span class=\"attr\">placeholder</span>]=<span class=\"string\">\"firstNamePlaceholder\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<p>app/app.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">value</span>=<span class=\"string\">\"&#123;&#123;firstName&#125;&#125;\"</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"&#123;&#123;firstNamePlaceholder&#125;&#125;\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<p>app/app.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">firstName: <span class=\"built_in\">string</span> = <span class=\"string\">'lewis'</span>;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>ng2html5 <code>(eventName)</code></p>\n<p>app/app.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> (<span class=\"attr\">click</span>)=<span class=\"string\">\"doSomething($event)\"</span> &gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><code>doSomething</code><code>firstName</code></p>\n<p>app/app.ts</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">doSomething($event)&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">''</span>,$event.target);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>input</p>\n<p>app/app.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> [<span class=\"attr\">value</span>]=<span class=\"string\">\"firstName (input)=\"</span><span class=\"attr\">firstName</span>=<span class=\"string\">$event.target.value</span>\" /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> [(<span class=\"attr\">ngModel</span>)]=<span class=\"string\">\"firstName\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n<p><code>[(ngModel)]</code><code>input</code><code>firstName</code></p>\n<p>ng2zone.js</p>\n<blockquote>\n<p>A zone is an execution context that persists across async tasks.</p>\n</blockquote>\n<p><code>$apply()</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>#</code> dom</p>\n<p>app/app.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- phone refers to the input element; pass its `value` to an event handler --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> #<span class=\"attr\">phone</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"phone number\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> (<span class=\"attr\">click</span>)=<span class=\"string\">\"callPhone(phone.value)\"</span>&gt;</span>Call<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- fax refers to the input element; pass its `value` to an event handler --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">var-fax</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"fax number\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> (<span class=\"attr\">click</span>)=<span class=\"string\">\"callFax(fax.value)\"</span>&gt;</span>Fax<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"template\"><a href=\"#template\" class=\"headerlink\" title=\"*template\"></a>*template</h2><p>*template</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> *<span class=\"attr\">ngIf</span>=<span class=\"string\">\"isActive\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span> [<span class=\"attr\">ngIf</span>]=<span class=\"string\">\"isActive\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><code>isActive</code><code>true</code><code>p</code></p>\n<p><code>template</code> DOM DOMruntime</p>\n<p><code>template</code>DOM<code>div</code></p>\n<p><code>*</code><code>template</code></p>\n<p><code>*</code><code>NgFor</code>, <code>NgIf</code><code>NgSwitch</code><code>*</code><code>template</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://angular.io/docs/ts/latest/guide/template-syntax.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>"},{"title":"React  Redux statecomponentWillReceiveProps","date":"2016-01-29T20:18:00.000Z","_content":"\nstatecomponentWillReceiveProps\n\n<!--more-->\n\n## \n\n![](/css/images/141.gif)\n\nRedditreactfrontend\n\n\n\nhttps://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/async\n\n## \n\n Javascript\"event loop\"IOjs\nNodejs\n\nReduxthunkthunk[React  Redux connectapplyMiddlewarethunkwebpackHotMiddleware](https://lewis617.github.io/2016/01/19/r2-counter/)\n\n**_ajaxaction_**\n\n`fetchPosts``fetch`ajaxpromise\n\nactions/index.js\n\n```js\nimport fetch from 'isomorphic-fetch'\n\nexport const REQUEST_POSTS = 'REQUEST_POSTS'\nexport const RECEIVE_POSTS = 'RECEIVE_POSTS'\nexport const SELECT_REDDIT = 'SELECT_REDDIT'\nexport const INVALIDATE_REDDIT = 'INVALIDATE_REDDIT'\n//action\nexport function selectReddit(reddit) {\n  return {\n    type: SELECT_REDDIT,\n    reddit\n  }\n}\n//action\nexport function invalidateReddit(reddit) {\n  return {\n    type: INVALIDATE_REDDIT,\n    reddit\n  }\n}\n//action\nfunction requestPosts(reddit) {\n  return {\n    type: REQUEST_POSTS,\n    reddit\n  }\n}\n//action\nfunction receivePosts(reddit, json) {\n  return {\n    type: RECEIVE_POSTS,\n    reddit: reddit,\n    posts: json.data.children.map(child => child.data),\n    receivedAt: Date.now()\n  }\n}\n\n//requestPostsactionreceivePostsaction\nfunction fetchPosts(reddit) {\n  return dispatch => {\n    dispatch(requestPosts(reddit))\n    return fetch(`https://www.reddit.com/r/${reddit}.json`)\n      .then(response => response.json())\n      .then(json => dispatch(receivePosts(reddit, json)))\n  }\n}\n\n//\nfunction shouldFetchPosts(state, reddit) {\n  const posts = state.postsByReddit[reddit]\n  if (!posts) {\n    return true\n  }\n  if (posts.isFetching) {\n    return false\n  }\n  return posts.didInvalidate\n}\n\n//\nexport function fetchPostsIfNeeded(reddit) {\n  return (dispatch, getState) => {\n    if (shouldFetchPosts(getState(), reddit)) {\n      return dispatch(fetchPosts(reddit))\n    }\n  }\n}\n```\n\n\n## state\n\nstateReduxstateReactchromestate\n\n![](/css/images/142.jpg)\n\nConnect(App)statestoreStateReduxdevtoolsstateReactchrome\n\nreducer\n\nreducers/index.js\n\n```js\nimport { combineReducers } from 'redux'\nimport {\n  SELECT_REDDIT, INVALIDATE_REDDIT,\n  REQUEST_POSTS, RECEIVE_POSTS\n} from '../actions'\n\n//state.selectedReddit\nfunction selectedReddit(state = 'reactjs', action) {\n  switch (action.type) {\n    case SELECT_REDDIT:\n      return action.reddit\n    default:\n      return state\n  }\n}\n\nfunction posts(state = {\n  //\n  isFetching: false,\n  //\n  didInvalidate: false,\n  //\n  items: []\n}, action) {\n  switch (action.type) {\n    case INVALIDATE_REDDIT:\n      return Object.assign({}, state, {\n        didInvalidate: true\n      })\n    case REQUEST_POSTS:\n      return Object.assign({}, state, {\n        isFetching: true,\n        didInvalidate: false\n      })\n    case RECEIVE_POSTS:\n      return Object.assign({}, state, {\n        isFetching: false,\n        didInvalidate: false,\n        items: action.posts,\n        lastUpdated: action.receivedAt\n      })\n    default:\n      return state\n  }\n}\n//state.postsByReddit\nfunction postsByReddit(state = { }, action) {\n  switch (action.type) {\n    case INVALIDATE_REDDIT:\n    case RECEIVE_POSTS:\n    case REQUEST_POSTS:\n      return Object.assign({}, state, {\n        [action.reddit]: posts(state[action.reddit], action)\n      })\n    default:\n      return state\n  }\n}\n//reducerreducer,statepostsByReddit,selectedRedditstate\nconst rootReducer = combineReducers({\n  postsByReddit,\n  selectedReddit\n})\n\nexport default rootReducer\n```\n\nreducer`postsByReddit`, `selectedReddit`state`postsByReddit`, `selectedReddit`\n\n`postsByReddit``postsByReddit``state``[action.reddit]:posts(state[action.reddit], action)``posts()``{ isFetching:false,didInvalidate: false, items: [] }`\n\nstate----reducer\n\n## componentWillReceiveProps\n\nReactpropscomponentDidMount()componentWillReceiveProps()console.log\n\ncontainers/App.js\n\n```js\n//\ncomponentDidMount() {\n  console.log('componentDidMount');\n  const { dispatch, selectedReddit } = this.props\n  dispatch(fetchPostsIfNeeded(selectedReddit))\n}\n\n//props\ncomponentWillReceiveProps(nextProps) {\n  console.log('componentWillReceiveProps',nextProps);\n  if (nextProps.selectedReddit !== this.props.selectedReddit) {\n    const { dispatch, selectedReddit } = nextProps\n    dispatch(fetchPostsIfNeeded(selectedReddit))\n  }\n}\n```\n\nconsole\n\n1\n\n![](/css/images/143.jpg)\n\n`componentDidMount``request_post`actionactionstatestateprops`componentWillReceiveProps`\n\n`[HMR]`\n\n`componentWillReceiveProps`stateprops`componentWillReceiveProps`posts`receive_posts`action\n\n\n\n2\n\n![](/css/images/145.jpg)\n\n\n\n`select_reddit`actionstateprops`componentWillReceiveProps`\n\n`componentWillReceiveProps``request_posts`actionactionstate,props`componentWillReceiveProps`\n\nstate,props`componentWillReceiveProps``receive_posts`action\n\n3\n\n![](https://ws4.sinaimg.cn/mw690/83900b4egw1f9xsvkukugj20qr089wis.jpg)\n\n\n\n`invalidate_reddit`action`request_posts`actionstate`isFetching``componentWillReceiveProps`\n\n`componentWillReceiveProps`\n\n\n\n`componentWillReceiveProps`Redux+React`componentWillReceiveProps`ReactRedux\n\n* * *\n\n## \n\n<https://github.com/lewis617/react-redux-tutorial>\n\n<http://www.liuyiqi.cn/tags/React/>\n","source":"_posts/r2-async.md","raw":"---\ntitle: React  Redux statecomponentWillReceiveProps\ndate: 2016-01-30 04:18:00\ntags: [React, Redux]\n---\n\nstatecomponentWillReceiveProps\n\n<!--more-->\n\n## \n\n![](/css/images/141.gif)\n\nRedditreactfrontend\n\n\n\nhttps://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/async\n\n## \n\n Javascript\"event loop\"IOjs\nNodejs\n\nReduxthunkthunk[React  Redux connectapplyMiddlewarethunkwebpackHotMiddleware](https://lewis617.github.io/2016/01/19/r2-counter/)\n\n**_ajaxaction_**\n\n`fetchPosts``fetch`ajaxpromise\n\nactions/index.js\n\n```js\nimport fetch from 'isomorphic-fetch'\n\nexport const REQUEST_POSTS = 'REQUEST_POSTS'\nexport const RECEIVE_POSTS = 'RECEIVE_POSTS'\nexport const SELECT_REDDIT = 'SELECT_REDDIT'\nexport const INVALIDATE_REDDIT = 'INVALIDATE_REDDIT'\n//action\nexport function selectReddit(reddit) {\n  return {\n    type: SELECT_REDDIT,\n    reddit\n  }\n}\n//action\nexport function invalidateReddit(reddit) {\n  return {\n    type: INVALIDATE_REDDIT,\n    reddit\n  }\n}\n//action\nfunction requestPosts(reddit) {\n  return {\n    type: REQUEST_POSTS,\n    reddit\n  }\n}\n//action\nfunction receivePosts(reddit, json) {\n  return {\n    type: RECEIVE_POSTS,\n    reddit: reddit,\n    posts: json.data.children.map(child => child.data),\n    receivedAt: Date.now()\n  }\n}\n\n//requestPostsactionreceivePostsaction\nfunction fetchPosts(reddit) {\n  return dispatch => {\n    dispatch(requestPosts(reddit))\n    return fetch(`https://www.reddit.com/r/${reddit}.json`)\n      .then(response => response.json())\n      .then(json => dispatch(receivePosts(reddit, json)))\n  }\n}\n\n//\nfunction shouldFetchPosts(state, reddit) {\n  const posts = state.postsByReddit[reddit]\n  if (!posts) {\n    return true\n  }\n  if (posts.isFetching) {\n    return false\n  }\n  return posts.didInvalidate\n}\n\n//\nexport function fetchPostsIfNeeded(reddit) {\n  return (dispatch, getState) => {\n    if (shouldFetchPosts(getState(), reddit)) {\n      return dispatch(fetchPosts(reddit))\n    }\n  }\n}\n```\n\n\n## state\n\nstateReduxstateReactchromestate\n\n![](/css/images/142.jpg)\n\nConnect(App)statestoreStateReduxdevtoolsstateReactchrome\n\nreducer\n\nreducers/index.js\n\n```js\nimport { combineReducers } from 'redux'\nimport {\n  SELECT_REDDIT, INVALIDATE_REDDIT,\n  REQUEST_POSTS, RECEIVE_POSTS\n} from '../actions'\n\n//state.selectedReddit\nfunction selectedReddit(state = 'reactjs', action) {\n  switch (action.type) {\n    case SELECT_REDDIT:\n      return action.reddit\n    default:\n      return state\n  }\n}\n\nfunction posts(state = {\n  //\n  isFetching: false,\n  //\n  didInvalidate: false,\n  //\n  items: []\n}, action) {\n  switch (action.type) {\n    case INVALIDATE_REDDIT:\n      return Object.assign({}, state, {\n        didInvalidate: true\n      })\n    case REQUEST_POSTS:\n      return Object.assign({}, state, {\n        isFetching: true,\n        didInvalidate: false\n      })\n    case RECEIVE_POSTS:\n      return Object.assign({}, state, {\n        isFetching: false,\n        didInvalidate: false,\n        items: action.posts,\n        lastUpdated: action.receivedAt\n      })\n    default:\n      return state\n  }\n}\n//state.postsByReddit\nfunction postsByReddit(state = { }, action) {\n  switch (action.type) {\n    case INVALIDATE_REDDIT:\n    case RECEIVE_POSTS:\n    case REQUEST_POSTS:\n      return Object.assign({}, state, {\n        [action.reddit]: posts(state[action.reddit], action)\n      })\n    default:\n      return state\n  }\n}\n//reducerreducer,statepostsByReddit,selectedRedditstate\nconst rootReducer = combineReducers({\n  postsByReddit,\n  selectedReddit\n})\n\nexport default rootReducer\n```\n\nreducer`postsByReddit`, `selectedReddit`state`postsByReddit`, `selectedReddit`\n\n`postsByReddit``postsByReddit``state``[action.reddit]:posts(state[action.reddit], action)``posts()``{ isFetching:false,didInvalidate: false, items: [] }`\n\nstate----reducer\n\n## componentWillReceiveProps\n\nReactpropscomponentDidMount()componentWillReceiveProps()console.log\n\ncontainers/App.js\n\n```js\n//\ncomponentDidMount() {\n  console.log('componentDidMount');\n  const { dispatch, selectedReddit } = this.props\n  dispatch(fetchPostsIfNeeded(selectedReddit))\n}\n\n//props\ncomponentWillReceiveProps(nextProps) {\n  console.log('componentWillReceiveProps',nextProps);\n  if (nextProps.selectedReddit !== this.props.selectedReddit) {\n    const { dispatch, selectedReddit } = nextProps\n    dispatch(fetchPostsIfNeeded(selectedReddit))\n  }\n}\n```\n\nconsole\n\n1\n\n![](/css/images/143.jpg)\n\n`componentDidMount``request_post`actionactionstatestateprops`componentWillReceiveProps`\n\n`[HMR]`\n\n`componentWillReceiveProps`stateprops`componentWillReceiveProps`posts`receive_posts`action\n\n\n\n2\n\n![](/css/images/145.jpg)\n\n\n\n`select_reddit`actionstateprops`componentWillReceiveProps`\n\n`componentWillReceiveProps``request_posts`actionactionstate,props`componentWillReceiveProps`\n\nstate,props`componentWillReceiveProps``receive_posts`action\n\n3\n\n![](https://ws4.sinaimg.cn/mw690/83900b4egw1f9xsvkukugj20qr089wis.jpg)\n\n\n\n`invalidate_reddit`action`request_posts`actionstate`isFetching``componentWillReceiveProps`\n\n`componentWillReceiveProps`\n\n\n\n`componentWillReceiveProps`Redux+React`componentWillReceiveProps`ReactRedux\n\n* * *\n\n## \n\n<https://github.com/lewis617/react-redux-tutorial>\n\n<http://www.liuyiqi.cn/tags/React/>\n","slug":"r2-async","published":1,"updated":"2019-05-01T08:10:30.153Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvm8002gtgytjj70h966","content":"<p>statecomponentWillReceiveProps</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/141.gif\" alt=\"\"></p>\n<p>Redditreactfrontend</p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/async\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/async</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Javascriptevent loopIOjs<br>Nodejs</p>\n<p>Reduxthunkthunk<a href=\"https://lewis617.github.io/2016/01/19/r2-counter/\" target=\"_blank\" rel=\"noopener\">React  Redux connectapplyMiddlewarethunkwebpackHotMiddleware</a></p>\n<p><strong><em>ajaxaction</em></strong></p>\n<p><code>fetchPosts</code><code>fetch</code>ajaxpromise</p>\n<p>actions/index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> fetch <span class=\"keyword\">from</span> <span class=\"string\">'isomorphic-fetch'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> REQUEST_POSTS = <span class=\"string\">'REQUEST_POSTS'</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> RECEIVE_POSTS = <span class=\"string\">'RECEIVE_POSTS'</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> SELECT_REDDIT = <span class=\"string\">'SELECT_REDDIT'</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> INVALIDATE_REDDIT = <span class=\"string\">'INVALIDATE_REDDIT'</span></span><br><span class=\"line\"><span class=\"comment\">//action</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">selectReddit</span>(<span class=\"params\">reddit</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    type: SELECT_REDDIT,</span><br><span class=\"line\">    reddit</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//action</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">invalidateReddit</span>(<span class=\"params\">reddit</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    type: INVALIDATE_REDDIT,</span><br><span class=\"line\">    reddit</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//action</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">requestPosts</span>(<span class=\"params\">reddit</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    type: REQUEST_POSTS,</span><br><span class=\"line\">    reddit</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//action</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">receivePosts</span>(<span class=\"params\">reddit, json</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    type: RECEIVE_POSTS,</span><br><span class=\"line\">    reddit: reddit,</span><br><span class=\"line\">    posts: json.data.children.map(<span class=\"function\"><span class=\"params\">child</span> =&gt;</span> child.data),</span><br><span class=\"line\">    receivedAt: <span class=\"built_in\">Date</span>.now()</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//requestPostsactionreceivePostsaction</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fetchPosts</span>(<span class=\"params\">reddit</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"params\">dispatch</span> =&gt;</span> &#123;</span><br><span class=\"line\">    dispatch(requestPosts(reddit))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> fetch(<span class=\"string\">`https://www.reddit.com/r/<span class=\"subst\">$&#123;reddit&#125;</span>.json`</span>)</span><br><span class=\"line\">      .then(<span class=\"function\"><span class=\"params\">response</span> =&gt;</span> response.json())</span><br><span class=\"line\">      .then(<span class=\"function\"><span class=\"params\">json</span> =&gt;</span> dispatch(receivePosts(reddit, json)))</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">shouldFetchPosts</span>(<span class=\"params\">state, reddit</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> posts = state.postsByReddit[reddit]</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!posts) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (posts.isFetching) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> posts.didInvalidate</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fetchPostsIfNeeded</span>(<span class=\"params\">reddit</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">dispatch, getState</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (shouldFetchPosts(getState(), reddit)) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> dispatch(fetchPosts(reddit))</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"state\"><a href=\"#state\" class=\"headerlink\" title=\"state\"></a>state</h2><p>stateReduxstateReactchromestate</p>\n<p><img src=\"/css/images/142.jpg\" alt=\"\"></p>\n<p>Connect(App)statestoreStateReduxdevtoolsstateReactchrome</p>\n<p>reducer</p>\n<p>reducers/index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; combineReducers &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;</span><br><span class=\"line\">  SELECT_REDDIT, INVALIDATE_REDDIT,</span><br><span class=\"line\">  REQUEST_POSTS, RECEIVE_POSTS</span><br><span class=\"line\">&#125; <span class=\"keyword\">from</span> <span class=\"string\">'../actions'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//state.selectedReddit</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">selectedReddit</span>(<span class=\"params\">state = <span class=\"string\">'reactjs'</span>, action</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (action.type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> SELECT_REDDIT:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> action.reddit</span><br><span class=\"line\">    <span class=\"keyword\">default</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">posts</span>(<span class=\"params\">state = &#123;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  <span class=\"regexp\">//</span></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  isFetching: false,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  <span class=\"regexp\">//</span></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  didInvalidate: false,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  <span class=\"regexp\">//</span></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  items: []</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">&#125;, action</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (action.type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> INVALIDATE_REDDIT:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.assign(&#123;&#125;, state, &#123;</span><br><span class=\"line\">        didInvalidate: <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    <span class=\"keyword\">case</span> REQUEST_POSTS:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.assign(&#123;&#125;, state, &#123;</span><br><span class=\"line\">        isFetching: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        didInvalidate: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    <span class=\"keyword\">case</span> RECEIVE_POSTS:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.assign(&#123;&#125;, state, &#123;</span><br><span class=\"line\">        isFetching: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        didInvalidate: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        items: action.posts,</span><br><span class=\"line\">        lastUpdated: action.receivedAt</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    <span class=\"keyword\">default</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//state.postsByReddit</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">postsByReddit</span>(<span class=\"params\">state = &#123; &#125;, action</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (action.type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> INVALIDATE_REDDIT:</span><br><span class=\"line\">    <span class=\"keyword\">case</span> RECEIVE_POSTS:</span><br><span class=\"line\">    <span class=\"keyword\">case</span> REQUEST_POSTS:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.assign(&#123;&#125;, state, &#123;</span><br><span class=\"line\">        [action.reddit]: posts(state[action.reddit], action)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    <span class=\"keyword\">default</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//reducerreducer,statepostsByReddit,selectedRedditstate</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> rootReducer = combineReducers(&#123;</span><br><span class=\"line\">  postsByReddit,</span><br><span class=\"line\">  selectedReddit</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> rootReducer</span><br></pre></td></tr></table></figure>\n<p>reducer<code>postsByReddit</code>, <code>selectedReddit</code>state<code>postsByReddit</code>, <code>selectedReddit</code></p>\n<p><code>postsByReddit</code><code>postsByReddit</code><code>state</code><code>[action.reddit]:posts(state[action.reddit], action)</code><code>posts()</code><code>{ isFetching:false,didInvalidate: false, items: [] }</code></p>\n<p>state-reducer</p>\n<h2 id=\"componentWillReceiveProps\"><a href=\"#componentWillReceiveProps\" class=\"headerlink\" title=\"componentWillReceiveProps\"></a>componentWillReceiveProps</h2><p>ReactpropscomponentDidMount()componentWillReceiveProps()console.log</p>\n<p>containers/App.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">componentDidMount() &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'componentDidMount'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; dispatch, selectedReddit &#125; = <span class=\"keyword\">this</span>.props</span><br><span class=\"line\">  dispatch(fetchPostsIfNeeded(selectedReddit))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//props</span></span><br><span class=\"line\">componentWillReceiveProps(nextProps) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'componentWillReceiveProps'</span>,nextProps);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (nextProps.selectedReddit !== <span class=\"keyword\">this</span>.props.selectedReddit) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; dispatch, selectedReddit &#125; = nextProps</span><br><span class=\"line\">    dispatch(fetchPostsIfNeeded(selectedReddit))</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>console</p>\n<p>1</p>\n<p><img src=\"/css/images/143.jpg\" alt=\"\"></p>\n<p><code>componentDidMount</code><code>request_post</code>actionactionstatestateprops<code>componentWillReceiveProps</code></p>\n<p><code>[HMR]</code></p>\n<p><code>componentWillReceiveProps</code>stateprops<code>componentWillReceiveProps</code>posts<code>receive_posts</code>action</p>\n<p>2</p>\n<p><img src=\"/css/images/145.jpg\" alt=\"\"></p>\n<p><code>select_reddit</code>actionstateprops<code>componentWillReceiveProps</code></p>\n<p><code>componentWillReceiveProps</code><code>request_posts</code>actionactionstate,props<code>componentWillReceiveProps</code></p>\n<p>state,props<code>componentWillReceiveProps</code><code>receive_posts</code>action</p>\n<p>3</p>\n<p><img src=\"https://ws4.sinaimg.cn/mw690/83900b4egw1f9xsvkukugj20qr089wis.jpg\" alt=\"\"></p>\n<p><code>invalidate_reddit</code>action<code>request_posts</code>actionstate<code>isFetching</code><code>componentWillReceiveProps</code></p>\n<p><code>componentWillReceiveProps</code></p>\n<p><code>componentWillReceiveProps</code>Redux+React<code>componentWillReceiveProps</code>ReactRedux</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/React/\">http://www.liuyiqi.cn/tags/React/</a></p>\n","site":{"data":{}},"excerpt":"<p>statecomponentWillReceiveProps</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/141.gif\" alt=\"\"></p>\n<p>Redditreactfrontend</p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/async\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/async</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Javascriptevent loopIOjs<br>Nodejs</p>\n<p>Reduxthunkthunk<a href=\"https://lewis617.github.io/2016/01/19/r2-counter/\" target=\"_blank\" rel=\"noopener\">React  Redux connectapplyMiddlewarethunkwebpackHotMiddleware</a></p>\n<p><strong><em>ajaxaction</em></strong></p>\n<p><code>fetchPosts</code><code>fetch</code>ajaxpromise</p>\n<p>actions/index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> fetch <span class=\"keyword\">from</span> <span class=\"string\">'isomorphic-fetch'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> REQUEST_POSTS = <span class=\"string\">'REQUEST_POSTS'</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> RECEIVE_POSTS = <span class=\"string\">'RECEIVE_POSTS'</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> SELECT_REDDIT = <span class=\"string\">'SELECT_REDDIT'</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> INVALIDATE_REDDIT = <span class=\"string\">'INVALIDATE_REDDIT'</span></span><br><span class=\"line\"><span class=\"comment\">//action</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">selectReddit</span>(<span class=\"params\">reddit</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    type: SELECT_REDDIT,</span><br><span class=\"line\">    reddit</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//action</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">invalidateReddit</span>(<span class=\"params\">reddit</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    type: INVALIDATE_REDDIT,</span><br><span class=\"line\">    reddit</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//action</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">requestPosts</span>(<span class=\"params\">reddit</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    type: REQUEST_POSTS,</span><br><span class=\"line\">    reddit</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//action</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">receivePosts</span>(<span class=\"params\">reddit, json</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    type: RECEIVE_POSTS,</span><br><span class=\"line\">    reddit: reddit,</span><br><span class=\"line\">    posts: json.data.children.map(<span class=\"function\"><span class=\"params\">child</span> =&gt;</span> child.data),</span><br><span class=\"line\">    receivedAt: <span class=\"built_in\">Date</span>.now()</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//requestPostsactionreceivePostsaction</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fetchPosts</span>(<span class=\"params\">reddit</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"params\">dispatch</span> =&gt;</span> &#123;</span><br><span class=\"line\">    dispatch(requestPosts(reddit))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> fetch(<span class=\"string\">`https://www.reddit.com/r/<span class=\"subst\">$&#123;reddit&#125;</span>.json`</span>)</span><br><span class=\"line\">      .then(<span class=\"function\"><span class=\"params\">response</span> =&gt;</span> response.json())</span><br><span class=\"line\">      .then(<span class=\"function\"><span class=\"params\">json</span> =&gt;</span> dispatch(receivePosts(reddit, json)))</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">shouldFetchPosts</span>(<span class=\"params\">state, reddit</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> posts = state.postsByReddit[reddit]</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!posts) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (posts.isFetching) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> posts.didInvalidate</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fetchPostsIfNeeded</span>(<span class=\"params\">reddit</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">dispatch, getState</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (shouldFetchPosts(getState(), reddit)) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> dispatch(fetchPosts(reddit))</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"state\"><a href=\"#state\" class=\"headerlink\" title=\"state\"></a>state</h2><p>stateReduxstateReactchromestate</p>\n<p><img src=\"/css/images/142.jpg\" alt=\"\"></p>\n<p>Connect(App)statestoreStateReduxdevtoolsstateReactchrome</p>\n<p>reducer</p>\n<p>reducers/index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; combineReducers &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;</span><br><span class=\"line\">  SELECT_REDDIT, INVALIDATE_REDDIT,</span><br><span class=\"line\">  REQUEST_POSTS, RECEIVE_POSTS</span><br><span class=\"line\">&#125; <span class=\"keyword\">from</span> <span class=\"string\">'../actions'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//state.selectedReddit</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">selectedReddit</span>(<span class=\"params\">state = <span class=\"string\">'reactjs'</span>, action</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (action.type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> SELECT_REDDIT:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> action.reddit</span><br><span class=\"line\">    <span class=\"keyword\">default</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">posts</span>(<span class=\"params\">state = &#123;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  <span class=\"regexp\">//</span></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  isFetching: false,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  <span class=\"regexp\">//</span></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  didInvalidate: false,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  <span class=\"regexp\">//</span></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">  items: []</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">&#125;, action</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (action.type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> INVALIDATE_REDDIT:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.assign(&#123;&#125;, state, &#123;</span><br><span class=\"line\">        didInvalidate: <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    <span class=\"keyword\">case</span> REQUEST_POSTS:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.assign(&#123;&#125;, state, &#123;</span><br><span class=\"line\">        isFetching: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        didInvalidate: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    <span class=\"keyword\">case</span> RECEIVE_POSTS:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.assign(&#123;&#125;, state, &#123;</span><br><span class=\"line\">        isFetching: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        didInvalidate: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        items: action.posts,</span><br><span class=\"line\">        lastUpdated: action.receivedAt</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    <span class=\"keyword\">default</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//state.postsByReddit</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">postsByReddit</span>(<span class=\"params\">state = &#123; &#125;, action</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (action.type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> INVALIDATE_REDDIT:</span><br><span class=\"line\">    <span class=\"keyword\">case</span> RECEIVE_POSTS:</span><br><span class=\"line\">    <span class=\"keyword\">case</span> REQUEST_POSTS:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.assign(&#123;&#125;, state, &#123;</span><br><span class=\"line\">        [action.reddit]: posts(state[action.reddit], action)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    <span class=\"keyword\">default</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//reducerreducer,statepostsByReddit,selectedRedditstate</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> rootReducer = combineReducers(&#123;</span><br><span class=\"line\">  postsByReddit,</span><br><span class=\"line\">  selectedReddit</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> rootReducer</span><br></pre></td></tr></table></figure>\n<p>reducer<code>postsByReddit</code>, <code>selectedReddit</code>state<code>postsByReddit</code>, <code>selectedReddit</code></p>\n<p><code>postsByReddit</code><code>postsByReddit</code><code>state</code><code>[action.reddit]:posts(state[action.reddit], action)</code><code>posts()</code><code>{ isFetching:false,didInvalidate: false, items: [] }</code></p>\n<p>state-reducer</p>\n<h2 id=\"componentWillReceiveProps\"><a href=\"#componentWillReceiveProps\" class=\"headerlink\" title=\"componentWillReceiveProps\"></a>componentWillReceiveProps</h2><p>ReactpropscomponentDidMount()componentWillReceiveProps()console.log</p>\n<p>containers/App.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">componentDidMount() &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'componentDidMount'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; dispatch, selectedReddit &#125; = <span class=\"keyword\">this</span>.props</span><br><span class=\"line\">  dispatch(fetchPostsIfNeeded(selectedReddit))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//props</span></span><br><span class=\"line\">componentWillReceiveProps(nextProps) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'componentWillReceiveProps'</span>,nextProps);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (nextProps.selectedReddit !== <span class=\"keyword\">this</span>.props.selectedReddit) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; dispatch, selectedReddit &#125; = nextProps</span><br><span class=\"line\">    dispatch(fetchPostsIfNeeded(selectedReddit))</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>console</p>\n<p>1</p>\n<p><img src=\"/css/images/143.jpg\" alt=\"\"></p>\n<p><code>componentDidMount</code><code>request_post</code>actionactionstatestateprops<code>componentWillReceiveProps</code></p>\n<p><code>[HMR]</code></p>\n<p><code>componentWillReceiveProps</code>stateprops<code>componentWillReceiveProps</code>posts<code>receive_posts</code>action</p>\n<p>2</p>\n<p><img src=\"/css/images/145.jpg\" alt=\"\"></p>\n<p><code>select_reddit</code>actionstateprops<code>componentWillReceiveProps</code></p>\n<p><code>componentWillReceiveProps</code><code>request_posts</code>actionactionstate,props<code>componentWillReceiveProps</code></p>\n<p>state,props<code>componentWillReceiveProps</code><code>receive_posts</code>action</p>\n<p>3</p>\n<p><img src=\"https://ws4.sinaimg.cn/mw690/83900b4egw1f9xsvkukugj20qr089wis.jpg\" alt=\"\"></p>\n<p><code>invalidate_reddit</code>action<code>request_posts</code>actionstate<code>isFetching</code><code>componentWillReceiveProps</code></p>\n<p><code>componentWillReceiveProps</code></p>\n<p><code>componentWillReceiveProps</code>Redux+React<code>componentWillReceiveProps</code>ReactRedux</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/React/\">http://www.liuyiqi.cn/tags/React/</a></p>"},{"title":"React  Redux ","date":"2016-11-20T08:14:00.000Z","_content":"\nReact  Redux \n\n<!--more-->\n\n![](/css/images/146.jpg)\n\n##  React  Redux\n\nReact  Redux \n\n## \n\nReact  Redux  React  Redux  Universal 360 React  Redux \n\n## \n\n ES6/7Node  React  Redux / ES6/7  Node \n\n## \n\n- ****React  Redux \n- ****\n- **** GitHub  Issuelewis617@163.com\n\n## \n\n\n\n<iframe src=\"https://lewis617.github.io/books-tree/?hideMenu=true&lazy=200&zooming=0&panning=0#react-redux-book\" \n\twidth=\"850\" height=\"850\"></iframe>\n\n## \n\n[](https://item.jd.com/12010463.html)\n\n[](http://product.dangdang.com/24145390.html)\n","source":"_posts/r2-book.md","raw":"---\ntitle: React  Redux \ndate: 2016-11-20 16:14:00\ntags: [React, Redux, Babel, Webpack, Node, Universal, , ]\n---\n\nReact  Redux \n\n<!--more-->\n\n![](/css/images/146.jpg)\n\n##  React  Redux\n\nReact  Redux \n\n## \n\nReact  Redux  React  Redux  Universal 360 React  Redux \n\n## \n\n ES6/7Node  React  Redux / ES6/7  Node \n\n## \n\n- ****React  Redux \n- ****\n- **** GitHub  Issuelewis617@163.com\n\n## \n\n\n\n<iframe src=\"https://lewis617.github.io/books-tree/?hideMenu=true&lazy=200&zooming=0&panning=0#react-redux-book\" \n\twidth=\"850\" height=\"850\"></iframe>\n\n## \n\n[](https://item.jd.com/12010463.html)\n\n[](http://product.dangdang.com/24145390.html)\n","slug":"r2-book","published":1,"updated":"2019-05-01T08:10:30.180Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvma002jtgytwkaah8z1","content":"<p>React  Redux </p>\n<a id=\"more\"></a>\n<p><img src=\"/css/images/146.jpg\" alt=\"\"></p>\n<h2 id=\"-React--Redux\"><a href=\"#-React--Redux\" class=\"headerlink\" title=\" React  Redux\"></a> React  Redux</h2><p>React  Redux </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>React  Redux  React  Redux  Universal 360 React  Redux </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> ES6/7Node  React  Redux / ES6/7  Node </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><strong></strong>React  Redux </li>\n<li><strong></strong></li>\n<li><strong></strong> GitHub  Issue<a href=\"mailto:lewis617@163.com\" target=\"_blank\" rel=\"noopener\">lewis617@163.com</a></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<iframe src=\"https://lewis617.github.io/books-tree/?hideMenu=true&lazy=200&zooming=0&panning=0#react-redux-book\" width=\"850\" height=\"850\"></iframe>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://item.jd.com/12010463.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><a href=\"http://product.dangdang.com/24145390.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n","site":{"data":{}},"excerpt":"<p>React  Redux </p>","more":"<p><img src=\"/css/images/146.jpg\" alt=\"\"></p>\n<h2 id=\"-React--Redux\"><a href=\"#-React--Redux\" class=\"headerlink\" title=\" React  Redux\"></a> React  Redux</h2><p>React  Redux </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>React  Redux  React  Redux  Universal 360 React  Redux </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> ES6/7Node  React  Redux / ES6/7  Node </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><strong></strong>React  Redux </li>\n<li><strong></strong></li>\n<li><strong></strong> GitHub  Issue<a href=\"mailto:lewis617@163.com\" target=\"_blank\" rel=\"noopener\">lewis617@163.com</a></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<iframe src=\"https://lewis617.github.io/books-tree/?hideMenu=true&lazy=200&zooming=0&panning=0#react-redux-book\" width=\"850\" height=\"850\"></iframe>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://item.jd.com/12010463.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><a href=\"http://product.dangdang.com/24145390.html\" target=\"_blank\" rel=\"noopener\"></a></p>"},{"title":"React  Redux connectapplyMiddlewarethunkwebpackHotMiddleware","date":"2016-01-19T23:52:00.000Z","_content":"\ncounterReact+Redux\n\n<!--more-->\n\n## \n\n![](/css/images/147.gif)\n\n\n\n\n\nhttps://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/counter\n\n## \n\ncomponents/Counter.js\n\n```js\nimport React, { Component, PropTypes } from 'react'\n\nclass Counter extends Component {\n  render() {\n    //props\n    const { increment, incrementIfOdd, incrementAsync, decrement, counter } = this.props;\n    //\n    return (\n      <p>\n        Clicked: {counter} times\n        {' '}\n        <button onClick={increment}>+</button>\n        {' '}\n        <button onClick={decrement}>-</button>\n        {' '}\n        <button onClick={incrementIfOdd}>Increment if odd</button>\n        {' '}\n        <button onClick={() => incrementAsync()}>Increment async</button>\n      </p>\n    )\n  }\n}\n//props\nCounter.propTypes = {\n  //incrementfucntion,\n  increment: PropTypes.func.isRequired,\n  incrementIfOdd: PropTypes.func.isRequired,\n  incrementAsync: PropTypes.func.isRequired,\n  decrement: PropTypes.func.isRequired,\n  //counter\n  counter: PropTypes.number.isRequired\n};\n\nexport default Counter\n```\n\n\n\n  1. props\n  2. \n\nprops\n\n## \n\ncontainers/App.js\n\n```js\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport Counter from '../components/Counter'\nimport * as CounterActions from '../actions/counter'\n\n//state.counterpropscounter\nfunction mapStateToProps(state) {\n  return {\n    counter: state.counter\n  }\n}\n//actionprops\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(CounterActions, dispatch)\n}\n\n//react-reduxconnectstateactionsprops\nexport default connect(mapStateToProps, mapDispatchToProps)(Counter)\n\n```\n\nReduxRedux\n\n![](/css/images/148.jpg)\n\nstateactionactionreducerstate\n\n\n\n  1. `state``counter`props\n  2. actionprops\n\n## connect\n\n`connect``connect`[api](http://camsong.github.io/redux-in-chinese/docs/react-redux/api.html)\n\n  1. functionstatepropscounter\n  2. functionactionprops\n  3. \n\n\n\n```js\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport Counter from '../components/Counter'\nimport * as CounterActions from '../actions/counter'\n\n//state.counterpropscounter\nfunction mapStateToProps(state) {\n  return {\n    counter: state.counter\n  }\n}\n\n//react-reduxconnectstateactionsprops\nexport default connect(mapStateToProps, CounterActions)(Counter)\n\n```\ndispatchaction\n\n```js\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport Counter from '../components/Counter'\nimport * as CounterActions from '../actions/counter'\n\n//state.counterpropscounter\nfunction mapStateToProps(state) {\n  return {\n    counter: state.counter\n  }\n}\n\n//react-reduxconnectstateprops\nexport default connect(mapStateToProps)(Counter)\n```\n\n`dispatch()`action\n\n## actionreducerstate\n\nactions/counter.js\n\n```js\nexport const INCREMENT_COUNTER = 'INCREMENT_COUNTER'\nexport const DECREMENT_COUNTER = 'DECREMENT_COUNTER'\n//\nexport function increment() {\n  return {\n    type: INCREMENT_COUNTER\n  }\n}\n//\nexport function decrement() {\n  return {\n    type: DECREMENT_COUNTER\n  }\n}\n//dispatchgetStatedispatchactiongetStatestate\nexport function incrementIfOdd() {\n  return (dispatch, getState) => {\n    //statecounter\n    const { counter } = getState()\n\n    //\n    if (counter % 2 === 0) {\n      return\n    }\n    //\n    dispatch(increment())\n  }\n}\n//,delay,,\nexport function incrementAsync(delay = 1000) {\n  return dispatch => {\n    setTimeout(() => {\n      dispatch(increment())\n    }, delay)\n  }\n}\n\n//,,import * as actions actionsexport\n```\n\nreducers/counter.js\n\n```js\nimport { INCREMENT_COUNTER, DECREMENT_COUNTER } from '../actions/counter'\n\n//reducer,stateaction,state\nexport default function counter(state = 0, action) {\n  switch (action.type) {\n    case INCREMENT_COUNTER:\n      return state + 1\n    case DECREMENT_COUNTER:\n      return state - 1\n    default:\n      return state\n  }\n}\n```\n\nreducers/index.js\n\n```js\nimport { combineReducers } from 'redux'\nimport counter from './counter'\n\n//reduxcombineReducersreducer\nconst rootReducer = combineReducers({\n  counter\n})\n\nexport default rootReducer\n```\n\n:\n\n  1. action\n  2. reducerstate\n  3. reducer()reducer\n\nreduxReact dev toolsstateprops\n\n![](/css/images/149.jpg)\n\nactionstatestateRedux`Connect(Counter)`Stateredux\n\n![](/css/images/150.jpg)\n\n`storeState``counter`\n\n## store\n\nstore/configureStore.js\n\n```js \nimport { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport reducer from '../reducers'\n\n//applyMiddlewareredux store  dispatch\n//thunkactionfunctionaction\nconst createStoreWithMiddleware = applyMiddleware(\n  thunk\n)(createStore)\n\nexport default function configureStore(initialState) {\n  const store = createStoreWithMiddleware(reducer, initialState)\n\n  //\n  if (module.hot) {\n    // Enable Webpack hot module replacement for reducers\n    module.hot.accept('../reducers', () => {\n      const nextReducer = require('../reducers')\n      store.replaceReducer(nextReducer)\n    })\n  }\n\n  return store\n}\n```\nindex.js\n\n```js\nimport React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport App from './containers/App'\nimport configureStore from './store/configureStore'\n\nconst store = configureStore()\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n```\n\n\n  1. actionfunctionaction\n  2. Webpack hot module replacementreducer\n  3. `store`\n  4. `store``Provider`\n  5. `Provider`\n\n## applyMiddlewarethunk\n\n`applyMiddleware`Redux store  `dispatch()`\n\n`thunk`actionfunctionaction\n\n## \n\nserver.js\n\n```js\nvar webpack = require('webpack')\nvar webpackDevMiddleware = require('webpack-dev-middleware')\nvar webpackHotMiddleware = require('webpack-hot-middleware')\nvar config = require('./webpack.config')\n\nvar app = new (require('express'))()\nvar port = 3000\n\nvar compiler = webpack(config)\napp.use(webpackDevMiddleware(compiler, { noInfo: true, publicPath: config.output.publicPath }))\napp.use(webpackHotMiddleware(compiler))\n\napp.get(\"/\", function(req, res) {\n  res.sendFile(__dirname + '/index.html')\n})\n\napp.listen(port, function(error) {\n  if (error) {\n    console.error(error)\n  } else {\n    console.info(\"==>   Listening on port %s. Open up http://localhost:%s/ in your browser.\", port, port)\n  }\n})\n```\n\nwebpack.config.js\n\n```js\nvar path = require('path')\nvar webpack = require('webpack')\n\nmodule.exports = {\n  devtool: 'cheap-module-eval-source-map',\n  entry: [\n    'webpack-hot-middleware/client',\n    './index'\n  ],\n  output: {\n    path: path.join(__dirname, 'dist'),\n    filename: 'bundle.js',\n    publicPath: '/static/'\n  },\n  plugins: [\n    new webpack.optimize.OccurenceOrderPlugin(),\n    new webpack.HotModuleReplacementPlugin(),\n    new webpack.NoErrorsPlugin()\n  ],\n  module: {\n    loaders: [\n      {\n        test: /\\.js$/,\n        loaders: [ 'babel' ],\n        exclude: /node_modules/,\n        include: __dirname\n      }\n    ]\n  }\n}\n```\n\n\n`npm start` `node server` webpackwebpack\n\n  1. `OccurenceOrderPlugin`id\n  2. `HotModuleReplacementPlugin`dev-server`hot`\n  3. `NoErrorsPlugin`\n\n## webpackHotMiddleware\n\n  \nserver.js`webpackHotMiddleware`[](https://www.npmjs.com/package/webpack-hot-middleware)Express\n\n* * *\n\n## \n\n<https://github.com/lewis617/react-redux-tutorial>\n\n<http://www.liuyiqi.cn/tags/React/>\n\n","source":"_posts/r2-counter.md","raw":"---\ntitle: React  Redux connectapplyMiddlewarethunkwebpackHotMiddleware\ndate: 2016-01-20 07:52:00\ntags: [React, Redux]\n---\n\ncounterReact+Redux\n\n<!--more-->\n\n## \n\n![](/css/images/147.gif)\n\n\n\n\n\nhttps://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/counter\n\n## \n\ncomponents/Counter.js\n\n```js\nimport React, { Component, PropTypes } from 'react'\n\nclass Counter extends Component {\n  render() {\n    //props\n    const { increment, incrementIfOdd, incrementAsync, decrement, counter } = this.props;\n    //\n    return (\n      <p>\n        Clicked: {counter} times\n        {' '}\n        <button onClick={increment}>+</button>\n        {' '}\n        <button onClick={decrement}>-</button>\n        {' '}\n        <button onClick={incrementIfOdd}>Increment if odd</button>\n        {' '}\n        <button onClick={() => incrementAsync()}>Increment async</button>\n      </p>\n    )\n  }\n}\n//props\nCounter.propTypes = {\n  //incrementfucntion,\n  increment: PropTypes.func.isRequired,\n  incrementIfOdd: PropTypes.func.isRequired,\n  incrementAsync: PropTypes.func.isRequired,\n  decrement: PropTypes.func.isRequired,\n  //counter\n  counter: PropTypes.number.isRequired\n};\n\nexport default Counter\n```\n\n\n\n  1. props\n  2. \n\nprops\n\n## \n\ncontainers/App.js\n\n```js\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport Counter from '../components/Counter'\nimport * as CounterActions from '../actions/counter'\n\n//state.counterpropscounter\nfunction mapStateToProps(state) {\n  return {\n    counter: state.counter\n  }\n}\n//actionprops\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(CounterActions, dispatch)\n}\n\n//react-reduxconnectstateactionsprops\nexport default connect(mapStateToProps, mapDispatchToProps)(Counter)\n\n```\n\nReduxRedux\n\n![](/css/images/148.jpg)\n\nstateactionactionreducerstate\n\n\n\n  1. `state``counter`props\n  2. actionprops\n\n## connect\n\n`connect``connect`[api](http://camsong.github.io/redux-in-chinese/docs/react-redux/api.html)\n\n  1. functionstatepropscounter\n  2. functionactionprops\n  3. \n\n\n\n```js\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport Counter from '../components/Counter'\nimport * as CounterActions from '../actions/counter'\n\n//state.counterpropscounter\nfunction mapStateToProps(state) {\n  return {\n    counter: state.counter\n  }\n}\n\n//react-reduxconnectstateactionsprops\nexport default connect(mapStateToProps, CounterActions)(Counter)\n\n```\ndispatchaction\n\n```js\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport Counter from '../components/Counter'\nimport * as CounterActions from '../actions/counter'\n\n//state.counterpropscounter\nfunction mapStateToProps(state) {\n  return {\n    counter: state.counter\n  }\n}\n\n//react-reduxconnectstateprops\nexport default connect(mapStateToProps)(Counter)\n```\n\n`dispatch()`action\n\n## actionreducerstate\n\nactions/counter.js\n\n```js\nexport const INCREMENT_COUNTER = 'INCREMENT_COUNTER'\nexport const DECREMENT_COUNTER = 'DECREMENT_COUNTER'\n//\nexport function increment() {\n  return {\n    type: INCREMENT_COUNTER\n  }\n}\n//\nexport function decrement() {\n  return {\n    type: DECREMENT_COUNTER\n  }\n}\n//dispatchgetStatedispatchactiongetStatestate\nexport function incrementIfOdd() {\n  return (dispatch, getState) => {\n    //statecounter\n    const { counter } = getState()\n\n    //\n    if (counter % 2 === 0) {\n      return\n    }\n    //\n    dispatch(increment())\n  }\n}\n//,delay,,\nexport function incrementAsync(delay = 1000) {\n  return dispatch => {\n    setTimeout(() => {\n      dispatch(increment())\n    }, delay)\n  }\n}\n\n//,,import * as actions actionsexport\n```\n\nreducers/counter.js\n\n```js\nimport { INCREMENT_COUNTER, DECREMENT_COUNTER } from '../actions/counter'\n\n//reducer,stateaction,state\nexport default function counter(state = 0, action) {\n  switch (action.type) {\n    case INCREMENT_COUNTER:\n      return state + 1\n    case DECREMENT_COUNTER:\n      return state - 1\n    default:\n      return state\n  }\n}\n```\n\nreducers/index.js\n\n```js\nimport { combineReducers } from 'redux'\nimport counter from './counter'\n\n//reduxcombineReducersreducer\nconst rootReducer = combineReducers({\n  counter\n})\n\nexport default rootReducer\n```\n\n:\n\n  1. action\n  2. reducerstate\n  3. reducer()reducer\n\nreduxReact dev toolsstateprops\n\n![](/css/images/149.jpg)\n\nactionstatestateRedux`Connect(Counter)`Stateredux\n\n![](/css/images/150.jpg)\n\n`storeState``counter`\n\n## store\n\nstore/configureStore.js\n\n```js \nimport { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport reducer from '../reducers'\n\n//applyMiddlewareredux store  dispatch\n//thunkactionfunctionaction\nconst createStoreWithMiddleware = applyMiddleware(\n  thunk\n)(createStore)\n\nexport default function configureStore(initialState) {\n  const store = createStoreWithMiddleware(reducer, initialState)\n\n  //\n  if (module.hot) {\n    // Enable Webpack hot module replacement for reducers\n    module.hot.accept('../reducers', () => {\n      const nextReducer = require('../reducers')\n      store.replaceReducer(nextReducer)\n    })\n  }\n\n  return store\n}\n```\nindex.js\n\n```js\nimport React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport App from './containers/App'\nimport configureStore from './store/configureStore'\n\nconst store = configureStore()\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n```\n\n\n  1. actionfunctionaction\n  2. Webpack hot module replacementreducer\n  3. `store`\n  4. `store``Provider`\n  5. `Provider`\n\n## applyMiddlewarethunk\n\n`applyMiddleware`Redux store  `dispatch()`\n\n`thunk`actionfunctionaction\n\n## \n\nserver.js\n\n```js\nvar webpack = require('webpack')\nvar webpackDevMiddleware = require('webpack-dev-middleware')\nvar webpackHotMiddleware = require('webpack-hot-middleware')\nvar config = require('./webpack.config')\n\nvar app = new (require('express'))()\nvar port = 3000\n\nvar compiler = webpack(config)\napp.use(webpackDevMiddleware(compiler, { noInfo: true, publicPath: config.output.publicPath }))\napp.use(webpackHotMiddleware(compiler))\n\napp.get(\"/\", function(req, res) {\n  res.sendFile(__dirname + '/index.html')\n})\n\napp.listen(port, function(error) {\n  if (error) {\n    console.error(error)\n  } else {\n    console.info(\"==>   Listening on port %s. Open up http://localhost:%s/ in your browser.\", port, port)\n  }\n})\n```\n\nwebpack.config.js\n\n```js\nvar path = require('path')\nvar webpack = require('webpack')\n\nmodule.exports = {\n  devtool: 'cheap-module-eval-source-map',\n  entry: [\n    'webpack-hot-middleware/client',\n    './index'\n  ],\n  output: {\n    path: path.join(__dirname, 'dist'),\n    filename: 'bundle.js',\n    publicPath: '/static/'\n  },\n  plugins: [\n    new webpack.optimize.OccurenceOrderPlugin(),\n    new webpack.HotModuleReplacementPlugin(),\n    new webpack.NoErrorsPlugin()\n  ],\n  module: {\n    loaders: [\n      {\n        test: /\\.js$/,\n        loaders: [ 'babel' ],\n        exclude: /node_modules/,\n        include: __dirname\n      }\n    ]\n  }\n}\n```\n\n\n`npm start` `node server` webpackwebpack\n\n  1. `OccurenceOrderPlugin`id\n  2. `HotModuleReplacementPlugin`dev-server`hot`\n  3. `NoErrorsPlugin`\n\n## webpackHotMiddleware\n\n  \nserver.js`webpackHotMiddleware`[](https://www.npmjs.com/package/webpack-hot-middleware)Express\n\n* * *\n\n## \n\n<https://github.com/lewis617/react-redux-tutorial>\n\n<http://www.liuyiqi.cn/tags/React/>\n\n","slug":"r2-counter","published":1,"updated":"2019-05-01T08:10:30.197Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvmb002ltgytz4hwaazf","content":"<p>counterReact+Redux</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/147.gif\" alt=\"\"></p>\n<p></p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/counter\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/counter</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>components/Counter.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component, PropTypes &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Counter</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    <span class=\"comment\">//props</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; increment, incrementIfOdd, incrementAsync, decrement, counter &#125; = <span class=\"keyword\">this</span>.props;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;p&gt;</span><br><span class=\"line\">        Clicked: &#123;counter&#125; times</span><br><span class=\"line\">        &#123;<span class=\"string\">' '</span>&#125;</span><br><span class=\"line\">        &lt;button onClick=&#123;increment&#125;&gt;+<span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\">        &#123;<span class=\"string\">' '</span>&#125;</span><br><span class=\"line\">        &lt;button onClick=&#123;decrement&#125;&gt;-<span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\">        &#123;<span class=\"string\">' '</span>&#125;</span><br><span class=\"line\">        &lt;button onClick=&#123;incrementIfOdd&#125;&gt;Increment <span class=\"keyword\">if</span> odd&lt;<span class=\"regexp\">/button&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">        &#123;' '&#125;</span></span><br><span class=\"line\"><span class=\"regexp\">        &lt;button onClick=&#123;() =&gt; incrementAsync()&#125;&gt;Increment async&lt;/</span>button&gt;</span><br><span class=\"line\">      &lt;<span class=\"regexp\">/p&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    )</span></span><br><span class=\"line\"><span class=\"regexp\">  &#125;</span></span><br><span class=\"line\"><span class=\"regexp\">&#125;</span></span><br><span class=\"line\"><span class=\"regexp\">/</span><span class=\"regexp\">/props</span></span><br><span class=\"line\"><span class=\"regexp\">Counter.propTypes = &#123;</span></span><br><span class=\"line\"><span class=\"regexp\">  /</span><span class=\"regexp\">/incrementfucntion,</span></span><br><span class=\"line\"><span class=\"regexp\">  increment: PropTypes.func.isRequired,</span></span><br><span class=\"line\"><span class=\"regexp\">  incrementIfOdd: PropTypes.func.isRequired,</span></span><br><span class=\"line\"><span class=\"regexp\">  incrementAsync: PropTypes.func.isRequired,</span></span><br><span class=\"line\"><span class=\"regexp\">  decrement: PropTypes.func.isRequired,</span></span><br><span class=\"line\"><span class=\"regexp\">  /</span><span class=\"regexp\">/counter</span></span><br><span class=\"line\"><span class=\"regexp\">  counter: PropTypes.number.isRequired</span></span><br><span class=\"line\"><span class=\"regexp\">&#125;;</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">export default Counter</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li>props</li>\n<li></li>\n</ol>\n<p>props</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>containers/App.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; bindActionCreators &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; connect &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react-redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> Counter <span class=\"keyword\">from</span> <span class=\"string\">'../components/Counter'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> CounterActions <span class=\"keyword\">from</span> <span class=\"string\">'../actions/counter'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//state.counterpropscounter</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">mapStateToProps</span>(<span class=\"params\">state</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    counter: state.counter</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//actionprops</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">mapDispatchToProps</span>(<span class=\"params\">dispatch</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> bindActionCreators(CounterActions, dispatch)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//react-reduxconnectstateactionsprops</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> connect(mapStateToProps, mapDispatchToProps)(Counter)</span><br></pre></td></tr></table></figure>\n<p>ReduxRedux</p>\n<p><img src=\"/css/images/148.jpg\" alt=\"\"></p>\n<p>stateactionactionreducerstate</p>\n<p></p>\n<ol>\n<li><code>state</code><code>counter</code>props</li>\n<li>actionprops</li>\n</ol>\n<h2 id=\"connect\"><a href=\"#connect\" class=\"headerlink\" title=\"connect\"></a>connect</h2><p><code>connect</code><code>connect</code><a href=\"http://camsong.github.io/redux-in-chinese/docs/react-redux/api.html\" target=\"_blank\" rel=\"noopener\">api</a></p>\n<ol>\n<li>functionstatepropscounter</li>\n<li>functionactionprops</li>\n<li></li>\n</ol>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; bindActionCreators &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; connect &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react-redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> Counter <span class=\"keyword\">from</span> <span class=\"string\">'../components/Counter'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> CounterActions <span class=\"keyword\">from</span> <span class=\"string\">'../actions/counter'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//state.counterpropscounter</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">mapStateToProps</span>(<span class=\"params\">state</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    counter: state.counter</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//react-reduxconnectstateactionsprops</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> connect(mapStateToProps, CounterActions)(Counter)</span><br></pre></td></tr></table></figure>\n<p>dispatchaction</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; bindActionCreators &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; connect &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react-redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> Counter <span class=\"keyword\">from</span> <span class=\"string\">'../components/Counter'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> CounterActions <span class=\"keyword\">from</span> <span class=\"string\">'../actions/counter'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//state.counterpropscounter</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">mapStateToProps</span>(<span class=\"params\">state</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    counter: state.counter</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//react-reduxconnectstateprops</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> connect(mapStateToProps)(Counter)</span><br></pre></td></tr></table></figure>\n<p><code>dispatch()</code>action</p>\n<h2 id=\"actionreducerstate\"><a href=\"#actionreducerstate\" class=\"headerlink\" title=\"actionreducerstate\"></a>actionreducerstate</h2><p>actions/counter.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> INCREMENT_COUNTER = <span class=\"string\">'INCREMENT_COUNTER'</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> DECREMENT_COUNTER = <span class=\"string\">'DECREMENT_COUNTER'</span></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">increment</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    type: INCREMENT_COUNTER</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">decrement</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    type: DECREMENT_COUNTER</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//dispatchgetStatedispatchactiongetStatestate</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">incrementIfOdd</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">dispatch, getState</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//statecounter</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; counter &#125; = getState()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (counter % <span class=\"number\">2</span> === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    dispatch(increment())</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//,delay,,</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">incrementAsync</span>(<span class=\"params\">delay = <span class=\"number\">1000</span></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"params\">dispatch</span> =&gt;</span> &#123;</span><br><span class=\"line\">    setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      dispatch(increment())</span><br><span class=\"line\">    &#125;, delay)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//,,import * as actions actionsexport</span></span><br></pre></td></tr></table></figure>\n<p>reducers/counter.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; INCREMENT_COUNTER, DECREMENT_COUNTER &#125; <span class=\"keyword\">from</span> <span class=\"string\">'../actions/counter'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//reducer,stateaction,state</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">counter</span>(<span class=\"params\">state = <span class=\"number\">0</span>, action</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (action.type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> INCREMENT_COUNTER:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">case</span> DECREMENT_COUNTER:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state - <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">default</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>reducers/index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; combineReducers &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> counter <span class=\"keyword\">from</span> <span class=\"string\">'./counter'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//reduxcombineReducersreducer</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> rootReducer = combineReducers(&#123;</span><br><span class=\"line\">  counter</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> rootReducer</span><br></pre></td></tr></table></figure>\n<p>:</p>\n<ol>\n<li>action</li>\n<li>reducerstate</li>\n<li>reducer()reducer</li>\n</ol>\n<p>reduxReact dev toolsstateprops</p>\n<p><img src=\"/css/images/149.jpg\" alt=\"\"></p>\n<p>actionstatestateRedux<code>Connect(Counter)</code>Stateredux</p>\n<p><img src=\"/css/images/150.jpg\" alt=\"\"></p>\n<p><code>storeState</code><code>counter</code></p>\n<h2 id=\"store\"><a href=\"#store\" class=\"headerlink\" title=\"store\"></a>store</h2><p>store/configureStore.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createStore, applyMiddleware &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> thunk <span class=\"keyword\">from</span> <span class=\"string\">'redux-thunk'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> reducer <span class=\"keyword\">from</span> <span class=\"string\">'../reducers'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//applyMiddlewareredux store  dispatch</span></span><br><span class=\"line\"><span class=\"comment\">//thunkactionfunctionaction</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> createStoreWithMiddleware = applyMiddleware(</span><br><span class=\"line\">  thunk</span><br><span class=\"line\">)(createStore)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">configureStore</span>(<span class=\"params\">initialState</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> store = createStoreWithMiddleware(reducer, initialState)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"built_in\">module</span>.hot) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Enable Webpack hot module replacement for reducers</span></span><br><span class=\"line\">    <span class=\"built_in\">module</span>.hot.accept(<span class=\"string\">'../reducers'</span>, () =&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> nextReducer = <span class=\"built_in\">require</span>(<span class=\"string\">'../reducers'</span>)</span><br><span class=\"line\">      store.replaceReducer(nextReducer)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> store</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React <span class=\"keyword\">from</span> <span class=\"string\">'react'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; render &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react-dom'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Provider &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react-redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> App <span class=\"keyword\">from</span> <span class=\"string\">'./containers/App'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> configureStore <span class=\"keyword\">from</span> <span class=\"string\">'./store/configureStore'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> store = configureStore()</span><br><span class=\"line\"></span><br><span class=\"line\">render(</span><br><span class=\"line\">  &lt;Provider store=&#123;store&#125;&gt;</span><br><span class=\"line\">    &lt;App /&gt;</span><br><span class=\"line\">  &lt;<span class=\"regexp\">/Provider&gt;,</span></span><br><span class=\"line\"><span class=\"regexp\">  document.getElementById('root')</span></span><br><span class=\"line\"><span class=\"regexp\">)</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li>actionfunctionaction</li>\n<li>Webpack hot module replacementreducer</li>\n<li><code>store</code></li>\n<li><code>store</code><code>Provider</code></li>\n<li><code>Provider</code></li>\n</ol>\n<h2 id=\"applyMiddlewarethunk\"><a href=\"#applyMiddlewarethunk\" class=\"headerlink\" title=\"applyMiddlewarethunk\"></a>applyMiddlewarethunk</h2><p><code>applyMiddleware</code>Redux store  <code>dispatch()</code></p>\n<p><code>thunk</code>actionfunctionaction</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>server.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> webpackDevMiddleware = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack-dev-middleware'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> webpackHotMiddleware = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack-hot-middleware'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> config = <span class=\"built_in\">require</span>(<span class=\"string\">'./webpack.config'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> app = <span class=\"keyword\">new</span> (<span class=\"built_in\">require</span>(<span class=\"string\">'express'</span>))()</span><br><span class=\"line\"><span class=\"keyword\">var</span> port = <span class=\"number\">3000</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> compiler = webpack(config)</span><br><span class=\"line\">app.use(webpackDevMiddleware(compiler, &#123; <span class=\"attr\">noInfo</span>: <span class=\"literal\">true</span>, <span class=\"attr\">publicPath</span>: config.output.publicPath &#125;))</span><br><span class=\"line\">app.use(webpackHotMiddleware(compiler))</span><br><span class=\"line\"></span><br><span class=\"line\">app.get(<span class=\"string\">\"/\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">req, res</span>) </span>&#123;</span><br><span class=\"line\">  res.sendFile(__dirname + <span class=\"string\">'/index.html'</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">app.listen(port, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">error</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (error) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.error(error)</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.info(<span class=\"string\">\"==&gt;   Listening on port %s. Open up http://localhost:%s/ in your browser.\"</span>, port, port)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>webpack.config.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  devtool: <span class=\"string\">'cheap-module-eval-source-map'</span>,</span><br><span class=\"line\">  entry: [</span><br><span class=\"line\">    <span class=\"string\">'webpack-hot-middleware/client'</span>,</span><br><span class=\"line\">    <span class=\"string\">'./index'</span></span><br><span class=\"line\">  ],</span><br><span class=\"line\">  output: &#123;</span><br><span class=\"line\">    path: path.join(__dirname, <span class=\"string\">'dist'</span>),</span><br><span class=\"line\">    filename: <span class=\"string\">'bundle.js'</span>,</span><br><span class=\"line\">    publicPath: <span class=\"string\">'/static/'</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  plugins: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> webpack.optimize.OccurenceOrderPlugin(),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> webpack.HotModuleReplacementPlugin(),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> webpack.NoErrorsPlugin()</span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">    loaders: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.js$/</span>,</span><br><span class=\"line\">        loaders: [ <span class=\"string\">'babel'</span> ],</span><br><span class=\"line\">        exclude: <span class=\"regexp\">/node_modules/</span>,</span><br><span class=\"line\">        include: __dirname</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>npm start</code> <code>node server</code> webpackwebpack</p>\n<ol>\n<li><code>OccurenceOrderPlugin</code>id</li>\n<li><code>HotModuleReplacementPlugin</code>dev-server<code>hot</code></li>\n<li><code>NoErrorsPlugin</code></li>\n</ol>\n<h2 id=\"webpackHotMiddleware\"><a href=\"#webpackHotMiddleware\" class=\"headerlink\" title=\"webpackHotMiddleware\"></a>webpackHotMiddleware</h2><p>server.js<code>webpackHotMiddleware</code><a href=\"https://www.npmjs.com/package/webpack-hot-middleware\" target=\"_blank\" rel=\"noopener\"></a>Express</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/React/\">http://www.liuyiqi.cn/tags/React/</a></p>\n","site":{"data":{}},"excerpt":"<p>counterReact+Redux</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/147.gif\" alt=\"\"></p>\n<p></p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/counter\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/counter</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>components/Counter.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component, PropTypes &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Counter</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    <span class=\"comment\">//props</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; increment, incrementIfOdd, incrementAsync, decrement, counter &#125; = <span class=\"keyword\">this</span>.props;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;p&gt;</span><br><span class=\"line\">        Clicked: &#123;counter&#125; times</span><br><span class=\"line\">        &#123;<span class=\"string\">' '</span>&#125;</span><br><span class=\"line\">        &lt;button onClick=&#123;increment&#125;&gt;+<span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\">        &#123;<span class=\"string\">' '</span>&#125;</span><br><span class=\"line\">        &lt;button onClick=&#123;decrement&#125;&gt;-<span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\">        &#123;<span class=\"string\">' '</span>&#125;</span><br><span class=\"line\">        &lt;button onClick=&#123;incrementIfOdd&#125;&gt;Increment <span class=\"keyword\">if</span> odd&lt;<span class=\"regexp\">/button&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">        &#123;' '&#125;</span></span><br><span class=\"line\"><span class=\"regexp\">        &lt;button onClick=&#123;() =&gt; incrementAsync()&#125;&gt;Increment async&lt;/</span>button&gt;</span><br><span class=\"line\">      &lt;<span class=\"regexp\">/p&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    )</span></span><br><span class=\"line\"><span class=\"regexp\">  &#125;</span></span><br><span class=\"line\"><span class=\"regexp\">&#125;</span></span><br><span class=\"line\"><span class=\"regexp\">/</span><span class=\"regexp\">/props</span></span><br><span class=\"line\"><span class=\"regexp\">Counter.propTypes = &#123;</span></span><br><span class=\"line\"><span class=\"regexp\">  /</span><span class=\"regexp\">/incrementfucntion,</span></span><br><span class=\"line\"><span class=\"regexp\">  increment: PropTypes.func.isRequired,</span></span><br><span class=\"line\"><span class=\"regexp\">  incrementIfOdd: PropTypes.func.isRequired,</span></span><br><span class=\"line\"><span class=\"regexp\">  incrementAsync: PropTypes.func.isRequired,</span></span><br><span class=\"line\"><span class=\"regexp\">  decrement: PropTypes.func.isRequired,</span></span><br><span class=\"line\"><span class=\"regexp\">  /</span><span class=\"regexp\">/counter</span></span><br><span class=\"line\"><span class=\"regexp\">  counter: PropTypes.number.isRequired</span></span><br><span class=\"line\"><span class=\"regexp\">&#125;;</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">export default Counter</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li>props</li>\n<li></li>\n</ol>\n<p>props</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>containers/App.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; bindActionCreators &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; connect &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react-redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> Counter <span class=\"keyword\">from</span> <span class=\"string\">'../components/Counter'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> CounterActions <span class=\"keyword\">from</span> <span class=\"string\">'../actions/counter'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//state.counterpropscounter</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">mapStateToProps</span>(<span class=\"params\">state</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    counter: state.counter</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//actionprops</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">mapDispatchToProps</span>(<span class=\"params\">dispatch</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> bindActionCreators(CounterActions, dispatch)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//react-reduxconnectstateactionsprops</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> connect(mapStateToProps, mapDispatchToProps)(Counter)</span><br></pre></td></tr></table></figure>\n<p>ReduxRedux</p>\n<p><img src=\"/css/images/148.jpg\" alt=\"\"></p>\n<p>stateactionactionreducerstate</p>\n<p></p>\n<ol>\n<li><code>state</code><code>counter</code>props</li>\n<li>actionprops</li>\n</ol>\n<h2 id=\"connect\"><a href=\"#connect\" class=\"headerlink\" title=\"connect\"></a>connect</h2><p><code>connect</code><code>connect</code><a href=\"http://camsong.github.io/redux-in-chinese/docs/react-redux/api.html\" target=\"_blank\" rel=\"noopener\">api</a></p>\n<ol>\n<li>functionstatepropscounter</li>\n<li>functionactionprops</li>\n<li></li>\n</ol>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; bindActionCreators &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; connect &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react-redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> Counter <span class=\"keyword\">from</span> <span class=\"string\">'../components/Counter'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> CounterActions <span class=\"keyword\">from</span> <span class=\"string\">'../actions/counter'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//state.counterpropscounter</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">mapStateToProps</span>(<span class=\"params\">state</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    counter: state.counter</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//react-reduxconnectstateactionsprops</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> connect(mapStateToProps, CounterActions)(Counter)</span><br></pre></td></tr></table></figure>\n<p>dispatchaction</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; bindActionCreators &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; connect &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react-redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> Counter <span class=\"keyword\">from</span> <span class=\"string\">'../components/Counter'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> CounterActions <span class=\"keyword\">from</span> <span class=\"string\">'../actions/counter'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//state.counterpropscounter</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">mapStateToProps</span>(<span class=\"params\">state</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    counter: state.counter</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//react-reduxconnectstateprops</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> connect(mapStateToProps)(Counter)</span><br></pre></td></tr></table></figure>\n<p><code>dispatch()</code>action</p>\n<h2 id=\"actionreducerstate\"><a href=\"#actionreducerstate\" class=\"headerlink\" title=\"actionreducerstate\"></a>actionreducerstate</h2><p>actions/counter.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> INCREMENT_COUNTER = <span class=\"string\">'INCREMENT_COUNTER'</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> DECREMENT_COUNTER = <span class=\"string\">'DECREMENT_COUNTER'</span></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">increment</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    type: INCREMENT_COUNTER</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">decrement</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    type: DECREMENT_COUNTER</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//dispatchgetStatedispatchactiongetStatestate</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">incrementIfOdd</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">dispatch, getState</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//statecounter</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; counter &#125; = getState()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (counter % <span class=\"number\">2</span> === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    dispatch(increment())</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//,delay,,</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">incrementAsync</span>(<span class=\"params\">delay = <span class=\"number\">1000</span></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"params\">dispatch</span> =&gt;</span> &#123;</span><br><span class=\"line\">    setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      dispatch(increment())</span><br><span class=\"line\">    &#125;, delay)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//,,import * as actions actionsexport</span></span><br></pre></td></tr></table></figure>\n<p>reducers/counter.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; INCREMENT_COUNTER, DECREMENT_COUNTER &#125; <span class=\"keyword\">from</span> <span class=\"string\">'../actions/counter'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//reducer,stateaction,state</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">counter</span>(<span class=\"params\">state = <span class=\"number\">0</span>, action</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (action.type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> INCREMENT_COUNTER:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">case</span> DECREMENT_COUNTER:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state - <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">default</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>reducers/index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; combineReducers &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> counter <span class=\"keyword\">from</span> <span class=\"string\">'./counter'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//reduxcombineReducersreducer</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> rootReducer = combineReducers(&#123;</span><br><span class=\"line\">  counter</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> rootReducer</span><br></pre></td></tr></table></figure>\n<p>:</p>\n<ol>\n<li>action</li>\n<li>reducerstate</li>\n<li>reducer()reducer</li>\n</ol>\n<p>reduxReact dev toolsstateprops</p>\n<p><img src=\"/css/images/149.jpg\" alt=\"\"></p>\n<p>actionstatestateRedux<code>Connect(Counter)</code>Stateredux</p>\n<p><img src=\"/css/images/150.jpg\" alt=\"\"></p>\n<p><code>storeState</code><code>counter</code></p>\n<h2 id=\"store\"><a href=\"#store\" class=\"headerlink\" title=\"store\"></a>store</h2><p>store/configureStore.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createStore, applyMiddleware &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> thunk <span class=\"keyword\">from</span> <span class=\"string\">'redux-thunk'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> reducer <span class=\"keyword\">from</span> <span class=\"string\">'../reducers'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//applyMiddlewareredux store  dispatch</span></span><br><span class=\"line\"><span class=\"comment\">//thunkactionfunctionaction</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> createStoreWithMiddleware = applyMiddleware(</span><br><span class=\"line\">  thunk</span><br><span class=\"line\">)(createStore)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">configureStore</span>(<span class=\"params\">initialState</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> store = createStoreWithMiddleware(reducer, initialState)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"built_in\">module</span>.hot) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Enable Webpack hot module replacement for reducers</span></span><br><span class=\"line\">    <span class=\"built_in\">module</span>.hot.accept(<span class=\"string\">'../reducers'</span>, () =&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> nextReducer = <span class=\"built_in\">require</span>(<span class=\"string\">'../reducers'</span>)</span><br><span class=\"line\">      store.replaceReducer(nextReducer)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> store</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React <span class=\"keyword\">from</span> <span class=\"string\">'react'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; render &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react-dom'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Provider &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react-redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> App <span class=\"keyword\">from</span> <span class=\"string\">'./containers/App'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> configureStore <span class=\"keyword\">from</span> <span class=\"string\">'./store/configureStore'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> store = configureStore()</span><br><span class=\"line\"></span><br><span class=\"line\">render(</span><br><span class=\"line\">  &lt;Provider store=&#123;store&#125;&gt;</span><br><span class=\"line\">    &lt;App /&gt;</span><br><span class=\"line\">  &lt;<span class=\"regexp\">/Provider&gt;,</span></span><br><span class=\"line\"><span class=\"regexp\">  document.getElementById('root')</span></span><br><span class=\"line\"><span class=\"regexp\">)</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li>actionfunctionaction</li>\n<li>Webpack hot module replacementreducer</li>\n<li><code>store</code></li>\n<li><code>store</code><code>Provider</code></li>\n<li><code>Provider</code></li>\n</ol>\n<h2 id=\"applyMiddlewarethunk\"><a href=\"#applyMiddlewarethunk\" class=\"headerlink\" title=\"applyMiddlewarethunk\"></a>applyMiddlewarethunk</h2><p><code>applyMiddleware</code>Redux store  <code>dispatch()</code></p>\n<p><code>thunk</code>actionfunctionaction</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>server.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> webpackDevMiddleware = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack-dev-middleware'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> webpackHotMiddleware = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack-hot-middleware'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> config = <span class=\"built_in\">require</span>(<span class=\"string\">'./webpack.config'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> app = <span class=\"keyword\">new</span> (<span class=\"built_in\">require</span>(<span class=\"string\">'express'</span>))()</span><br><span class=\"line\"><span class=\"keyword\">var</span> port = <span class=\"number\">3000</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> compiler = webpack(config)</span><br><span class=\"line\">app.use(webpackDevMiddleware(compiler, &#123; <span class=\"attr\">noInfo</span>: <span class=\"literal\">true</span>, <span class=\"attr\">publicPath</span>: config.output.publicPath &#125;))</span><br><span class=\"line\">app.use(webpackHotMiddleware(compiler))</span><br><span class=\"line\"></span><br><span class=\"line\">app.get(<span class=\"string\">\"/\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">req, res</span>) </span>&#123;</span><br><span class=\"line\">  res.sendFile(__dirname + <span class=\"string\">'/index.html'</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">app.listen(port, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">error</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (error) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.error(error)</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.info(<span class=\"string\">\"==&gt;   Listening on port %s. Open up http://localhost:%s/ in your browser.\"</span>, port, port)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>webpack.config.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  devtool: <span class=\"string\">'cheap-module-eval-source-map'</span>,</span><br><span class=\"line\">  entry: [</span><br><span class=\"line\">    <span class=\"string\">'webpack-hot-middleware/client'</span>,</span><br><span class=\"line\">    <span class=\"string\">'./index'</span></span><br><span class=\"line\">  ],</span><br><span class=\"line\">  output: &#123;</span><br><span class=\"line\">    path: path.join(__dirname, <span class=\"string\">'dist'</span>),</span><br><span class=\"line\">    filename: <span class=\"string\">'bundle.js'</span>,</span><br><span class=\"line\">    publicPath: <span class=\"string\">'/static/'</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  plugins: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> webpack.optimize.OccurenceOrderPlugin(),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> webpack.HotModuleReplacementPlugin(),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> webpack.NoErrorsPlugin()</span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">    loaders: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.js$/</span>,</span><br><span class=\"line\">        loaders: [ <span class=\"string\">'babel'</span> ],</span><br><span class=\"line\">        exclude: <span class=\"regexp\">/node_modules/</span>,</span><br><span class=\"line\">        include: __dirname</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>npm start</code> <code>node server</code> webpackwebpack</p>\n<ol>\n<li><code>OccurenceOrderPlugin</code>id</li>\n<li><code>HotModuleReplacementPlugin</code>dev-server<code>hot</code></li>\n<li><code>NoErrorsPlugin</code></li>\n</ol>\n<h2 id=\"webpackHotMiddleware\"><a href=\"#webpackHotMiddleware\" class=\"headerlink\" title=\"webpackHotMiddleware\"></a>webpackHotMiddleware</h2><p>server.js<code>webpackHotMiddleware</code><a href=\"https://www.npmjs.com/package/webpack-hot-middleware\" target=\"_blank\" rel=\"noopener\"></a>Express</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/React/\">http://www.liuyiqi.cn/tags/React/</a></p>"},{"title":"React  Redux Redux","date":"2016-02-03T01:00:00.000Z","_content":"\nRedux\n\n<!--more-->\n\n## \n\n![](/css/images/151.gif)\n\ntodoRedux\n\n\n\nhttps://github.com/lewis617/react-redux-tutorial/tree/master/redux-wilddog-todos\n\n\n\n```sh\nnpm install\n\nnpm run build\n```\nindex.html\n\n## Wilddog\n\nAngularFirebaseAngular\"\"Wilddog\"Firebase\"\n\nWilddogAngularRequirejsstar\n\nhttps://github.com/lewis617/wild-angular-seed\n\nhttps://github.com/lewis617/daily-task\n\nReactWilddogFirebaseAPI\n\nhttps://www.wilddog.com/\n\n## ReduxChrome\n\nReduxchromeReduxdevtoolstore\n\n```js \nexport default (initialState) => {\n  const store = compose(\n      applyMiddleware(\n          thunk,\n          createLogger()\n      ),\n      window.devToolsExtension ? window.devToolsExtension() : f => f\n  )(createStore)(reducers, initialState);\n\n  return store;\n};\n```\n\n\n\n```js\nwindow.devToolsExtension ? window.devToolsExtension() : f => f\n```\n\nchromeRedux\n\n## \n\nWebFlaskPythonFlaskJinjaNode.js\n\nNode.jsReduxReactWebpackjsjshtmlNodeNPM\n\nNode.js\n\n## todos\n\nactionhttphttpdispatchaction\n\nWilddogaction:\n\nactions.js\n\n```js\nimport Wilddog from 'wilddog/lib/wilddog-node'\n/*\n * action \n */\nexport const GET_TODO_ERROR = 'GET_TODO_ERROR';\nexport const GET_TODO_OK = 'GET_TODO_OK';\nexport const ADD_TODO_ERROR = 'ADD_TODO_ERROR';\nexport const ADD_TODO_OK = 'ADD_TODO_OK';\nexport const REMOVE_TODO_OK = 'REMOVE_TODO_OK';\nexport const REMOVE_TODO_ERROR = 'REMOVE_TODO_ERROR';\n\nlet wilddog=new Wilddog('https://redux-wilddog-todos.wilddogio.com')\n```\nWilddogtodosWilddog\n\n```js\n    \n    \nexport function getTodo() {\n  return (dispatch,getState)=>{\n\n    wilddog.child('todos').once('value',(snapshot)=>{\n      let obj=snapshot.val();\n      let array=[];\n      for(let key in obj){\n        array.push({key:key,text:obj[key].text})\n      }\n      dispatch({\n        type: GET_TODO_OK,\n        payload: array\n      })\n    },(err)=>{\n      dispatch({\n        type: GET_TODO_ERROR,\n        payload: err\n      })\n    });\n\n\n  }\n}\n```\n\n`wilddog.child('todos').once('value',function)``'todos'`dispatch`GET_TODO_OK`reducerstate`payload`dispatch`GET_TODO_ERROR`\n\njs\n\ngetTododispatchstore\n\nindex.js\n\n```js\nimport { getTodo,registerListeners} from './actions'\n\nlet store = createStore();\n\nstore.dispatch(getTodo())\n```    \n\n## todo\n\nactiontodo\n\nactions.js\n\n```js\nexport function addTodo(text) {\n  return (dispatch,getState)=>{\n\n    wilddog.child('todos').push({\n      text\n    },(err)=>{\n      if(err){dispatch({type:ADD_TODO_ERROR,payload:err})}\n    });\n  }\n}\n```\n\n`wilddog.child('todos').push()`dispatchaction\n\nactionfunctionfunctionWilddog`push`\n\nactions.js\n\n```js\nexport function registerListeners() {\n  return (dispatch, getState) => {\n\n    wilddog.child('todos').on('child_removed', snapshot => {\n      dispatch({\n        type: REMOVE_TODO_OK,\n        payload: snapshot.key()\n      })\n    });\n\n    wilddog.child('todos').on('child_added', snapshot => dispatch({\n      type: ADD_TODO_OK,\n      payload: Object.assign({},snapshot.val(),{key:snapshot.key()})\n    }));\n\n  };\n}\n```\n`wilddog.child('todos').on('child_added')`todo`ADD_TODO_OK` actiontodo`payload`reducer\n\ntodo\n\ntodos\n\nindex.js\n\n```js\nstore.dispatch(registerListeners())\n```\n\n## todo\n\nactiontodo\n\nactions.js\n\n```js\nexport function removeTodo(key) {\n  return (dispatch,getState)=>{\n\n    wilddog.child(`todos/${key}`).remove((err)=>{\n      if(err)dispatch({type:REMOVE_TODO_ERROR,payload:err})\n    });\n  }\n}\n```\nWilddog`remove`action\n\n## actionstatereducer\n\nstatestatereducer\n\nreducers.js\n\n```js    \n    \nimport { combineReducers } from 'redux'\nimport { ADD_TODO_OK, REMOVE_TODO_OK ,GET_TODO_OK} from './actions'\n\nfunction todos(state=[], action) {\n  switch (action.type) {\n    case GET_TODO_OK:\n      return action.payload\n    case ADD_TODO_OK:\n      return [\n        ...state,\n        action.payload\n      ]\n    case REMOVE_TODO_OK:\n      return state.filter((todo)=>todo.key!==action.payload\n      )\n    default:\n      return state\n  }\n}\n\nconst todoApp = combineReducers({\n  todos\n})\n\nexport default todoApp\n```\n\n\n\n\n\n![](/css/images/152.jpg)\n\nactionreducerstatestatestatedom\n\n## React\n\nReduxRedux\n\n  1. stateprops\n  2. actionprops\n  3. storeprovider\n\nReduxactionstatestateReact\n\n* * *\n\n## \n\n<https://github.com/lewis617/react-redux-tutorial>\n\n<http://www.liuyiqi.cn/tags/React/>\n","source":"_posts/r2-database.md","raw":"---\ntitle: React  Redux Redux\ndate: 2016-02-03 09:00:00\ntags: [React, Redux]\n---\n\nRedux\n\n<!--more-->\n\n## \n\n![](/css/images/151.gif)\n\ntodoRedux\n\n\n\nhttps://github.com/lewis617/react-redux-tutorial/tree/master/redux-wilddog-todos\n\n\n\n```sh\nnpm install\n\nnpm run build\n```\nindex.html\n\n## Wilddog\n\nAngularFirebaseAngular\"\"Wilddog\"Firebase\"\n\nWilddogAngularRequirejsstar\n\nhttps://github.com/lewis617/wild-angular-seed\n\nhttps://github.com/lewis617/daily-task\n\nReactWilddogFirebaseAPI\n\nhttps://www.wilddog.com/\n\n## ReduxChrome\n\nReduxchromeReduxdevtoolstore\n\n```js \nexport default (initialState) => {\n  const store = compose(\n      applyMiddleware(\n          thunk,\n          createLogger()\n      ),\n      window.devToolsExtension ? window.devToolsExtension() : f => f\n  )(createStore)(reducers, initialState);\n\n  return store;\n};\n```\n\n\n\n```js\nwindow.devToolsExtension ? window.devToolsExtension() : f => f\n```\n\nchromeRedux\n\n## \n\nWebFlaskPythonFlaskJinjaNode.js\n\nNode.jsReduxReactWebpackjsjshtmlNodeNPM\n\nNode.js\n\n## todos\n\nactionhttphttpdispatchaction\n\nWilddogaction:\n\nactions.js\n\n```js\nimport Wilddog from 'wilddog/lib/wilddog-node'\n/*\n * action \n */\nexport const GET_TODO_ERROR = 'GET_TODO_ERROR';\nexport const GET_TODO_OK = 'GET_TODO_OK';\nexport const ADD_TODO_ERROR = 'ADD_TODO_ERROR';\nexport const ADD_TODO_OK = 'ADD_TODO_OK';\nexport const REMOVE_TODO_OK = 'REMOVE_TODO_OK';\nexport const REMOVE_TODO_ERROR = 'REMOVE_TODO_ERROR';\n\nlet wilddog=new Wilddog('https://redux-wilddog-todos.wilddogio.com')\n```\nWilddogtodosWilddog\n\n```js\n    \n    \nexport function getTodo() {\n  return (dispatch,getState)=>{\n\n    wilddog.child('todos').once('value',(snapshot)=>{\n      let obj=snapshot.val();\n      let array=[];\n      for(let key in obj){\n        array.push({key:key,text:obj[key].text})\n      }\n      dispatch({\n        type: GET_TODO_OK,\n        payload: array\n      })\n    },(err)=>{\n      dispatch({\n        type: GET_TODO_ERROR,\n        payload: err\n      })\n    });\n\n\n  }\n}\n```\n\n`wilddog.child('todos').once('value',function)``'todos'`dispatch`GET_TODO_OK`reducerstate`payload`dispatch`GET_TODO_ERROR`\n\njs\n\ngetTododispatchstore\n\nindex.js\n\n```js\nimport { getTodo,registerListeners} from './actions'\n\nlet store = createStore();\n\nstore.dispatch(getTodo())\n```    \n\n## todo\n\nactiontodo\n\nactions.js\n\n```js\nexport function addTodo(text) {\n  return (dispatch,getState)=>{\n\n    wilddog.child('todos').push({\n      text\n    },(err)=>{\n      if(err){dispatch({type:ADD_TODO_ERROR,payload:err})}\n    });\n  }\n}\n```\n\n`wilddog.child('todos').push()`dispatchaction\n\nactionfunctionfunctionWilddog`push`\n\nactions.js\n\n```js\nexport function registerListeners() {\n  return (dispatch, getState) => {\n\n    wilddog.child('todos').on('child_removed', snapshot => {\n      dispatch({\n        type: REMOVE_TODO_OK,\n        payload: snapshot.key()\n      })\n    });\n\n    wilddog.child('todos').on('child_added', snapshot => dispatch({\n      type: ADD_TODO_OK,\n      payload: Object.assign({},snapshot.val(),{key:snapshot.key()})\n    }));\n\n  };\n}\n```\n`wilddog.child('todos').on('child_added')`todo`ADD_TODO_OK` actiontodo`payload`reducer\n\ntodo\n\ntodos\n\nindex.js\n\n```js\nstore.dispatch(registerListeners())\n```\n\n## todo\n\nactiontodo\n\nactions.js\n\n```js\nexport function removeTodo(key) {\n  return (dispatch,getState)=>{\n\n    wilddog.child(`todos/${key}`).remove((err)=>{\n      if(err)dispatch({type:REMOVE_TODO_ERROR,payload:err})\n    });\n  }\n}\n```\nWilddog`remove`action\n\n## actionstatereducer\n\nstatestatereducer\n\nreducers.js\n\n```js    \n    \nimport { combineReducers } from 'redux'\nimport { ADD_TODO_OK, REMOVE_TODO_OK ,GET_TODO_OK} from './actions'\n\nfunction todos(state=[], action) {\n  switch (action.type) {\n    case GET_TODO_OK:\n      return action.payload\n    case ADD_TODO_OK:\n      return [\n        ...state,\n        action.payload\n      ]\n    case REMOVE_TODO_OK:\n      return state.filter((todo)=>todo.key!==action.payload\n      )\n    default:\n      return state\n  }\n}\n\nconst todoApp = combineReducers({\n  todos\n})\n\nexport default todoApp\n```\n\n\n\n\n\n![](/css/images/152.jpg)\n\nactionreducerstatestatestatedom\n\n## React\n\nReduxRedux\n\n  1. stateprops\n  2. actionprops\n  3. storeprovider\n\nReduxactionstatestateReact\n\n* * *\n\n## \n\n<https://github.com/lewis617/react-redux-tutorial>\n\n<http://www.liuyiqi.cn/tags/React/>\n","slug":"r2-database","published":1,"updated":"2019-05-01T08:10:30.217Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvmc002ntgytfauad7uo","content":"<p>Redux</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/151.gif\" alt=\"\"></p>\n<p>todoRedux</p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/react-redux-tutorial/tree/master/redux-wilddog-todos\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial/tree/master/redux-wilddog-todos</a></p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install</span><br><span class=\"line\"></span><br><span class=\"line\">npm run build</span><br></pre></td></tr></table></figure>\n<p>index.html</p>\n<h2 id=\"Wilddog\"><a href=\"#Wilddog\" class=\"headerlink\" title=\"Wilddog\"></a>Wilddog</h2><p>AngularFirebaseAngularWilddogFirebase</p>\n<p>WilddogAngularRequirejsstar</p>\n<p><a href=\"https://github.com/lewis617/wild-angular-seed\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/wild-angular-seed</a></p>\n<p><a href=\"https://github.com/lewis617/daily-task\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/daily-task</a></p>\n<p>ReactWilddogFirebaseAPI</p>\n<p><a href=\"https://www.wilddog.com/\" target=\"_blank\" rel=\"noopener\">https://www.wilddog.com/</a></p>\n<h2 id=\"ReduxChrome\"><a href=\"#ReduxChrome\" class=\"headerlink\" title=\"ReduxChrome\"></a>ReduxChrome</h2><p>ReduxchromeReduxdevtoolstore</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> (initialState) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> store = compose(</span><br><span class=\"line\">      applyMiddleware(</span><br><span class=\"line\">          thunk,</span><br><span class=\"line\">          createLogger()</span><br><span class=\"line\">      ),</span><br><span class=\"line\">      <span class=\"built_in\">window</span>.devToolsExtension ? <span class=\"built_in\">window</span>.devToolsExtension() : <span class=\"function\"><span class=\"params\">f</span> =&gt;</span> f</span><br><span class=\"line\">  )(createStore)(reducers, initialState);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> store;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">window</span>.devToolsExtension ? <span class=\"built_in\">window</span>.devToolsExtension() : <span class=\"function\"><span class=\"params\">f</span> =&gt;</span> f</span><br></pre></td></tr></table></figure>\n<p>chromeRedux</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>WebFlaskPythonFlaskJinjaNode.js</p>\n<p>Node.jsReduxReactWebpackjsjshtmlNodeNPM</p>\n<p>Node.js</p>\n<h2 id=\"todos\"><a href=\"#todos\" class=\"headerlink\" title=\"todos\"></a>todos</h2><p>actionhttphttpdispatchaction</p>\n<p>Wilddogaction:</p>\n<p>actions.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> Wilddog <span class=\"keyword\">from</span> <span class=\"string\">'wilddog/lib/wilddog-node'</span></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * action </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> GET_TODO_ERROR = <span class=\"string\">'GET_TODO_ERROR'</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> GET_TODO_OK = <span class=\"string\">'GET_TODO_OK'</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> ADD_TODO_ERROR = <span class=\"string\">'ADD_TODO_ERROR'</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> ADD_TODO_OK = <span class=\"string\">'ADD_TODO_OK'</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> REMOVE_TODO_OK = <span class=\"string\">'REMOVE_TODO_OK'</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> REMOVE_TODO_ERROR = <span class=\"string\">'REMOVE_TODO_ERROR'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> wilddog=<span class=\"keyword\">new</span> Wilddog(<span class=\"string\">'https://redux-wilddog-todos.wilddogio.com'</span>)</span><br></pre></td></tr></table></figure>\n<p>WilddogtodosWilddog</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getTodo</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">dispatch,getState</span>)=&gt;</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    wilddog.child(<span class=\"string\">'todos'</span>).once(<span class=\"string\">'value'</span>,(snapshot)=&gt;&#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> obj=snapshot.val();</span><br><span class=\"line\">      <span class=\"keyword\">let</span> array=[];</span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> key <span class=\"keyword\">in</span> obj)&#123;</span><br><span class=\"line\">        array.push(&#123;<span class=\"attr\">key</span>:key,<span class=\"attr\">text</span>:obj[key].text&#125;)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      dispatch(&#123;</span><br><span class=\"line\">        type: GET_TODO_OK,</span><br><span class=\"line\">        payload: array</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,(err)=&gt;&#123;</span><br><span class=\"line\">      dispatch(&#123;</span><br><span class=\"line\">        type: GET_TODO_ERROR,</span><br><span class=\"line\">        payload: err</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>wilddog.child(&#39;todos&#39;).once(&#39;value&#39;,function)</code><code>&#39;todos&#39;</code>dispatch<code>GET_TODO_OK</code>reducerstate<code>payload</code>dispatch<code>GET_TODO_ERROR</code></p>\n<p>js</p>\n<p>getTododispatchstore</p>\n<p>index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; getTodo,registerListeners&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./actions'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> store = createStore();</span><br><span class=\"line\"></span><br><span class=\"line\">store.dispatch(getTodo())</span><br><span class=\"line\"><span class=\"string\">``</span><span class=\"string\">`    </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">## todo</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">actiontodo</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">actions.js</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">`</span><span class=\"string\">``</span>js</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addTodo</span>(<span class=\"params\">text</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">dispatch,getState</span>)=&gt;</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    wilddog.child(<span class=\"string\">'todos'</span>).push(&#123;</span><br><span class=\"line\">      text</span><br><span class=\"line\">    &#125;,(err)=&gt;&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(err)&#123;dispatch(&#123;<span class=\"attr\">type</span>:ADD_TODO_ERROR,<span class=\"attr\">payload</span>:err&#125;)&#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>wilddog.child(&#39;todos&#39;).push()</code>dispatchaction</p>\n<p>actionfunctionfunctionWilddog<code>push</code></p>\n<p>actions.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">registerListeners</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">dispatch, getState</span>) =&gt;</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    wilddog.child(<span class=\"string\">'todos'</span>).on(<span class=\"string\">'child_removed'</span>, snapshot =&gt; &#123;</span><br><span class=\"line\">      dispatch(&#123;</span><br><span class=\"line\">        type: REMOVE_TODO_OK,</span><br><span class=\"line\">        payload: snapshot.key()</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    wilddog.child(<span class=\"string\">'todos'</span>).on(<span class=\"string\">'child_added'</span>, snapshot =&gt; dispatch(&#123;</span><br><span class=\"line\">      type: ADD_TODO_OK,</span><br><span class=\"line\">      payload: <span class=\"built_in\">Object</span>.assign(&#123;&#125;,snapshot.val(),&#123;<span class=\"attr\">key</span>:snapshot.key()&#125;)</span><br><span class=\"line\">    &#125;));</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>wilddog.child(&#39;todos&#39;).on(&#39;child_added&#39;)</code>todo<code>ADD_TODO_OK</code> actiontodo<code>payload</code>reducer</p>\n<p>todo</p>\n<p>todos</p>\n<p>index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">store.dispatch(registerListeners())</span><br></pre></td></tr></table></figure>\n<h2 id=\"todo\"><a href=\"#todo\" class=\"headerlink\" title=\"todo\"></a>todo</h2><p>actiontodo</p>\n<p>actions.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">removeTodo</span>(<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">dispatch,getState</span>)=&gt;</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    wilddog.child(<span class=\"string\">`todos/<span class=\"subst\">$&#123;key&#125;</span>`</span>).remove(<span class=\"function\">(<span class=\"params\">err</span>)=&gt;</span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(err)dispatch(&#123;<span class=\"attr\">type</span>:REMOVE_TODO_ERROR,<span class=\"attr\">payload</span>:err&#125;)</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Wilddog<code>remove</code>action</p>\n<h2 id=\"actionstatereducer\"><a href=\"#actionstatereducer\" class=\"headerlink\" title=\"actionstatereducer\"></a>actionstatereducer</h2><p>statestatereducer</p>\n<p>reducers.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    </span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; combineReducers &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; ADD_TODO_OK, REMOVE_TODO_OK ,GET_TODO_OK&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./actions'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">todos</span>(<span class=\"params\">state=[], action</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (action.type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> GET_TODO_OK:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> action.payload</span><br><span class=\"line\">    <span class=\"keyword\">case</span> ADD_TODO_OK:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> [</span><br><span class=\"line\">        ...state,</span><br><span class=\"line\">        action.payload</span><br><span class=\"line\">      ]</span><br><span class=\"line\">    <span class=\"keyword\">case</span> REMOVE_TODO_OK:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state.filter(<span class=\"function\">(<span class=\"params\">todo</span>)=&gt;</span>todo.key!==action.payload</span><br><span class=\"line\">      )</span><br><span class=\"line\">    <span class=\"keyword\">default</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> todoApp = combineReducers(&#123;</span><br><span class=\"line\">  todos</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> todoApp</span><br></pre></td></tr></table></figure>\n<p></p>\n<p></p>\n<p><img src=\"/css/images/152.jpg\" alt=\"\"></p>\n<p>actionreducerstatestatestatedom</p>\n<h2 id=\"React\"><a href=\"#React\" class=\"headerlink\" title=\"React\"></a>React</h2><p>ReduxRedux</p>\n<ol>\n<li>stateprops</li>\n<li>actionprops</li>\n<li>storeprovider</li>\n</ol>\n<p>ReduxactionstatestateReact</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/React/\">http://www.liuyiqi.cn/tags/React/</a></p>\n","site":{"data":{}},"excerpt":"<p>Redux</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/151.gif\" alt=\"\"></p>\n<p>todoRedux</p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/react-redux-tutorial/tree/master/redux-wilddog-todos\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial/tree/master/redux-wilddog-todos</a></p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install</span><br><span class=\"line\"></span><br><span class=\"line\">npm run build</span><br></pre></td></tr></table></figure>\n<p>index.html</p>\n<h2 id=\"Wilddog\"><a href=\"#Wilddog\" class=\"headerlink\" title=\"Wilddog\"></a>Wilddog</h2><p>AngularFirebaseAngularWilddogFirebase</p>\n<p>WilddogAngularRequirejsstar</p>\n<p><a href=\"https://github.com/lewis617/wild-angular-seed\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/wild-angular-seed</a></p>\n<p><a href=\"https://github.com/lewis617/daily-task\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/daily-task</a></p>\n<p>ReactWilddogFirebaseAPI</p>\n<p><a href=\"https://www.wilddog.com/\" target=\"_blank\" rel=\"noopener\">https://www.wilddog.com/</a></p>\n<h2 id=\"ReduxChrome\"><a href=\"#ReduxChrome\" class=\"headerlink\" title=\"ReduxChrome\"></a>ReduxChrome</h2><p>ReduxchromeReduxdevtoolstore</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> (initialState) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> store = compose(</span><br><span class=\"line\">      applyMiddleware(</span><br><span class=\"line\">          thunk,</span><br><span class=\"line\">          createLogger()</span><br><span class=\"line\">      ),</span><br><span class=\"line\">      <span class=\"built_in\">window</span>.devToolsExtension ? <span class=\"built_in\">window</span>.devToolsExtension() : <span class=\"function\"><span class=\"params\">f</span> =&gt;</span> f</span><br><span class=\"line\">  )(createStore)(reducers, initialState);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> store;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">window</span>.devToolsExtension ? <span class=\"built_in\">window</span>.devToolsExtension() : <span class=\"function\"><span class=\"params\">f</span> =&gt;</span> f</span><br></pre></td></tr></table></figure>\n<p>chromeRedux</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>WebFlaskPythonFlaskJinjaNode.js</p>\n<p>Node.jsReduxReactWebpackjsjshtmlNodeNPM</p>\n<p>Node.js</p>\n<h2 id=\"todos\"><a href=\"#todos\" class=\"headerlink\" title=\"todos\"></a>todos</h2><p>actionhttphttpdispatchaction</p>\n<p>Wilddogaction:</p>\n<p>actions.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> Wilddog <span class=\"keyword\">from</span> <span class=\"string\">'wilddog/lib/wilddog-node'</span></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * action </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> GET_TODO_ERROR = <span class=\"string\">'GET_TODO_ERROR'</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> GET_TODO_OK = <span class=\"string\">'GET_TODO_OK'</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> ADD_TODO_ERROR = <span class=\"string\">'ADD_TODO_ERROR'</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> ADD_TODO_OK = <span class=\"string\">'ADD_TODO_OK'</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> REMOVE_TODO_OK = <span class=\"string\">'REMOVE_TODO_OK'</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> REMOVE_TODO_ERROR = <span class=\"string\">'REMOVE_TODO_ERROR'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> wilddog=<span class=\"keyword\">new</span> Wilddog(<span class=\"string\">'https://redux-wilddog-todos.wilddogio.com'</span>)</span><br></pre></td></tr></table></figure>\n<p>WilddogtodosWilddog</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getTodo</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">dispatch,getState</span>)=&gt;</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    wilddog.child(<span class=\"string\">'todos'</span>).once(<span class=\"string\">'value'</span>,(snapshot)=&gt;&#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> obj=snapshot.val();</span><br><span class=\"line\">      <span class=\"keyword\">let</span> array=[];</span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> key <span class=\"keyword\">in</span> obj)&#123;</span><br><span class=\"line\">        array.push(&#123;<span class=\"attr\">key</span>:key,<span class=\"attr\">text</span>:obj[key].text&#125;)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      dispatch(&#123;</span><br><span class=\"line\">        type: GET_TODO_OK,</span><br><span class=\"line\">        payload: array</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,(err)=&gt;&#123;</span><br><span class=\"line\">      dispatch(&#123;</span><br><span class=\"line\">        type: GET_TODO_ERROR,</span><br><span class=\"line\">        payload: err</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>wilddog.child(&#39;todos&#39;).once(&#39;value&#39;,function)</code><code>&#39;todos&#39;</code>dispatch<code>GET_TODO_OK</code>reducerstate<code>payload</code>dispatch<code>GET_TODO_ERROR</code></p>\n<p>js</p>\n<p>getTododispatchstore</p>\n<p>index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; getTodo,registerListeners&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./actions'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> store = createStore();</span><br><span class=\"line\"></span><br><span class=\"line\">store.dispatch(getTodo())</span><br><span class=\"line\"><span class=\"string\">``</span><span class=\"string\">`    </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">## todo</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">actiontodo</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">actions.js</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">`</span><span class=\"string\">``</span>js</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addTodo</span>(<span class=\"params\">text</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">dispatch,getState</span>)=&gt;</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    wilddog.child(<span class=\"string\">'todos'</span>).push(&#123;</span><br><span class=\"line\">      text</span><br><span class=\"line\">    &#125;,(err)=&gt;&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(err)&#123;dispatch(&#123;<span class=\"attr\">type</span>:ADD_TODO_ERROR,<span class=\"attr\">payload</span>:err&#125;)&#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>wilddog.child(&#39;todos&#39;).push()</code>dispatchaction</p>\n<p>actionfunctionfunctionWilddog<code>push</code></p>\n<p>actions.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">registerListeners</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">dispatch, getState</span>) =&gt;</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    wilddog.child(<span class=\"string\">'todos'</span>).on(<span class=\"string\">'child_removed'</span>, snapshot =&gt; &#123;</span><br><span class=\"line\">      dispatch(&#123;</span><br><span class=\"line\">        type: REMOVE_TODO_OK,</span><br><span class=\"line\">        payload: snapshot.key()</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    wilddog.child(<span class=\"string\">'todos'</span>).on(<span class=\"string\">'child_added'</span>, snapshot =&gt; dispatch(&#123;</span><br><span class=\"line\">      type: ADD_TODO_OK,</span><br><span class=\"line\">      payload: <span class=\"built_in\">Object</span>.assign(&#123;&#125;,snapshot.val(),&#123;<span class=\"attr\">key</span>:snapshot.key()&#125;)</span><br><span class=\"line\">    &#125;));</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>wilddog.child(&#39;todos&#39;).on(&#39;child_added&#39;)</code>todo<code>ADD_TODO_OK</code> actiontodo<code>payload</code>reducer</p>\n<p>todo</p>\n<p>todos</p>\n<p>index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">store.dispatch(registerListeners())</span><br></pre></td></tr></table></figure>\n<h2 id=\"todo\"><a href=\"#todo\" class=\"headerlink\" title=\"todo\"></a>todo</h2><p>actiontodo</p>\n<p>actions.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">removeTodo</span>(<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">dispatch,getState</span>)=&gt;</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    wilddog.child(<span class=\"string\">`todos/<span class=\"subst\">$&#123;key&#125;</span>`</span>).remove(<span class=\"function\">(<span class=\"params\">err</span>)=&gt;</span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(err)dispatch(&#123;<span class=\"attr\">type</span>:REMOVE_TODO_ERROR,<span class=\"attr\">payload</span>:err&#125;)</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Wilddog<code>remove</code>action</p>\n<h2 id=\"actionstatereducer\"><a href=\"#actionstatereducer\" class=\"headerlink\" title=\"actionstatereducer\"></a>actionstatereducer</h2><p>statestatereducer</p>\n<p>reducers.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    </span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; combineReducers &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; ADD_TODO_OK, REMOVE_TODO_OK ,GET_TODO_OK&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./actions'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">todos</span>(<span class=\"params\">state=[], action</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (action.type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> GET_TODO_OK:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> action.payload</span><br><span class=\"line\">    <span class=\"keyword\">case</span> ADD_TODO_OK:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> [</span><br><span class=\"line\">        ...state,</span><br><span class=\"line\">        action.payload</span><br><span class=\"line\">      ]</span><br><span class=\"line\">    <span class=\"keyword\">case</span> REMOVE_TODO_OK:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state.filter(<span class=\"function\">(<span class=\"params\">todo</span>)=&gt;</span>todo.key!==action.payload</span><br><span class=\"line\">      )</span><br><span class=\"line\">    <span class=\"keyword\">default</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> todoApp = combineReducers(&#123;</span><br><span class=\"line\">  todos</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> todoApp</span><br></pre></td></tr></table></figure>\n<p></p>\n<p></p>\n<p><img src=\"/css/images/152.jpg\" alt=\"\"></p>\n<p>actionreducerstatestatestatedom</p>\n<h2 id=\"React\"><a href=\"#React\" class=\"headerlink\" title=\"React\"></a>React</h2><p>ReduxRedux</p>\n<ol>\n<li>stateprops</li>\n<li>actionprops</li>\n<li>storeprovider</li>\n</ol>\n<p>ReduxactionstatestateReact</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/React/\">http://www.liuyiqi.cn/tags/React/</a></p>"},{"title":"React  Redux Redux","date":"2016-02-02T00:20:00.000Z","_content":"\nRedux\n\n<!--more-->\n\n# \n\nreal-worldgithub\n\n![](/css/images/153.jpg)\n\n\n\nhttps://github.com/lewis617/react-redux-tutorialt/tree/master/redux-examples/real-world\n\n# Redux\n\nRedux`store``next``action`\n\n`next`\"\"`next``store``action``store``store``store``dispatch``getState``action``dispatch``dispatch``dispatch``action`\n\n\n\nmiddleware/api.js\n\n```js\n// A Redux middleware that interprets actions with CALL_API info specified.\n// Performs the call and promises when such actions are dispatched.\nexport default store => next => action => {\n  const callAPI = action[CALL_API]\n  if (typeof callAPI === 'undefined') {\n    return next(action)\n  }\n\n  let { endpoint } = callAPI\n  const { schema, types } = callAPI\n\n  if (typeof endpoint === 'function') {\n    endpoint = endpoint(store.getState())\n  }\n\n  if (typeof endpoint !== 'string') {\n    throw new Error('Specify a string endpoint URL.')\n  }\n  if (!schema) {\n    throw new Error('Specify one of the exported Schemas.')\n  }\n  if (!Array.isArray(types) || types.length !== 3) {\n    throw new Error('Expected an array of three action types.')\n  }\n  if (!types.every(type => typeof type === 'string')) {\n    throw new Error('Expected action types to be strings.')\n  }\n\n  function actionWith(data) {\n    const finalAction = Object.assign({}, action, data)\n    delete finalAction[CALL_API]\n    return finalAction\n  }\n\n  const [ requestType, successType, failureType ] = types\n  next(actionWith({ type: requestType }))\n\n  return callApi(endpoint, schema).then(\n    response => next(actionWith({\n      response,\n      type: successType\n    })),\n    error => next(actionWith({\n      type: failureType,\n      error: error.message || 'Something bad happened'\n    }))\n  )\n}\n```\n\n`store => next => action =>`function{}`dispatch``next`\n\n# \n\njs`()``()``aaa()()()``aaa()``aaa()()``aaa()()()`\n\n`configStore``applyMiddleware`\n\n```js\napplyMiddleware(thunk, api)\n```\nRedux\n\nnode_modules/redux/src/applyMiddleware.js\n\n```js\nexport default function applyMiddleware(...middlewares) {\n  return (createStore) => (reducer, initialState, enhancer) => {\n    var store = createStore(reducer, initialState, enhancer)\n    var dispatch = store.dispatch\n    var chain = []\n\n    var middlewareAPI = {\n      getState: store.getState,\n      dispatch: (action) => dispatch(action)\n    }\n    chain = middlewares.map(middleware => middleware(middlewareAPI))\n    dispatch = compose(...chain)(store.dispatch)\n\n    return {\n      ...store,\n      dispatch\n    }\n  }\n}\n```\n\n\n```js\nchain = middlewares.map(middleware => middleware(middlewareAPI))\n```\n\n`middlewares``store``store``middlewareAPI`\n\n```js\nvar middlewareAPI = {\n  getState: store.getState,\n  dispatch: (action) => dispatch(action)\n}\n```\n\n\n\n\n```js\ndispatch = compose(...chain)(store.dispatch)\n```\n`compose`Promise\n\n`chain`...`compose``(store.dispatch)``dispatch``dispatch`\n\n`dispatch``action`\n\n# \n\n`next()`expressRedux`next()``dispatch`\n\n`next()``dispatch`\n\n# \n\n\n\n## action\n\naction`fetchUser`\n\nactions/index.js\n\n```js\nimport { CALL_API, Schemas } from '../middleware/api'\n\nexport const USER_REQUEST = 'USER_REQUEST'\nexport const USER_SUCCESS = 'USER_SUCCESS'\nexport const USER_FAILURE = 'USER_FAILURE'\n\n// Fetches a single user from Github API.\n// Relies on the custom API middleware defined in ../middleware/api.js.\nfunction fetchUser(login) {\n  return {\n    [CALL_API]: {\n      types: [ USER_REQUEST, USER_SUCCESS, USER_FAILURE ],\n      endpoint: `users/${login}`,\n      schema: Schemas.USER\n    }\n  }\n}\n\n// Fetches a single user from Github API unless it is cached.\n// Relies on Redux Thunk middleware.\nexport function loadUser(login, requiredFields = []) {\n  return (dispatch, getState) => {\n    const user = getState().entities.users[login]\n    if (user && requiredFields.every(key => user.hasOwnProperty(key))) {\n      return null\n    }\n\n    return dispatch(fetchUser(login))\n  }\n}\n```\naction\"\"`fetchUser`\n\n`console.log`action\n\n```js\nconsole.log('action:',action);\nconst callAPI = action[CALL_API]\n```\n![](/css/images/154.jpg)\n\ninitRoutesactionSymbolactionaction\n\n## Symbol\n\nSymbol`CALL_API`Symbol\n\nmiddleware/api.js\n\n```js    \n// Action key that carries API call info interpreted by this Redux middleware.\nexport const CALL_API = Symbol('Call API')\n```\n\nSymbolSymbolkey\nSymbolObject.assign\n{},Symbol\n\n## \n\naction\n\nmiddleware/api.js\n\n```js\nif (typeof endpoint === 'function') {\nendpoint = endpoint(store.getState())\n}\n\nif (typeof endpoint !== 'string') {\n  throw new Error('Specify a string endpoint URL.')\n}\nif (!schema) {\n  throw new Error('Specify one of the exported Schemas.')\n}\nif (!Array.isArray(types) || types.length !== 3) {\n  throw new Error('Expected an array of three action types.')\n}\nif (!types.every(type => typeof type === 'string')) {\n  throw new Error('Expected action types to be strings.')\n}\n```\n\n\n\n\n## action\n\nactionajaxaction\n\n```js\n    \nfunction actionWith(data) {\n  const finalAction = Object.assign({}, action, data)\n  delete finalAction[CALL_API]\n  return finalAction\n}\n\nconst [ requestType, successType, failureType ] = types\nnext(actionWith({ type: requestType }))\n\n```   \n\n## ajaxaction\n\n```js\n    \nreturn callApi(endpoint, schema).then(\n\tresponse => next(actionWith({\n\t  response,\n\t  type: successType\n\t})),\n\terror => next(actionWith({\n\t  type: failureType,\n\t  error: error.message || 'Something bad happened'\n\t}))\n  )\n```\n    \n\n## \n\naction\n\n![](/css/images/155.jpg)\n\n\n* * *\n\n# \n\nhttp://www.liuyiqi.cn/2016/12/10/react-redux-tutorial-catalog/\n\n\n\n","source":"_posts/r2-middleware.md","raw":"---\ntitle: React  Redux Redux\ndate: 2016-02-02 08:20:00\ntags: [React, Redux]\n---\n\nRedux\n\n<!--more-->\n\n# \n\nreal-worldgithub\n\n![](/css/images/153.jpg)\n\n\n\nhttps://github.com/lewis617/react-redux-tutorialt/tree/master/redux-examples/real-world\n\n# Redux\n\nRedux`store``next``action`\n\n`next`\"\"`next``store``action``store``store``store``dispatch``getState``action``dispatch``dispatch``dispatch``action`\n\n\n\nmiddleware/api.js\n\n```js\n// A Redux middleware that interprets actions with CALL_API info specified.\n// Performs the call and promises when such actions are dispatched.\nexport default store => next => action => {\n  const callAPI = action[CALL_API]\n  if (typeof callAPI === 'undefined') {\n    return next(action)\n  }\n\n  let { endpoint } = callAPI\n  const { schema, types } = callAPI\n\n  if (typeof endpoint === 'function') {\n    endpoint = endpoint(store.getState())\n  }\n\n  if (typeof endpoint !== 'string') {\n    throw new Error('Specify a string endpoint URL.')\n  }\n  if (!schema) {\n    throw new Error('Specify one of the exported Schemas.')\n  }\n  if (!Array.isArray(types) || types.length !== 3) {\n    throw new Error('Expected an array of three action types.')\n  }\n  if (!types.every(type => typeof type === 'string')) {\n    throw new Error('Expected action types to be strings.')\n  }\n\n  function actionWith(data) {\n    const finalAction = Object.assign({}, action, data)\n    delete finalAction[CALL_API]\n    return finalAction\n  }\n\n  const [ requestType, successType, failureType ] = types\n  next(actionWith({ type: requestType }))\n\n  return callApi(endpoint, schema).then(\n    response => next(actionWith({\n      response,\n      type: successType\n    })),\n    error => next(actionWith({\n      type: failureType,\n      error: error.message || 'Something bad happened'\n    }))\n  )\n}\n```\n\n`store => next => action =>`function{}`dispatch``next`\n\n# \n\njs`()``()``aaa()()()``aaa()``aaa()()``aaa()()()`\n\n`configStore``applyMiddleware`\n\n```js\napplyMiddleware(thunk, api)\n```\nRedux\n\nnode_modules/redux/src/applyMiddleware.js\n\n```js\nexport default function applyMiddleware(...middlewares) {\n  return (createStore) => (reducer, initialState, enhancer) => {\n    var store = createStore(reducer, initialState, enhancer)\n    var dispatch = store.dispatch\n    var chain = []\n\n    var middlewareAPI = {\n      getState: store.getState,\n      dispatch: (action) => dispatch(action)\n    }\n    chain = middlewares.map(middleware => middleware(middlewareAPI))\n    dispatch = compose(...chain)(store.dispatch)\n\n    return {\n      ...store,\n      dispatch\n    }\n  }\n}\n```\n\n\n```js\nchain = middlewares.map(middleware => middleware(middlewareAPI))\n```\n\n`middlewares``store``store``middlewareAPI`\n\n```js\nvar middlewareAPI = {\n  getState: store.getState,\n  dispatch: (action) => dispatch(action)\n}\n```\n\n\n\n\n```js\ndispatch = compose(...chain)(store.dispatch)\n```\n`compose`Promise\n\n`chain`...`compose``(store.dispatch)``dispatch``dispatch`\n\n`dispatch``action`\n\n# \n\n`next()`expressRedux`next()``dispatch`\n\n`next()``dispatch`\n\n# \n\n\n\n## action\n\naction`fetchUser`\n\nactions/index.js\n\n```js\nimport { CALL_API, Schemas } from '../middleware/api'\n\nexport const USER_REQUEST = 'USER_REQUEST'\nexport const USER_SUCCESS = 'USER_SUCCESS'\nexport const USER_FAILURE = 'USER_FAILURE'\n\n// Fetches a single user from Github API.\n// Relies on the custom API middleware defined in ../middleware/api.js.\nfunction fetchUser(login) {\n  return {\n    [CALL_API]: {\n      types: [ USER_REQUEST, USER_SUCCESS, USER_FAILURE ],\n      endpoint: `users/${login}`,\n      schema: Schemas.USER\n    }\n  }\n}\n\n// Fetches a single user from Github API unless it is cached.\n// Relies on Redux Thunk middleware.\nexport function loadUser(login, requiredFields = []) {\n  return (dispatch, getState) => {\n    const user = getState().entities.users[login]\n    if (user && requiredFields.every(key => user.hasOwnProperty(key))) {\n      return null\n    }\n\n    return dispatch(fetchUser(login))\n  }\n}\n```\naction\"\"`fetchUser`\n\n`console.log`action\n\n```js\nconsole.log('action:',action);\nconst callAPI = action[CALL_API]\n```\n![](/css/images/154.jpg)\n\ninitRoutesactionSymbolactionaction\n\n## Symbol\n\nSymbol`CALL_API`Symbol\n\nmiddleware/api.js\n\n```js    \n// Action key that carries API call info interpreted by this Redux middleware.\nexport const CALL_API = Symbol('Call API')\n```\n\nSymbolSymbolkey\nSymbolObject.assign\n{},Symbol\n\n## \n\naction\n\nmiddleware/api.js\n\n```js\nif (typeof endpoint === 'function') {\nendpoint = endpoint(store.getState())\n}\n\nif (typeof endpoint !== 'string') {\n  throw new Error('Specify a string endpoint URL.')\n}\nif (!schema) {\n  throw new Error('Specify one of the exported Schemas.')\n}\nif (!Array.isArray(types) || types.length !== 3) {\n  throw new Error('Expected an array of three action types.')\n}\nif (!types.every(type => typeof type === 'string')) {\n  throw new Error('Expected action types to be strings.')\n}\n```\n\n\n\n\n## action\n\nactionajaxaction\n\n```js\n    \nfunction actionWith(data) {\n  const finalAction = Object.assign({}, action, data)\n  delete finalAction[CALL_API]\n  return finalAction\n}\n\nconst [ requestType, successType, failureType ] = types\nnext(actionWith({ type: requestType }))\n\n```   \n\n## ajaxaction\n\n```js\n    \nreturn callApi(endpoint, schema).then(\n\tresponse => next(actionWith({\n\t  response,\n\t  type: successType\n\t})),\n\terror => next(actionWith({\n\t  type: failureType,\n\t  error: error.message || 'Something bad happened'\n\t}))\n  )\n```\n    \n\n## \n\naction\n\n![](/css/images/155.jpg)\n\n\n* * *\n\n# \n\nhttp://www.liuyiqi.cn/2016/12/10/react-redux-tutorial-catalog/\n\n\n\n","slug":"r2-middleware","published":1,"updated":"2019-05-01T08:10:30.237Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvmd002otgytcjvygyxg","content":"<p>Redux</p>\n<a id=\"more\"></a>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>real-worldgithub</p>\n<p><img src=\"/css/images/153.jpg\" alt=\"\"></p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/react-redux-tutorialt/tree/master/redux-examples/real-world\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorialt/tree/master/redux-examples/real-world</a></p>\n<h1 id=\"Redux\"><a href=\"#Redux\" class=\"headerlink\" title=\"Redux\"></a>Redux</h1><p>Redux<code>store</code><code>next</code><code>action</code></p>\n<p><code>next</code><code>next</code><code>store</code><code>action</code><code>store</code><code>store</code><code>store</code><code>dispatch</code><code>getState</code><code>action</code><code>dispatch</code><code>dispatch</code><code>dispatch</code><code>action</code></p>\n<p></p>\n<p>middleware/api.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// A Redux middleware that interprets actions with CALL_API info specified.</span></span><br><span class=\"line\"><span class=\"comment\">// Performs the call and promises when such actions are dispatched.</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> store =&gt; <span class=\"function\"><span class=\"params\">next</span> =&gt;</span> action =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> callAPI = action[CALL_API]</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> callAPI === <span class=\"string\">'undefined'</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> next(action)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">let</span> &#123; endpoint &#125; = callAPI</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; schema, types &#125; = callAPI</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> endpoint === <span class=\"string\">'function'</span>) &#123;</span><br><span class=\"line\">    endpoint = endpoint(store.getState())</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> endpoint !== <span class=\"string\">'string'</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'Specify a string endpoint URL.'</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!schema) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'Specify one of the exported Schemas.'</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!<span class=\"built_in\">Array</span>.isArray(types) || types.length !== <span class=\"number\">3</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'Expected an array of three action types.'</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!types.every(<span class=\"function\"><span class=\"params\">type</span> =&gt;</span> <span class=\"keyword\">typeof</span> type === <span class=\"string\">'string'</span>)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'Expected action types to be strings.'</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">actionWith</span>(<span class=\"params\">data</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> finalAction = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, action, data)</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> finalAction[CALL_API]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> finalAction</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> [ requestType, successType, failureType ] = types</span><br><span class=\"line\">  next(actionWith(&#123; <span class=\"attr\">type</span>: requestType &#125;))</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> callApi(endpoint, schema).then(</span><br><span class=\"line\">    response =&gt; next(actionWith(&#123;</span><br><span class=\"line\">      response,</span><br><span class=\"line\">      type: successType</span><br><span class=\"line\">    &#125;)),</span><br><span class=\"line\">    error =&gt; next(actionWith(&#123;</span><br><span class=\"line\">      type: failureType,</span><br><span class=\"line\">      error: error.message || <span class=\"string\">'Something bad happened'</span></span><br><span class=\"line\">    &#125;))</span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>store =&gt; next =&gt; action =&gt;</code>function{}<code>dispatch</code><code>next</code></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>js<code>()</code><code>()</code><code>aaa()()()</code><code>aaa()</code><code>aaa()()</code><code>aaa()()()</code></p>\n<p><code>configStore</code><code>applyMiddleware</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">applyMiddleware(thunk, api)</span><br></pre></td></tr></table></figure>\n<p>Redux</p>\n<p>node_modules/redux/src/applyMiddleware.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">applyMiddleware</span>(<span class=\"params\">...middlewares</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">createStore</span>) =&gt;</span> (reducer, initialState, enhancer) =&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> store = createStore(reducer, initialState, enhancer)</span><br><span class=\"line\">    <span class=\"keyword\">var</span> dispatch = store.dispatch</span><br><span class=\"line\">    <span class=\"keyword\">var</span> chain = []</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> middlewareAPI = &#123;</span><br><span class=\"line\">      getState: store.getState,</span><br><span class=\"line\">      dispatch: <span class=\"function\">(<span class=\"params\">action</span>) =&gt;</span> dispatch(action)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    chain = middlewares.map(<span class=\"function\"><span class=\"params\">middleware</span> =&gt;</span> middleware(middlewareAPI))</span><br><span class=\"line\">    dispatch = compose(...chain)(store.dispatch)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">      ...store,</span><br><span class=\"line\">      dispatch</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chain = middlewares.map(<span class=\"function\"><span class=\"params\">middleware</span> =&gt;</span> middleware(middlewareAPI))</span><br></pre></td></tr></table></figure>\n<p><code>middlewares</code><code>store</code><code>store</code><code>middlewareAPI</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> middlewareAPI = &#123;</span><br><span class=\"line\">  getState: store.getState,</span><br><span class=\"line\">  dispatch: <span class=\"function\">(<span class=\"params\">action</span>) =&gt;</span> dispatch(action)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dispatch = compose(...chain)(store.dispatch)</span><br></pre></td></tr></table></figure>\n<p><code>compose</code>Promise</p>\n<p><code>chain</code><code>compose</code><code>(store.dispatch)</code><code>dispatch</code><code>dispatch</code></p>\n<p><code>dispatch</code><code>action</code></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><code>next()</code>expressRedux<code>next()</code><code>dispatch</code></p>\n<p><code>next()</code><code>dispatch</code></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<h2 id=\"action\"><a href=\"#action\" class=\"headerlink\" title=\"action\"></a>action</h2><p>action<code>fetchUser</code></p>\n<p>actions/index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; CALL_API, Schemas &#125; <span class=\"keyword\">from</span> <span class=\"string\">'../middleware/api'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> USER_REQUEST = <span class=\"string\">'USER_REQUEST'</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> USER_SUCCESS = <span class=\"string\">'USER_SUCCESS'</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> USER_FAILURE = <span class=\"string\">'USER_FAILURE'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Fetches a single user from Github API.</span></span><br><span class=\"line\"><span class=\"comment\">// Relies on the custom API middleware defined in ../middleware/api.js.</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fetchUser</span>(<span class=\"params\">login</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    [CALL_API]: &#123;</span><br><span class=\"line\">      types: [ USER_REQUEST, USER_SUCCESS, USER_FAILURE ],</span><br><span class=\"line\">      endpoint: <span class=\"string\">`users/<span class=\"subst\">$&#123;login&#125;</span>`</span>,</span><br><span class=\"line\">      schema: Schemas.USER</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Fetches a single user from Github API unless it is cached.</span></span><br><span class=\"line\"><span class=\"comment\">// Relies on Redux Thunk middleware.</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">loadUser</span>(<span class=\"params\">login, requiredFields = []</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">dispatch, getState</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> user = getState().entities.users[login]</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (user &amp;&amp; requiredFields.every(<span class=\"function\"><span class=\"params\">key</span> =&gt;</span> user.hasOwnProperty(key))) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">null</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> dispatch(fetchUser(login))</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>action<code>fetchUser</code></p>\n<p><code>console.log</code>action</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'action:'</span>,action);</span><br><span class=\"line\"><span class=\"keyword\">const</span> callAPI = action[CALL_API]</span><br></pre></td></tr></table></figure>\n<p><img src=\"/css/images/154.jpg\" alt=\"\"></p>\n<p>initRoutesactionSymbolactionaction</p>\n<h2 id=\"Symbol\"><a href=\"#Symbol\" class=\"headerlink\" title=\"Symbol\"></a>Symbol</h2><p>Symbol<code>CALL_API</code>Symbol</p>\n<p>middleware/api.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Action key that carries API call info interpreted by this Redux middleware.</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> CALL_API = <span class=\"built_in\">Symbol</span>(<span class=\"string\">'Call API'</span>)</span><br></pre></td></tr></table></figure>\n<p>SymbolSymbolkey<br>SymbolObject.assign<br>{},Symbol</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>action</p>\n<p>middleware/api.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> endpoint === <span class=\"string\">'function'</span>) &#123;</span><br><span class=\"line\">endpoint = endpoint(store.getState())</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> endpoint !== <span class=\"string\">'string'</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'Specify a string endpoint URL.'</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (!schema) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'Specify one of the exported Schemas.'</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (!<span class=\"built_in\">Array</span>.isArray(types) || types.length !== <span class=\"number\">3</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'Expected an array of three action types.'</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (!types.every(<span class=\"function\"><span class=\"params\">type</span> =&gt;</span> <span class=\"keyword\">typeof</span> type === <span class=\"string\">'string'</span>)) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'Expected action types to be strings.'</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"action\"><a href=\"#action\" class=\"headerlink\" title=\"action\"></a>action</h2><p>actionajaxaction</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">actionWith</span>(<span class=\"params\">data</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> finalAction = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, action, data)</span><br><span class=\"line\">  <span class=\"keyword\">delete</span> finalAction[CALL_API]</span><br><span class=\"line\">  <span class=\"keyword\">return</span> finalAction</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> [ requestType, successType, failureType ] = types</span><br><span class=\"line\">next(actionWith(&#123; <span class=\"attr\">type</span>: requestType &#125;))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">``</span><span class=\"string\">`   </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">## ajaxaction</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">`</span><span class=\"string\">``</span>js</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"keyword\">return</span> callApi(endpoint, schema).then(</span><br><span class=\"line\">\tresponse =&gt; next(actionWith(&#123;</span><br><span class=\"line\">\t  response,</span><br><span class=\"line\">\t  type: successType</span><br><span class=\"line\">\t&#125;)),</span><br><span class=\"line\">\terror =&gt; next(actionWith(&#123;</span><br><span class=\"line\">\t  type: failureType,</span><br><span class=\"line\">\t  error: error.message || <span class=\"string\">'Something bad happened'</span></span><br><span class=\"line\">\t&#125;))</span><br><span class=\"line\">  )</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>action</p>\n<p><img src=\"/css/images/155.jpg\" alt=\"\"></p>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><a href=\"http://www.liuyiqi.cn/2016/12/10/react-redux-tutorial-catalog/\">http://www.liuyiqi.cn/2016/12/10/react-redux-tutorial-catalog/</a></p>\n","site":{"data":{}},"excerpt":"<p>Redux</p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>real-worldgithub</p>\n<p><img src=\"/css/images/153.jpg\" alt=\"\"></p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/react-redux-tutorialt/tree/master/redux-examples/real-world\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorialt/tree/master/redux-examples/real-world</a></p>\n<h1 id=\"Redux\"><a href=\"#Redux\" class=\"headerlink\" title=\"Redux\"></a>Redux</h1><p>Redux<code>store</code><code>next</code><code>action</code></p>\n<p><code>next</code><code>next</code><code>store</code><code>action</code><code>store</code><code>store</code><code>store</code><code>dispatch</code><code>getState</code><code>action</code><code>dispatch</code><code>dispatch</code><code>dispatch</code><code>action</code></p>\n<p></p>\n<p>middleware/api.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// A Redux middleware that interprets actions with CALL_API info specified.</span></span><br><span class=\"line\"><span class=\"comment\">// Performs the call and promises when such actions are dispatched.</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> store =&gt; <span class=\"function\"><span class=\"params\">next</span> =&gt;</span> action =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> callAPI = action[CALL_API]</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> callAPI === <span class=\"string\">'undefined'</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> next(action)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">let</span> &#123; endpoint &#125; = callAPI</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; schema, types &#125; = callAPI</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> endpoint === <span class=\"string\">'function'</span>) &#123;</span><br><span class=\"line\">    endpoint = endpoint(store.getState())</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> endpoint !== <span class=\"string\">'string'</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'Specify a string endpoint URL.'</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!schema) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'Specify one of the exported Schemas.'</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!<span class=\"built_in\">Array</span>.isArray(types) || types.length !== <span class=\"number\">3</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'Expected an array of three action types.'</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!types.every(<span class=\"function\"><span class=\"params\">type</span> =&gt;</span> <span class=\"keyword\">typeof</span> type === <span class=\"string\">'string'</span>)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'Expected action types to be strings.'</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">actionWith</span>(<span class=\"params\">data</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> finalAction = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, action, data)</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> finalAction[CALL_API]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> finalAction</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> [ requestType, successType, failureType ] = types</span><br><span class=\"line\">  next(actionWith(&#123; <span class=\"attr\">type</span>: requestType &#125;))</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> callApi(endpoint, schema).then(</span><br><span class=\"line\">    response =&gt; next(actionWith(&#123;</span><br><span class=\"line\">      response,</span><br><span class=\"line\">      type: successType</span><br><span class=\"line\">    &#125;)),</span><br><span class=\"line\">    error =&gt; next(actionWith(&#123;</span><br><span class=\"line\">      type: failureType,</span><br><span class=\"line\">      error: error.message || <span class=\"string\">'Something bad happened'</span></span><br><span class=\"line\">    &#125;))</span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>store =&gt; next =&gt; action =&gt;</code>function{}<code>dispatch</code><code>next</code></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>js<code>()</code><code>()</code><code>aaa()()()</code><code>aaa()</code><code>aaa()()</code><code>aaa()()()</code></p>\n<p><code>configStore</code><code>applyMiddleware</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">applyMiddleware(thunk, api)</span><br></pre></td></tr></table></figure>\n<p>Redux</p>\n<p>node_modules/redux/src/applyMiddleware.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">applyMiddleware</span>(<span class=\"params\">...middlewares</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">createStore</span>) =&gt;</span> (reducer, initialState, enhancer) =&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> store = createStore(reducer, initialState, enhancer)</span><br><span class=\"line\">    <span class=\"keyword\">var</span> dispatch = store.dispatch</span><br><span class=\"line\">    <span class=\"keyword\">var</span> chain = []</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> middlewareAPI = &#123;</span><br><span class=\"line\">      getState: store.getState,</span><br><span class=\"line\">      dispatch: <span class=\"function\">(<span class=\"params\">action</span>) =&gt;</span> dispatch(action)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    chain = middlewares.map(<span class=\"function\"><span class=\"params\">middleware</span> =&gt;</span> middleware(middlewareAPI))</span><br><span class=\"line\">    dispatch = compose(...chain)(store.dispatch)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">      ...store,</span><br><span class=\"line\">      dispatch</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chain = middlewares.map(<span class=\"function\"><span class=\"params\">middleware</span> =&gt;</span> middleware(middlewareAPI))</span><br></pre></td></tr></table></figure>\n<p><code>middlewares</code><code>store</code><code>store</code><code>middlewareAPI</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> middlewareAPI = &#123;</span><br><span class=\"line\">  getState: store.getState,</span><br><span class=\"line\">  dispatch: <span class=\"function\">(<span class=\"params\">action</span>) =&gt;</span> dispatch(action)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dispatch = compose(...chain)(store.dispatch)</span><br></pre></td></tr></table></figure>\n<p><code>compose</code>Promise</p>\n<p><code>chain</code><code>compose</code><code>(store.dispatch)</code><code>dispatch</code><code>dispatch</code></p>\n<p><code>dispatch</code><code>action</code></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><code>next()</code>expressRedux<code>next()</code><code>dispatch</code></p>\n<p><code>next()</code><code>dispatch</code></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<h2 id=\"action\"><a href=\"#action\" class=\"headerlink\" title=\"action\"></a>action</h2><p>action<code>fetchUser</code></p>\n<p>actions/index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; CALL_API, Schemas &#125; <span class=\"keyword\">from</span> <span class=\"string\">'../middleware/api'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> USER_REQUEST = <span class=\"string\">'USER_REQUEST'</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> USER_SUCCESS = <span class=\"string\">'USER_SUCCESS'</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> USER_FAILURE = <span class=\"string\">'USER_FAILURE'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Fetches a single user from Github API.</span></span><br><span class=\"line\"><span class=\"comment\">// Relies on the custom API middleware defined in ../middleware/api.js.</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fetchUser</span>(<span class=\"params\">login</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    [CALL_API]: &#123;</span><br><span class=\"line\">      types: [ USER_REQUEST, USER_SUCCESS, USER_FAILURE ],</span><br><span class=\"line\">      endpoint: <span class=\"string\">`users/<span class=\"subst\">$&#123;login&#125;</span>`</span>,</span><br><span class=\"line\">      schema: Schemas.USER</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Fetches a single user from Github API unless it is cached.</span></span><br><span class=\"line\"><span class=\"comment\">// Relies on Redux Thunk middleware.</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">loadUser</span>(<span class=\"params\">login, requiredFields = []</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">dispatch, getState</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> user = getState().entities.users[login]</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (user &amp;&amp; requiredFields.every(<span class=\"function\"><span class=\"params\">key</span> =&gt;</span> user.hasOwnProperty(key))) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">null</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> dispatch(fetchUser(login))</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>action<code>fetchUser</code></p>\n<p><code>console.log</code>action</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'action:'</span>,action);</span><br><span class=\"line\"><span class=\"keyword\">const</span> callAPI = action[CALL_API]</span><br></pre></td></tr></table></figure>\n<p><img src=\"/css/images/154.jpg\" alt=\"\"></p>\n<p>initRoutesactionSymbolactionaction</p>\n<h2 id=\"Symbol\"><a href=\"#Symbol\" class=\"headerlink\" title=\"Symbol\"></a>Symbol</h2><p>Symbol<code>CALL_API</code>Symbol</p>\n<p>middleware/api.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Action key that carries API call info interpreted by this Redux middleware.</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> CALL_API = <span class=\"built_in\">Symbol</span>(<span class=\"string\">'Call API'</span>)</span><br></pre></td></tr></table></figure>\n<p>SymbolSymbolkey<br>SymbolObject.assign<br>{},Symbol</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>action</p>\n<p>middleware/api.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> endpoint === <span class=\"string\">'function'</span>) &#123;</span><br><span class=\"line\">endpoint = endpoint(store.getState())</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> endpoint !== <span class=\"string\">'string'</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'Specify a string endpoint URL.'</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (!schema) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'Specify one of the exported Schemas.'</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (!<span class=\"built_in\">Array</span>.isArray(types) || types.length !== <span class=\"number\">3</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'Expected an array of three action types.'</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (!types.every(<span class=\"function\"><span class=\"params\">type</span> =&gt;</span> <span class=\"keyword\">typeof</span> type === <span class=\"string\">'string'</span>)) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'Expected action types to be strings.'</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"action\"><a href=\"#action\" class=\"headerlink\" title=\"action\"></a>action</h2><p>actionajaxaction</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">actionWith</span>(<span class=\"params\">data</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> finalAction = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, action, data)</span><br><span class=\"line\">  <span class=\"keyword\">delete</span> finalAction[CALL_API]</span><br><span class=\"line\">  <span class=\"keyword\">return</span> finalAction</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> [ requestType, successType, failureType ] = types</span><br><span class=\"line\">next(actionWith(&#123; <span class=\"attr\">type</span>: requestType &#125;))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">``</span><span class=\"string\">`   </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">## ajaxaction</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">`</span><span class=\"string\">``</span>js</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"keyword\">return</span> callApi(endpoint, schema).then(</span><br><span class=\"line\">\tresponse =&gt; next(actionWith(&#123;</span><br><span class=\"line\">\t  response,</span><br><span class=\"line\">\t  type: successType</span><br><span class=\"line\">\t&#125;)),</span><br><span class=\"line\">\terror =&gt; next(actionWith(&#123;</span><br><span class=\"line\">\t  type: failureType,</span><br><span class=\"line\">\t  error: error.message || <span class=\"string\">'Something bad happened'</span></span><br><span class=\"line\">\t&#125;))</span><br><span class=\"line\">  )</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>action</p>\n<p><img src=\"/css/images/155.jpg\" alt=\"\"></p>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><a href=\"http://www.liuyiqi.cn/2016/12/10/react-redux-tutorial-catalog/\">http://www.liuyiqi.cn/2016/12/10/react-redux-tutorial-catalog/</a></p>"},{"title":"React  Redux redux","date":"2016-01-31T19:20:00.000Z","_content":"\nReact  Redux ReactAngular1\"\"SEO\n\n<!--more-->\n\n## \n\n![](/css/images/156.gif)\n\nstate\n\n\n\nhttps://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/universal\n\n## API\n\napi\n\ncommon/api/counter.js\n\n```js\nfunction getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min)) + min\n}\n\nexport function fetchCounter(callback) {\n  // Rather than immediately returning, we delay our code with a timeout to simulate asynchronous behavior\n  setTimeout(() => {\n    callback(getRandomInt(1, 100))\n  }, 500)\n\n  // In the case of a real world API call, you'll normally run into a Promise like this:\n  // API.getUser().then(user => callback(user))\n}\n```\n\n## apihtmlstate\n\nserver/server.js\n\n```js\n// This is fired every time the server side receives a request\napp.use(handleRender)\n\nfunction handleRender(req, res) {\n  // Query our mock API asynchronously\n  fetchCounter(apiResult => {\n    // Read the counter from the request, if provided\n    const params = qs.parse(req.query)\n    const counter = parseInt(params.counter, 10) || apiResult || 0\n\n    // Compile an initial state\n    const initialState = { counter }\n\n    // Create a new Redux store instance\n    const store = configureStore(initialState)\n\n    // Render the component to a string\n    const html = renderToString(\n      <Provider store={store}>\n        <App />\n      </Provider>\n    )\n\n    // Grab the initial state from our Redux store\n    const finalState = store.getState()\n\n    // Send the rendered page back to the client\n    res.send(renderFullPage(html, finalState))\n  })\n}\n\nfunction renderFullPage(html, initialState) {\n  return `\n    <!doctype html>\n    <html>\n      <head>\n        <title>Redux Universal Example</title>\n      </head>\n      <body>\n        <div id=\"app\">${html}</div>\n        <script>\n          window.__INITIAL_STATE__ = ${JSON.stringify(initialState)}\n        </script>\n        <script src=\"/static/bundle.js\"></script>\n      </body>\n    </html>\n    `\n}\n```\n  1. apiapi`fetchCounter`api`counter`\n  2. `const params = qs.parse(req.query)``counter``parseInt(params.counter, 10)``counter`api`apiResult``0``qs`httpquerystring`param=sth`\n  3. `counter`statestatestorestorereacthtml\n  4. `const finalState = store.getState()`state\n\n## \n\n,js\n\n## state\n\nseo\"\"\n\n\n\n```js\nconst initialState = window.__INITIAL_STATE__\nconst store = configureStore(initialState)\nconst rootElement = document.getElementById('app')\n\nrender(\n  <Provider store={store}>\n    <App/>\n  </Provider>,\n  rootElement\n)\n```\nstaterender\n\nstate`window.__INITIAL_STATE__`state\n\n## \"\"state\n\nstate\"\"state\"\"\n\n* * *\n\n## \n\n<https://github.com/lewis617/react-redux-tutorial>\n\n<http://www.liuyiqi.cn/tags/React/>\n","source":"_posts/r2-ssr.md","raw":"---\ntitle: React  Redux redux\ndate: 2016-02-01 03:20:00\ntags: [React, Redux]\n---\n\nReact  Redux ReactAngular1\"\"SEO\n\n<!--more-->\n\n## \n\n![](/css/images/156.gif)\n\nstate\n\n\n\nhttps://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/universal\n\n## API\n\napi\n\ncommon/api/counter.js\n\n```js\nfunction getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min)) + min\n}\n\nexport function fetchCounter(callback) {\n  // Rather than immediately returning, we delay our code with a timeout to simulate asynchronous behavior\n  setTimeout(() => {\n    callback(getRandomInt(1, 100))\n  }, 500)\n\n  // In the case of a real world API call, you'll normally run into a Promise like this:\n  // API.getUser().then(user => callback(user))\n}\n```\n\n## apihtmlstate\n\nserver/server.js\n\n```js\n// This is fired every time the server side receives a request\napp.use(handleRender)\n\nfunction handleRender(req, res) {\n  // Query our mock API asynchronously\n  fetchCounter(apiResult => {\n    // Read the counter from the request, if provided\n    const params = qs.parse(req.query)\n    const counter = parseInt(params.counter, 10) || apiResult || 0\n\n    // Compile an initial state\n    const initialState = { counter }\n\n    // Create a new Redux store instance\n    const store = configureStore(initialState)\n\n    // Render the component to a string\n    const html = renderToString(\n      <Provider store={store}>\n        <App />\n      </Provider>\n    )\n\n    // Grab the initial state from our Redux store\n    const finalState = store.getState()\n\n    // Send the rendered page back to the client\n    res.send(renderFullPage(html, finalState))\n  })\n}\n\nfunction renderFullPage(html, initialState) {\n  return `\n    <!doctype html>\n    <html>\n      <head>\n        <title>Redux Universal Example</title>\n      </head>\n      <body>\n        <div id=\"app\">${html}</div>\n        <script>\n          window.__INITIAL_STATE__ = ${JSON.stringify(initialState)}\n        </script>\n        <script src=\"/static/bundle.js\"></script>\n      </body>\n    </html>\n    `\n}\n```\n  1. apiapi`fetchCounter`api`counter`\n  2. `const params = qs.parse(req.query)``counter``parseInt(params.counter, 10)``counter`api`apiResult``0``qs`httpquerystring`param=sth`\n  3. `counter`statestatestorestorereacthtml\n  4. `const finalState = store.getState()`state\n\n## \n\n,js\n\n## state\n\nseo\"\"\n\n\n\n```js\nconst initialState = window.__INITIAL_STATE__\nconst store = configureStore(initialState)\nconst rootElement = document.getElementById('app')\n\nrender(\n  <Provider store={store}>\n    <App/>\n  </Provider>,\n  rootElement\n)\n```\nstaterender\n\nstate`window.__INITIAL_STATE__`state\n\n## \"\"state\n\nstate\"\"state\"\"\n\n* * *\n\n## \n\n<https://github.com/lewis617/react-redux-tutorial>\n\n<http://www.liuyiqi.cn/tags/React/>\n","slug":"r2-ssr","published":1,"updated":"2019-05-01T08:10:30.252Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvme002qtgyt8og0s0lq","content":"<p>React  Redux ReactAngular1SEO</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/156.gif\" alt=\"\"></p>\n<p>state</p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/universal\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/universal</a></p>\n<h2 id=\"API\"><a href=\"#API\" class=\"headerlink\" title=\"API\"></a>API</h2><p>api</p>\n<p>common/api/counter.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getRandomInt</span>(<span class=\"params\">min, max</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Math</span>.floor(<span class=\"built_in\">Math</span>.random() * (max - min)) + min</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fetchCounter</span>(<span class=\"params\">callback</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Rather than immediately returning, we delay our code with a timeout to simulate asynchronous behavior</span></span><br><span class=\"line\">  setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">    callback(getRandomInt(<span class=\"number\">1</span>, <span class=\"number\">100</span>))</span><br><span class=\"line\">  &#125;, <span class=\"number\">500</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// In the case of a real world API call, you'll normally run into a Promise like this:</span></span><br><span class=\"line\">  <span class=\"comment\">// API.getUser().then(user =&gt; callback(user))</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"apihtmlstate\"><a href=\"#apihtmlstate\" class=\"headerlink\" title=\"apihtmlstate\"></a>apihtmlstate</h2><p>server/server.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// This is fired every time the server side receives a request</span></span><br><span class=\"line\">app.use(handleRender)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">handleRender</span>(<span class=\"params\">req, res</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Query our mock API asynchronously</span></span><br><span class=\"line\">  fetchCounter(<span class=\"function\"><span class=\"params\">apiResult</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Read the counter from the request, if provided</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> params = qs.parse(req.query)</span><br><span class=\"line\">    <span class=\"keyword\">const</span> counter = <span class=\"built_in\">parseInt</span>(params.counter, <span class=\"number\">10</span>) || apiResult || <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Compile an initial state</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> initialState = &#123; counter &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Create a new Redux store instance</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> store = configureStore(initialState)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Render the component to a string</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> html = renderToString(</span><br><span class=\"line\">      &lt;Provider store=&#123;store&#125;&gt;</span><br><span class=\"line\">        &lt;App /&gt;</span><br><span class=\"line\">      &lt;<span class=\"regexp\">/Provider&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    )</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">    /</span><span class=\"regexp\">/ Grab the initial state from our Redux store</span></span><br><span class=\"line\"><span class=\"regexp\">    const finalState = store.getState()</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">    /</span><span class=\"regexp\">/ Send the rendered page back to the client</span></span><br><span class=\"line\"><span class=\"regexp\">    res.send(renderFullPage(html, finalState))</span></span><br><span class=\"line\"><span class=\"regexp\">  &#125;)</span></span><br><span class=\"line\"><span class=\"regexp\">&#125;</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">function renderFullPage(html, initialState) &#123;</span></span><br><span class=\"line\"><span class=\"regexp\">  return `</span></span><br><span class=\"line\"><span class=\"regexp\">    &lt;!doctype html&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    &lt;html&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">      &lt;head&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">        &lt;title&gt;Redux Universal Example&lt;/</span>title&gt;</span><br><span class=\"line\">      &lt;<span class=\"regexp\">/head&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">      &lt;body&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">        &lt;div id=\"app\"&gt;$&#123;html&#125;&lt;/</span>div&gt;</span><br><span class=\"line\">        &lt;script&gt;</span><br><span class=\"line\">          <span class=\"built_in\">window</span>.__INITIAL_STATE__ = $&#123;<span class=\"built_in\">JSON</span>.stringify(initialState)&#125;</span><br><span class=\"line\">        &lt;<span class=\"regexp\">/script&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">        &lt;script src=\"/</span><span class=\"keyword\">static</span>/bundle.js<span class=\"string\">\"&gt;&lt;/script&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;/body&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/html&gt;</span></span><br><span class=\"line\"><span class=\"string\">    `</span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br></pre></td></tr></table></figure>\n<ol>\n<li>apiapi<code>fetchCounter</code>api<code>counter</code></li>\n<li><code>const params = qs.parse(req.query)</code><code>counter</code><code>parseInt(params.counter, 10)</code><code>counter</code>api<code>apiResult</code><code>0</code><code>qs</code>httpquerystring<code>param=sth</code></li>\n<li><code>counter</code>statestatestorestorereacthtml</li>\n<li><code>const finalState = store.getState()</code>state</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>,js</p>\n<h2 id=\"state\"><a href=\"#state\" class=\"headerlink\" title=\"state\"></a>state</h2><p>seo</p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> initialState = <span class=\"built_in\">window</span>.__INITIAL_STATE__</span><br><span class=\"line\"><span class=\"keyword\">const</span> store = configureStore(initialState)</span><br><span class=\"line\"><span class=\"keyword\">const</span> rootElement = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'app'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">render(</span><br><span class=\"line\">  &lt;Provider store=&#123;store&#125;&gt;</span><br><span class=\"line\">    &lt;App/&gt;</span><br><span class=\"line\">  &lt;<span class=\"regexp\">/Provider&gt;,</span></span><br><span class=\"line\"><span class=\"regexp\">  rootElement</span></span><br><span class=\"line\"><span class=\"regexp\">)</span></span><br></pre></td></tr></table></figure>\n<p>staterender</p>\n<p>state<code>window.__INITIAL_STATE__</code>state</p>\n<h2 id=\"state\"><a href=\"#state\" class=\"headerlink\" title=\"state\"></a>state</h2><p>statestate</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/React/\">http://www.liuyiqi.cn/tags/React/</a></p>\n","site":{"data":{}},"excerpt":"<p>React  Redux ReactAngular1SEO</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/156.gif\" alt=\"\"></p>\n<p>state</p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/universal\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/universal</a></p>\n<h2 id=\"API\"><a href=\"#API\" class=\"headerlink\" title=\"API\"></a>API</h2><p>api</p>\n<p>common/api/counter.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getRandomInt</span>(<span class=\"params\">min, max</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Math</span>.floor(<span class=\"built_in\">Math</span>.random() * (max - min)) + min</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fetchCounter</span>(<span class=\"params\">callback</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Rather than immediately returning, we delay our code with a timeout to simulate asynchronous behavior</span></span><br><span class=\"line\">  setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">    callback(getRandomInt(<span class=\"number\">1</span>, <span class=\"number\">100</span>))</span><br><span class=\"line\">  &#125;, <span class=\"number\">500</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// In the case of a real world API call, you'll normally run into a Promise like this:</span></span><br><span class=\"line\">  <span class=\"comment\">// API.getUser().then(user =&gt; callback(user))</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"apihtmlstate\"><a href=\"#apihtmlstate\" class=\"headerlink\" title=\"apihtmlstate\"></a>apihtmlstate</h2><p>server/server.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// This is fired every time the server side receives a request</span></span><br><span class=\"line\">app.use(handleRender)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">handleRender</span>(<span class=\"params\">req, res</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Query our mock API asynchronously</span></span><br><span class=\"line\">  fetchCounter(<span class=\"function\"><span class=\"params\">apiResult</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Read the counter from the request, if provided</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> params = qs.parse(req.query)</span><br><span class=\"line\">    <span class=\"keyword\">const</span> counter = <span class=\"built_in\">parseInt</span>(params.counter, <span class=\"number\">10</span>) || apiResult || <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Compile an initial state</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> initialState = &#123; counter &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Create a new Redux store instance</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> store = configureStore(initialState)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Render the component to a string</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> html = renderToString(</span><br><span class=\"line\">      &lt;Provider store=&#123;store&#125;&gt;</span><br><span class=\"line\">        &lt;App /&gt;</span><br><span class=\"line\">      &lt;<span class=\"regexp\">/Provider&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    )</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">    /</span><span class=\"regexp\">/ Grab the initial state from our Redux store</span></span><br><span class=\"line\"><span class=\"regexp\">    const finalState = store.getState()</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">    /</span><span class=\"regexp\">/ Send the rendered page back to the client</span></span><br><span class=\"line\"><span class=\"regexp\">    res.send(renderFullPage(html, finalState))</span></span><br><span class=\"line\"><span class=\"regexp\">  &#125;)</span></span><br><span class=\"line\"><span class=\"regexp\">&#125;</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">function renderFullPage(html, initialState) &#123;</span></span><br><span class=\"line\"><span class=\"regexp\">  return `</span></span><br><span class=\"line\"><span class=\"regexp\">    &lt;!doctype html&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    &lt;html&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">      &lt;head&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">        &lt;title&gt;Redux Universal Example&lt;/</span>title&gt;</span><br><span class=\"line\">      &lt;<span class=\"regexp\">/head&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">      &lt;body&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">        &lt;div id=\"app\"&gt;$&#123;html&#125;&lt;/</span>div&gt;</span><br><span class=\"line\">        &lt;script&gt;</span><br><span class=\"line\">          <span class=\"built_in\">window</span>.__INITIAL_STATE__ = $&#123;<span class=\"built_in\">JSON</span>.stringify(initialState)&#125;</span><br><span class=\"line\">        &lt;<span class=\"regexp\">/script&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">        &lt;script src=\"/</span><span class=\"keyword\">static</span>/bundle.js<span class=\"string\">\"&gt;&lt;/script&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;/body&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/html&gt;</span></span><br><span class=\"line\"><span class=\"string\">    `</span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br></pre></td></tr></table></figure>\n<ol>\n<li>apiapi<code>fetchCounter</code>api<code>counter</code></li>\n<li><code>const params = qs.parse(req.query)</code><code>counter</code><code>parseInt(params.counter, 10)</code><code>counter</code>api<code>apiResult</code><code>0</code><code>qs</code>httpquerystring<code>param=sth</code></li>\n<li><code>counter</code>statestatestorestorereacthtml</li>\n<li><code>const finalState = store.getState()</code>state</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>,js</p>\n<h2 id=\"state\"><a href=\"#state\" class=\"headerlink\" title=\"state\"></a>state</h2><p>seo</p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> initialState = <span class=\"built_in\">window</span>.__INITIAL_STATE__</span><br><span class=\"line\"><span class=\"keyword\">const</span> store = configureStore(initialState)</span><br><span class=\"line\"><span class=\"keyword\">const</span> rootElement = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'app'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">render(</span><br><span class=\"line\">  &lt;Provider store=&#123;store&#125;&gt;</span><br><span class=\"line\">    &lt;App/&gt;</span><br><span class=\"line\">  &lt;<span class=\"regexp\">/Provider&gt;,</span></span><br><span class=\"line\"><span class=\"regexp\">  rootElement</span></span><br><span class=\"line\"><span class=\"regexp\">)</span></span><br></pre></td></tr></table></figure>\n<p>staterender</p>\n<p>state<code>window.__INITIAL_STATE__</code>state</p>\n<h2 id=\"state\"><a href=\"#state\" class=\"headerlink\" title=\"state\"></a>state</h2><p>statestate</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/React/\">http://www.liuyiqi.cn/tags/React/</a></p>"},{"title":"React  Redux ReduxReact","date":"2016-01-20T18:30:00.000Z","_content":"\nReact  Redux [React  Redux ](https://lewis617.github.io/2016/01/19/r2-counter/)Reactstateprops\n\nReactstateReduxstate\n\n<!--more-->\n\n#### \n\ntodomvc\n\n![](/css/images/157.jpg)\n\nReact\n\nAppstate\n\n![](/css/images/158.jpg)\n\nHeaderstate\n\n![](/css/images/159.jpg)\n\nMainSectionstate\n\n![](/css/images/160.jpg)\n\nTodoItemstate\n\n![](/css/images/161.jpg)\n\nFooterstate\n\n![](/css/images/162.jpg)\n\n## Reactstateprops\n\nstate\n\n  1. \n  2. \n\nstate\"\"\"\"\n\n\n\n\n\n\n\nprops\n\n`App``todos``actions`props`Footer``activeCount``completedCount`\n\n## Reduxstate\n\ntodos\n\n![](/css/images/163.jpg)\n\n## ReduxReact\n\nReduxReact\n\n  1. ReactReduxstate\n  2. ReactdispatchactionsReduxReduxreducerstate\n\nReactRedux\n\n  1. dispatch actions\n  2. ReactReduxstate\n\n## ReduxstateReactstate\n\nReduxstatepropsReactstatestate\n\n* * *\n\n## \n\n<https://github.com/lewis617/react-redux-tutorial>\n\n<http://www.liuyiqi.cn/tags/React/>","source":"_posts/r2-state.md","raw":"---\ntitle: React  Redux ReduxReact\ndate: 2016-01-21 02:30:00\ntags: [React, Redux]\n---\n\nReact  Redux [React  Redux ](https://lewis617.github.io/2016/01/19/r2-counter/)Reactstateprops\n\nReactstateReduxstate\n\n<!--more-->\n\n#### \n\ntodomvc\n\n![](/css/images/157.jpg)\n\nReact\n\nAppstate\n\n![](/css/images/158.jpg)\n\nHeaderstate\n\n![](/css/images/159.jpg)\n\nMainSectionstate\n\n![](/css/images/160.jpg)\n\nTodoItemstate\n\n![](/css/images/161.jpg)\n\nFooterstate\n\n![](/css/images/162.jpg)\n\n## Reactstateprops\n\nstate\n\n  1. \n  2. \n\nstate\"\"\"\"\n\n\n\n\n\n\n\nprops\n\n`App``todos``actions`props`Footer``activeCount``completedCount`\n\n## Reduxstate\n\ntodos\n\n![](/css/images/163.jpg)\n\n## ReduxReact\n\nReduxReact\n\n  1. ReactReduxstate\n  2. ReactdispatchactionsReduxReduxreducerstate\n\nReactRedux\n\n  1. dispatch actions\n  2. ReactReduxstate\n\n## ReduxstateReactstate\n\nReduxstatepropsReactstatestate\n\n* * *\n\n## \n\n<https://github.com/lewis617/react-redux-tutorial>\n\n<http://www.liuyiqi.cn/tags/React/>","slug":"r2-state","published":1,"updated":"2019-05-01T08:10:30.271Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvmg002rtgyt27nd9c56","content":"<p>React  Redux <a href=\"https://lewis617.github.io/2016/01/19/r2-counter/\" target=\"_blank\" rel=\"noopener\">React  Redux </a>Reactstateprops</p>\n<p>ReactstateReduxstate</p>\n<a id=\"more\"></a>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>todomvc</p>\n<p><img src=\"/css/images/157.jpg\" alt=\"\"></p>\n<p>React</p>\n<p>Appstate</p>\n<p><img src=\"/css/images/158.jpg\" alt=\"\"></p>\n<p>Headerstate</p>\n<p><img src=\"/css/images/159.jpg\" alt=\"\"></p>\n<p>MainSectionstate</p>\n<p><img src=\"/css/images/160.jpg\" alt=\"\"></p>\n<p>TodoItemstate</p>\n<p><img src=\"/css/images/161.jpg\" alt=\"\"></p>\n<p>Footerstate</p>\n<p><img src=\"/css/images/162.jpg\" alt=\"\"></p>\n<h2 id=\"Reactstateprops\"><a href=\"#Reactstateprops\" class=\"headerlink\" title=\"Reactstateprops\"></a>Reactstateprops</h2><p>state</p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<p>state</p>\n<p></p>\n<p></p>\n<p>props</p>\n<p><code>App</code><code>todos</code><code>actions</code>props<code>Footer</code><code>activeCount</code><code>completedCount</code></p>\n<h2 id=\"Reduxstate\"><a href=\"#Reduxstate\" class=\"headerlink\" title=\"Reduxstate\"></a>Reduxstate</h2><p>todos</p>\n<p><img src=\"/css/images/163.jpg\" alt=\"\"></p>\n<h2 id=\"ReduxReact\"><a href=\"#ReduxReact\" class=\"headerlink\" title=\"ReduxReact\"></a>ReduxReact</h2><p>ReduxReact</p>\n<ol>\n<li>ReactReduxstate</li>\n<li>ReactdispatchactionsReduxReduxreducerstate</li>\n</ol>\n<p>ReactRedux</p>\n<ol>\n<li>dispatch actions</li>\n<li>ReactReduxstate</li>\n</ol>\n<h2 id=\"ReduxstateReactstate\"><a href=\"#ReduxstateReactstate\" class=\"headerlink\" title=\"ReduxstateReactstate\"></a>ReduxstateReactstate</h2><p>ReduxstatepropsReactstatestate</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/React/\">http://www.liuyiqi.cn/tags/React/</a></p>\n","site":{"data":{}},"excerpt":"<p>React  Redux <a href=\"https://lewis617.github.io/2016/01/19/r2-counter/\" target=\"_blank\" rel=\"noopener\">React  Redux </a>Reactstateprops</p>\n<p>ReactstateReduxstate</p>","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>todomvc</p>\n<p><img src=\"/css/images/157.jpg\" alt=\"\"></p>\n<p>React</p>\n<p>Appstate</p>\n<p><img src=\"/css/images/158.jpg\" alt=\"\"></p>\n<p>Headerstate</p>\n<p><img src=\"/css/images/159.jpg\" alt=\"\"></p>\n<p>MainSectionstate</p>\n<p><img src=\"/css/images/160.jpg\" alt=\"\"></p>\n<p>TodoItemstate</p>\n<p><img src=\"/css/images/161.jpg\" alt=\"\"></p>\n<p>Footerstate</p>\n<p><img src=\"/css/images/162.jpg\" alt=\"\"></p>\n<h2 id=\"Reactstateprops\"><a href=\"#Reactstateprops\" class=\"headerlink\" title=\"Reactstateprops\"></a>Reactstateprops</h2><p>state</p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<p>state</p>\n<p></p>\n<p></p>\n<p>props</p>\n<p><code>App</code><code>todos</code><code>actions</code>props<code>Footer</code><code>activeCount</code><code>completedCount</code></p>\n<h2 id=\"Reduxstate\"><a href=\"#Reduxstate\" class=\"headerlink\" title=\"Reduxstate\"></a>Reduxstate</h2><p>todos</p>\n<p><img src=\"/css/images/163.jpg\" alt=\"\"></p>\n<h2 id=\"ReduxReact\"><a href=\"#ReduxReact\" class=\"headerlink\" title=\"ReduxReact\"></a>ReduxReact</h2><p>ReduxReact</p>\n<ol>\n<li>ReactReduxstate</li>\n<li>ReactdispatchactionsReduxReduxreducerstate</li>\n</ol>\n<p>ReactRedux</p>\n<ol>\n<li>dispatch actions</li>\n<li>ReactReduxstate</li>\n</ol>\n<h2 id=\"ReduxstateReactstate\"><a href=\"#ReduxstateReactstate\" class=\"headerlink\" title=\"ReduxstateReactstate\"></a>ReduxstateReactstate</h2><p>ReduxstatepropsReactstatestate</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/React/\">http://www.liuyiqi.cn/tags/React/</a></p>"},{"title":"React  Redux undodevtoolsrouter","date":"2016-01-26T19:39:00.000Z","_content":"\nes6[React  Redux reduce()filter()map()some()every()...](https://lewis617.github.io/2016/01/21/r2-array/)\n\nredux-undoReduxdevtoolsrouter\n\n<!--more-->\n\n## \n\n![](/css/images/164.gif)\n\nRedux\"/\"\n\n\n\nhttps://github.com/lewis617/react-redux-tutorial/tree/master/redux-undo-boilerplate\n\n##  \n\nreducers\n\nreducers/index.js\n\n```js\nimport { combineReducers } from 'redux'\nimport counter from './counter'\nimport {\n  INCREMENT_COUNTER, DECREMENT_COUNTER,\n  UNDO_COUNTER, REDO_COUNTER\n} from '../actions/counter'\nimport undoable, { includeAction } from 'redux-undo'\n\nconst rootReducer = combineReducers({\n  counter: undoable(counter, {\n    filter: includeAction([INCREMENT_COUNTER, DECREMENT_COUNTER]),\n    limit: 10,\n    debug: true,\n    undoType: UNDO_COUNTER,\n    redoType: REDO_COUNTER\n  })\n})\n\nexport default rootReducer\n```\n\n`redux-undo``undoable``includeAction`reducercounter`filter`actionaction`INCREMENT_COUNTER`, `DECREMENT_COUNTER`  `limit``debug``undotype``redotype`action\n\naction\n\n## devtools\n\ndevtoolsdevtoolsdevtoolsdevtoolsdevtoolsactiondevtoolsdevtoolsdevtools\n\ncontainers/DevTools.js\n\n```js\n/*eslint-disable*/\nimport React from 'react'\nimport { createDevTools } from 'redux-devtools'\nimport LogMonitor from 'redux-devtools-log-monitor'\nimport DockMonitor from 'redux-devtools-dock-monitor'\n/*eslint-enable*/\n\nexport default createDevTools(\n  <DockMonitor toggleVisibilityKey=\"H\"\n               changePositionKey=\"Q\">\n    <LogMonitor />\n  </DockMonitor>\n)\n```\n\njsdevtools\n\ncontainers/Root.js\n\n```js\n/* global __DEVTOOLS__ */\n/*eslint-disable*/\nimport React, { Component, PropTypes } from 'react'\nimport { Provider } from 'react-redux'\nimport { Router } from 'react-router'\nimport configureStore from '../store/configureStore'\nimport routes from '../routes'\n/*eslint-enable*/\n\nconst store = configureStore()\n\nfunction createElements (history) {\n  const elements = [\n    <Router key=\"router\" history={history} children={routes} />\n  ]\n\n  if (typeof __DEVTOOLS__ !== 'undefined' && __DEVTOOLS__) {\n    /*eslint-disable*/\n    const DevTools = require('./DevTools')\n    /*eslint-enable*/\n    elements.push(<DevTools key=\"devtools\" />)\n  }\n\n  return elements\n}\n\nexport default class Root extends Component {\n\n  static propTypes = {\n    history: PropTypes.object.isRequired\n  }\n\n  render () {\n    return (\n      <Provider store={store} key=\"provider\">\n        <div>\n          {createElements(this.props.history)}\n        </div>\n      </Provider>\n    )\n  }\n}\n```\n\ndevtools`router``typeof DEVTOOLS !=='undefined' && DEVTOOLS`devtoolsdevtools\n\n`store`\n\nstore/configureStore.js\n\n```js\n/* global __DEVTOOLS__ */\nimport { createStore, applyMiddleware, compose } from 'redux'\n// reducer\nimport rootReducer from '../reducers'\n// middleware\nimport thunkMiddleware from 'redux-thunk'\nimport promiseMiddleware from 'redux-promise'\nimport createLogger from 'redux-logger'\n\nconst loggerMiddleware = createLogger({\n  level: 'info',\n  collapsed: true\n})\n\nconst enforceImmutableMiddleware = require('redux-immutable-state-invariant')()\n\nlet createStoreWithMiddleware\n\nif (typeof __DEVTOOLS__ !== 'undefined' && __DEVTOOLS__) {\n  const { persistState } = require('redux-devtools')\n  const DevTools = require('../containers/DevTools')\n  createStoreWithMiddleware = compose(\n    applyMiddleware(\n      enforceImmutableMiddleware,\n      thunkMiddleware,\n      promiseMiddleware,\n      loggerMiddleware\n    ),\n    DevTools.instrument(),\n    persistState(window.location.href.match(/[?&]debug_session=([^&]+)\\b/))\n  )(createStore)\n} else {\n  createStoreWithMiddleware = compose(\n    applyMiddleware(thunkMiddleware, promiseMiddleware)\n  )(createStore)\n}\n\n/**\n * Creates a preconfigured store.\n */\nexport default function configureStore (initialState) {\n  const store = createStoreWithMiddleware(rootReducer, initialState)\n\n  if (module.hot) {\n    // Enable Webpack hot module replacement for reducers\n    module.hot.accept('../reducers', () => {\n      const nextRootReducer = require('../reducers/index')\n      store.replaceReducer(nextRootReducer)\n    })\n  }\n\n  return store\n}\n\n```\n\ndevtools\n\n## store enhancer\n\n`DevTools.instrument()` devtools`instrument()`store enhancerstore`applymiddleware`storestorestorestorestore`appllymiddleware`Redux\n\n\n## enforceImmutableMiddleware,thunkMiddleware, promiseMiddleware, loggerMiddleware\n\n\n\n`enforceImmutableMiddleware`statestateReduxstatereducerstatestate\n\n`thunk``thunk`[React  Redux connectapplyMiddlewarethunkwebpackHotMiddleware](https://lewis617.github.io/2016/01/19/r2-counter/)\n\n`promiseMiddleware``thunk`action`thunk``promiseMiddleware`\n\n`loggerMiddleware`\n\n\n\n## instrument()compose()\n\n`instrument()``applymiddleware`enabledevtools`applymiddleware``instrument`compose\n\n## Router\n\nRouterURL\n\n`Router`, containers/Root.js\n\n\"/\"\n\nroutes.js\n\n```js\n/*eslint-disable*/\nimport React from 'react'\nimport { Route } from 'react-router'\nimport App from './containers/App'\nimport * as containers from './containers'\n/*eslint-enable*/\n\nconst {\n  CounterPage\n} = containers\n\nexport default (\n  <Route component={App}>\n    <Route path=\"/\" component={CounterPage} />\n  </Route>\n)\n```\n\n`CounterPage`\n\ncontainers/Root.js`Router`\n\n```js\n<Router key=\"router\" history={history} children={routes} />\n```\n\ndevtoolsdevtools\n\nreact-routerapiapiapiapi\n\n* * *\n\n## \n\n<https://github.com/lewis617/react-redux-tutorial>\n\n<http://www.liuyiqi.cn/tags/React/>\n\n","source":"_posts/r2-undo.md","raw":"---\ntitle: React  Redux undodevtoolsrouter\ndate: 2016-01-27 03:39:00\ntags: [React, Redux]\n---\n\nes6[React  Redux reduce()filter()map()some()every()...](https://lewis617.github.io/2016/01/21/r2-array/)\n\nredux-undoReduxdevtoolsrouter\n\n<!--more-->\n\n## \n\n![](/css/images/164.gif)\n\nRedux\"/\"\n\n\n\nhttps://github.com/lewis617/react-redux-tutorial/tree/master/redux-undo-boilerplate\n\n##  \n\nreducers\n\nreducers/index.js\n\n```js\nimport { combineReducers } from 'redux'\nimport counter from './counter'\nimport {\n  INCREMENT_COUNTER, DECREMENT_COUNTER,\n  UNDO_COUNTER, REDO_COUNTER\n} from '../actions/counter'\nimport undoable, { includeAction } from 'redux-undo'\n\nconst rootReducer = combineReducers({\n  counter: undoable(counter, {\n    filter: includeAction([INCREMENT_COUNTER, DECREMENT_COUNTER]),\n    limit: 10,\n    debug: true,\n    undoType: UNDO_COUNTER,\n    redoType: REDO_COUNTER\n  })\n})\n\nexport default rootReducer\n```\n\n`redux-undo``undoable``includeAction`reducercounter`filter`actionaction`INCREMENT_COUNTER`, `DECREMENT_COUNTER`  `limit``debug``undotype``redotype`action\n\naction\n\n## devtools\n\ndevtoolsdevtoolsdevtoolsdevtoolsdevtoolsactiondevtoolsdevtoolsdevtools\n\ncontainers/DevTools.js\n\n```js\n/*eslint-disable*/\nimport React from 'react'\nimport { createDevTools } from 'redux-devtools'\nimport LogMonitor from 'redux-devtools-log-monitor'\nimport DockMonitor from 'redux-devtools-dock-monitor'\n/*eslint-enable*/\n\nexport default createDevTools(\n  <DockMonitor toggleVisibilityKey=\"H\"\n               changePositionKey=\"Q\">\n    <LogMonitor />\n  </DockMonitor>\n)\n```\n\njsdevtools\n\ncontainers/Root.js\n\n```js\n/* global __DEVTOOLS__ */\n/*eslint-disable*/\nimport React, { Component, PropTypes } from 'react'\nimport { Provider } from 'react-redux'\nimport { Router } from 'react-router'\nimport configureStore from '../store/configureStore'\nimport routes from '../routes'\n/*eslint-enable*/\n\nconst store = configureStore()\n\nfunction createElements (history) {\n  const elements = [\n    <Router key=\"router\" history={history} children={routes} />\n  ]\n\n  if (typeof __DEVTOOLS__ !== 'undefined' && __DEVTOOLS__) {\n    /*eslint-disable*/\n    const DevTools = require('./DevTools')\n    /*eslint-enable*/\n    elements.push(<DevTools key=\"devtools\" />)\n  }\n\n  return elements\n}\n\nexport default class Root extends Component {\n\n  static propTypes = {\n    history: PropTypes.object.isRequired\n  }\n\n  render () {\n    return (\n      <Provider store={store} key=\"provider\">\n        <div>\n          {createElements(this.props.history)}\n        </div>\n      </Provider>\n    )\n  }\n}\n```\n\ndevtools`router``typeof DEVTOOLS !=='undefined' && DEVTOOLS`devtoolsdevtools\n\n`store`\n\nstore/configureStore.js\n\n```js\n/* global __DEVTOOLS__ */\nimport { createStore, applyMiddleware, compose } from 'redux'\n// reducer\nimport rootReducer from '../reducers'\n// middleware\nimport thunkMiddleware from 'redux-thunk'\nimport promiseMiddleware from 'redux-promise'\nimport createLogger from 'redux-logger'\n\nconst loggerMiddleware = createLogger({\n  level: 'info',\n  collapsed: true\n})\n\nconst enforceImmutableMiddleware = require('redux-immutable-state-invariant')()\n\nlet createStoreWithMiddleware\n\nif (typeof __DEVTOOLS__ !== 'undefined' && __DEVTOOLS__) {\n  const { persistState } = require('redux-devtools')\n  const DevTools = require('../containers/DevTools')\n  createStoreWithMiddleware = compose(\n    applyMiddleware(\n      enforceImmutableMiddleware,\n      thunkMiddleware,\n      promiseMiddleware,\n      loggerMiddleware\n    ),\n    DevTools.instrument(),\n    persistState(window.location.href.match(/[?&]debug_session=([^&]+)\\b/))\n  )(createStore)\n} else {\n  createStoreWithMiddleware = compose(\n    applyMiddleware(thunkMiddleware, promiseMiddleware)\n  )(createStore)\n}\n\n/**\n * Creates a preconfigured store.\n */\nexport default function configureStore (initialState) {\n  const store = createStoreWithMiddleware(rootReducer, initialState)\n\n  if (module.hot) {\n    // Enable Webpack hot module replacement for reducers\n    module.hot.accept('../reducers', () => {\n      const nextRootReducer = require('../reducers/index')\n      store.replaceReducer(nextRootReducer)\n    })\n  }\n\n  return store\n}\n\n```\n\ndevtools\n\n## store enhancer\n\n`DevTools.instrument()` devtools`instrument()`store enhancerstore`applymiddleware`storestorestorestorestore`appllymiddleware`Redux\n\n\n## enforceImmutableMiddleware,thunkMiddleware, promiseMiddleware, loggerMiddleware\n\n\n\n`enforceImmutableMiddleware`statestateReduxstatereducerstatestate\n\n`thunk``thunk`[React  Redux connectapplyMiddlewarethunkwebpackHotMiddleware](https://lewis617.github.io/2016/01/19/r2-counter/)\n\n`promiseMiddleware``thunk`action`thunk``promiseMiddleware`\n\n`loggerMiddleware`\n\n\n\n## instrument()compose()\n\n`instrument()``applymiddleware`enabledevtools`applymiddleware``instrument`compose\n\n## Router\n\nRouterURL\n\n`Router`, containers/Root.js\n\n\"/\"\n\nroutes.js\n\n```js\n/*eslint-disable*/\nimport React from 'react'\nimport { Route } from 'react-router'\nimport App from './containers/App'\nimport * as containers from './containers'\n/*eslint-enable*/\n\nconst {\n  CounterPage\n} = containers\n\nexport default (\n  <Route component={App}>\n    <Route path=\"/\" component={CounterPage} />\n  </Route>\n)\n```\n\n`CounterPage`\n\ncontainers/Root.js`Router`\n\n```js\n<Router key=\"router\" history={history} children={routes} />\n```\n\ndevtoolsdevtools\n\nreact-routerapiapiapiapi\n\n* * *\n\n## \n\n<https://github.com/lewis617/react-redux-tutorial>\n\n<http://www.liuyiqi.cn/tags/React/>\n\n","slug":"r2-undo","published":1,"updated":"2019-05-01T08:10:30.289Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvmh002ttgytg79fa7es","content":"<p>es6<a href=\"https://lewis617.github.io/2016/01/21/r2-array/\" target=\"_blank\" rel=\"noopener\">React  Redux reduce()filter()map()some()every()</a></p>\n<p>redux-undoReduxdevtoolsrouter</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/164.gif\" alt=\"\"></p>\n<p>Redux/</p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/react-redux-tutorial/tree/master/redux-undo-boilerplate\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial/tree/master/redux-undo-boilerplate</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>reducers</p>\n<p>reducers/index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; combineReducers &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> counter <span class=\"keyword\">from</span> <span class=\"string\">'./counter'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;</span><br><span class=\"line\">  INCREMENT_COUNTER, DECREMENT_COUNTER,</span><br><span class=\"line\">  UNDO_COUNTER, REDO_COUNTER</span><br><span class=\"line\">&#125; <span class=\"keyword\">from</span> <span class=\"string\">'../actions/counter'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> undoable, &#123; includeAction &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux-undo'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> rootReducer = combineReducers(&#123;</span><br><span class=\"line\">  counter: undoable(counter, &#123;</span><br><span class=\"line\">    filter: includeAction([INCREMENT_COUNTER, DECREMENT_COUNTER]),</span><br><span class=\"line\">    limit: <span class=\"number\">10</span>,</span><br><span class=\"line\">    debug: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    undoType: UNDO_COUNTER,</span><br><span class=\"line\">    redoType: REDO_COUNTER</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> rootReducer</span><br></pre></td></tr></table></figure>\n<p><code>redux-undo</code><code>undoable</code><code>includeAction</code>reducercounter<code>filter</code>actionaction<code>INCREMENT_COUNTER</code>, <code>DECREMENT_COUNTER</code>  <code>limit</code><code>debug</code><code>undotype</code><code>redotype</code>action</p>\n<p>action</p>\n<h2 id=\"devtools\"><a href=\"#devtools\" class=\"headerlink\" title=\"devtools\"></a>devtools</h2><p>devtoolsdevtoolsdevtoolsdevtoolsdevtoolsactiondevtoolsdevtoolsdevtools</p>\n<p>containers/DevTools.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*eslint-disable*/</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> React <span class=\"keyword\">from</span> <span class=\"string\">'react'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; createDevTools &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux-devtools'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> LogMonitor <span class=\"keyword\">from</span> <span class=\"string\">'redux-devtools-log-monitor'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> DockMonitor <span class=\"keyword\">from</span> <span class=\"string\">'redux-devtools-dock-monitor'</span></span><br><span class=\"line\"><span class=\"comment\">/*eslint-enable*/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> createDevTools(</span><br><span class=\"line\">  &lt;DockMonitor toggleVisibilityKey=<span class=\"string\">\"H\"</span></span><br><span class=\"line\">               changePositionKey=<span class=\"string\">\"Q\"</span>&gt;</span><br><span class=\"line\">    &lt;LogMonitor /&gt;</span><br><span class=\"line\">  &lt;<span class=\"regexp\">/DockMonitor&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">)</span></span><br></pre></td></tr></table></figure>\n<p>jsdevtools</p>\n<p>containers/Root.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* global __DEVTOOLS__ */</span></span><br><span class=\"line\"><span class=\"comment\">/*eslint-disable*/</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component, PropTypes &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Provider &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react-redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Router &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react-router'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> configureStore <span class=\"keyword\">from</span> <span class=\"string\">'../store/configureStore'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> routes <span class=\"keyword\">from</span> <span class=\"string\">'../routes'</span></span><br><span class=\"line\"><span class=\"comment\">/*eslint-enable*/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> store = configureStore()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createElements</span> (<span class=\"params\">history</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> elements = [</span><br><span class=\"line\">    &lt;Router key=<span class=\"string\">\"router\"</span> history=&#123;history&#125; children=&#123;routes&#125; /&gt;</span><br><span class=\"line\">  ]</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> __DEVTOOLS__ !== <span class=\"string\">'undefined'</span> &amp;&amp; __DEVTOOLS__) &#123;</span><br><span class=\"line\">    <span class=\"comment\">/*eslint-disable*/</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> DevTools = <span class=\"built_in\">require</span>(<span class=\"string\">'./DevTools'</span>)</span><br><span class=\"line\">    <span class=\"comment\">/*eslint-enable*/</span></span><br><span class=\"line\">    elements.push(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">DevTools</span> <span class=\"attr\">key</span>=<span class=\"string\">\"devtools\"</span> /&gt;</span>)</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;</span></span><br><span class=\"line\"><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">  return elements</span></span><br><span class=\"line\"><span class=\"xml\">&#125;</span></span><br><span class=\"line\"><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">export default class Root extends Component &#123;</span></span><br><span class=\"line\"><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">  static propTypes = &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    history: PropTypes.object.isRequired</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;</span></span><br><span class=\"line\"><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">  render () &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    return (</span></span><br><span class=\"line\">      &lt;Provider store=&#123;store&#125; key=\"provider\"&gt;</span><br><span class=\"line\">        &lt;div&gt;</span><br><span class=\"line\">          &#123;createElements(this.props.history)&#125;</span><br><span class=\"line\">        &lt;/div&gt;</span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;/<span class=\"name\">Provider</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    )</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;</span></span><br><span class=\"line\"><span class=\"xml\">&#125;</span></span><br></pre></td></tr></table></figure>\n<p>devtools<code>router</code><code>typeof DEVTOOLS !==&#39;undefined&#39; &amp;&amp; DEVTOOLS</code>devtoolsdevtools</p>\n<p><code>store</code></p>\n<p>store/configureStore.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* global __DEVTOOLS__ */</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; createStore, applyMiddleware, compose &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux'</span></span><br><span class=\"line\"><span class=\"comment\">// reducer</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> rootReducer <span class=\"keyword\">from</span> <span class=\"string\">'../reducers'</span></span><br><span class=\"line\"><span class=\"comment\">// middleware</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> thunkMiddleware <span class=\"keyword\">from</span> <span class=\"string\">'redux-thunk'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> promiseMiddleware <span class=\"keyword\">from</span> <span class=\"string\">'redux-promise'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> createLogger <span class=\"keyword\">from</span> <span class=\"string\">'redux-logger'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> loggerMiddleware = createLogger(&#123;</span><br><span class=\"line\">  level: <span class=\"string\">'info'</span>,</span><br><span class=\"line\">  collapsed: <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> enforceImmutableMiddleware = <span class=\"built_in\">require</span>(<span class=\"string\">'redux-immutable-state-invariant'</span>)()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> createStoreWithMiddleware</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> __DEVTOOLS__ !== <span class=\"string\">'undefined'</span> &amp;&amp; __DEVTOOLS__) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; persistState &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">'redux-devtools'</span>)</span><br><span class=\"line\">  <span class=\"keyword\">const</span> DevTools = <span class=\"built_in\">require</span>(<span class=\"string\">'../containers/DevTools'</span>)</span><br><span class=\"line\">  createStoreWithMiddleware = compose(</span><br><span class=\"line\">    applyMiddleware(</span><br><span class=\"line\">      enforceImmutableMiddleware,</span><br><span class=\"line\">      thunkMiddleware,</span><br><span class=\"line\">      promiseMiddleware,</span><br><span class=\"line\">      loggerMiddleware</span><br><span class=\"line\">    ),</span><br><span class=\"line\">    DevTools.instrument(),</span><br><span class=\"line\">    persistState(<span class=\"built_in\">window</span>.location.href.match(<span class=\"regexp\">/[?&amp;]debug_session=([^&amp;]+)\\b/</span>))</span><br><span class=\"line\">  )(createStore)</span><br><span class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">  createStoreWithMiddleware = compose(</span><br><span class=\"line\">    applyMiddleware(thunkMiddleware, promiseMiddleware)</span><br><span class=\"line\">  )(createStore)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Creates a preconfigured store.</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">configureStore</span> (<span class=\"params\">initialState</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> store = createStoreWithMiddleware(rootReducer, initialState)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"built_in\">module</span>.hot) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Enable Webpack hot module replacement for reducers</span></span><br><span class=\"line\">    <span class=\"built_in\">module</span>.hot.accept(<span class=\"string\">'../reducers'</span>, () =&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> nextRootReducer = <span class=\"built_in\">require</span>(<span class=\"string\">'../reducers/index'</span>)</span><br><span class=\"line\">      store.replaceReducer(nextRootReducer)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> store</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>devtools</p>\n<h2 id=\"store-enhancer\"><a href=\"#store-enhancer\" class=\"headerlink\" title=\"store enhancer\"></a>store enhancer</h2><p><code>DevTools.instrument()</code> devtools<code>instrument()</code>store enhancerstore<code>applymiddleware</code>storestorestorestorestore<code>appllymiddleware</code>Redux</p>\n<h2 id=\"enforceImmutableMiddleware-thunkMiddleware-promiseMiddleware-loggerMiddleware\"><a href=\"#enforceImmutableMiddleware-thunkMiddleware-promiseMiddleware-loggerMiddleware\" class=\"headerlink\" title=\"enforceImmutableMiddleware,thunkMiddleware, promiseMiddleware, loggerMiddleware\"></a>enforceImmutableMiddleware,thunkMiddleware, promiseMiddleware, loggerMiddleware</h2><p><code>enforceImmutableMiddleware</code>statestateReduxstatereducerstatestate</p>\n<p><code>thunk</code><code>thunk</code><a href=\"https://lewis617.github.io/2016/01/19/r2-counter/\" target=\"_blank\" rel=\"noopener\">React  Redux connectapplyMiddlewarethunkwebpackHotMiddleware</a></p>\n<p><code>promiseMiddleware</code><code>thunk</code>action<code>thunk</code><code>promiseMiddleware</code></p>\n<p><code>loggerMiddleware</code></p>\n<h2 id=\"instrument-compose-\"><a href=\"#instrument-compose-\" class=\"headerlink\" title=\"instrument()compose()\"></a>instrument()compose()</h2><p><code>instrument()</code><code>applymiddleware</code>enabledevtools<code>applymiddleware</code><code>instrument</code>compose</p>\n<h2 id=\"Router\"><a href=\"#Router\" class=\"headerlink\" title=\"Router\"></a>Router</h2><p>RouterURL</p>\n<p><code>Router</code>, containers/Root.js</p>\n<p>/</p>\n<p>routes.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*eslint-disable*/</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> React <span class=\"keyword\">from</span> <span class=\"string\">'react'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Route &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react-router'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> App <span class=\"keyword\">from</span> <span class=\"string\">'./containers/App'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> containers <span class=\"keyword\">from</span> <span class=\"string\">'./containers'</span></span><br><span class=\"line\"><span class=\"comment\">/*eslint-enable*/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123;</span><br><span class=\"line\">  CounterPage</span><br><span class=\"line\">&#125; = containers</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> (</span><br><span class=\"line\">  &lt;Route component=&#123;App&#125;&gt;</span><br><span class=\"line\">    &lt;Route path=<span class=\"string\">\"/\"</span> component=&#123;CounterPage&#125; /&gt;</span><br><span class=\"line\">  &lt;<span class=\"regexp\">/Route&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">)</span></span><br></pre></td></tr></table></figure>\n<p><code>CounterPage</code></p>\n<p>containers/Root.js<code>Router</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;Router key=<span class=\"string\">\"router\"</span> history=&#123;history&#125; children=&#123;routes&#125; /&gt;</span><br></pre></td></tr></table></figure>\n<p>devtoolsdevtools</p>\n<p>react-routerapiapiapiapi</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/React/\">http://www.liuyiqi.cn/tags/React/</a></p>\n","site":{"data":{}},"excerpt":"<p>es6<a href=\"https://lewis617.github.io/2016/01/21/r2-array/\" target=\"_blank\" rel=\"noopener\">React  Redux reduce()filter()map()some()every()</a></p>\n<p>redux-undoReduxdevtoolsrouter</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/164.gif\" alt=\"\"></p>\n<p>Redux/</p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/react-redux-tutorial/tree/master/redux-undo-boilerplate\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial/tree/master/redux-undo-boilerplate</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>reducers</p>\n<p>reducers/index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; combineReducers &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> counter <span class=\"keyword\">from</span> <span class=\"string\">'./counter'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;</span><br><span class=\"line\">  INCREMENT_COUNTER, DECREMENT_COUNTER,</span><br><span class=\"line\">  UNDO_COUNTER, REDO_COUNTER</span><br><span class=\"line\">&#125; <span class=\"keyword\">from</span> <span class=\"string\">'../actions/counter'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> undoable, &#123; includeAction &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux-undo'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> rootReducer = combineReducers(&#123;</span><br><span class=\"line\">  counter: undoable(counter, &#123;</span><br><span class=\"line\">    filter: includeAction([INCREMENT_COUNTER, DECREMENT_COUNTER]),</span><br><span class=\"line\">    limit: <span class=\"number\">10</span>,</span><br><span class=\"line\">    debug: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    undoType: UNDO_COUNTER,</span><br><span class=\"line\">    redoType: REDO_COUNTER</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> rootReducer</span><br></pre></td></tr></table></figure>\n<p><code>redux-undo</code><code>undoable</code><code>includeAction</code>reducercounter<code>filter</code>actionaction<code>INCREMENT_COUNTER</code>, <code>DECREMENT_COUNTER</code>  <code>limit</code><code>debug</code><code>undotype</code><code>redotype</code>action</p>\n<p>action</p>\n<h2 id=\"devtools\"><a href=\"#devtools\" class=\"headerlink\" title=\"devtools\"></a>devtools</h2><p>devtoolsdevtoolsdevtoolsdevtoolsdevtoolsactiondevtoolsdevtoolsdevtools</p>\n<p>containers/DevTools.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*eslint-disable*/</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> React <span class=\"keyword\">from</span> <span class=\"string\">'react'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; createDevTools &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux-devtools'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> LogMonitor <span class=\"keyword\">from</span> <span class=\"string\">'redux-devtools-log-monitor'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> DockMonitor <span class=\"keyword\">from</span> <span class=\"string\">'redux-devtools-dock-monitor'</span></span><br><span class=\"line\"><span class=\"comment\">/*eslint-enable*/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> createDevTools(</span><br><span class=\"line\">  &lt;DockMonitor toggleVisibilityKey=<span class=\"string\">\"H\"</span></span><br><span class=\"line\">               changePositionKey=<span class=\"string\">\"Q\"</span>&gt;</span><br><span class=\"line\">    &lt;LogMonitor /&gt;</span><br><span class=\"line\">  &lt;<span class=\"regexp\">/DockMonitor&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">)</span></span><br></pre></td></tr></table></figure>\n<p>jsdevtools</p>\n<p>containers/Root.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* global __DEVTOOLS__ */</span></span><br><span class=\"line\"><span class=\"comment\">/*eslint-disable*/</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component, PropTypes &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Provider &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react-redux'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Router &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react-router'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> configureStore <span class=\"keyword\">from</span> <span class=\"string\">'../store/configureStore'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> routes <span class=\"keyword\">from</span> <span class=\"string\">'../routes'</span></span><br><span class=\"line\"><span class=\"comment\">/*eslint-enable*/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> store = configureStore()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createElements</span> (<span class=\"params\">history</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> elements = [</span><br><span class=\"line\">    &lt;Router key=<span class=\"string\">\"router\"</span> history=&#123;history&#125; children=&#123;routes&#125; /&gt;</span><br><span class=\"line\">  ]</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> __DEVTOOLS__ !== <span class=\"string\">'undefined'</span> &amp;&amp; __DEVTOOLS__) &#123;</span><br><span class=\"line\">    <span class=\"comment\">/*eslint-disable*/</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> DevTools = <span class=\"built_in\">require</span>(<span class=\"string\">'./DevTools'</span>)</span><br><span class=\"line\">    <span class=\"comment\">/*eslint-enable*/</span></span><br><span class=\"line\">    elements.push(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">DevTools</span> <span class=\"attr\">key</span>=<span class=\"string\">\"devtools\"</span> /&gt;</span>)</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;</span></span><br><span class=\"line\"><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">  return elements</span></span><br><span class=\"line\"><span class=\"xml\">&#125;</span></span><br><span class=\"line\"><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">export default class Root extends Component &#123;</span></span><br><span class=\"line\"><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">  static propTypes = &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    history: PropTypes.object.isRequired</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;</span></span><br><span class=\"line\"><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">  render () &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    return (</span></span><br><span class=\"line\">      &lt;Provider store=&#123;store&#125; key=\"provider\"&gt;</span><br><span class=\"line\">        &lt;div&gt;</span><br><span class=\"line\">          &#123;createElements(this.props.history)&#125;</span><br><span class=\"line\">        &lt;/div&gt;</span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;/<span class=\"name\">Provider</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    )</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;</span></span><br><span class=\"line\"><span class=\"xml\">&#125;</span></span><br></pre></td></tr></table></figure>\n<p>devtools<code>router</code><code>typeof DEVTOOLS !==&#39;undefined&#39; &amp;&amp; DEVTOOLS</code>devtoolsdevtools</p>\n<p><code>store</code></p>\n<p>store/configureStore.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* global __DEVTOOLS__ */</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; createStore, applyMiddleware, compose &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux'</span></span><br><span class=\"line\"><span class=\"comment\">// reducer</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> rootReducer <span class=\"keyword\">from</span> <span class=\"string\">'../reducers'</span></span><br><span class=\"line\"><span class=\"comment\">// middleware</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> thunkMiddleware <span class=\"keyword\">from</span> <span class=\"string\">'redux-thunk'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> promiseMiddleware <span class=\"keyword\">from</span> <span class=\"string\">'redux-promise'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> createLogger <span class=\"keyword\">from</span> <span class=\"string\">'redux-logger'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> loggerMiddleware = createLogger(&#123;</span><br><span class=\"line\">  level: <span class=\"string\">'info'</span>,</span><br><span class=\"line\">  collapsed: <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> enforceImmutableMiddleware = <span class=\"built_in\">require</span>(<span class=\"string\">'redux-immutable-state-invariant'</span>)()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> createStoreWithMiddleware</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> __DEVTOOLS__ !== <span class=\"string\">'undefined'</span> &amp;&amp; __DEVTOOLS__) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; persistState &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">'redux-devtools'</span>)</span><br><span class=\"line\">  <span class=\"keyword\">const</span> DevTools = <span class=\"built_in\">require</span>(<span class=\"string\">'../containers/DevTools'</span>)</span><br><span class=\"line\">  createStoreWithMiddleware = compose(</span><br><span class=\"line\">    applyMiddleware(</span><br><span class=\"line\">      enforceImmutableMiddleware,</span><br><span class=\"line\">      thunkMiddleware,</span><br><span class=\"line\">      promiseMiddleware,</span><br><span class=\"line\">      loggerMiddleware</span><br><span class=\"line\">    ),</span><br><span class=\"line\">    DevTools.instrument(),</span><br><span class=\"line\">    persistState(<span class=\"built_in\">window</span>.location.href.match(<span class=\"regexp\">/[?&amp;]debug_session=([^&amp;]+)\\b/</span>))</span><br><span class=\"line\">  )(createStore)</span><br><span class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">  createStoreWithMiddleware = compose(</span><br><span class=\"line\">    applyMiddleware(thunkMiddleware, promiseMiddleware)</span><br><span class=\"line\">  )(createStore)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Creates a preconfigured store.</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">configureStore</span> (<span class=\"params\">initialState</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> store = createStoreWithMiddleware(rootReducer, initialState)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"built_in\">module</span>.hot) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Enable Webpack hot module replacement for reducers</span></span><br><span class=\"line\">    <span class=\"built_in\">module</span>.hot.accept(<span class=\"string\">'../reducers'</span>, () =&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> nextRootReducer = <span class=\"built_in\">require</span>(<span class=\"string\">'../reducers/index'</span>)</span><br><span class=\"line\">      store.replaceReducer(nextRootReducer)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> store</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>devtools</p>\n<h2 id=\"store-enhancer\"><a href=\"#store-enhancer\" class=\"headerlink\" title=\"store enhancer\"></a>store enhancer</h2><p><code>DevTools.instrument()</code> devtools<code>instrument()</code>store enhancerstore<code>applymiddleware</code>storestorestorestorestore<code>appllymiddleware</code>Redux</p>\n<h2 id=\"enforceImmutableMiddleware-thunkMiddleware-promiseMiddleware-loggerMiddleware\"><a href=\"#enforceImmutableMiddleware-thunkMiddleware-promiseMiddleware-loggerMiddleware\" class=\"headerlink\" title=\"enforceImmutableMiddleware,thunkMiddleware, promiseMiddleware, loggerMiddleware\"></a>enforceImmutableMiddleware,thunkMiddleware, promiseMiddleware, loggerMiddleware</h2><p><code>enforceImmutableMiddleware</code>statestateReduxstatereducerstatestate</p>\n<p><code>thunk</code><code>thunk</code><a href=\"https://lewis617.github.io/2016/01/19/r2-counter/\" target=\"_blank\" rel=\"noopener\">React  Redux connectapplyMiddlewarethunkwebpackHotMiddleware</a></p>\n<p><code>promiseMiddleware</code><code>thunk</code>action<code>thunk</code><code>promiseMiddleware</code></p>\n<p><code>loggerMiddleware</code></p>\n<h2 id=\"instrument-compose-\"><a href=\"#instrument-compose-\" class=\"headerlink\" title=\"instrument()compose()\"></a>instrument()compose()</h2><p><code>instrument()</code><code>applymiddleware</code>enabledevtools<code>applymiddleware</code><code>instrument</code>compose</p>\n<h2 id=\"Router\"><a href=\"#Router\" class=\"headerlink\" title=\"Router\"></a>Router</h2><p>RouterURL</p>\n<p><code>Router</code>, containers/Root.js</p>\n<p>/</p>\n<p>routes.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*eslint-disable*/</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> React <span class=\"keyword\">from</span> <span class=\"string\">'react'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Route &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react-router'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> App <span class=\"keyword\">from</span> <span class=\"string\">'./containers/App'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> containers <span class=\"keyword\">from</span> <span class=\"string\">'./containers'</span></span><br><span class=\"line\"><span class=\"comment\">/*eslint-enable*/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123;</span><br><span class=\"line\">  CounterPage</span><br><span class=\"line\">&#125; = containers</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> (</span><br><span class=\"line\">  &lt;Route component=&#123;App&#125;&gt;</span><br><span class=\"line\">    &lt;Route path=<span class=\"string\">\"/\"</span> component=&#123;CounterPage&#125; /&gt;</span><br><span class=\"line\">  &lt;<span class=\"regexp\">/Route&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">)</span></span><br></pre></td></tr></table></figure>\n<p><code>CounterPage</code></p>\n<p>containers/Root.js<code>Router</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;Router key=<span class=\"string\">\"router\"</span> history=&#123;history&#125; children=&#123;routes&#125; /&gt;</span><br></pre></td></tr></table></figure>\n<p>devtoolsdevtools</p>\n<p>react-routerapiapiapiapi</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/React/\">http://www.liuyiqi.cn/tags/React/</a></p>"},{"title":"React+Reflux","date":"2016-01-13T19:26:00.000Z","_content":"\nReactFluxReduxRefluxReflux\n\n<!--more-->\n\n## \n\n![](/css/images/165.gif)\n\ntodohelloworldtodo\n\n## \n\ncomponents/todo.js\n\n```js\nimport React from 'react' import Reflux from 'reflux' import ReactMixin from 'react-mixin' import store from '../stores/store' import actions from '../actions/actions' export default class Todo extends React.Component{ //actionthis.state\n componentDidMount() {\n    actions.getAll();\n  }\n\n  add(){ var item =this.refs.item.value; this.refs.item.value='';\n    actions.add(item);\n\n  }\n\n  remove(i){\n    actions.remove(i);\n  }\n\n  render() { //itemsli\n let items; if(this.state.list){\n      items=this.state.list.map( (item,i)=> { //keyreactdiffkey\n              return <li key={i}> {item.name} <button onClick={this.remove.bind(this,i)}>remove</button>\n              </li>\n })\n    } return ( <div>\n          <input type=\"text\" ref=\"item\"/>\n          <button onClick={this.add.bind(this)}>add</button>\n          <ul> {items} </ul>\n        </div>\n )\n  }\n} // ES6 mixinmixinstorestorestatethis.state\nReactMixin.onClass(Todo, Reflux.connect(store));\n```\n\n3\n\n1.  `input`addremove\n2.  `componentDidMount()``componentDidMount()``add()``remove()`actions\n3.  es6mixinstorestate\n\nRefluxReflux\n\n![](/css/images/166.jpg)\n\nactionsstoreactionsstatestate\n\nReactAngulardom`this.state`\n\nactionsstorestateactions\n\n## actionsstore\n\nactions/actions.js\n\n```js\nimport Reflux from 'reflux' export default Reflux.createActions(['getAll','add','remove']);\n```\n\nstores/store.js\n\n```\nimport Reflux from 'reflux' import actions from '../actions/actions'\n\n//remove\nArray.prototype.remove=function(dx)\n{ if(isNaN(dx)||dx>this.length){return false;} for(var i=0,n=0;i<this.length;i++)\n    { if(this[i]!=this[dx])\n        { this[n++]=this[i]\n        }\n    } this.length-=1 };\n\nexport default Reflux.createStore({\n    items:[], //actions\n listenables: [actions], //onaction\n onGetAll () { //\n        this.trigger({list:this.items});\n    },\n    onAdd(item){ this.items.push({name:item}); this.trigger({list:this.items});\n    },\n    onRemove(i){ this.items.remove(i); this.trigger({list:this.items});\n    }\n});\n```\n\n3\n\n1.  remove\n2.  storeactions\n3.  storeonactionsthis.trigger()state{list:this.items}\n\n## \n\nindex.js\n\n```js\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Todo from './components/todo';\n\nReactDOM.render( <Todo>\n  </Todo>,\n  document.querySelector('#app')\n);\n```\n\n## webpack\n\nwebpack.config.js\n\n```js\nvar path = require('path'); var webpack = require('webpack');\n\nmodule.exports = {\n    entry: {\n        app:path.join(__dirname, 'src'),\n        vendors: ['react','reflux','react-mixin']\n    },\n    output: {\n        path: path.join(__dirname, 'dist'),\n        filename: '[name].js' },\n    module: {\n        loaders: [\n            {\n                test:/\\.js?$/,\n                exclude:/node_modules/,\n                loader:'babel',\n                query:{\n                    presets:['react','es2015']\n                }\n            }\n        ]\n    },\n    plugins: [ new webpack.optimize.CommonsChunkPlugin('vendors', 'vendors.js')\n    ]\n};\n```\n\n## \n\nRedux\n\n1.  Refluxreduceractionstore\n2.  Refluxpropsstatereact dev tool![](/css/images/167.jpg)\n3.  RefluxactionReduxpropspropsdispatchactions\n4.  \n\nRefluxReduxstateReduxGithubReflux\n\n\n\n[https://github.com/lewis617/react-redux-tutorial/tree/master/todo-reflux](https://github.com/lewis617/react-redux-tutorial/tree/master/todo-reflux)\n\n\n\n```sh\nnpm install\n\nnpm run build\n```\nindex.html\n\n* * *\n\n# \n\n[https://github.com/lewis617/react-redux-tutorial](https://github.com/lewis617/react-redux-tutorial)","source":"_posts/react-reflux.md","raw":"---\ntitle: React+Reflux\ndate: 2016-01-14 03:26:00\ntags: [React, Reflux]\n---\n\nReactFluxReduxRefluxReflux\n\n<!--more-->\n\n## \n\n![](/css/images/165.gif)\n\ntodohelloworldtodo\n\n## \n\ncomponents/todo.js\n\n```js\nimport React from 'react' import Reflux from 'reflux' import ReactMixin from 'react-mixin' import store from '../stores/store' import actions from '../actions/actions' export default class Todo extends React.Component{ //actionthis.state\n componentDidMount() {\n    actions.getAll();\n  }\n\n  add(){ var item =this.refs.item.value; this.refs.item.value='';\n    actions.add(item);\n\n  }\n\n  remove(i){\n    actions.remove(i);\n  }\n\n  render() { //itemsli\n let items; if(this.state.list){\n      items=this.state.list.map( (item,i)=> { //keyreactdiffkey\n              return <li key={i}> {item.name} <button onClick={this.remove.bind(this,i)}>remove</button>\n              </li>\n })\n    } return ( <div>\n          <input type=\"text\" ref=\"item\"/>\n          <button onClick={this.add.bind(this)}>add</button>\n          <ul> {items} </ul>\n        </div>\n )\n  }\n} // ES6 mixinmixinstorestorestatethis.state\nReactMixin.onClass(Todo, Reflux.connect(store));\n```\n\n3\n\n1.  `input`addremove\n2.  `componentDidMount()``componentDidMount()``add()``remove()`actions\n3.  es6mixinstorestate\n\nRefluxReflux\n\n![](/css/images/166.jpg)\n\nactionsstoreactionsstatestate\n\nReactAngulardom`this.state`\n\nactionsstorestateactions\n\n## actionsstore\n\nactions/actions.js\n\n```js\nimport Reflux from 'reflux' export default Reflux.createActions(['getAll','add','remove']);\n```\n\nstores/store.js\n\n```\nimport Reflux from 'reflux' import actions from '../actions/actions'\n\n//remove\nArray.prototype.remove=function(dx)\n{ if(isNaN(dx)||dx>this.length){return false;} for(var i=0,n=0;i<this.length;i++)\n    { if(this[i]!=this[dx])\n        { this[n++]=this[i]\n        }\n    } this.length-=1 };\n\nexport default Reflux.createStore({\n    items:[], //actions\n listenables: [actions], //onaction\n onGetAll () { //\n        this.trigger({list:this.items});\n    },\n    onAdd(item){ this.items.push({name:item}); this.trigger({list:this.items});\n    },\n    onRemove(i){ this.items.remove(i); this.trigger({list:this.items});\n    }\n});\n```\n\n3\n\n1.  remove\n2.  storeactions\n3.  storeonactionsthis.trigger()state{list:this.items}\n\n## \n\nindex.js\n\n```js\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Todo from './components/todo';\n\nReactDOM.render( <Todo>\n  </Todo>,\n  document.querySelector('#app')\n);\n```\n\n## webpack\n\nwebpack.config.js\n\n```js\nvar path = require('path'); var webpack = require('webpack');\n\nmodule.exports = {\n    entry: {\n        app:path.join(__dirname, 'src'),\n        vendors: ['react','reflux','react-mixin']\n    },\n    output: {\n        path: path.join(__dirname, 'dist'),\n        filename: '[name].js' },\n    module: {\n        loaders: [\n            {\n                test:/\\.js?$/,\n                exclude:/node_modules/,\n                loader:'babel',\n                query:{\n                    presets:['react','es2015']\n                }\n            }\n        ]\n    },\n    plugins: [ new webpack.optimize.CommonsChunkPlugin('vendors', 'vendors.js')\n    ]\n};\n```\n\n## \n\nRedux\n\n1.  Refluxreduceractionstore\n2.  Refluxpropsstatereact dev tool![](/css/images/167.jpg)\n3.  RefluxactionReduxpropspropsdispatchactions\n4.  \n\nRefluxReduxstateReduxGithubReflux\n\n\n\n[https://github.com/lewis617/react-redux-tutorial/tree/master/todo-reflux](https://github.com/lewis617/react-redux-tutorial/tree/master/todo-reflux)\n\n\n\n```sh\nnpm install\n\nnpm run build\n```\nindex.html\n\n* * *\n\n# \n\n[https://github.com/lewis617/react-redux-tutorial](https://github.com/lewis617/react-redux-tutorial)","slug":"react-reflux","published":1,"updated":"2019-05-01T08:10:30.308Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvmi002utgyt72c70504","content":"<p>ReactFluxReduxRefluxReflux</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/165.gif\" alt=\"\"></p>\n<p>todohelloworldtodo</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>components/todo.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React <span class=\"keyword\">from</span> <span class=\"string\">'react'</span> <span class=\"keyword\">import</span> Reflux <span class=\"keyword\">from</span> <span class=\"string\">'reflux'</span> <span class=\"keyword\">import</span> ReactMixin <span class=\"keyword\">from</span> <span class=\"string\">'react-mixin'</span> <span class=\"keyword\">import</span> store <span class=\"keyword\">from</span> <span class=\"string\">'../stores/store'</span> <span class=\"keyword\">import</span> actions <span class=\"keyword\">from</span> <span class=\"string\">'../actions/actions'</span> <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Todo</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123; <span class=\"comment\">//actionthis.state</span></span><br><span class=\"line\"> componentDidMount() &#123;</span><br><span class=\"line\">    actions.getAll();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  add()&#123; <span class=\"keyword\">var</span> item =<span class=\"keyword\">this</span>.refs.item.value; <span class=\"keyword\">this</span>.refs.item.value=<span class=\"string\">''</span>;</span><br><span class=\"line\">    actions.add(item);</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  remove(i)&#123;</span><br><span class=\"line\">    actions.remove(i);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  render() &#123; <span class=\"comment\">//itemsli</span></span><br><span class=\"line\"> <span class=\"keyword\">let</span> items; <span class=\"keyword\">if</span>(<span class=\"keyword\">this</span>.state.list)&#123;</span><br><span class=\"line\">      items=<span class=\"keyword\">this</span>.state.list.map( <span class=\"function\">(<span class=\"params\">item,i</span>)=&gt;</span> &#123; <span class=\"comment\">//keyreactdiffkey</span></span><br><span class=\"line\">              <span class=\"keyword\">return</span> <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">key</span>=<span class=\"string\">&#123;i&#125;</span>&gt;</span> &#123;item.name&#125; <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.remove.bind(this,i)&#125;</span>&gt;</span>remove<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">              <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span><br><span class=\"line\"> &#125;)</span><br><span class=\"line\">    &#125; <span class=\"keyword\">return</span> ( <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">          &lt;input type=\"text\" ref=\"item\"/&gt;</span><br><span class=\"line\">          &lt;button onClick=&#123;this.add.bind(this)&#125;&gt;add&lt;/button&gt;</span><br><span class=\"line\">          &lt;ul&gt; &#123;items&#125; &lt;/ul&gt;</span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"> )</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;</span></span><br><span class=\"line\"><span class=\"xml\">&#125; // ES6 mixinmixinstorestorestatethis.state</span></span><br><span class=\"line\"><span class=\"xml\">ReactMixin.onClass(Todo, Reflux.connect(store));</span></span><br></pre></td></tr></table></figure>\n<p>3</p>\n<ol>\n<li><code>input</code>addremove</li>\n<li><code>componentDidMount()</code><code>componentDidMount()</code><code>add()</code><code>remove()</code>actions</li>\n<li>es6mixinstorestate</li>\n</ol>\n<p>RefluxReflux</p>\n<p><img src=\"/css/images/166.jpg\" alt=\"\"></p>\n<p>actionsstoreactionsstatestate</p>\n<p>ReactAngulardom<code>this.state</code></p>\n<p>actionsstorestateactions</p>\n<h2 id=\"actionsstore\"><a href=\"#actionsstore\" class=\"headerlink\" title=\"actionsstore\"></a>actionsstore</h2><p>actions/actions.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> Reflux <span class=\"keyword\">from</span> <span class=\"string\">'reflux'</span> <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> Reflux.createActions([<span class=\"string\">'getAll'</span>,<span class=\"string\">'add'</span>,<span class=\"string\">'remove'</span>]);</span><br></pre></td></tr></table></figure>\n<p>stores/store.js</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import Reflux from &apos;reflux&apos; import actions from &apos;../actions/actions&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">//remove</span><br><span class=\"line\">Array.prototype.remove=function(dx)</span><br><span class=\"line\">&#123; if(isNaN(dx)||dx&gt;this.length)&#123;return false;&#125; for(var i=0,n=0;i&lt;this.length;i++)</span><br><span class=\"line\">    &#123; if(this[i]!=this[dx])</span><br><span class=\"line\">        &#123; this[n++]=this[i]</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; this.length-=1 &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">export default Reflux.createStore(&#123;</span><br><span class=\"line\">    items:[], //actions</span><br><span class=\"line\"> listenables: [actions], //onaction</span><br><span class=\"line\"> onGetAll () &#123; //</span><br><span class=\"line\">        this.trigger(&#123;list:this.items&#125;);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    onAdd(item)&#123; this.items.push(&#123;name:item&#125;); this.trigger(&#123;list:this.items&#125;);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    onRemove(i)&#123; this.items.remove(i); this.trigger(&#123;list:this.items&#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>3</p>\n<ol>\n<li>remove</li>\n<li>storeactions</li>\n<li>storeonactionsthis.trigger()state{list:this.items}</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> ReactDOM <span class=\"keyword\">from</span> <span class=\"string\">'react-dom'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> Todo <span class=\"keyword\">from</span> <span class=\"string\">'./components/todo'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">ReactDOM.render( <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Todo</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;/<span class=\"name\">Todo</span>&gt;</span></span>,</span><br><span class=\"line\">  <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">'#app'</span>)</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n<h2 id=\"webpack\"><a href=\"#webpack\" class=\"headerlink\" title=\"webpack\"></a>webpack</h2><p>webpack.config.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>); <span class=\"keyword\">var</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">    entry: &#123;</span><br><span class=\"line\">        app:path.join(__dirname, <span class=\"string\">'src'</span>),</span><br><span class=\"line\">        vendors: [<span class=\"string\">'react'</span>,<span class=\"string\">'reflux'</span>,<span class=\"string\">'react-mixin'</span>]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    output: &#123;</span><br><span class=\"line\">        path: path.join(__dirname, <span class=\"string\">'dist'</span>),</span><br><span class=\"line\">        filename: <span class=\"string\">'[name].js'</span> &#125;,</span><br><span class=\"line\">    <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">        loaders: [</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                test:<span class=\"regexp\">/\\.js?$/</span>,</span><br><span class=\"line\">                exclude:<span class=\"regexp\">/node_modules/</span>,</span><br><span class=\"line\">                loader:<span class=\"string\">'babel'</span>,</span><br><span class=\"line\">                query:&#123;</span><br><span class=\"line\">                    presets:[<span class=\"string\">'react'</span>,<span class=\"string\">'es2015'</span>]</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    plugins: [ <span class=\"keyword\">new</span> webpack.optimize.CommonsChunkPlugin(<span class=\"string\">'vendors'</span>, <span class=\"string\">'vendors.js'</span>)</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Redux</p>\n<ol>\n<li>Refluxreduceractionstore</li>\n<li>Refluxpropsstatereact dev tool<img src=\"/css/images/167.jpg\" alt=\"\"></li>\n<li>RefluxactionReduxpropspropsdispatchactions</li>\n<li></li>\n</ol>\n<p>RefluxReduxstateReduxGithubReflux</p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/react-redux-tutorial/tree/master/todo-reflux\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial/tree/master/todo-reflux</a></p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install</span><br><span class=\"line\"></span><br><span class=\"line\">npm run build</span><br></pre></td></tr></table></figure>\n<p>index.html</p>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n","site":{"data":{}},"excerpt":"<p>ReactFluxReduxRefluxReflux</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/css/images/165.gif\" alt=\"\"></p>\n<p>todohelloworldtodo</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>components/todo.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React <span class=\"keyword\">from</span> <span class=\"string\">'react'</span> <span class=\"keyword\">import</span> Reflux <span class=\"keyword\">from</span> <span class=\"string\">'reflux'</span> <span class=\"keyword\">import</span> ReactMixin <span class=\"keyword\">from</span> <span class=\"string\">'react-mixin'</span> <span class=\"keyword\">import</span> store <span class=\"keyword\">from</span> <span class=\"string\">'../stores/store'</span> <span class=\"keyword\">import</span> actions <span class=\"keyword\">from</span> <span class=\"string\">'../actions/actions'</span> <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Todo</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123; <span class=\"comment\">//actionthis.state</span></span><br><span class=\"line\"> componentDidMount() &#123;</span><br><span class=\"line\">    actions.getAll();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  add()&#123; <span class=\"keyword\">var</span> item =<span class=\"keyword\">this</span>.refs.item.value; <span class=\"keyword\">this</span>.refs.item.value=<span class=\"string\">''</span>;</span><br><span class=\"line\">    actions.add(item);</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  remove(i)&#123;</span><br><span class=\"line\">    actions.remove(i);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  render() &#123; <span class=\"comment\">//itemsli</span></span><br><span class=\"line\"> <span class=\"keyword\">let</span> items; <span class=\"keyword\">if</span>(<span class=\"keyword\">this</span>.state.list)&#123;</span><br><span class=\"line\">      items=<span class=\"keyword\">this</span>.state.list.map( <span class=\"function\">(<span class=\"params\">item,i</span>)=&gt;</span> &#123; <span class=\"comment\">//keyreactdiffkey</span></span><br><span class=\"line\">              <span class=\"keyword\">return</span> <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">key</span>=<span class=\"string\">&#123;i&#125;</span>&gt;</span> &#123;item.name&#125; <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.remove.bind(this,i)&#125;</span>&gt;</span>remove<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">              <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span><br><span class=\"line\"> &#125;)</span><br><span class=\"line\">    &#125; <span class=\"keyword\">return</span> ( <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">          &lt;input type=\"text\" ref=\"item\"/&gt;</span><br><span class=\"line\">          &lt;button onClick=&#123;this.add.bind(this)&#125;&gt;add&lt;/button&gt;</span><br><span class=\"line\">          &lt;ul&gt; &#123;items&#125; &lt;/ul&gt;</span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"> )</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;</span></span><br><span class=\"line\"><span class=\"xml\">&#125; // ES6 mixinmixinstorestorestatethis.state</span></span><br><span class=\"line\"><span class=\"xml\">ReactMixin.onClass(Todo, Reflux.connect(store));</span></span><br></pre></td></tr></table></figure>\n<p>3</p>\n<ol>\n<li><code>input</code>addremove</li>\n<li><code>componentDidMount()</code><code>componentDidMount()</code><code>add()</code><code>remove()</code>actions</li>\n<li>es6mixinstorestate</li>\n</ol>\n<p>RefluxReflux</p>\n<p><img src=\"/css/images/166.jpg\" alt=\"\"></p>\n<p>actionsstoreactionsstatestate</p>\n<p>ReactAngulardom<code>this.state</code></p>\n<p>actionsstorestateactions</p>\n<h2 id=\"actionsstore\"><a href=\"#actionsstore\" class=\"headerlink\" title=\"actionsstore\"></a>actionsstore</h2><p>actions/actions.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> Reflux <span class=\"keyword\">from</span> <span class=\"string\">'reflux'</span> <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> Reflux.createActions([<span class=\"string\">'getAll'</span>,<span class=\"string\">'add'</span>,<span class=\"string\">'remove'</span>]);</span><br></pre></td></tr></table></figure>\n<p>stores/store.js</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import Reflux from &apos;reflux&apos; import actions from &apos;../actions/actions&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">//remove</span><br><span class=\"line\">Array.prototype.remove=function(dx)</span><br><span class=\"line\">&#123; if(isNaN(dx)||dx&gt;this.length)&#123;return false;&#125; for(var i=0,n=0;i&lt;this.length;i++)</span><br><span class=\"line\">    &#123; if(this[i]!=this[dx])</span><br><span class=\"line\">        &#123; this[n++]=this[i]</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; this.length-=1 &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">export default Reflux.createStore(&#123;</span><br><span class=\"line\">    items:[], //actions</span><br><span class=\"line\"> listenables: [actions], //onaction</span><br><span class=\"line\"> onGetAll () &#123; //</span><br><span class=\"line\">        this.trigger(&#123;list:this.items&#125;);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    onAdd(item)&#123; this.items.push(&#123;name:item&#125;); this.trigger(&#123;list:this.items&#125;);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    onRemove(i)&#123; this.items.remove(i); this.trigger(&#123;list:this.items&#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>3</p>\n<ol>\n<li>remove</li>\n<li>storeactions</li>\n<li>storeonactionsthis.trigger()state{list:this.items}</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> ReactDOM <span class=\"keyword\">from</span> <span class=\"string\">'react-dom'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> Todo <span class=\"keyword\">from</span> <span class=\"string\">'./components/todo'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">ReactDOM.render( <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Todo</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;/<span class=\"name\">Todo</span>&gt;</span></span>,</span><br><span class=\"line\">  <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">'#app'</span>)</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n<h2 id=\"webpack\"><a href=\"#webpack\" class=\"headerlink\" title=\"webpack\"></a>webpack</h2><p>webpack.config.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>); <span class=\"keyword\">var</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">    entry: &#123;</span><br><span class=\"line\">        app:path.join(__dirname, <span class=\"string\">'src'</span>),</span><br><span class=\"line\">        vendors: [<span class=\"string\">'react'</span>,<span class=\"string\">'reflux'</span>,<span class=\"string\">'react-mixin'</span>]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    output: &#123;</span><br><span class=\"line\">        path: path.join(__dirname, <span class=\"string\">'dist'</span>),</span><br><span class=\"line\">        filename: <span class=\"string\">'[name].js'</span> &#125;,</span><br><span class=\"line\">    <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">        loaders: [</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                test:<span class=\"regexp\">/\\.js?$/</span>,</span><br><span class=\"line\">                exclude:<span class=\"regexp\">/node_modules/</span>,</span><br><span class=\"line\">                loader:<span class=\"string\">'babel'</span>,</span><br><span class=\"line\">                query:&#123;</span><br><span class=\"line\">                    presets:[<span class=\"string\">'react'</span>,<span class=\"string\">'es2015'</span>]</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    plugins: [ <span class=\"keyword\">new</span> webpack.optimize.CommonsChunkPlugin(<span class=\"string\">'vendors'</span>, <span class=\"string\">'vendors.js'</span>)</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Redux</p>\n<ol>\n<li>Refluxreduceractionstore</li>\n<li>Refluxpropsstatereact dev tool<img src=\"/css/images/167.jpg\" alt=\"\"></li>\n<li>RefluxactionReduxpropspropsdispatchactions</li>\n<li></li>\n</ol>\n<p>RefluxReduxstateReduxGithubReflux</p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/react-redux-tutorial/tree/master/todo-reflux\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial/tree/master/todo-reflux</a></p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install</span><br><span class=\"line\"></span><br><span class=\"line\">npm run build</span><br></pre></td></tr></table></figure>\n<p>index.html</p>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>"},{"title":" action","date":"2016-11-30T20:18:00.000Z","_content":"\n Redux  Redux  Redux  Redux  [redux-amrc](https://github.com/lewis617/redux-amrc) action\n\n<!--more-->\n\n## \n\n  action \n\n```js\nconst LOAD = 'redux-example/auth/LOAD';\nconst LOAD_SUCCESS = 'redux-example/auth/LOAD_SUCCESS';\nconst LOAD_FAIL = 'redux-example/auth/LOAD_FAIL';\n```\n\n action\n\n```js\nexport function load() {\n  return {\n    types: [LOAD, LOAD_SUCCESS, LOAD_FAIL],\n    promise: (client) => client.get('/loadAuth')\n  };\n}\n```\n\n action  reducer  action\n\n```js\nexport default function reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case LOAD:\n      return {\n        ...state,\n        loading: true\n      };\n    case LOAD_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        loaded: true,\n        user: action.result\n      };\n    case LOAD_FAIL:\n      return {\n        ...state,\n        loading: false,\n        loaded: false,\n        error: action.error\n\tdefault:\n      return state;\n  }\n}  \n```\n\n\n\n90 redux-amrc \n\n## \n\n redux-amrc  action action  reducer  Promise  redux-amrc  action reducer action \n\n```js\nimport fetch from 'isomorphic-fetch';\nimport { ASYNC } from 'redux-amrc';\n\nexport function load() {\n  return {\n    [ASYNC]: {\n      key: 'counter',\n      promise: () => fetch('http://localhost:3000/api/counter')\n        .then(response => response.json())\n    }\n  };\n}\n```\n\n redux-amrc  async  `value``error``loading``loaded``loadingNumber`\n\n![](/css/images/168.jpg)\n\n Redux [redux-amrc ](https://lewis617.github.io/redux-amrc/)\n","source":"_posts/redux-amrc.md","raw":"---\ntitle:  action\ndate: 2016-12-1 04:18:00\ntags: [Redux, redux-amrc]\n---\n\n Redux  Redux  Redux  Redux  [redux-amrc](https://github.com/lewis617/redux-amrc) action\n\n<!--more-->\n\n## \n\n  action \n\n```js\nconst LOAD = 'redux-example/auth/LOAD';\nconst LOAD_SUCCESS = 'redux-example/auth/LOAD_SUCCESS';\nconst LOAD_FAIL = 'redux-example/auth/LOAD_FAIL';\n```\n\n action\n\n```js\nexport function load() {\n  return {\n    types: [LOAD, LOAD_SUCCESS, LOAD_FAIL],\n    promise: (client) => client.get('/loadAuth')\n  };\n}\n```\n\n action  reducer  action\n\n```js\nexport default function reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case LOAD:\n      return {\n        ...state,\n        loading: true\n      };\n    case LOAD_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        loaded: true,\n        user: action.result\n      };\n    case LOAD_FAIL:\n      return {\n        ...state,\n        loading: false,\n        loaded: false,\n        error: action.error\n\tdefault:\n      return state;\n  }\n}  \n```\n\n\n\n90 redux-amrc \n\n## \n\n redux-amrc  action action  reducer  Promise  redux-amrc  action reducer action \n\n```js\nimport fetch from 'isomorphic-fetch';\nimport { ASYNC } from 'redux-amrc';\n\nexport function load() {\n  return {\n    [ASYNC]: {\n      key: 'counter',\n      promise: () => fetch('http://localhost:3000/api/counter')\n        .then(response => response.json())\n    }\n  };\n}\n```\n\n redux-amrc  async  `value``error``loading``loaded``loadingNumber`\n\n![](/css/images/168.jpg)\n\n Redux [redux-amrc ](https://lewis617.github.io/redux-amrc/)\n","slug":"redux-amrc","published":1,"updated":"2019-05-01T08:10:30.321Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvmj002wtgyt6hxogny1","content":"<p> Redux  Redux  Redux  Redux  <a href=\"https://github.com/lewis617/redux-amrc\" target=\"_blank\" rel=\"noopener\">redux-amrc</a> action</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  action </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> LOAD = <span class=\"string\">'redux-example/auth/LOAD'</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> LOAD_SUCCESS = <span class=\"string\">'redux-example/auth/LOAD_SUCCESS'</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> LOAD_FAIL = <span class=\"string\">'redux-example/auth/LOAD_FAIL'</span>;</span><br></pre></td></tr></table></figure>\n<p> action</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">load</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    types: [LOAD, LOAD_SUCCESS, LOAD_FAIL],</span><br><span class=\"line\">    promise: <span class=\"function\">(<span class=\"params\">client</span>) =&gt;</span> client.get(<span class=\"string\">'/loadAuth'</span>)</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> action  reducer  action</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">reducer</span>(<span class=\"params\">state = initialState, action = &#123;&#125;</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (action.type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> LOAD:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">        ...state,</span><br><span class=\"line\">        loading: <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> LOAD_SUCCESS:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">        ...state,</span><br><span class=\"line\">        loading: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        loaded: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        user: action.result</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> LOAD_FAIL:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">        ...state,</span><br><span class=\"line\">        loading: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        loaded: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        error: action.error</span><br><span class=\"line\">\t<span class=\"keyword\">default</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>90 redux-amrc </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> redux-amrc  action action  reducer  Promise  redux-amrc  action reducer action </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> fetch <span class=\"keyword\">from</span> <span class=\"string\">'isomorphic-fetch'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; ASYNC &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux-amrc'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">load</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    [ASYNC]: &#123;</span><br><span class=\"line\">      key: <span class=\"string\">'counter'</span>,</span><br><span class=\"line\">      promise: <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> fetch(<span class=\"string\">'http://localhost:3000/api/counter'</span>)</span><br><span class=\"line\">        .then(<span class=\"function\"><span class=\"params\">response</span> =&gt;</span> response.json())</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> redux-amrc  async  <code>value</code><code>error</code><code>loading</code><code>loaded</code><code>loadingNumber</code></p>\n<p><img src=\"/css/images/168.jpg\" alt=\"\"></p>\n<p> Redux  <a href=\"https://lewis617.github.io/redux-amrc/\" target=\"_blank\" rel=\"noopener\">redux-amrc </a></p>\n","site":{"data":{}},"excerpt":"<p> Redux  Redux  Redux  Redux  <a href=\"https://github.com/lewis617/redux-amrc\" target=\"_blank\" rel=\"noopener\">redux-amrc</a> action</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  action </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> LOAD = <span class=\"string\">'redux-example/auth/LOAD'</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> LOAD_SUCCESS = <span class=\"string\">'redux-example/auth/LOAD_SUCCESS'</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> LOAD_FAIL = <span class=\"string\">'redux-example/auth/LOAD_FAIL'</span>;</span><br></pre></td></tr></table></figure>\n<p> action</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">load</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    types: [LOAD, LOAD_SUCCESS, LOAD_FAIL],</span><br><span class=\"line\">    promise: <span class=\"function\">(<span class=\"params\">client</span>) =&gt;</span> client.get(<span class=\"string\">'/loadAuth'</span>)</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> action  reducer  action</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">reducer</span>(<span class=\"params\">state = initialState, action = &#123;&#125;</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (action.type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> LOAD:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">        ...state,</span><br><span class=\"line\">        loading: <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> LOAD_SUCCESS:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">        ...state,</span><br><span class=\"line\">        loading: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        loaded: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        user: action.result</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> LOAD_FAIL:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">        ...state,</span><br><span class=\"line\">        loading: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        loaded: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        error: action.error</span><br><span class=\"line\">\t<span class=\"keyword\">default</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>90 redux-amrc </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> redux-amrc  action action  reducer  Promise  redux-amrc  action reducer action </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> fetch <span class=\"keyword\">from</span> <span class=\"string\">'isomorphic-fetch'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; ASYNC &#125; <span class=\"keyword\">from</span> <span class=\"string\">'redux-amrc'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">load</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    [ASYNC]: &#123;</span><br><span class=\"line\">      key: <span class=\"string\">'counter'</span>,</span><br><span class=\"line\">      promise: <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> fetch(<span class=\"string\">'http://localhost:3000/api/counter'</span>)</span><br><span class=\"line\">        .then(<span class=\"function\"><span class=\"params\">response</span> =&gt;</span> response.json())</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> redux-amrc  async  <code>value</code><code>error</code><code>loading</code><code>loaded</code><code>loadingNumber</code></p>\n<p><img src=\"/css/images/168.jpg\" alt=\"\"></p>\n<p> Redux  <a href=\"https://lewis617.github.io/redux-amrc/\" target=\"_blank\" rel=\"noopener\">redux-amrc </a></p>"},{"title":" render-react-components  React ","date":"2018-04-13T09:56:00.000Z","_content":"\n render-react-components  React \n\n<!--more-->\n\n##  React \n\n Angular1  Angular1 Angular1  Angular2  React  demo \n\n-  demo \n-  React \n-  demo \n- \b\b\n- \b demo \n-  demo \b\n- \n\n React  React  Angular1  render-react-components \n\n## render-react-components \n\nrender-react-components rrc  React  src  demo \n\n## \n\n rrc \n\n```bash\n## \n$ npm i render-react-components -g\n\n##  React  demo \n$ rrc init\n\n##  demo  filter \n$ rrc init --filter=Component1\n## \n$ rrc init -f=Component1\n\n## \n$ rrc dev\n\n##  rrc init \n$ rrc clean\n```\n\n\n\n-  \b`find . -name *.js` `find`  js\n-  `rrc init` React  demo  \b`find . -name *.js`  jshtml \n-  `rrc dev` \n\n![](https://img.alicdn.com/tfs/TB1VPzQnHGYBuNjy0FoXXciBFXa-894-444.gif)\n\n##  demo \n\n React  props  props  rrc  demo \n\n-  src/Component1.jsrrc/Component1.js\n-  src/Component2/index.jsrrc/Component2.js\n-  src/Component2/Component3/index.jsrrc/Component2_Component3.js\n\n##  webpack \n\n webpack  webpack  `.rrc.js` [](https://github.com/lewis617/render-react-components/blob/master/README_zh-cn.md#%E9%85%8D%E7%BD%AE)\n\n## \n\n[](https://github.com/lewis617/render-react-components/tree/master/examples/dead-simple)\n\n Github  <https://github.com/lewis617/render-react-components> star issue  pull request","source":"_posts/render-react-components.md","raw":"---\ntitle:  render-react-components  React \ndate: 2018-04-13 17:56:00\ntags: [React, render-react-components, , ]\n---\n\n render-react-components  React \n\n<!--more-->\n\n##  React \n\n Angular1  Angular1 Angular1  Angular2  React  demo \n\n-  demo \n-  React \n-  demo \n- \b\b\n- \b demo \n-  demo \b\n- \n\n React  React  Angular1  render-react-components \n\n## render-react-components \n\nrender-react-components rrc  React  src  demo \n\n## \n\n rrc \n\n```bash\n## \n$ npm i render-react-components -g\n\n##  React  demo \n$ rrc init\n\n##  demo  filter \n$ rrc init --filter=Component1\n## \n$ rrc init -f=Component1\n\n## \n$ rrc dev\n\n##  rrc init \n$ rrc clean\n```\n\n\n\n-  \b`find . -name *.js` `find`  js\n-  `rrc init` React  demo  \b`find . -name *.js`  jshtml \n-  `rrc dev` \n\n![](https://img.alicdn.com/tfs/TB1VPzQnHGYBuNjy0FoXXciBFXa-894-444.gif)\n\n##  demo \n\n React  props  props  rrc  demo \n\n-  src/Component1.jsrrc/Component1.js\n-  src/Component2/index.jsrrc/Component2.js\n-  src/Component2/Component3/index.jsrrc/Component2_Component3.js\n\n##  webpack \n\n webpack  webpack  `.rrc.js` [](https://github.com/lewis617/render-react-components/blob/master/README_zh-cn.md#%E9%85%8D%E7%BD%AE)\n\n## \n\n[](https://github.com/lewis617/render-react-components/tree/master/examples/dead-simple)\n\n Github  <https://github.com/lewis617/render-react-components> star issue  pull request","slug":"render-react-components","published":1,"updated":"2019-05-01T08:02:12.484Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvmk002xtgyth2kw7i3d","content":"<p> render-react-components  React </p>\n<a id=\"more\"></a>\n<h2 id=\"-React-\"><a href=\"#-React-\" class=\"headerlink\" title=\" React \"></a> React </h2><p> Angular1  Angular1 Angular1  Angular2  React  demo </p>\n<ul>\n<li> demo </li>\n<li> React </li>\n<li> demo </li>\n<li>\b\b</li>\n<li>\b demo </li>\n<li> demo \b</li>\n<li></li>\n</ul>\n<p> React  React  Angular1  render-react-components </p>\n<h2 id=\"render-react-components-\"><a href=\"#render-react-components-\" class=\"headerlink\" title=\"render-react-components \"></a>render-react-components </h2><p>render-react-components rrc  React  src  demo </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> rrc </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">## </span></span><br><span class=\"line\">$ npm i render-react-components -g</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##  React  demo </span></span><br><span class=\"line\">$ rrc init</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##  demo  filter </span></span><br><span class=\"line\">$ rrc init --filter=Component1</span><br><span class=\"line\"><span class=\"comment\">## </span></span><br><span class=\"line\">$ rrc init -f=Component1</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## </span></span><br><span class=\"line\">$ rrc dev</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##  rrc init </span></span><br><span class=\"line\">$ rrc clean</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li> \b<code>find . -name *.js</code> <code>find</code>  js</li>\n<li> <code>rrc init</code> React  demo  \b<code>find . -name *.js</code>  jshtml </li>\n<li> <code>rrc dev</code> </li>\n</ul>\n<p><img src=\"https://img.alicdn.com/tfs/TB1VPzQnHGYBuNjy0FoXXciBFXa-894-444.gif\" alt=\"\"></p>\n<h2 id=\"-demo-\"><a href=\"#-demo-\" class=\"headerlink\" title=\" demo \"></a> demo </h2><p> React  props  props  rrc  demo </p>\n<ul>\n<li> src/Component1.jsrrc/Component1.js</li>\n<li> src/Component2/index.jsrrc/Component2.js</li>\n<li> src/Component2/Component3/index.jsrrc/Component2_Component3.js</li>\n</ul>\n<h2 id=\"-webpack-\"><a href=\"#-webpack-\" class=\"headerlink\" title=\" webpack \"></a> webpack </h2><p> webpack  webpack  <code>.rrc.js</code> <a href=\"https://github.com/lewis617/render-react-components/blob/master/README_zh-cn.md#%E9%85%8D%E7%BD%AE\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/render-react-components/tree/master/examples/dead-simple\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p> Github  <a href=\"https://github.com/lewis617/render-react-components\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/render-react-components</a> star issue  pull request</p>\n","site":{"data":{}},"excerpt":"<p> render-react-components  React </p>","more":"<h2 id=\"-React-\"><a href=\"#-React-\" class=\"headerlink\" title=\" React \"></a> React </h2><p> Angular1  Angular1 Angular1  Angular2  React  demo </p>\n<ul>\n<li> demo </li>\n<li> React </li>\n<li> demo </li>\n<li>\b\b</li>\n<li>\b demo </li>\n<li> demo \b</li>\n<li></li>\n</ul>\n<p> React  React  Angular1  render-react-components </p>\n<h2 id=\"render-react-components-\"><a href=\"#render-react-components-\" class=\"headerlink\" title=\"render-react-components \"></a>render-react-components </h2><p>render-react-components rrc  React  src  demo </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> rrc </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">## </span></span><br><span class=\"line\">$ npm i render-react-components -g</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##  React  demo </span></span><br><span class=\"line\">$ rrc init</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##  demo  filter </span></span><br><span class=\"line\">$ rrc init --filter=Component1</span><br><span class=\"line\"><span class=\"comment\">## </span></span><br><span class=\"line\">$ rrc init -f=Component1</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## </span></span><br><span class=\"line\">$ rrc dev</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##  rrc init </span></span><br><span class=\"line\">$ rrc clean</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li> \b<code>find . -name *.js</code> <code>find</code>  js</li>\n<li> <code>rrc init</code> React  demo  \b<code>find . -name *.js</code>  jshtml </li>\n<li> <code>rrc dev</code> </li>\n</ul>\n<p><img src=\"https://img.alicdn.com/tfs/TB1VPzQnHGYBuNjy0FoXXciBFXa-894-444.gif\" alt=\"\"></p>\n<h2 id=\"-demo-\"><a href=\"#-demo-\" class=\"headerlink\" title=\" demo \"></a> demo </h2><p> React  props  props  rrc  demo </p>\n<ul>\n<li> src/Component1.jsrrc/Component1.js</li>\n<li> src/Component2/index.jsrrc/Component2.js</li>\n<li> src/Component2/Component3/index.jsrrc/Component2_Component3.js</li>\n</ul>\n<h2 id=\"-webpack-\"><a href=\"#-webpack-\" class=\"headerlink\" title=\" webpack \"></a> webpack </h2><p> webpack  webpack  <code>.rrc.js</code> <a href=\"https://github.com/lewis617/render-react-components/blob/master/README_zh-cn.md#%E9%85%8D%E7%BD%AE\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/render-react-components/tree/master/examples/dead-simple\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p> Github  <a href=\"https://github.com/lewis617/render-react-components\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/render-react-components</a> star issue  pull request</p>"},{"title":"RequireJsBootstrap","date":"2015-09-26T01:59:00.000Z","_content":"\nRequirejs****\n\n<!--more-->\n\n### \n\n![](/css/images/169.jpg)\n\nhtml\n\n### Requirejs\n\n![](/css/images/170.jpg)\n\n \n\nrequirejsbootstrap,jquery,\n\njshtmljs\n\n\n\n![](/css/images/171.jpg)","source":"_posts/requirejs-bootstraop-modal.md","raw":"---\ntitle: RequireJsBootstrap\ndate: 2015-09-26 09:59:00\ntags: [RequireJs, Bootstrap]\n---\n\nRequirejs****\n\n<!--more-->\n\n### \n\n![](/css/images/169.jpg)\n\nhtml\n\n### Requirejs\n\n![](/css/images/170.jpg)\n\n \n\nrequirejsbootstrap,jquery,\n\njshtmljs\n\n\n\n![](/css/images/171.jpg)","slug":"requirejs-bootstraop-modal","published":1,"updated":"2019-05-01T08:10:30.365Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvmm002ztgytdsfu4xgk","content":"<p>Requirejs<strong></strong></p>\n<a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/css/images/169.jpg\" alt=\"\"></p>\n<p>html</p>\n<h3 id=\"Requirejs\"><a href=\"#Requirejs\" class=\"headerlink\" title=\"Requirejs\"></a>Requirejs</h3><p><img src=\"/css/images/170.jpg\" alt=\"\"></p>\n<p> </p>\n<p>requirejsbootstrap,jquery,</p>\n<p>jshtmljs</p>\n<p></p>\n<p><img src=\"/css/images/171.jpg\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"<p>Requirejs<strong></strong></p>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/css/images/169.jpg\" alt=\"\"></p>\n<p>html</p>\n<h3 id=\"Requirejs\"><a href=\"#Requirejs\" class=\"headerlink\" title=\"Requirejs\"></a>Requirejs</h3><p><img src=\"/css/images/170.jpg\" alt=\"\"></p>\n<p> </p>\n<p>requirejsbootstrap,jquery,</p>\n<p>jshtmljs</p>\n<p></p>\n<p><img src=\"/css/images/171.jpg\" alt=\"\"></p>"},{"title":"RequireJs","date":"2015-09-26T03:02:00.000Z","_content":"\n# \n\n## Problem\n\n*   Web sites are turning into Web apps\n*   Code complexity grows as the site gets bigger\n*   Assembly gets harderpsjs \n*   Developer wants discrete JS files/modulesjs/\n*   Deployment wants optimized code in just one or a few HTTP callshttp\n\n## Solution \n\n*   Front-end developers need a solution with:\n*   Some sort of #include/import/require\n*   ability to load nested dependencies\n*   ease of use for developer but then backed by an optimization tool that helps deployment \n\n<!--more-->\n\n# RequireJs\n\n##  \n\nRequireJSscriptmodule IDURL\n\n##  \n\n### \n\n![15085801_CrX1](http://images.cnitblog.com/blog/139239/201408/131435005307505.png \"15085801_CrX1\")\n\n[](http://www.cnblogs.com/powertoolsteam/p/RequireJS_wijmo.html)\n\n### \n\n![JavaScript ](http://wwwimages.adobe.com/content/dam/Adobe/en/devnet/html5/articles/javascript-architecture-requirejs-dependency-management/fig01.png \"JavaScript \")\n\nrequirejsa.jsb.js,b.jsc.js,c.jsd.jsa.jsjs,  \n\njsjscsshtmljs HTML \n\n### \n\n![](/css/images/172.jpg)\n\nrequirejsjsjs\n\n...\n\n# RequireJs\n\n## \n\n### \n\n```js\n require(['jquery.shiftcheckbox'], function () {\n            $(function () {\n                $('#demo2 :checkbox').shiftcheckbox();\n            })\n        })\n```\n\n### 'bootstrap', 'jquery.form', 'jquery.validate'\n\n```js\nrequire(['bootstrap', 'jquery.form', 'jquery.validate'], function () {\n    $(function () {\n        jQuery.validator.addMethod(\"isZipCode\", function (value, element) { var tel = /^[0-9]{6}$/; return this.optional(element) || (tel.test(value));\n        }, \"\");\n        $(\"#signupForm\").validate({\n            rules: {\n                firstname: {\n                    required: true },\n                email: {\n                    required: true,\n                    email: true },\n                password: {\n                    required: true,\n                    minlength: 5 },\n                confirm_password: {\n                    required: true,\n                    minlength: 5,\n                    equalTo: \"#password\" },\n                isZipCode: {\n                    isZipCode: true }\n            },\n            messages: {\n                firstname: \"\",\n                email: {\n                    required: \"Email\",\n                    email: \"email\" },\n                password: {\n                    required: \"\",\n                    minlength: jQuery.format(\"{0} \")\n                },\n                confirm_password: {\n                    required: \"\",\n                    minlength: \"5\",\n                    equalTo: \"\" }\n            }\n        });\n        $(\"#signupForm\").ajaxSubmit();\n    });\n});\n```\n\n## \n\n### \n\n```js\n/**\n * Created by lewis on 15-9-15. */\n//\ndefine([],{ //json\n    getYear: function (jsonDate) { var dateArry = jsonDate.split('-'); var jsonyear = parseInt(dateArry[0]); return jsonyear;\n    }, //json\n    getMonth: function (jsonDate) { var dateArry = jsonDate.split('-'); var jsonmonth = parseInt(dateArry[1]); return jsonmonth;\n    }, //json\n    getDay: function (jsonDate) { var dateArry = jsonDate.split('-'); var jsonday = parseInt(dateArry[2]); return jsonday;\n    }, //json,json\n    isInYear: function (jsonDate, calenYear) { var jsonArry = jsonDate.split('-'); var jsonyear = parseInt(jsonArry[0]); if (jsonyear == calenYear || jsonyear == (calenYear - 1)) return true; else\n            return false;\n    }, //jsonjson\n    isInMonth: function (jsonDate, calendarDate) { var jsonArry = jsonDate.split('-'); var jsonyear = parseInt(jsonArry[0]); var jsonmonth = parseInt(jsonArry[1]); var calenArry = calendarDate.split('-'); var calenyear = parseInt(calenArry[0]); var calenmonth = parseInt(calenArry[1]); if (jsonyear == calenyear && jsonmonth == calenmonth) return true; else\n            return false;\n    },\n    getNowFormatDate: function () { var date = new Date(); var seperator = \"-\"; var year = date.getFullYear(); var month = date.getMonth() + 1; var strDate = date.getDate(); var currentdate = year + seperator + month + seperator + strDate;\n        console.log(currentdate); return currentdate;\n    },\n    getDateFromYMD: function (a) { var arr = a.split(\"-\"); var date = new Date(arr[0], arr[1], arr[2]); return date;\n    }\n});\n```\n\n\n\n```\n require(['common/myDateClass'], function (myDateClass) {\n\n\n}\n```\n\n## \n\na.js\n\n```js\nfunction myFunctionA(){\n    console.log('a');\n};\n```\n\nb.js\n\n```js\nfunction myFunctionB(){\n    console.log('b');\n};\n```\n\n\n\n```js\nrequire(['js/ab/a','ab/b.js'],function(){\n    myFunctionA();\n    myFunctionB();\n});\n```","source":"_posts/requirejs-search.md","raw":"---\ntitle: RequireJs\ndate: 2015-09-26 11:02:00\ntags: [RequireJs]\n---\n\n# \n\n## Problem\n\n*   Web sites are turning into Web apps\n*   Code complexity grows as the site gets bigger\n*   Assembly gets harderpsjs \n*   Developer wants discrete JS files/modulesjs/\n*   Deployment wants optimized code in just one or a few HTTP callshttp\n\n## Solution \n\n*   Front-end developers need a solution with:\n*   Some sort of #include/import/require\n*   ability to load nested dependencies\n*   ease of use for developer but then backed by an optimization tool that helps deployment \n\n<!--more-->\n\n# RequireJs\n\n##  \n\nRequireJSscriptmodule IDURL\n\n##  \n\n### \n\n![15085801_CrX1](http://images.cnitblog.com/blog/139239/201408/131435005307505.png \"15085801_CrX1\")\n\n[](http://www.cnblogs.com/powertoolsteam/p/RequireJS_wijmo.html)\n\n### \n\n![JavaScript ](http://wwwimages.adobe.com/content/dam/Adobe/en/devnet/html5/articles/javascript-architecture-requirejs-dependency-management/fig01.png \"JavaScript \")\n\nrequirejsa.jsb.js,b.jsc.js,c.jsd.jsa.jsjs,  \n\njsjscsshtmljs HTML \n\n### \n\n![](/css/images/172.jpg)\n\nrequirejsjsjs\n\n...\n\n# RequireJs\n\n## \n\n### \n\n```js\n require(['jquery.shiftcheckbox'], function () {\n            $(function () {\n                $('#demo2 :checkbox').shiftcheckbox();\n            })\n        })\n```\n\n### 'bootstrap', 'jquery.form', 'jquery.validate'\n\n```js\nrequire(['bootstrap', 'jquery.form', 'jquery.validate'], function () {\n    $(function () {\n        jQuery.validator.addMethod(\"isZipCode\", function (value, element) { var tel = /^[0-9]{6}$/; return this.optional(element) || (tel.test(value));\n        }, \"\");\n        $(\"#signupForm\").validate({\n            rules: {\n                firstname: {\n                    required: true },\n                email: {\n                    required: true,\n                    email: true },\n                password: {\n                    required: true,\n                    minlength: 5 },\n                confirm_password: {\n                    required: true,\n                    minlength: 5,\n                    equalTo: \"#password\" },\n                isZipCode: {\n                    isZipCode: true }\n            },\n            messages: {\n                firstname: \"\",\n                email: {\n                    required: \"Email\",\n                    email: \"email\" },\n                password: {\n                    required: \"\",\n                    minlength: jQuery.format(\"{0} \")\n                },\n                confirm_password: {\n                    required: \"\",\n                    minlength: \"5\",\n                    equalTo: \"\" }\n            }\n        });\n        $(\"#signupForm\").ajaxSubmit();\n    });\n});\n```\n\n## \n\n### \n\n```js\n/**\n * Created by lewis on 15-9-15. */\n//\ndefine([],{ //json\n    getYear: function (jsonDate) { var dateArry = jsonDate.split('-'); var jsonyear = parseInt(dateArry[0]); return jsonyear;\n    }, //json\n    getMonth: function (jsonDate) { var dateArry = jsonDate.split('-'); var jsonmonth = parseInt(dateArry[1]); return jsonmonth;\n    }, //json\n    getDay: function (jsonDate) { var dateArry = jsonDate.split('-'); var jsonday = parseInt(dateArry[2]); return jsonday;\n    }, //json,json\n    isInYear: function (jsonDate, calenYear) { var jsonArry = jsonDate.split('-'); var jsonyear = parseInt(jsonArry[0]); if (jsonyear == calenYear || jsonyear == (calenYear - 1)) return true; else\n            return false;\n    }, //jsonjson\n    isInMonth: function (jsonDate, calendarDate) { var jsonArry = jsonDate.split('-'); var jsonyear = parseInt(jsonArry[0]); var jsonmonth = parseInt(jsonArry[1]); var calenArry = calendarDate.split('-'); var calenyear = parseInt(calenArry[0]); var calenmonth = parseInt(calenArry[1]); if (jsonyear == calenyear && jsonmonth == calenmonth) return true; else\n            return false;\n    },\n    getNowFormatDate: function () { var date = new Date(); var seperator = \"-\"; var year = date.getFullYear(); var month = date.getMonth() + 1; var strDate = date.getDate(); var currentdate = year + seperator + month + seperator + strDate;\n        console.log(currentdate); return currentdate;\n    },\n    getDateFromYMD: function (a) { var arr = a.split(\"-\"); var date = new Date(arr[0], arr[1], arr[2]); return date;\n    }\n});\n```\n\n\n\n```\n require(['common/myDateClass'], function (myDateClass) {\n\n\n}\n```\n\n## \n\na.js\n\n```js\nfunction myFunctionA(){\n    console.log('a');\n};\n```\n\nb.js\n\n```js\nfunction myFunctionB(){\n    console.log('b');\n};\n```\n\n\n\n```js\nrequire(['js/ab/a','ab/b.js'],function(){\n    myFunctionA();\n    myFunctionB();\n});\n```","slug":"requirejs-search","published":1,"updated":"2019-05-01T08:10:30.383Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvmo0031tgyty25fy1us","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"Problem\"><a href=\"#Problem\" class=\"headerlink\" title=\"Problem\"></a>Problem</h2><ul>\n<li>Web sites are turning into Web apps</li>\n<li>Code complexity grows as the site gets bigger</li>\n<li>Assembly gets harderpsjs </li>\n<li>Developer wants discrete JS files/modulesjs/</li>\n<li>Deployment wants optimized code in just one or a few HTTP callshttp</li>\n</ul>\n<h2 id=\"Solution\"><a href=\"#Solution\" class=\"headerlink\" title=\"Solution\"></a>Solution</h2><ul>\n<li>Front-end developers need a solution with:</li>\n<li>Some sort of #include/import/require</li>\n<li>ability to load nested dependencies</li>\n<li>ease of use for developer but then backed by an optimization tool that helps deployment </li>\n</ul>\n<a id=\"more\"></a>\n<h1 id=\"RequireJs\"><a href=\"#RequireJs\" class=\"headerlink\" title=\"RequireJs\"></a>RequireJs</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>RequireJSscriptmodule IDURL</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"http://images.cnitblog.com/blog/139239/201408/131435005307505.png\" alt=\"15085801_CrX1\" title=\"15085801_CrX1\"></p>\n<p><a href=\"http://www.cnblogs.com/powertoolsteam/p/RequireJS_wijmo.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"http://wwwimages.adobe.com/content/dam/Adobe/en/devnet/html5/articles/javascript-architecture-requirejs-dependency-management/fig01.png\" alt=\"JavaScript \" title=\"JavaScript \"></p>\n<p>requirejsa.jsb.js,b.jsc.js,c.jsd.jsa.jsjs,  </p>\n<p>jsjscsshtmljs HTML </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/css/images/172.jpg\" alt=\"\"></p>\n<p>requirejsjsjs</p>\n<p></p>\n<h1 id=\"RequireJs\"><a href=\"#RequireJs\" class=\"headerlink\" title=\"RequireJs\"></a>RequireJs</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>([<span class=\"string\">'jquery.shiftcheckbox'</span>], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">           $(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">               $(<span class=\"string\">'#demo2 :checkbox'</span>).shiftcheckbox();</span><br><span class=\"line\">           &#125;)</span><br><span class=\"line\">       &#125;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"bootstrap-jquery-form-jquery-validate\"><a href=\"#bootstrap-jquery-form-jquery-validate\" class=\"headerlink\" title=\"bootstrap, jquery.form, jquery.validate\"></a>bootstrap, jquery.form, jquery.validate</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>([<span class=\"string\">'bootstrap'</span>, <span class=\"string\">'jquery.form'</span>, <span class=\"string\">'jquery.validate'</span>], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    $(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        jQuery.validator.addMethod(<span class=\"string\">\"isZipCode\"</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value, element</span>) </span>&#123; <span class=\"keyword\">var</span> tel = <span class=\"regexp\">/^[0-9]&#123;6&#125;$/</span>; <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.optional(element) || (tel.test(value));</span><br><span class=\"line\">        &#125;, <span class=\"string\">\"\"</span>);</span><br><span class=\"line\">        $(<span class=\"string\">\"#signupForm\"</span>).validate(&#123;</span><br><span class=\"line\">            rules: &#123;</span><br><span class=\"line\">                firstname: &#123;</span><br><span class=\"line\">                    required: <span class=\"literal\">true</span> &#125;,</span><br><span class=\"line\">                email: &#123;</span><br><span class=\"line\">                    required: <span class=\"literal\">true</span>,</span><br><span class=\"line\">                    email: <span class=\"literal\">true</span> &#125;,</span><br><span class=\"line\">                password: &#123;</span><br><span class=\"line\">                    required: <span class=\"literal\">true</span>,</span><br><span class=\"line\">                    minlength: <span class=\"number\">5</span> &#125;,</span><br><span class=\"line\">                confirm_password: &#123;</span><br><span class=\"line\">                    required: <span class=\"literal\">true</span>,</span><br><span class=\"line\">                    minlength: <span class=\"number\">5</span>,</span><br><span class=\"line\">                    equalTo: <span class=\"string\">\"#password\"</span> &#125;,</span><br><span class=\"line\">                isZipCode: &#123;</span><br><span class=\"line\">                    isZipCode: <span class=\"literal\">true</span> &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            messages: &#123;</span><br><span class=\"line\">                firstname: <span class=\"string\">\"\"</span>,</span><br><span class=\"line\">                email: &#123;</span><br><span class=\"line\">                    required: <span class=\"string\">\"Email\"</span>,</span><br><span class=\"line\">                    email: <span class=\"string\">\"email\"</span> &#125;,</span><br><span class=\"line\">                password: &#123;</span><br><span class=\"line\">                    required: <span class=\"string\">\"\"</span>,</span><br><span class=\"line\">                    minlength: jQuery.format(<span class=\"string\">\"&#123;0&#125; \"</span>)</span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\">                confirm_password: &#123;</span><br><span class=\"line\">                    required: <span class=\"string\">\"\"</span>,</span><br><span class=\"line\">                    minlength: <span class=\"string\">\"5\"</span>,</span><br><span class=\"line\">                    equalTo: <span class=\"string\">\"\"</span> &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">        $(<span class=\"string\">\"#signupForm\"</span>).ajaxSubmit();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Created by lewis on 15-9-15. */</span></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">define([],&#123; <span class=\"comment\">//json</span></span><br><span class=\"line\">    getYear: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">jsonDate</span>) </span>&#123; <span class=\"keyword\">var</span> dateArry = jsonDate.split(<span class=\"string\">'-'</span>); <span class=\"keyword\">var</span> jsonyear = <span class=\"built_in\">parseInt</span>(dateArry[<span class=\"number\">0</span>]); <span class=\"keyword\">return</span> jsonyear;</span><br><span class=\"line\">    &#125;, <span class=\"comment\">//json</span></span><br><span class=\"line\">    getMonth: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">jsonDate</span>) </span>&#123; <span class=\"keyword\">var</span> dateArry = jsonDate.split(<span class=\"string\">'-'</span>); <span class=\"keyword\">var</span> jsonmonth = <span class=\"built_in\">parseInt</span>(dateArry[<span class=\"number\">1</span>]); <span class=\"keyword\">return</span> jsonmonth;</span><br><span class=\"line\">    &#125;, <span class=\"comment\">//json</span></span><br><span class=\"line\">    getDay: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">jsonDate</span>) </span>&#123; <span class=\"keyword\">var</span> dateArry = jsonDate.split(<span class=\"string\">'-'</span>); <span class=\"keyword\">var</span> jsonday = <span class=\"built_in\">parseInt</span>(dateArry[<span class=\"number\">2</span>]); <span class=\"keyword\">return</span> jsonday;</span><br><span class=\"line\">    &#125;, <span class=\"comment\">//json,json</span></span><br><span class=\"line\">    isInYear: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">jsonDate, calenYear</span>) </span>&#123; <span class=\"keyword\">var</span> jsonArry = jsonDate.split(<span class=\"string\">'-'</span>); <span class=\"keyword\">var</span> jsonyear = <span class=\"built_in\">parseInt</span>(jsonArry[<span class=\"number\">0</span>]); <span class=\"keyword\">if</span> (jsonyear == calenYear || jsonyear == (calenYear - <span class=\"number\">1</span>)) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"keyword\">else</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;, <span class=\"comment\">//jsonjson</span></span><br><span class=\"line\">    isInMonth: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">jsonDate, calendarDate</span>) </span>&#123; <span class=\"keyword\">var</span> jsonArry = jsonDate.split(<span class=\"string\">'-'</span>); <span class=\"keyword\">var</span> jsonyear = <span class=\"built_in\">parseInt</span>(jsonArry[<span class=\"number\">0</span>]); <span class=\"keyword\">var</span> jsonmonth = <span class=\"built_in\">parseInt</span>(jsonArry[<span class=\"number\">1</span>]); <span class=\"keyword\">var</span> calenArry = calendarDate.split(<span class=\"string\">'-'</span>); <span class=\"keyword\">var</span> calenyear = <span class=\"built_in\">parseInt</span>(calenArry[<span class=\"number\">0</span>]); <span class=\"keyword\">var</span> calenmonth = <span class=\"built_in\">parseInt</span>(calenArry[<span class=\"number\">1</span>]); <span class=\"keyword\">if</span> (jsonyear == calenyear &amp;&amp; jsonmonth == calenmonth) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"keyword\">else</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    getNowFormatDate: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(); <span class=\"keyword\">var</span> seperator = <span class=\"string\">\"-\"</span>; <span class=\"keyword\">var</span> year = date.getFullYear(); <span class=\"keyword\">var</span> month = date.getMonth() + <span class=\"number\">1</span>; <span class=\"keyword\">var</span> strDate = date.getDate(); <span class=\"keyword\">var</span> currentdate = year + seperator + month + seperator + strDate;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(currentdate); <span class=\"keyword\">return</span> currentdate;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    getDateFromYMD: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">a</span>) </span>&#123; <span class=\"keyword\">var</span> arr = a.split(<span class=\"string\">\"-\"</span>); <span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(arr[<span class=\"number\">0</span>], arr[<span class=\"number\">1</span>], arr[<span class=\"number\">2</span>]); <span class=\"keyword\">return</span> date;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> require([&apos;common/myDateClass&apos;], function (myDateClass) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>a.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">myFunctionA</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'a'</span>);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>b.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">myFunctionB</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'b'</span>);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>([<span class=\"string\">'js/ab/a'</span>,<span class=\"string\">'ab/b.js'</span>],<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    myFunctionA();</span><br><span class=\"line\">    myFunctionB();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"Problem\"><a href=\"#Problem\" class=\"headerlink\" title=\"Problem\"></a>Problem</h2><ul>\n<li>Web sites are turning into Web apps</li>\n<li>Code complexity grows as the site gets bigger</li>\n<li>Assembly gets harderpsjs </li>\n<li>Developer wants discrete JS files/modulesjs/</li>\n<li>Deployment wants optimized code in just one or a few HTTP callshttp</li>\n</ul>\n<h2 id=\"Solution\"><a href=\"#Solution\" class=\"headerlink\" title=\"Solution\"></a>Solution</h2><ul>\n<li>Front-end developers need a solution with:</li>\n<li>Some sort of #include/import/require</li>\n<li>ability to load nested dependencies</li>\n<li>ease of use for developer but then backed by an optimization tool that helps deployment </li>\n</ul>","more":"<h1 id=\"RequireJs\"><a href=\"#RequireJs\" class=\"headerlink\" title=\"RequireJs\"></a>RequireJs</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>RequireJSscriptmodule IDURL</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"http://images.cnitblog.com/blog/139239/201408/131435005307505.png\" alt=\"15085801_CrX1\" title=\"15085801_CrX1\"></p>\n<p><a href=\"http://www.cnblogs.com/powertoolsteam/p/RequireJS_wijmo.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"http://wwwimages.adobe.com/content/dam/Adobe/en/devnet/html5/articles/javascript-architecture-requirejs-dependency-management/fig01.png\" alt=\"JavaScript \" title=\"JavaScript \"></p>\n<p>requirejsa.jsb.js,b.jsc.js,c.jsd.jsa.jsjs,  </p>\n<p>jsjscsshtmljs HTML </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/css/images/172.jpg\" alt=\"\"></p>\n<p>requirejsjsjs</p>\n<p></p>\n<h1 id=\"RequireJs\"><a href=\"#RequireJs\" class=\"headerlink\" title=\"RequireJs\"></a>RequireJs</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>([<span class=\"string\">'jquery.shiftcheckbox'</span>], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">           $(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">               $(<span class=\"string\">'#demo2 :checkbox'</span>).shiftcheckbox();</span><br><span class=\"line\">           &#125;)</span><br><span class=\"line\">       &#125;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"bootstrap-jquery-form-jquery-validate\"><a href=\"#bootstrap-jquery-form-jquery-validate\" class=\"headerlink\" title=\"bootstrap, jquery.form, jquery.validate\"></a>bootstrap, jquery.form, jquery.validate</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>([<span class=\"string\">'bootstrap'</span>, <span class=\"string\">'jquery.form'</span>, <span class=\"string\">'jquery.validate'</span>], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    $(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        jQuery.validator.addMethod(<span class=\"string\">\"isZipCode\"</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value, element</span>) </span>&#123; <span class=\"keyword\">var</span> tel = <span class=\"regexp\">/^[0-9]&#123;6&#125;$/</span>; <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.optional(element) || (tel.test(value));</span><br><span class=\"line\">        &#125;, <span class=\"string\">\"\"</span>);</span><br><span class=\"line\">        $(<span class=\"string\">\"#signupForm\"</span>).validate(&#123;</span><br><span class=\"line\">            rules: &#123;</span><br><span class=\"line\">                firstname: &#123;</span><br><span class=\"line\">                    required: <span class=\"literal\">true</span> &#125;,</span><br><span class=\"line\">                email: &#123;</span><br><span class=\"line\">                    required: <span class=\"literal\">true</span>,</span><br><span class=\"line\">                    email: <span class=\"literal\">true</span> &#125;,</span><br><span class=\"line\">                password: &#123;</span><br><span class=\"line\">                    required: <span class=\"literal\">true</span>,</span><br><span class=\"line\">                    minlength: <span class=\"number\">5</span> &#125;,</span><br><span class=\"line\">                confirm_password: &#123;</span><br><span class=\"line\">                    required: <span class=\"literal\">true</span>,</span><br><span class=\"line\">                    minlength: <span class=\"number\">5</span>,</span><br><span class=\"line\">                    equalTo: <span class=\"string\">\"#password\"</span> &#125;,</span><br><span class=\"line\">                isZipCode: &#123;</span><br><span class=\"line\">                    isZipCode: <span class=\"literal\">true</span> &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            messages: &#123;</span><br><span class=\"line\">                firstname: <span class=\"string\">\"\"</span>,</span><br><span class=\"line\">                email: &#123;</span><br><span class=\"line\">                    required: <span class=\"string\">\"Email\"</span>,</span><br><span class=\"line\">                    email: <span class=\"string\">\"email\"</span> &#125;,</span><br><span class=\"line\">                password: &#123;</span><br><span class=\"line\">                    required: <span class=\"string\">\"\"</span>,</span><br><span class=\"line\">                    minlength: jQuery.format(<span class=\"string\">\"&#123;0&#125; \"</span>)</span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\">                confirm_password: &#123;</span><br><span class=\"line\">                    required: <span class=\"string\">\"\"</span>,</span><br><span class=\"line\">                    minlength: <span class=\"string\">\"5\"</span>,</span><br><span class=\"line\">                    equalTo: <span class=\"string\">\"\"</span> &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">        $(<span class=\"string\">\"#signupForm\"</span>).ajaxSubmit();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Created by lewis on 15-9-15. */</span></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">define([],&#123; <span class=\"comment\">//json</span></span><br><span class=\"line\">    getYear: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">jsonDate</span>) </span>&#123; <span class=\"keyword\">var</span> dateArry = jsonDate.split(<span class=\"string\">'-'</span>); <span class=\"keyword\">var</span> jsonyear = <span class=\"built_in\">parseInt</span>(dateArry[<span class=\"number\">0</span>]); <span class=\"keyword\">return</span> jsonyear;</span><br><span class=\"line\">    &#125;, <span class=\"comment\">//json</span></span><br><span class=\"line\">    getMonth: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">jsonDate</span>) </span>&#123; <span class=\"keyword\">var</span> dateArry = jsonDate.split(<span class=\"string\">'-'</span>); <span class=\"keyword\">var</span> jsonmonth = <span class=\"built_in\">parseInt</span>(dateArry[<span class=\"number\">1</span>]); <span class=\"keyword\">return</span> jsonmonth;</span><br><span class=\"line\">    &#125;, <span class=\"comment\">//json</span></span><br><span class=\"line\">    getDay: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">jsonDate</span>) </span>&#123; <span class=\"keyword\">var</span> dateArry = jsonDate.split(<span class=\"string\">'-'</span>); <span class=\"keyword\">var</span> jsonday = <span class=\"built_in\">parseInt</span>(dateArry[<span class=\"number\">2</span>]); <span class=\"keyword\">return</span> jsonday;</span><br><span class=\"line\">    &#125;, <span class=\"comment\">//json,json</span></span><br><span class=\"line\">    isInYear: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">jsonDate, calenYear</span>) </span>&#123; <span class=\"keyword\">var</span> jsonArry = jsonDate.split(<span class=\"string\">'-'</span>); <span class=\"keyword\">var</span> jsonyear = <span class=\"built_in\">parseInt</span>(jsonArry[<span class=\"number\">0</span>]); <span class=\"keyword\">if</span> (jsonyear == calenYear || jsonyear == (calenYear - <span class=\"number\">1</span>)) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"keyword\">else</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;, <span class=\"comment\">//jsonjson</span></span><br><span class=\"line\">    isInMonth: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">jsonDate, calendarDate</span>) </span>&#123; <span class=\"keyword\">var</span> jsonArry = jsonDate.split(<span class=\"string\">'-'</span>); <span class=\"keyword\">var</span> jsonyear = <span class=\"built_in\">parseInt</span>(jsonArry[<span class=\"number\">0</span>]); <span class=\"keyword\">var</span> jsonmonth = <span class=\"built_in\">parseInt</span>(jsonArry[<span class=\"number\">1</span>]); <span class=\"keyword\">var</span> calenArry = calendarDate.split(<span class=\"string\">'-'</span>); <span class=\"keyword\">var</span> calenyear = <span class=\"built_in\">parseInt</span>(calenArry[<span class=\"number\">0</span>]); <span class=\"keyword\">var</span> calenmonth = <span class=\"built_in\">parseInt</span>(calenArry[<span class=\"number\">1</span>]); <span class=\"keyword\">if</span> (jsonyear == calenyear &amp;&amp; jsonmonth == calenmonth) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"keyword\">else</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    getNowFormatDate: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(); <span class=\"keyword\">var</span> seperator = <span class=\"string\">\"-\"</span>; <span class=\"keyword\">var</span> year = date.getFullYear(); <span class=\"keyword\">var</span> month = date.getMonth() + <span class=\"number\">1</span>; <span class=\"keyword\">var</span> strDate = date.getDate(); <span class=\"keyword\">var</span> currentdate = year + seperator + month + seperator + strDate;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(currentdate); <span class=\"keyword\">return</span> currentdate;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    getDateFromYMD: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">a</span>) </span>&#123; <span class=\"keyword\">var</span> arr = a.split(<span class=\"string\">\"-\"</span>); <span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(arr[<span class=\"number\">0</span>], arr[<span class=\"number\">1</span>], arr[<span class=\"number\">2</span>]); <span class=\"keyword\">return</span> date;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> require([&apos;common/myDateClass&apos;], function (myDateClass) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>a.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">myFunctionA</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'a'</span>);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>b.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">myFunctionB</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'b'</span>);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>([<span class=\"string\">'js/ab/a'</span>,<span class=\"string\">'ab/b.js'</span>],<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    myFunctionA();</span><br><span class=\"line\">    myFunctionB();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>"},{"title":"r.jsgulpwebpackangular","date":"2016-01-18T19:46:00.000Z","_content":"\nDojoAMDRequirejsReactWebpackWebpackRequirejsWebpackr.jsgulpWebpack\n\n<!--more-->\n\n## \n\n[https://github.com/lewis617/daily-task](https://github.com/lewis617/daily-task)\n\nAngularRequirejs\n\ncrud\n\n## components\n\nAngularwilddog\n\nangular-routeangular-uibowermodule\n\n## modules\n\nconfigcontrollerhtml\n\n## \n\nnpm install requirejsr.jsr.jsgulprequirejs\n\ngulpfile.js\n\n```js\nvar gulp = require('gulp'); var rjs = require('requirejs'); var paths = {\n  scripts: ['modules/**/*.js', 'modules/**/**/*.js','main.js']\n};\n\ngulp.task('build', function(cb){\n  rjs.optimize({\n    baseUrl: \"./\",\n    mainConfigFile:\"./main.js\",\n    name:'main',\n    out:'./dist/build-main.js' }, function(buildResponse){ // console.log('build response', buildResponse);\n cb();\n  }, cb);\n}); // Rerun the task when a file changes\ngulp.task('watch', function() { var watcher = gulp.watch(paths.scripts, ['build']);\n  watcher.on('change', function(event) {\n    console.log('File ' + event.path + ' was ' + event.type + ', running tasks...');\n  });\n});\n\ngulp.task('default', ['build','watch']);\n```\n\ngulp`build``watch``build`requirejsmain.jsmain.js\n\n`watch`\n\nmain.js\n\nmain.js\n\n```js\n'use strict';\nrequire.config({\n    baseUrl:'',\n    paths: { 'ngRoute':'bower_components/angular-route/angular-route.min', 'domReady':'bower_components/domReady/domReady', 'text':'bower_components/text/text', 'ui-bootstrap' : 'bower_components/angular-bootstrap/ui-bootstrap-tpls.min', 'angular-animate':'bower_components/angular-animate/angular-animate.min', 'routeConfig':'components/routeConfig' }\n});\n\nrequire([ 'domReady!', 'modules/home/main', 'modules/login/main', 'modules/account/main', 'modules/task/main' ],function(){\n    angular.module(\"myApp\", [ \"myApp.home\", \"myApp.login\", \"myApp.account\", 'myApp.task' ]).run(['$rootScope', 'Auth', function($rootScope, Auth) { // track status of authentication\n            Auth.$onAuth(function(user) {\n                $rootScope.loggedIn = !!user;\n            }); //alert\n            $rootScope.alerts = [];\n            $rootScope.closeAlert = function(index) {\n                $rootScope.alerts.splice(index, 1);\n            };\n\n        }]);\n\n    angular.bootstrap(document,['myApp']);\n});\n```\n\nrequirejsrequirejsmodulerunAngular\n\n## \n\nRequirejsRequirejs\n\n## Webpack\n\nWebpackRequirejsAngularSPA RequirejsjsjsWebpackWebpack","source":"_posts/rjs-gulp-webpack.md","raw":"---\ntitle: r.jsgulpwebpackangular\ndate: 2016-01-19 03:46:00\ntags: [RequireJs, r.js, Gulp, Webpack]\n---\n\nDojoAMDRequirejsReactWebpackWebpackRequirejsWebpackr.jsgulpWebpack\n\n<!--more-->\n\n## \n\n[https://github.com/lewis617/daily-task](https://github.com/lewis617/daily-task)\n\nAngularRequirejs\n\ncrud\n\n## components\n\nAngularwilddog\n\nangular-routeangular-uibowermodule\n\n## modules\n\nconfigcontrollerhtml\n\n## \n\nnpm install requirejsr.jsr.jsgulprequirejs\n\ngulpfile.js\n\n```js\nvar gulp = require('gulp'); var rjs = require('requirejs'); var paths = {\n  scripts: ['modules/**/*.js', 'modules/**/**/*.js','main.js']\n};\n\ngulp.task('build', function(cb){\n  rjs.optimize({\n    baseUrl: \"./\",\n    mainConfigFile:\"./main.js\",\n    name:'main',\n    out:'./dist/build-main.js' }, function(buildResponse){ // console.log('build response', buildResponse);\n cb();\n  }, cb);\n}); // Rerun the task when a file changes\ngulp.task('watch', function() { var watcher = gulp.watch(paths.scripts, ['build']);\n  watcher.on('change', function(event) {\n    console.log('File ' + event.path + ' was ' + event.type + ', running tasks...');\n  });\n});\n\ngulp.task('default', ['build','watch']);\n```\n\ngulp`build``watch``build`requirejsmain.jsmain.js\n\n`watch`\n\nmain.js\n\nmain.js\n\n```js\n'use strict';\nrequire.config({\n    baseUrl:'',\n    paths: { 'ngRoute':'bower_components/angular-route/angular-route.min', 'domReady':'bower_components/domReady/domReady', 'text':'bower_components/text/text', 'ui-bootstrap' : 'bower_components/angular-bootstrap/ui-bootstrap-tpls.min', 'angular-animate':'bower_components/angular-animate/angular-animate.min', 'routeConfig':'components/routeConfig' }\n});\n\nrequire([ 'domReady!', 'modules/home/main', 'modules/login/main', 'modules/account/main', 'modules/task/main' ],function(){\n    angular.module(\"myApp\", [ \"myApp.home\", \"myApp.login\", \"myApp.account\", 'myApp.task' ]).run(['$rootScope', 'Auth', function($rootScope, Auth) { // track status of authentication\n            Auth.$onAuth(function(user) {\n                $rootScope.loggedIn = !!user;\n            }); //alert\n            $rootScope.alerts = [];\n            $rootScope.closeAlert = function(index) {\n                $rootScope.alerts.splice(index, 1);\n            };\n\n        }]);\n\n    angular.bootstrap(document,['myApp']);\n});\n```\n\nrequirejsrequirejsmodulerunAngular\n\n## \n\nRequirejsRequirejs\n\n## Webpack\n\nWebpackRequirejsAngularSPA RequirejsjsjsWebpackWebpack","slug":"rjs-gulp-webpack","published":1,"updated":"2019-05-01T08:02:12.674Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvmp0034tgytk5m037f1","content":"<p>DojoAMDRequirejsReactWebpackWebpackRequirejsWebpackr.jsgulpWebpack</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/daily-task\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/daily-task</a></p>\n<p>AngularRequirejs</p>\n<p>crud</p>\n<h2 id=\"components\"><a href=\"#components\" class=\"headerlink\" title=\"components\"></a>components</h2><p>Angularwilddog</p>\n<p>angular-routeangular-uibowermodule</p>\n<h2 id=\"modules\"><a href=\"#modules\" class=\"headerlink\" title=\"modules\"></a>modules</h2><p>configcontrollerhtml</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>npm install requirejsr.jsr.jsgulprequirejs</p>\n<p>gulpfile.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp'</span>); <span class=\"keyword\">var</span> rjs = <span class=\"built_in\">require</span>(<span class=\"string\">'requirejs'</span>); <span class=\"keyword\">var</span> paths = &#123;</span><br><span class=\"line\">  scripts: [<span class=\"string\">'modules/**/*.js'</span>, <span class=\"string\">'modules/**/**/*.js'</span>,<span class=\"string\">'main.js'</span>]</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">gulp.task(<span class=\"string\">'build'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">cb</span>)</span>&#123;</span><br><span class=\"line\">  rjs.optimize(&#123;</span><br><span class=\"line\">    baseUrl: <span class=\"string\">\"./\"</span>,</span><br><span class=\"line\">    mainConfigFile:<span class=\"string\">\"./main.js\"</span>,</span><br><span class=\"line\">    name:<span class=\"string\">'main'</span>,</span><br><span class=\"line\">    out:<span class=\"string\">'./dist/build-main.js'</span> &#125;, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">buildResponse</span>)</span>&#123; <span class=\"comment\">// console.log('build response', buildResponse);</span></span><br><span class=\"line\"> cb();</span><br><span class=\"line\">  &#125;, cb);</span><br><span class=\"line\">&#125;); <span class=\"comment\">// Rerun the task when a file changes</span></span><br><span class=\"line\">gulp.task(<span class=\"string\">'watch'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">var</span> watcher = gulp.watch(paths.scripts, [<span class=\"string\">'build'</span>]);</span><br><span class=\"line\">  watcher.on(<span class=\"string\">'change'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'File '</span> + event.path + <span class=\"string\">' was '</span> + event.type + <span class=\"string\">', running tasks...'</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">gulp.task(<span class=\"string\">'default'</span>, [<span class=\"string\">'build'</span>,<span class=\"string\">'watch'</span>]);</span><br></pre></td></tr></table></figure>\n<p>gulp<code>build</code><code>watch</code><code>build</code>requirejsmain.jsmain.js</p>\n<p><code>watch</code></p>\n<p>main.js</p>\n<p>main.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">'use strict'</span>;</span><br><span class=\"line\"><span class=\"built_in\">require</span>.config(&#123;</span><br><span class=\"line\">    baseUrl:<span class=\"string\">''</span>,</span><br><span class=\"line\">    paths: &#123; <span class=\"string\">'ngRoute'</span>:<span class=\"string\">'bower_components/angular-route/angular-route.min'</span>, <span class=\"string\">'domReady'</span>:<span class=\"string\">'bower_components/domReady/domReady'</span>, <span class=\"string\">'text'</span>:<span class=\"string\">'bower_components/text/text'</span>, <span class=\"string\">'ui-bootstrap'</span> : <span class=\"string\">'bower_components/angular-bootstrap/ui-bootstrap-tpls.min'</span>, <span class=\"string\">'angular-animate'</span>:<span class=\"string\">'bower_components/angular-animate/angular-animate.min'</span>, <span class=\"string\">'routeConfig'</span>:<span class=\"string\">'components/routeConfig'</span> &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">require</span>([ <span class=\"string\">'domReady!'</span>, <span class=\"string\">'modules/home/main'</span>, <span class=\"string\">'modules/login/main'</span>, <span class=\"string\">'modules/account/main'</span>, <span class=\"string\">'modules/task/main'</span> ],<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    angular.module(<span class=\"string\">\"myApp\"</span>, [ <span class=\"string\">\"myApp.home\"</span>, <span class=\"string\">\"myApp.login\"</span>, <span class=\"string\">\"myApp.account\"</span>, <span class=\"string\">'myApp.task'</span> ]).run([<span class=\"string\">'$rootScope'</span>, <span class=\"string\">'Auth'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">$rootScope, Auth</span>) </span>&#123; <span class=\"comment\">// track status of authentication</span></span><br><span class=\"line\">            Auth.$onAuth(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">user</span>) </span>&#123;</span><br><span class=\"line\">                $rootScope.loggedIn = !!user;</span><br><span class=\"line\">            &#125;); <span class=\"comment\">//alert</span></span><br><span class=\"line\">            $rootScope.alerts = [];</span><br><span class=\"line\">            $rootScope.closeAlert = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">index</span>) </span>&#123;</span><br><span class=\"line\">                $rootScope.alerts.splice(index, <span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;]);</span><br><span class=\"line\"></span><br><span class=\"line\">    angular.bootstrap(<span class=\"built_in\">document</span>,[<span class=\"string\">'myApp'</span>]);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>requirejsrequirejsmodulerunAngular</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>RequirejsRequirejs</p>\n<h2 id=\"Webpack\"><a href=\"#Webpack\" class=\"headerlink\" title=\"Webpack\"></a>Webpack</h2><p>WebpackRequirejsAngularSPA RequirejsjsjsWebpackWebpack</p>\n","site":{"data":{}},"excerpt":"<p>DojoAMDRequirejsReactWebpackWebpackRequirejsWebpackr.jsgulpWebpack</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/daily-task\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/daily-task</a></p>\n<p>AngularRequirejs</p>\n<p>crud</p>\n<h2 id=\"components\"><a href=\"#components\" class=\"headerlink\" title=\"components\"></a>components</h2><p>Angularwilddog</p>\n<p>angular-routeangular-uibowermodule</p>\n<h2 id=\"modules\"><a href=\"#modules\" class=\"headerlink\" title=\"modules\"></a>modules</h2><p>configcontrollerhtml</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>npm install requirejsr.jsr.jsgulprequirejs</p>\n<p>gulpfile.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp'</span>); <span class=\"keyword\">var</span> rjs = <span class=\"built_in\">require</span>(<span class=\"string\">'requirejs'</span>); <span class=\"keyword\">var</span> paths = &#123;</span><br><span class=\"line\">  scripts: [<span class=\"string\">'modules/**/*.js'</span>, <span class=\"string\">'modules/**/**/*.js'</span>,<span class=\"string\">'main.js'</span>]</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">gulp.task(<span class=\"string\">'build'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">cb</span>)</span>&#123;</span><br><span class=\"line\">  rjs.optimize(&#123;</span><br><span class=\"line\">    baseUrl: <span class=\"string\">\"./\"</span>,</span><br><span class=\"line\">    mainConfigFile:<span class=\"string\">\"./main.js\"</span>,</span><br><span class=\"line\">    name:<span class=\"string\">'main'</span>,</span><br><span class=\"line\">    out:<span class=\"string\">'./dist/build-main.js'</span> &#125;, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">buildResponse</span>)</span>&#123; <span class=\"comment\">// console.log('build response', buildResponse);</span></span><br><span class=\"line\"> cb();</span><br><span class=\"line\">  &#125;, cb);</span><br><span class=\"line\">&#125;); <span class=\"comment\">// Rerun the task when a file changes</span></span><br><span class=\"line\">gulp.task(<span class=\"string\">'watch'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">var</span> watcher = gulp.watch(paths.scripts, [<span class=\"string\">'build'</span>]);</span><br><span class=\"line\">  watcher.on(<span class=\"string\">'change'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'File '</span> + event.path + <span class=\"string\">' was '</span> + event.type + <span class=\"string\">', running tasks...'</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">gulp.task(<span class=\"string\">'default'</span>, [<span class=\"string\">'build'</span>,<span class=\"string\">'watch'</span>]);</span><br></pre></td></tr></table></figure>\n<p>gulp<code>build</code><code>watch</code><code>build</code>requirejsmain.jsmain.js</p>\n<p><code>watch</code></p>\n<p>main.js</p>\n<p>main.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">'use strict'</span>;</span><br><span class=\"line\"><span class=\"built_in\">require</span>.config(&#123;</span><br><span class=\"line\">    baseUrl:<span class=\"string\">''</span>,</span><br><span class=\"line\">    paths: &#123; <span class=\"string\">'ngRoute'</span>:<span class=\"string\">'bower_components/angular-route/angular-route.min'</span>, <span class=\"string\">'domReady'</span>:<span class=\"string\">'bower_components/domReady/domReady'</span>, <span class=\"string\">'text'</span>:<span class=\"string\">'bower_components/text/text'</span>, <span class=\"string\">'ui-bootstrap'</span> : <span class=\"string\">'bower_components/angular-bootstrap/ui-bootstrap-tpls.min'</span>, <span class=\"string\">'angular-animate'</span>:<span class=\"string\">'bower_components/angular-animate/angular-animate.min'</span>, <span class=\"string\">'routeConfig'</span>:<span class=\"string\">'components/routeConfig'</span> &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">require</span>([ <span class=\"string\">'domReady!'</span>, <span class=\"string\">'modules/home/main'</span>, <span class=\"string\">'modules/login/main'</span>, <span class=\"string\">'modules/account/main'</span>, <span class=\"string\">'modules/task/main'</span> ],<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    angular.module(<span class=\"string\">\"myApp\"</span>, [ <span class=\"string\">\"myApp.home\"</span>, <span class=\"string\">\"myApp.login\"</span>, <span class=\"string\">\"myApp.account\"</span>, <span class=\"string\">'myApp.task'</span> ]).run([<span class=\"string\">'$rootScope'</span>, <span class=\"string\">'Auth'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">$rootScope, Auth</span>) </span>&#123; <span class=\"comment\">// track status of authentication</span></span><br><span class=\"line\">            Auth.$onAuth(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">user</span>) </span>&#123;</span><br><span class=\"line\">                $rootScope.loggedIn = !!user;</span><br><span class=\"line\">            &#125;); <span class=\"comment\">//alert</span></span><br><span class=\"line\">            $rootScope.alerts = [];</span><br><span class=\"line\">            $rootScope.closeAlert = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">index</span>) </span>&#123;</span><br><span class=\"line\">                $rootScope.alerts.splice(index, <span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;]);</span><br><span class=\"line\"></span><br><span class=\"line\">    angular.bootstrap(<span class=\"built_in\">document</span>,[<span class=\"string\">'myApp'</span>]);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>requirejsrequirejsmodulerunAngular</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>RequirejsRequirejs</p>\n<h2 id=\"Webpack\"><a href=\"#Webpack\" class=\"headerlink\" title=\"Webpack\"></a>Webpack</h2><p>WebpackRequirejsAngularSPA RequirejsjsjsWebpackWebpack</p>"},{"title":"RxJS + Redux + React = Amazing!","date":"2016-12-08T02:37:00.000Z","_content":"\nYoutubeRxJS + Redux + React = Amazing!+\n\nhttps://www.youtube.com/watch?v=AslncyG8whg\n\n<!--more-->\n\n## \n\nReactAngular2EmberReduxReduxReduxWebSocketsRxJS\n\n![](/css/images/173.jpg)\n\n## \n\nJay PhelpsNetflixjayphelps_jayphelpsjayphelps1616\n\n![](/css/images/174.jpg)\n\n## Redux\n\nReduxReduxRxJSReduxactionreduceractionaction\n\n```js\n{\n  type: \"CREATE_TODO\",\n  payload: \"Build my first redux app\"\n}\n```\n\nactionactiontodotodotodolocalstoragereducerreducerreducerstateactionstatestatestatecasedefault\n\n```js\nexport default function counter(state = 0, action) {\n  switch (action.type) {\n    case INCREMENT_COUNTER:\n      return state + 1\n    case DECREMENT_COUNTER:\n      return state - 1\n    default:\n      return state\n  }\n}\n```\nactionactionstateactionstatereducerstatereduceractionreducerdebouncereduceraction\n\n![](/css/images/175.jpg)\n\n## \n\nRedux\n\n - \n - AjaxAjax\n - \n - Web Sockets \n - Web Workers\n\nReact  Redux ReactactionreduceractionReact\n\n - AjaxAjaxAjax\n - Debouncethrottlebuffer\n - Drag and Drop \n - Web Sockets, Web Workers, etc\n\nReduxactionreducerPromise\n\n![](/css/images/176.jpg)\n\n## Promise\n\nJavaScript\n\n - \n - \n - \n\nVPromisePromisePromisePromisePromisePromisePromise\n\n- PromisePromise\n- \n- Promise \n- \n\nPromisePromisePromise\n\n - Netflix\n - \n - \n\nPromisePromiseAjax-\n\n- \n- AjaxAjax\n- \n- Web Sockets \n- Web Workers\n\nAjaxObservable\n\n![](/css/images/177.jpg)\n\n## \n\nJay Phelps\n\n - Redux  \n - Promise\n\n\n\n - Observable\n - redux-obserable\n\n\n## \n\n<https://github.com/lewis617/react-redux-tutorial>\n\n<http://www.liuyiqi.cn/tags/React/>\n","source":"_posts/rxjs-redux-react-amazing-1.md","raw":"---\ntitle: RxJS + Redux + React = Amazing!\ndate: 2016-12-8 10:37:00\ntags: [, RxJS, Redux, React]\n---\n\nYoutubeRxJS + Redux + React = Amazing!+\n\nhttps://www.youtube.com/watch?v=AslncyG8whg\n\n<!--more-->\n\n## \n\nReactAngular2EmberReduxReduxReduxWebSocketsRxJS\n\n![](/css/images/173.jpg)\n\n## \n\nJay PhelpsNetflixjayphelps_jayphelpsjayphelps1616\n\n![](/css/images/174.jpg)\n\n## Redux\n\nReduxReduxRxJSReduxactionreduceractionaction\n\n```js\n{\n  type: \"CREATE_TODO\",\n  payload: \"Build my first redux app\"\n}\n```\n\nactionactiontodotodotodolocalstoragereducerreducerreducerstateactionstatestatestatecasedefault\n\n```js\nexport default function counter(state = 0, action) {\n  switch (action.type) {\n    case INCREMENT_COUNTER:\n      return state + 1\n    case DECREMENT_COUNTER:\n      return state - 1\n    default:\n      return state\n  }\n}\n```\nactionactionstateactionstatereducerstatereduceractionreducerdebouncereduceraction\n\n![](/css/images/175.jpg)\n\n## \n\nRedux\n\n - \n - AjaxAjax\n - \n - Web Sockets \n - Web Workers\n\nReact  Redux ReactactionreduceractionReact\n\n - AjaxAjaxAjax\n - Debouncethrottlebuffer\n - Drag and Drop \n - Web Sockets, Web Workers, etc\n\nReduxactionreducerPromise\n\n![](/css/images/176.jpg)\n\n## Promise\n\nJavaScript\n\n - \n - \n - \n\nVPromisePromisePromisePromisePromisePromisePromise\n\n- PromisePromise\n- \n- Promise \n- \n\nPromisePromisePromise\n\n - Netflix\n - \n - \n\nPromisePromiseAjax-\n\n- \n- AjaxAjax\n- \n- Web Sockets \n- Web Workers\n\nAjaxObservable\n\n![](/css/images/177.jpg)\n\n## \n\nJay Phelps\n\n - Redux  \n - Promise\n\n\n\n - Observable\n - redux-obserable\n\n\n## \n\n<https://github.com/lewis617/react-redux-tutorial>\n\n<http://www.liuyiqi.cn/tags/React/>\n","slug":"rxjs-redux-react-amazing-1","published":1,"updated":"2019-05-01T08:10:30.422Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvmq0036tgytagepmnuf","content":"<p>YoutubeRxJS + Redux + React = Amazing!+</p>\n<p><a href=\"https://www.youtube.com/watch?v=AslncyG8whg\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=AslncyG8whg</a></p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>ReactAngular2EmberReduxReduxReduxWebSocketsRxJS</p>\n<p><img src=\"/css/images/173.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Jay PhelpsNetflixjayphelps_jayphelpsjayphelps1616</p>\n<p><img src=\"/css/images/174.jpg\" alt=\"\"></p>\n<h2 id=\"Redux\"><a href=\"#Redux\" class=\"headerlink\" title=\"Redux\"></a>Redux</h2><p>ReduxReduxRxJSReduxactionreduceractionaction</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  type: <span class=\"string\">\"CREATE_TODO\"</span>,</span><br><span class=\"line\">  payload: <span class=\"string\">\"Build my first redux app\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>actionactiontodotodotodolocalstoragereducerreducerreducerstateactionstatestatestatecasedefault</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">counter</span>(<span class=\"params\">state = <span class=\"number\">0</span>, action</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (action.type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> INCREMENT_COUNTER:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">case</span> DECREMENT_COUNTER:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state - <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">default</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>actionactionstateactionstatereducerstatereduceractionreducerdebouncereduceraction</p>\n<p><img src=\"/css/images/175.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Redux</p>\n<ul>\n<li></li>\n<li>AjaxAjax</li>\n<li></li>\n<li>Web Sockets </li>\n<li>Web Workers</li>\n</ul>\n<p>React  Redux ReactactionreduceractionReact</p>\n<ul>\n<li>AjaxAjaxAjax</li>\n<li>Debouncethrottlebuffer</li>\n<li>Drag and Drop </li>\n<li>Web Sockets, Web Workers, etc</li>\n</ul>\n<p>ReduxactionreducerPromise</p>\n<p><img src=\"/css/images/176.jpg\" alt=\"\"></p>\n<h2 id=\"Promise\"><a href=\"#Promise\" class=\"headerlink\" title=\"Promise\"></a>Promise</h2><p>JavaScript</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>VPromisePromisePromisePromisePromisePromisePromise</p>\n<ul>\n<li>PromisePromise</li>\n<li></li>\n<li>Promise </li>\n<li></li>\n</ul>\n<p>PromisePromisePromise</p>\n<ul>\n<li>Netflix</li>\n<li></li>\n<li></li>\n</ul>\n<p>PromisePromiseAjax-</p>\n<ul>\n<li></li>\n<li>AjaxAjax</li>\n<li></li>\n<li>Web Sockets </li>\n<li>Web Workers</li>\n</ul>\n<p>AjaxObservable</p>\n<p><img src=\"/css/images/177.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Jay Phelps</p>\n<ul>\n<li>Redux  </li>\n<li>Promise</li>\n</ul>\n<p></p>\n<ul>\n<li>Observable</li>\n<li>redux-obserable</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/React/\">http://www.liuyiqi.cn/tags/React/</a></p>\n","site":{"data":{}},"excerpt":"<p>YoutubeRxJS + Redux + React = Amazing!+</p>\n<p><a href=\"https://www.youtube.com/watch?v=AslncyG8whg\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=AslncyG8whg</a></p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>ReactAngular2EmberReduxReduxReduxWebSocketsRxJS</p>\n<p><img src=\"/css/images/173.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Jay PhelpsNetflixjayphelps_jayphelpsjayphelps1616</p>\n<p><img src=\"/css/images/174.jpg\" alt=\"\"></p>\n<h2 id=\"Redux\"><a href=\"#Redux\" class=\"headerlink\" title=\"Redux\"></a>Redux</h2><p>ReduxReduxRxJSReduxactionreduceractionaction</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  type: <span class=\"string\">\"CREATE_TODO\"</span>,</span><br><span class=\"line\">  payload: <span class=\"string\">\"Build my first redux app\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>actionactiontodotodotodolocalstoragereducerreducerreducerstateactionstatestatestatecasedefault</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">counter</span>(<span class=\"params\">state = <span class=\"number\">0</span>, action</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (action.type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> INCREMENT_COUNTER:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">case</span> DECREMENT_COUNTER:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state - <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">default</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>actionactionstateactionstatereducerstatereduceractionreducerdebouncereduceraction</p>\n<p><img src=\"/css/images/175.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Redux</p>\n<ul>\n<li></li>\n<li>AjaxAjax</li>\n<li></li>\n<li>Web Sockets </li>\n<li>Web Workers</li>\n</ul>\n<p>React  Redux ReactactionreduceractionReact</p>\n<ul>\n<li>AjaxAjaxAjax</li>\n<li>Debouncethrottlebuffer</li>\n<li>Drag and Drop </li>\n<li>Web Sockets, Web Workers, etc</li>\n</ul>\n<p>ReduxactionreducerPromise</p>\n<p><img src=\"/css/images/176.jpg\" alt=\"\"></p>\n<h2 id=\"Promise\"><a href=\"#Promise\" class=\"headerlink\" title=\"Promise\"></a>Promise</h2><p>JavaScript</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>VPromisePromisePromisePromisePromisePromisePromise</p>\n<ul>\n<li>PromisePromise</li>\n<li></li>\n<li>Promise </li>\n<li></li>\n</ul>\n<p>PromisePromisePromise</p>\n<ul>\n<li>Netflix</li>\n<li></li>\n<li></li>\n</ul>\n<p>PromisePromiseAjax-</p>\n<ul>\n<li></li>\n<li>AjaxAjax</li>\n<li></li>\n<li>Web Sockets </li>\n<li>Web Workers</li>\n</ul>\n<p>AjaxObservable</p>\n<p><img src=\"/css/images/177.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Jay Phelps</p>\n<ul>\n<li>Redux  </li>\n<li>Promise</li>\n</ul>\n<p></p>\n<ul>\n<li>Observable</li>\n<li>redux-obserable</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/React/\">http://www.liuyiqi.cn/tags/React/</a></p>"},{"title":"RxJS + Redux + React = Amazing!","date":"2016-12-09T03:32:00.000Z","_content":"\nYoutubeRxJS + Redux + React = Amazing!+\n\nhttps://www.youtube.com/watch?v=AslncyG8whg\n\n<!--more-->\n\n## Observable\n\nObservable\n\n- **Observable**Promise\n- **Observable**ObservablePromise****\n- **Observable**\n\nObservableECMAScriptPromiseRxJS\n\n![](/css/images/178.jpg)\n\nRxJSObservableOperatorsObservableRxJS\n\n> lodash for async\n\nlodashlodashRxJS****\n\n1. Observable\n\n\t![](/css/images/179.jpg)\n\t\n\t\n\t\n\t - Observable\n\t - Observable\n\t - \n\t - AjaxWebSockets\n\t - Observable\n\t \n2. ObservableSubscribing\n\n\t![](/css/images/180.jpg)\n\t\n\tObservablePromisethen\n\t\n\t- **next**PromiseObservable****nextNObservable\n\t- **error**\n\t- **complete**\n\n3. ObservableTransformlodashObservablemapfilterreduceObservable****map\n\n4. ObservableCombineconcatmergezip\n\n5. ObservableRepresent TimeObservable****debouncethrottlebufferdebouncethrottlebuffer\n\n6. ObservablelazyObservableretryrepeatAjax\n\n**Observables can represent just about anything**RxJSRxJS\n\n## RxJSReduxredux-observable\n\nRxJSReduxlogologostarlogoRxJSlogoReduxlogoReduxlogoReduxthree duckslogologoredux-observablelogo\n\n![](/css/images/181.jpg)\n\nredux-observableReduxEpicEpic\n\n> A function that takes a stream of **all actions** dispatched and returns a stream of **new actions** to dispatch \n> Epic**action****action**\n\nEpic\n\n> \"action in, action out\"\n\nEpicReduxRxJSReduxRxJS\n\n1. PINGPONG\n\n\t```js\n\tfunction pingPong(action, store){\n\t  if(action.type === 'PING'){\n\t    return { type: 'PONG'};\n\t  }\n\t}\n\t```\n2. RxJS \n\n\t```js\n\tfunction pingPongEpic(action$, store){\n\t  return action$.ofType('PING')\n\t     .map(action => ({ type: 'PONG'}));\n\t}\n\t```\nEpicactionEpicactionactionaction\n\n3. ---\n\n\t```js\n\tfunction pingPongEpic(action$, store){\n\t  return action$.ofType('PING')\n\t     .delay(1000) // <- that's it\n\t     .map(action => ({ type: 'PONG'}));\n\t}\n\t```\n\n\treducerPINGtruePONGfalseisPINGfalse\n\n4. debouncedebounce\n\n\t![](/css/images/182.jpg)\n\n**RxJSredux-observable**\n\n- JavaScriptEpicdebounceswitchMapmap\n- WebSocketsJavaScriptbugEpic\n\n![](/css/images/183.jpg)\n\nredux-observable\n\n- -AjaxRxJS\n- Rxredux-observable\n- Redux\n\nredux-observable**ReduxRxJS**redux-observable RxJSReduxredux-observable \n\n![](/css/images/184.jpg)\n\nRxJS Reactive Programing RxJSaction[](https://zh.wikipedia.org/wiki/%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B)\n\nredux-observable\n\n![](/css/images/185.jpg)\n\n## \n\nJay Phelpstalktalk\n\n- Redux\n- Observable\n- redux-observable\n- PromiseObservable\n- Observable\n\n---\n\n## \n\n<https://github.com/lewis617/react-redux-tutorial>\n\n<http://www.liuyiqi.cn/tags/React/>","source":"_posts/rxjs-redux-react-amazing-2.md","raw":"---\ntitle: RxJS + Redux + React = Amazing!\ndate: 2016-12-9 11:32:00\ntags: [, RxJS, Redux, React]\n---\n\nYoutubeRxJS + Redux + React = Amazing!+\n\nhttps://www.youtube.com/watch?v=AslncyG8whg\n\n<!--more-->\n\n## Observable\n\nObservable\n\n- **Observable**Promise\n- **Observable**ObservablePromise****\n- **Observable**\n\nObservableECMAScriptPromiseRxJS\n\n![](/css/images/178.jpg)\n\nRxJSObservableOperatorsObservableRxJS\n\n> lodash for async\n\nlodashlodashRxJS****\n\n1. Observable\n\n\t![](/css/images/179.jpg)\n\t\n\t\n\t\n\t - Observable\n\t - Observable\n\t - \n\t - AjaxWebSockets\n\t - Observable\n\t \n2. ObservableSubscribing\n\n\t![](/css/images/180.jpg)\n\t\n\tObservablePromisethen\n\t\n\t- **next**PromiseObservable****nextNObservable\n\t- **error**\n\t- **complete**\n\n3. ObservableTransformlodashObservablemapfilterreduceObservable****map\n\n4. ObservableCombineconcatmergezip\n\n5. ObservableRepresent TimeObservable****debouncethrottlebufferdebouncethrottlebuffer\n\n6. ObservablelazyObservableretryrepeatAjax\n\n**Observables can represent just about anything**RxJSRxJS\n\n## RxJSReduxredux-observable\n\nRxJSReduxlogologostarlogoRxJSlogoReduxlogoReduxlogoReduxthree duckslogologoredux-observablelogo\n\n![](/css/images/181.jpg)\n\nredux-observableReduxEpicEpic\n\n> A function that takes a stream of **all actions** dispatched and returns a stream of **new actions** to dispatch \n> Epic**action****action**\n\nEpic\n\n> \"action in, action out\"\n\nEpicReduxRxJSReduxRxJS\n\n1. PINGPONG\n\n\t```js\n\tfunction pingPong(action, store){\n\t  if(action.type === 'PING'){\n\t    return { type: 'PONG'};\n\t  }\n\t}\n\t```\n2. RxJS \n\n\t```js\n\tfunction pingPongEpic(action$, store){\n\t  return action$.ofType('PING')\n\t     .map(action => ({ type: 'PONG'}));\n\t}\n\t```\nEpicactionEpicactionactionaction\n\n3. ---\n\n\t```js\n\tfunction pingPongEpic(action$, store){\n\t  return action$.ofType('PING')\n\t     .delay(1000) // <- that's it\n\t     .map(action => ({ type: 'PONG'}));\n\t}\n\t```\n\n\treducerPINGtruePONGfalseisPINGfalse\n\n4. debouncedebounce\n\n\t![](/css/images/182.jpg)\n\n**RxJSredux-observable**\n\n- JavaScriptEpicdebounceswitchMapmap\n- WebSocketsJavaScriptbugEpic\n\n![](/css/images/183.jpg)\n\nredux-observable\n\n- -AjaxRxJS\n- Rxredux-observable\n- Redux\n\nredux-observable**ReduxRxJS**redux-observable RxJSReduxredux-observable \n\n![](/css/images/184.jpg)\n\nRxJS Reactive Programing RxJSaction[](https://zh.wikipedia.org/wiki/%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B)\n\nredux-observable\n\n![](/css/images/185.jpg)\n\n## \n\nJay Phelpstalktalk\n\n- Redux\n- Observable\n- redux-observable\n- PromiseObservable\n- Observable\n\n---\n\n## \n\n<https://github.com/lewis617/react-redux-tutorial>\n\n<http://www.liuyiqi.cn/tags/React/>","slug":"rxjs-redux-react-amazing-2","published":1,"updated":"2019-05-01T08:10:30.454Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvms0039tgytubgcoh7w","content":"<p>YoutubeRxJS + Redux + React = Amazing!+</p>\n<p><a href=\"https://www.youtube.com/watch?v=AslncyG8whg\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=AslncyG8whg</a></p>\n<a id=\"more\"></a>\n<h2 id=\"Observable\"><a href=\"#Observable\" class=\"headerlink\" title=\"Observable\"></a>Observable</h2><p>Observable</p>\n<ul>\n<li><strong>Observable</strong>Promise</li>\n<li><strong>Observable</strong>ObservablePromise<strong></strong></li>\n<li><strong>Observable</strong></li>\n</ul>\n<p>ObservableECMAScriptPromiseRxJS</p>\n<p><img src=\"/css/images/178.jpg\" alt=\"\"></p>\n<p>RxJSObservableOperatorsObservableRxJS</p>\n<blockquote>\n<p>lodash for async</p>\n</blockquote>\n<p>lodashlodashRxJS<strong></strong></p>\n<ol>\n<li><p>Observable</p>\n<p> <img src=\"/css/images/179.jpg\" alt=\"\"></p>\n<p> </p>\n<ul>\n<li>Observable</li>\n<li>Observable</li>\n<li></li>\n<li>AjaxWebSockets</li>\n<li>Observable</li>\n</ul>\n</li>\n<li><p>ObservableSubscribing</p>\n<p> <img src=\"/css/images/180.jpg\" alt=\"\"></p>\n<p> ObservablePromisethen</p>\n<ul>\n<li><strong>next</strong>PromiseObservable<strong></strong>nextNObservable</li>\n<li><strong>error</strong></li>\n<li><strong>complete</strong></li>\n</ul>\n</li>\n<li><p>ObservableTransformlodashObservablemapfilterreduceObservable<strong></strong>map</p>\n</li>\n<li><p>ObservableCombineconcatmergezip</p>\n</li>\n<li><p>ObservableRepresent TimeObservable<strong></strong>debouncethrottlebufferdebouncethrottlebuffer</p>\n</li>\n<li><p>ObservablelazyObservableretryrepeatAjax</p>\n</li>\n</ol>\n<p><strong>Observables can represent just about anything</strong>RxJSRxJS</p>\n<h2 id=\"RxJSReduxredux-observable\"><a href=\"#RxJSReduxredux-observable\" class=\"headerlink\" title=\"RxJSReduxredux-observable\"></a>RxJSReduxredux-observable</h2><p>RxJSReduxlogologostarlogoRxJSlogoReduxlogoReduxlogoReduxthree duckslogologoredux-observablelogo</p>\n<p><img src=\"/css/images/181.jpg\" alt=\"\"></p>\n<p>redux-observableReduxEpicEpic</p>\n<blockquote>\n<p>A function that takes a stream of <strong>all actions</strong> dispatched and returns a stream of <strong>new actions</strong> to dispatch<br>Epic<strong>action</strong><strong>action</strong></p>\n</blockquote>\n<p>Epic</p>\n<blockquote>\n<p>action in, action out</p>\n</blockquote>\n<p>EpicReduxRxJSReduxRxJS</p>\n<ol>\n<li><p>PINGPONG</p>\n <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">pingPong</span>(<span class=\"params\">action, store</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(action.type === <span class=\"string\">'PING'</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123; <span class=\"attr\">type</span>: <span class=\"string\">'PONG'</span>&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>RxJS </p>\n <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">pingPongEpic</span>(<span class=\"params\">action$, store</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> action$.ofType(<span class=\"string\">'PING'</span>)</span><br><span class=\"line\">     .map(<span class=\"function\"><span class=\"params\">action</span> =&gt;</span> (&#123; <span class=\"attr\">type</span>: <span class=\"string\">'PONG'</span>&#125;));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>EpicactionEpicactionactionaction</p>\n<ol start=\"3\">\n<li><p>---</p>\n <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">pingPongEpic</span>(<span class=\"params\">action$, store</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> action$.ofType(<span class=\"string\">'PING'</span>)</span><br><span class=\"line\">     .delay(<span class=\"number\">1000</span>) <span class=\"comment\">// &lt;- that's it</span></span><br><span class=\"line\">     .map(<span class=\"function\"><span class=\"params\">action</span> =&gt;</span> (&#123; <span class=\"attr\">type</span>: <span class=\"string\">'PONG'</span>&#125;));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> reducerPINGtruePONGfalseisPINGfalse</p>\n</li>\n<li><p>debouncedebounce</p>\n<p> <img src=\"/css/images/182.jpg\" alt=\"\"></p>\n</li>\n</ol>\n<p><strong>RxJSredux-observable</strong></p>\n<ul>\n<li>JavaScriptEpicdebounceswitchMapmap</li>\n<li>WebSocketsJavaScriptbugEpic</li>\n</ul>\n<p><img src=\"/css/images/183.jpg\" alt=\"\"></p>\n<p>redux-observable</p>\n<ul>\n<li>-AjaxRxJS</li>\n<li>Rxredux-observable</li>\n<li>Redux</li>\n</ul>\n<p>redux-observable<strong>ReduxRxJS</strong>redux-observable RxJSReduxredux-observable </p>\n<p><img src=\"/css/images/184.jpg\" alt=\"\"></p>\n<p>RxJS Reactive Programing RxJSaction<a href=\"https://zh.wikipedia.org/wiki/%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p>redux-observable</p>\n<p><img src=\"/css/images/185.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Jay Phelpstalktalk</p>\n<ul>\n<li>Redux</li>\n<li>Observable</li>\n<li>redux-observable</li>\n<li>PromiseObservable</li>\n<li>Observable</li>\n</ul>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/React/\">http://www.liuyiqi.cn/tags/React/</a></p>\n","site":{"data":{}},"excerpt":"<p>YoutubeRxJS + Redux + React = Amazing!+</p>\n<p><a href=\"https://www.youtube.com/watch?v=AslncyG8whg\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=AslncyG8whg</a></p>","more":"<h2 id=\"Observable\"><a href=\"#Observable\" class=\"headerlink\" title=\"Observable\"></a>Observable</h2><p>Observable</p>\n<ul>\n<li><strong>Observable</strong>Promise</li>\n<li><strong>Observable</strong>ObservablePromise<strong></strong></li>\n<li><strong>Observable</strong></li>\n</ul>\n<p>ObservableECMAScriptPromiseRxJS</p>\n<p><img src=\"/css/images/178.jpg\" alt=\"\"></p>\n<p>RxJSObservableOperatorsObservableRxJS</p>\n<blockquote>\n<p>lodash for async</p>\n</blockquote>\n<p>lodashlodashRxJS<strong></strong></p>\n<ol>\n<li><p>Observable</p>\n<p> <img src=\"/css/images/179.jpg\" alt=\"\"></p>\n<p> </p>\n<ul>\n<li>Observable</li>\n<li>Observable</li>\n<li></li>\n<li>AjaxWebSockets</li>\n<li>Observable</li>\n</ul>\n</li>\n<li><p>ObservableSubscribing</p>\n<p> <img src=\"/css/images/180.jpg\" alt=\"\"></p>\n<p> ObservablePromisethen</p>\n<ul>\n<li><strong>next</strong>PromiseObservable<strong></strong>nextNObservable</li>\n<li><strong>error</strong></li>\n<li><strong>complete</strong></li>\n</ul>\n</li>\n<li><p>ObservableTransformlodashObservablemapfilterreduceObservable<strong></strong>map</p>\n</li>\n<li><p>ObservableCombineconcatmergezip</p>\n</li>\n<li><p>ObservableRepresent TimeObservable<strong></strong>debouncethrottlebufferdebouncethrottlebuffer</p>\n</li>\n<li><p>ObservablelazyObservableretryrepeatAjax</p>\n</li>\n</ol>\n<p><strong>Observables can represent just about anything</strong>RxJSRxJS</p>\n<h2 id=\"RxJSReduxredux-observable\"><a href=\"#RxJSReduxredux-observable\" class=\"headerlink\" title=\"RxJSReduxredux-observable\"></a>RxJSReduxredux-observable</h2><p>RxJSReduxlogologostarlogoRxJSlogoReduxlogoReduxlogoReduxthree duckslogologoredux-observablelogo</p>\n<p><img src=\"/css/images/181.jpg\" alt=\"\"></p>\n<p>redux-observableReduxEpicEpic</p>\n<blockquote>\n<p>A function that takes a stream of <strong>all actions</strong> dispatched and returns a stream of <strong>new actions</strong> to dispatch<br>Epic<strong>action</strong><strong>action</strong></p>\n</blockquote>\n<p>Epic</p>\n<blockquote>\n<p>action in, action out</p>\n</blockquote>\n<p>EpicReduxRxJSReduxRxJS</p>\n<ol>\n<li><p>PINGPONG</p>\n <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">pingPong</span>(<span class=\"params\">action, store</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(action.type === <span class=\"string\">'PING'</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123; <span class=\"attr\">type</span>: <span class=\"string\">'PONG'</span>&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>RxJS </p>\n <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">pingPongEpic</span>(<span class=\"params\">action$, store</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> action$.ofType(<span class=\"string\">'PING'</span>)</span><br><span class=\"line\">     .map(<span class=\"function\"><span class=\"params\">action</span> =&gt;</span> (&#123; <span class=\"attr\">type</span>: <span class=\"string\">'PONG'</span>&#125;));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>EpicactionEpicactionactionaction</p>\n<ol start=\"3\">\n<li><p>---</p>\n <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">pingPongEpic</span>(<span class=\"params\">action$, store</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> action$.ofType(<span class=\"string\">'PING'</span>)</span><br><span class=\"line\">     .delay(<span class=\"number\">1000</span>) <span class=\"comment\">// &lt;- that's it</span></span><br><span class=\"line\">     .map(<span class=\"function\"><span class=\"params\">action</span> =&gt;</span> (&#123; <span class=\"attr\">type</span>: <span class=\"string\">'PONG'</span>&#125;));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> reducerPINGtruePONGfalseisPINGfalse</p>\n</li>\n<li><p>debouncedebounce</p>\n<p> <img src=\"/css/images/182.jpg\" alt=\"\"></p>\n</li>\n</ol>\n<p><strong>RxJSredux-observable</strong></p>\n<ul>\n<li>JavaScriptEpicdebounceswitchMapmap</li>\n<li>WebSocketsJavaScriptbugEpic</li>\n</ul>\n<p><img src=\"/css/images/183.jpg\" alt=\"\"></p>\n<p>redux-observable</p>\n<ul>\n<li>-AjaxRxJS</li>\n<li>Rxredux-observable</li>\n<li>Redux</li>\n</ul>\n<p>redux-observable<strong>ReduxRxJS</strong>redux-observable RxJSReduxredux-observable </p>\n<p><img src=\"/css/images/184.jpg\" alt=\"\"></p>\n<p>RxJS Reactive Programing RxJSaction<a href=\"https://zh.wikipedia.org/wiki/%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p>redux-observable</p>\n<p><img src=\"/css/images/185.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Jay Phelpstalktalk</p>\n<ul>\n<li>Redux</li>\n<li>Observable</li>\n<li>redux-observable</li>\n<li>PromiseObservable</li>\n<li>Observable</li>\n</ul>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/react-redux-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/react-redux-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/React/\">http://www.liuyiqi.cn/tags/React/</a></p>"},{"title":"JavaScript ","date":"2017-02-16T02:11:00.000Z","_content":"\n\n\n<!--more-->\n\n## \n\n******** Python \n\n```python\n>>> list(set([1,1,2]))\n[1, 2] \n```\n\nES6Set JavaScript \n\n```js\nfunction remove_duplicates_es6(arr) {\n    let s = new Set(arr);\n    let it = s.values();\n    return Array.from(it);\n}\n```\n  Python  Python JavaScript  Set  Set MDN  [Set](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Set)\n\n\n\n##  JavaScript \n\n ES6 Set\n\n### \n\n `items` \n\n```js\nfunction Set(){\n  var items = {};\n}\n```\n\n `1,2` \n\n```js\n{\n  '1': 1,\n  '2': 2\n}\n```\n\n****\n\n###  has addremove \n\n `has` `add` `remove` \n\n```js\nvar set = new Set();\n\nexpect(set.add(1)).toBeTruthy(); // \nexpect(set.add(1)).toBeFalsy(); // \nexpect(set.add(2)).toBeTruthy(); // \n\nexpect(set.has(1)).toBeTruthy(); // \nexpect(set.has(3)).toBeFalsy(); // \n\nexpect(set.remove(1)).toBeTruthy(); // \nexpect(set.remove(1)).toBeFalsy(); // \n```\n\n `hasOwnProperty` \n> `hasOwnProperty`  in  MDN [Object.prototype.hasOwnProperty()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty)\n\n `hasOwnProperty`  `has`  `has` `add`  `remove`  `items` \n\n```js\nthis.has = function (value) {\n  return items.hasOwnProperty(value); // {1}\n};\n\nthis.add = function (value) {\n  if (!this.has(value)) {\n    items[value] = value;\n    return true;\n  }\n  return false;\n};\n\nthis.remove = function (value) {\n  if (this.has(value)) {\n    delete items[value];\n    return true;\n  }\n  return false;\n};\n```\n\n###  size  values \n\n `size`  `values` \n\n```js\nvar set = new Set();\nset.add(2);\n\nexpect(set.size()).toBe(1); // \nexpect(set.values()).toEqual(['2']); // \n```\n `Object.keys()` \n\n> `Object.keys()`  for-in  () for-in  MDN [ Object.keys()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/keys)\n\n\n\n```js\nthis.size = function () {\n  return Object.keys(items).length;\n};\n\nthis.values = function () {\n  return Object.keys(items);\n};\n```\n\n###  union \n\n `union` \n\n```js\nvar set = new Set();\nset.add(1);\nset.add(2);\n\nvar otherSet = new Set();\notherSet.add(3);\n\nvar unionSet = set.union(otherSet);\nexpect(unionSet.values()).toEqual(['1', '2', '3']);\n```\n\n`1,2`   `3` `1,2,3`\n\n```js\nthis.union = function (otherSet) {\n  var unionSet = new Set();\n\n  var values = this.values();\n  for (var i = 0; i < values.length; i++) {\n    unionSet.add(values[i]);\n  }\n\n  values = otherSet.values();\n  for (i = 0; i < values.length; i++) {\n    unionSet.add(values[i]);\n  }\n\n  return unionSet;\n};\n```\n\n###  intersection \n\n `intersection` \n\n```js\nvar set = new Set();\nset.add(1);\nset.add(2);\n\nvar otherSet = new Set();\notherSet.add(2);\notherSet.add(3);\n\nvar intersectionSet = set.intersection(otherSet);\nexpect(intersectionSet.values()).toEqual(['2']);\n```\n\n `set`  `otherSet`  `2` `otherSet`  `set` \n\n```js\nthis.intersection = function (otherSet) {\n  var intersectionSet = new Set();\n\n  var values = otherSet.values();\n  for (var i = 0; i < values.length; i++) {\n    if (this.has(values[i])) {\n      intersectionSet.add(values[i]);\n    }\n  }\n  return intersectionSet;\n};\n```\n###  difference \n\n `difference` \n\n```js\nvar set = new Set();\nset.add(1);\nset.add(2);\n\nvar otherSet = new Set();\notherSet.add(2);\notherSet.add(3);\n\nvar differenceSet = set.difference(otherSet);\nexpect(differenceSet.values()).toEqual(['1']);\n```\n\n `set`  `otherSet`  `1` `set`  `otherSet` \n\n```js\nthis.difference = function (otherSet) {\n  var differenceSet = new Set();\n\n  var values = this.values();\n  for (var i = 0; i < values.length; i++) {\n    if (!otherSet.has(values[i])) {\n      differenceSet.add(values[i]);\n    }\n  }\n  return differenceSet;\n};\n```\n\n###  subset \n\n `subset` \n\n```js\nvar set = new Set();\nset.add(1);\nset.add(2);\nset.add(3);\n\nvar otherSet = new Set();\notherSet.add(2);\notherSet.add(3);\n\nexpect(set.subset(otherSet)).toBeFalsy(); // \nset.remove(3);\nexpect(set.subset(otherSet)).toBeFalsy();  // \nset.add(1);\nexpect(set.subset(otherSet)).toBeTruthy();  // \n```\n\n `1,2,3`  `23`  `12`  `2,3`  `1`  `2,3`  `2`  `2,3` \n\n```js\nthis.subset = function (otherSet) {\n  if (this.size() > otherSet.size()) {\n    return false;\n  } else {\n    var values = this.values();\n    for (var i = 0; i < values.length; i++) {\n      if (!otherSet.has(values[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n};\n```\n\n\n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>","source":"_posts/set.md","raw":"---\ntitle: JavaScript \ndate: 2017-02-16 10:11:00\ntags: []\n---\n\n\n\n<!--more-->\n\n## \n\n******** Python \n\n```python\n>>> list(set([1,1,2]))\n[1, 2] \n```\n\nES6Set JavaScript \n\n```js\nfunction remove_duplicates_es6(arr) {\n    let s = new Set(arr);\n    let it = s.values();\n    return Array.from(it);\n}\n```\n  Python  Python JavaScript  Set  Set MDN  [Set](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Set)\n\n\n\n##  JavaScript \n\n ES6 Set\n\n### \n\n `items` \n\n```js\nfunction Set(){\n  var items = {};\n}\n```\n\n `1,2` \n\n```js\n{\n  '1': 1,\n  '2': 2\n}\n```\n\n****\n\n###  has addremove \n\n `has` `add` `remove` \n\n```js\nvar set = new Set();\n\nexpect(set.add(1)).toBeTruthy(); // \nexpect(set.add(1)).toBeFalsy(); // \nexpect(set.add(2)).toBeTruthy(); // \n\nexpect(set.has(1)).toBeTruthy(); // \nexpect(set.has(3)).toBeFalsy(); // \n\nexpect(set.remove(1)).toBeTruthy(); // \nexpect(set.remove(1)).toBeFalsy(); // \n```\n\n `hasOwnProperty` \n> `hasOwnProperty`  in  MDN [Object.prototype.hasOwnProperty()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty)\n\n `hasOwnProperty`  `has`  `has` `add`  `remove`  `items` \n\n```js\nthis.has = function (value) {\n  return items.hasOwnProperty(value); // {1}\n};\n\nthis.add = function (value) {\n  if (!this.has(value)) {\n    items[value] = value;\n    return true;\n  }\n  return false;\n};\n\nthis.remove = function (value) {\n  if (this.has(value)) {\n    delete items[value];\n    return true;\n  }\n  return false;\n};\n```\n\n###  size  values \n\n `size`  `values` \n\n```js\nvar set = new Set();\nset.add(2);\n\nexpect(set.size()).toBe(1); // \nexpect(set.values()).toEqual(['2']); // \n```\n `Object.keys()` \n\n> `Object.keys()`  for-in  () for-in  MDN [ Object.keys()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/keys)\n\n\n\n```js\nthis.size = function () {\n  return Object.keys(items).length;\n};\n\nthis.values = function () {\n  return Object.keys(items);\n};\n```\n\n###  union \n\n `union` \n\n```js\nvar set = new Set();\nset.add(1);\nset.add(2);\n\nvar otherSet = new Set();\notherSet.add(3);\n\nvar unionSet = set.union(otherSet);\nexpect(unionSet.values()).toEqual(['1', '2', '3']);\n```\n\n`1,2`   `3` `1,2,3`\n\n```js\nthis.union = function (otherSet) {\n  var unionSet = new Set();\n\n  var values = this.values();\n  for (var i = 0; i < values.length; i++) {\n    unionSet.add(values[i]);\n  }\n\n  values = otherSet.values();\n  for (i = 0; i < values.length; i++) {\n    unionSet.add(values[i]);\n  }\n\n  return unionSet;\n};\n```\n\n###  intersection \n\n `intersection` \n\n```js\nvar set = new Set();\nset.add(1);\nset.add(2);\n\nvar otherSet = new Set();\notherSet.add(2);\notherSet.add(3);\n\nvar intersectionSet = set.intersection(otherSet);\nexpect(intersectionSet.values()).toEqual(['2']);\n```\n\n `set`  `otherSet`  `2` `otherSet`  `set` \n\n```js\nthis.intersection = function (otherSet) {\n  var intersectionSet = new Set();\n\n  var values = otherSet.values();\n  for (var i = 0; i < values.length; i++) {\n    if (this.has(values[i])) {\n      intersectionSet.add(values[i]);\n    }\n  }\n  return intersectionSet;\n};\n```\n###  difference \n\n `difference` \n\n```js\nvar set = new Set();\nset.add(1);\nset.add(2);\n\nvar otherSet = new Set();\notherSet.add(2);\notherSet.add(3);\n\nvar differenceSet = set.difference(otherSet);\nexpect(differenceSet.values()).toEqual(['1']);\n```\n\n `set`  `otherSet`  `1` `set`  `otherSet` \n\n```js\nthis.difference = function (otherSet) {\n  var differenceSet = new Set();\n\n  var values = this.values();\n  for (var i = 0; i < values.length; i++) {\n    if (!otherSet.has(values[i])) {\n      differenceSet.add(values[i]);\n    }\n  }\n  return differenceSet;\n};\n```\n\n###  subset \n\n `subset` \n\n```js\nvar set = new Set();\nset.add(1);\nset.add(2);\nset.add(3);\n\nvar otherSet = new Set();\notherSet.add(2);\notherSet.add(3);\n\nexpect(set.subset(otherSet)).toBeFalsy(); // \nset.remove(3);\nexpect(set.subset(otherSet)).toBeFalsy();  // \nset.add(1);\nexpect(set.subset(otherSet)).toBeTruthy();  // \n```\n\n `1,2,3`  `23`  `12`  `2,3`  `1`  `2,3`  `2`  `2,3` \n\n```js\nthis.subset = function (otherSet) {\n  if (this.size() > otherSet.size()) {\n    return false;\n  } else {\n    var values = this.values();\n    for (var i = 0; i < values.length; i++) {\n      if (!otherSet.has(values[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n};\n```\n\n\n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>","slug":"set","published":1,"updated":"2019-05-01T08:02:12.904Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvmt003btgyttbye6ch5","content":"<p></p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><strong></strong> Python </p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>list(set([<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>]))</span><br><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">2</span>]</span><br></pre></td></tr></table></figure>\n<p>ES6Set JavaScript </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">remove_duplicates_es6</span>(<span class=\"params\">arr</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> s = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(arr);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> it = s.values();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Array</span>.from(it);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>  Python  Python JavaScript  Set  Set MDN  <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Set\" target=\"_blank\" rel=\"noopener\">Set</a></p>\n<p></p>\n<h2 id=\"-JavaScript-\"><a href=\"#-JavaScript-\" class=\"headerlink\" title=\" JavaScript \"></a> JavaScript </h2><p> ES6 Set</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>items</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Set</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> items = &#123;&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> <code>1,2</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">'1'</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"string\">'2'</span>: <span class=\"number\">2</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong></strong></p>\n<h3 id=\"-has-addremove-\"><a href=\"#-has-addremove-\" class=\"headerlink\" title=\" has addremove \"></a> has addremove </h3><p> <code>has</code> <code>add</code> <code>remove</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> set = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">expect(set.add(<span class=\"number\">1</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(set.add(<span class=\"number\">1</span>)).toBeFalsy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(set.add(<span class=\"number\">2</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\">expect(set.has(<span class=\"number\">1</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(set.has(<span class=\"number\">3</span>)).toBeFalsy(); <span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\">expect(set.remove(<span class=\"number\">1</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(set.remove(<span class=\"number\">1</span>)).toBeFalsy(); <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n<p> <code>hasOwnProperty</code> </p>\n<blockquote>\n<p><code>hasOwnProperty</code>  in  MDN <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty\" target=\"_blank\" rel=\"noopener\">Object.prototype.hasOwnProperty()</a></p>\n</blockquote>\n<p> <code>hasOwnProperty</code>  <code>has</code>  <code>has</code> <code>add</code>  <code>remove</code>  <code>items</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.has = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> items.hasOwnProperty(value); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.add = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.has(value)) &#123;</span><br><span class=\"line\">    items[value] = value;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.remove = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.has(value)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> items[value];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-size--values-\"><a href=\"#-size--values-\" class=\"headerlink\" title=\" size  values \"></a> size  values </h3><p> <code>size</code>  <code>values</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> set = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">set.add(<span class=\"number\">2</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">expect(set.size()).toBe(<span class=\"number\">1</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(set.values()).toEqual([<span class=\"string\">'2'</span>]); <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n<p> <code>Object.keys()</code> </p>\n<blockquote>\n<p><code>Object.keys()</code>  for-in  () for-in  MDN <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\" target=\"_blank\" rel=\"noopener\"> Object.keys()</a></p>\n</blockquote>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.size = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.keys(items).length;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.values = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.keys(items);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-union-\"><a href=\"#-union-\" class=\"headerlink\" title=\" union \"></a> union </h3><p> <code>union</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> set = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">set.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">set.add(<span class=\"number\">2</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> otherSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">otherSet.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> unionSet = set.union(otherSet);</span><br><span class=\"line\">expect(unionSet.values()).toEqual([<span class=\"string\">'1'</span>, <span class=\"string\">'2'</span>, <span class=\"string\">'3'</span>]);</span><br></pre></td></tr></table></figure>\n<p><code>1,2</code>   <code>3</code> <code>1,2,3</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.union = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">otherSet</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> unionSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> values = <span class=\"keyword\">this</span>.values();</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; values.length; i++) &#123;</span><br><span class=\"line\">    unionSet.add(values[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  values = otherSet.values();</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; values.length; i++) &#123;</span><br><span class=\"line\">    unionSet.add(values[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> unionSet;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-intersection-\"><a href=\"#-intersection-\" class=\"headerlink\" title=\" intersection \"></a> intersection </h3><p> <code>intersection</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> set = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">set.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">set.add(<span class=\"number\">2</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> otherSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">otherSet.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">otherSet.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> intersectionSet = set.intersection(otherSet);</span><br><span class=\"line\">expect(intersectionSet.values()).toEqual([<span class=\"string\">'2'</span>]);</span><br></pre></td></tr></table></figure>\n<p> <code>set</code>  <code>otherSet</code>  <code>2</code> <code>otherSet</code>  <code>set</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.intersection = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">otherSet</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> intersectionSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> values = otherSet.values();</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; values.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.has(values[i])) &#123;</span><br><span class=\"line\">      intersectionSet.add(values[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> intersectionSet;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-difference-\"><a href=\"#-difference-\" class=\"headerlink\" title=\" difference \"></a> difference </h3><p> <code>difference</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> set = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">set.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">set.add(<span class=\"number\">2</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> otherSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">otherSet.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">otherSet.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> differenceSet = set.difference(otherSet);</span><br><span class=\"line\">expect(differenceSet.values()).toEqual([<span class=\"string\">'1'</span>]);</span><br></pre></td></tr></table></figure>\n<p> <code>set</code>  <code>otherSet</code>  <code>1</code> <code>set</code>  <code>otherSet</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.difference = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">otherSet</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> differenceSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> values = <span class=\"keyword\">this</span>.values();</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; values.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!otherSet.has(values[i])) &#123;</span><br><span class=\"line\">      differenceSet.add(values[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> differenceSet;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-subset-\"><a href=\"#-subset-\" class=\"headerlink\" title=\" subset \"></a> subset </h3><p> <code>subset</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> set = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">set.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">set.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">set.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> otherSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">otherSet.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">otherSet.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">expect(set.subset(otherSet)).toBeFalsy(); <span class=\"comment\">// </span></span><br><span class=\"line\">set.remove(<span class=\"number\">3</span>);</span><br><span class=\"line\">expect(set.subset(otherSet)).toBeFalsy();  <span class=\"comment\">// </span></span><br><span class=\"line\">set.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">expect(set.subset(otherSet)).toBeTruthy();  <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n<p> <code>1,2,3</code>  <code>23</code>  <code>12</code>  <code>2,3</code>  <code>1</code>  <code>2,3</code>  <code>2</code>  <code>2,3</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.subset = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">otherSet</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.size() &gt; otherSet.size()) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> values = <span class=\"keyword\">this</span>.values();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; values.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!otherSet.has(values[i])) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>\n","site":{"data":{}},"excerpt":"<p></p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><strong></strong> Python </p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>list(set([<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>]))</span><br><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">2</span>]</span><br></pre></td></tr></table></figure>\n<p>ES6Set JavaScript </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">remove_duplicates_es6</span>(<span class=\"params\">arr</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> s = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(arr);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> it = s.values();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Array</span>.from(it);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>  Python  Python JavaScript  Set  Set MDN  <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Set\" target=\"_blank\" rel=\"noopener\">Set</a></p>\n<p></p>\n<h2 id=\"-JavaScript-\"><a href=\"#-JavaScript-\" class=\"headerlink\" title=\" JavaScript \"></a> JavaScript </h2><p> ES6 Set</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>items</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Set</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> items = &#123;&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> <code>1,2</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">'1'</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"string\">'2'</span>: <span class=\"number\">2</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong></strong></p>\n<h3 id=\"-has-addremove-\"><a href=\"#-has-addremove-\" class=\"headerlink\" title=\" has addremove \"></a> has addremove </h3><p> <code>has</code> <code>add</code> <code>remove</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> set = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">expect(set.add(<span class=\"number\">1</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(set.add(<span class=\"number\">1</span>)).toBeFalsy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(set.add(<span class=\"number\">2</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\">expect(set.has(<span class=\"number\">1</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(set.has(<span class=\"number\">3</span>)).toBeFalsy(); <span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\">expect(set.remove(<span class=\"number\">1</span>)).toBeTruthy(); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(set.remove(<span class=\"number\">1</span>)).toBeFalsy(); <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n<p> <code>hasOwnProperty</code> </p>\n<blockquote>\n<p><code>hasOwnProperty</code>  in  MDN <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty\" target=\"_blank\" rel=\"noopener\">Object.prototype.hasOwnProperty()</a></p>\n</blockquote>\n<p> <code>hasOwnProperty</code>  <code>has</code>  <code>has</code> <code>add</code>  <code>remove</code>  <code>items</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.has = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> items.hasOwnProperty(value); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.add = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.has(value)) &#123;</span><br><span class=\"line\">    items[value] = value;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.remove = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.has(value)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> items[value];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-size--values-\"><a href=\"#-size--values-\" class=\"headerlink\" title=\" size  values \"></a> size  values </h3><p> <code>size</code>  <code>values</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> set = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">set.add(<span class=\"number\">2</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">expect(set.size()).toBe(<span class=\"number\">1</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">expect(set.values()).toEqual([<span class=\"string\">'2'</span>]); <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n<p> <code>Object.keys()</code> </p>\n<blockquote>\n<p><code>Object.keys()</code>  for-in  () for-in  MDN <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\" target=\"_blank\" rel=\"noopener\"> Object.keys()</a></p>\n</blockquote>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.size = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.keys(items).length;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.values = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.keys(items);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-union-\"><a href=\"#-union-\" class=\"headerlink\" title=\" union \"></a> union </h3><p> <code>union</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> set = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">set.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">set.add(<span class=\"number\">2</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> otherSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">otherSet.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> unionSet = set.union(otherSet);</span><br><span class=\"line\">expect(unionSet.values()).toEqual([<span class=\"string\">'1'</span>, <span class=\"string\">'2'</span>, <span class=\"string\">'3'</span>]);</span><br></pre></td></tr></table></figure>\n<p><code>1,2</code>   <code>3</code> <code>1,2,3</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.union = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">otherSet</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> unionSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> values = <span class=\"keyword\">this</span>.values();</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; values.length; i++) &#123;</span><br><span class=\"line\">    unionSet.add(values[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  values = otherSet.values();</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; values.length; i++) &#123;</span><br><span class=\"line\">    unionSet.add(values[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> unionSet;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-intersection-\"><a href=\"#-intersection-\" class=\"headerlink\" title=\" intersection \"></a> intersection </h3><p> <code>intersection</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> set = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">set.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">set.add(<span class=\"number\">2</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> otherSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">otherSet.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">otherSet.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> intersectionSet = set.intersection(otherSet);</span><br><span class=\"line\">expect(intersectionSet.values()).toEqual([<span class=\"string\">'2'</span>]);</span><br></pre></td></tr></table></figure>\n<p> <code>set</code>  <code>otherSet</code>  <code>2</code> <code>otherSet</code>  <code>set</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.intersection = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">otherSet</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> intersectionSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> values = otherSet.values();</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; values.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.has(values[i])) &#123;</span><br><span class=\"line\">      intersectionSet.add(values[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> intersectionSet;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-difference-\"><a href=\"#-difference-\" class=\"headerlink\" title=\" difference \"></a> difference </h3><p> <code>difference</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> set = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">set.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">set.add(<span class=\"number\">2</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> otherSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">otherSet.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">otherSet.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> differenceSet = set.difference(otherSet);</span><br><span class=\"line\">expect(differenceSet.values()).toEqual([<span class=\"string\">'1'</span>]);</span><br></pre></td></tr></table></figure>\n<p> <code>set</code>  <code>otherSet</code>  <code>1</code> <code>set</code>  <code>otherSet</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.difference = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">otherSet</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> differenceSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> values = <span class=\"keyword\">this</span>.values();</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; values.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!otherSet.has(values[i])) &#123;</span><br><span class=\"line\">      differenceSet.add(values[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> differenceSet;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-subset-\"><a href=\"#-subset-\" class=\"headerlink\" title=\" subset \"></a> subset </h3><p> <code>subset</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> set = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">set.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">set.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">set.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> otherSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">otherSet.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">otherSet.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">expect(set.subset(otherSet)).toBeFalsy(); <span class=\"comment\">// </span></span><br><span class=\"line\">set.remove(<span class=\"number\">3</span>);</span><br><span class=\"line\">expect(set.subset(otherSet)).toBeFalsy();  <span class=\"comment\">// </span></span><br><span class=\"line\">set.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">expect(set.subset(otherSet)).toBeTruthy();  <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n<p> <code>1,2,3</code>  <code>23</code>  <code>12</code>  <code>2,3</code>  <code>1</code>  <code>2,3</code>  <code>2</code>  <code>2,3</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.subset = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">otherSet</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.size() &gt; otherSet.size()) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> values = <span class=\"keyword\">this</span>.values();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; values.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!otherSet.has(values[i])) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>"},{"title":"JavaScript ","date":"2017-02-20T02:39:00.000Z","_content":"\n\n\n<!--more-->\n\n##  ArrayList \n\n `ArrayList`  `array` `insert`  `toString` \n\n```js\nfunction ArrayList() {\n\n  var array = [];\n\n  this.insert = function (item) {\n    array.push(item);\n  };\n\n  this.toString = function () {\n    return array.toString();\n  };\n}\n```\n\n## \n\nO(n^2)\n\n n-1 \n\n```\n1 3 5 4 2\n```\n\n\n\n```\n1 3 5 4 2  // 1<3 \n1 3 5 4 2  // 3<5 \n1 3 4 5 2  // 5>4 \n1 3 4 2 5  // 5>2 \n```\n\n\n```\n1 3 4 2 5  // 1<3 \n1 3 4 2 5  // 3<4 \n1 3 2 4 5  // 4>2 \n```\n\n\n\n```\n1 3 2 4 5  // 1<3 \n1 2 3 4 5  // 3>2 \n```\n\n\n\n```\n1 2 3 4 5  // 1<2 \n```\n\n\n\n```js\nvar swap = function (index1, index2) {\n  var aux = array[index1];\n  array[index1] = array[index2];\n  array[index2] = aux;\n};\n\nthis.bubbleSort = function () {\n  var length = array.length;\n  for (var i = 0; i < length; i++) {  //  n-1 \n    for (var j = 0; j < length - 1 - i; j++) {  // i n - i  \n      if (array[j] > array[j + 1]) {\n        swap(j, j + 1);\n      }\n    }\n  }\n};\n```\n\n53\n\n\n\n```js\nfunction createNonSortedArray() {\n  var array = new ArrayList();\n  array.insert(1);\n  array.insert(3);\n  array.insert(5);\n  array.insert(4);\n  array.insert(2);\n  return array;\n}\n\nvar array = createNonSortedArray();\nexpect(array.toString()).toBe('1,3,5,4,2');\narray.bubbleSort();\nexpect(array.toString()).toBe('1,2,3,4,5');\n```\n\n## \n\nO(n^2)************\n\n\n\n```\n1 3 5 4 2\n```\n\n\n\n```\n1 3 5 4 2  // 11\n```\n\n\n\n```\n1 2 5 4 3  // 23\n```\n\n\n\n```\n1 2 3 4 5  // 35\n```\n\n\n\n```\n1 2 3 4 5  // 44\n```\n\n\n\n- \n- \n\n\n\n```js\nthis.selectionSort = function () {\n  var length = array.length,\n    indexMin;\n\n  for (var i = 0; i < length - 1; i++) {  // \n    indexMin = i;\n    for (var j = i; j < length; j++) {  // \n      if (array[indexMin] > array[j]) {\n        indexMin = j;\n      }\n    }\n    if (i !== indexMin) {\n      swap(i, indexMin);\n    }\n  }\n};\n```\n\n\n\n```js\narray = createNonSortedArray();\nexpect(array.toString()).toBe('1,3,5,4,2');\narray.selectionSort();\nexpect(array.toString()).toBe('1,2,3,4,5');\n```\n\n## \n\nO(n^2)****\n\n- ****\n- ****\n- \n\n\n\n```\n3 5 1 4 2\n```\n\n\n\n```\n3 5 1 4 2  // 5>3\n```\n\n\n\n```\n1 3 5 4 2  // 1<51<3\n```\n\n\n\n```\n1 3 4 5 2  // 4<54>3\n```\n\n\n\n```\n1 2 3 4 5  // 2<52>42<3\n```\n\n\n\n```js\nthis.insertionSort = function () {\n  var length = array.length,\n    j, temp;\n  for (var i = 1; i < length; i++) {  // \n    temp = array[i];\n    j = i;\n    while (j > 0 && array[j - 1] > temp) { // \n      array[j] = array[j - 1];\n      j--;\n    } \n    array[j] = temp;  // \n  }\n};\n```\n\n\n```js\narray = createNonSortedArray(5);\nexpect(array.toString()).toBe('5,4,3,2,1');\narray.insertionSort();\nexpect(array.toString()).toBe('1,2,3,4,5');\n```\n\n## \n\nO( nlogn ) Mozilla Firefox  `Array.prototype.sort`  Chrome \n\n\n\n```\n13542\n```\n\n\n\n```\n13 542\n```\n\n\n\n```\n13 5 42\n```\n\n\n\n```\n1 3 5 4 2\n```\n\n\n\n```\n13 5 24\n```\n\n\n\n```\n13 245\n```\n\n\n\n```\n12345\n```\n\n**** ****\n\n```js\nvar mergeSortRec = function (array) {\n  var merge = function (left, right) {  // \n    var final = [];\n    while (left.length && right.length)\n      final.push(left[0] <= right[0] ? left.shift() : right.shift());\n    return final.concat(left.concat(right));\n  };\n  \n  var length = array.length;\n  if (length === 1) {\n    return array;\n  }\n  var mid = Math.floor(length / 2),  // \n    left = array.slice(0, mid),\n    right = array.slice(mid, length);\n  return merge(mergeSortRec(left), mergeSortRec(right));  // \n};\n\nthis.mergeSort = function () {\n  array = mergeSortRec(array);\n};\n```\n\n\n```js\narray = createNonSortedArray();\nexpect(array.toString()).toBe('1,3,5,4,2');\narray.insertionSort();\nexpect(array.toString()).toBe('1,2,3,4,5');\n```\n\n## \n\n n  (n log n)  (n2)  (n log n) inner loop\n\n\n\n- \"\"pivot\n- partition\n- recursive\n\n\n\n\n\n```\n35142\n```\n\n\n\n```\n//  35142 left  21 3right  45\n21 3 45\n```\n\n\n\n```\n//  21 left  1 2right \n1 2 3 45\n```\n\n\n\n```\n//  45 left  4right  5\n1 2 3 4 5\n```\n\n\n\n- \n- \n- \n- \n\n\n\n```js  \nvar quick = function (array) {\n  var length = array.length;\n  if (length <= 1)\n    return array.slice(0);\n  var left = [];\n  var right = [];\n  var mid = [array[0]];\n  for (var i = 1; i < length; i++) {\n    if (array[i] < mid[0])\n      left.push(array[i]);\n    else\n      right.push(array[i]);\n  }\n  return quick(left).concat(mid.concat(quick(right)));\n};\n\nthis.quickSort = function () {\n  array = quick(array);\n};\n```\n\n## \n\nO(n)\n\n```js\nthis.sequentialSearch = function (item) {\n  for (var i = 0; i < array.length; i++) {\n    if (array[i] === item) {\n      return i;\n    }\n  }\n  return -1;\n};\n```\n\n## \n\nbinary searchhalf-interval searchlogarithmic search**** O(log(n))\n\n\n\n```js\nthis.binarySearch = function (item) {\n  this.quickSort();\n\n  var low = 0,\n    high = array.length - 1,\n    mid, element;\n\n  while (low <= high) {\n    mid = Math.floor((low + high) / 2);\n    element = array[mid];\n    if (element < item) {\n      low = mid + 1;\n    } else if (element > item) {\n      high = mid - 1;\n    } else {\n      return mid;\n    }\n  }\n  return -1;\n};\n```\n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>","source":"_posts/sort-and-search.md","raw":"---\ntitle: JavaScript \ndate: 2017-02-20 10:39:00\ntags: []\n---\n\n\n\n<!--more-->\n\n##  ArrayList \n\n `ArrayList`  `array` `insert`  `toString` \n\n```js\nfunction ArrayList() {\n\n  var array = [];\n\n  this.insert = function (item) {\n    array.push(item);\n  };\n\n  this.toString = function () {\n    return array.toString();\n  };\n}\n```\n\n## \n\nO(n^2)\n\n n-1 \n\n```\n1 3 5 4 2\n```\n\n\n\n```\n1 3 5 4 2  // 1<3 \n1 3 5 4 2  // 3<5 \n1 3 4 5 2  // 5>4 \n1 3 4 2 5  // 5>2 \n```\n\n\n```\n1 3 4 2 5  // 1<3 \n1 3 4 2 5  // 3<4 \n1 3 2 4 5  // 4>2 \n```\n\n\n\n```\n1 3 2 4 5  // 1<3 \n1 2 3 4 5  // 3>2 \n```\n\n\n\n```\n1 2 3 4 5  // 1<2 \n```\n\n\n\n```js\nvar swap = function (index1, index2) {\n  var aux = array[index1];\n  array[index1] = array[index2];\n  array[index2] = aux;\n};\n\nthis.bubbleSort = function () {\n  var length = array.length;\n  for (var i = 0; i < length; i++) {  //  n-1 \n    for (var j = 0; j < length - 1 - i; j++) {  // i n - i  \n      if (array[j] > array[j + 1]) {\n        swap(j, j + 1);\n      }\n    }\n  }\n};\n```\n\n53\n\n\n\n```js\nfunction createNonSortedArray() {\n  var array = new ArrayList();\n  array.insert(1);\n  array.insert(3);\n  array.insert(5);\n  array.insert(4);\n  array.insert(2);\n  return array;\n}\n\nvar array = createNonSortedArray();\nexpect(array.toString()).toBe('1,3,5,4,2');\narray.bubbleSort();\nexpect(array.toString()).toBe('1,2,3,4,5');\n```\n\n## \n\nO(n^2)************\n\n\n\n```\n1 3 5 4 2\n```\n\n\n\n```\n1 3 5 4 2  // 11\n```\n\n\n\n```\n1 2 5 4 3  // 23\n```\n\n\n\n```\n1 2 3 4 5  // 35\n```\n\n\n\n```\n1 2 3 4 5  // 44\n```\n\n\n\n- \n- \n\n\n\n```js\nthis.selectionSort = function () {\n  var length = array.length,\n    indexMin;\n\n  for (var i = 0; i < length - 1; i++) {  // \n    indexMin = i;\n    for (var j = i; j < length; j++) {  // \n      if (array[indexMin] > array[j]) {\n        indexMin = j;\n      }\n    }\n    if (i !== indexMin) {\n      swap(i, indexMin);\n    }\n  }\n};\n```\n\n\n\n```js\narray = createNonSortedArray();\nexpect(array.toString()).toBe('1,3,5,4,2');\narray.selectionSort();\nexpect(array.toString()).toBe('1,2,3,4,5');\n```\n\n## \n\nO(n^2)****\n\n- ****\n- ****\n- \n\n\n\n```\n3 5 1 4 2\n```\n\n\n\n```\n3 5 1 4 2  // 5>3\n```\n\n\n\n```\n1 3 5 4 2  // 1<51<3\n```\n\n\n\n```\n1 3 4 5 2  // 4<54>3\n```\n\n\n\n```\n1 2 3 4 5  // 2<52>42<3\n```\n\n\n\n```js\nthis.insertionSort = function () {\n  var length = array.length,\n    j, temp;\n  for (var i = 1; i < length; i++) {  // \n    temp = array[i];\n    j = i;\n    while (j > 0 && array[j - 1] > temp) { // \n      array[j] = array[j - 1];\n      j--;\n    } \n    array[j] = temp;  // \n  }\n};\n```\n\n\n```js\narray = createNonSortedArray(5);\nexpect(array.toString()).toBe('5,4,3,2,1');\narray.insertionSort();\nexpect(array.toString()).toBe('1,2,3,4,5');\n```\n\n## \n\nO( nlogn ) Mozilla Firefox  `Array.prototype.sort`  Chrome \n\n\n\n```\n13542\n```\n\n\n\n```\n13 542\n```\n\n\n\n```\n13 5 42\n```\n\n\n\n```\n1 3 5 4 2\n```\n\n\n\n```\n13 5 24\n```\n\n\n\n```\n13 245\n```\n\n\n\n```\n12345\n```\n\n**** ****\n\n```js\nvar mergeSortRec = function (array) {\n  var merge = function (left, right) {  // \n    var final = [];\n    while (left.length && right.length)\n      final.push(left[0] <= right[0] ? left.shift() : right.shift());\n    return final.concat(left.concat(right));\n  };\n  \n  var length = array.length;\n  if (length === 1) {\n    return array;\n  }\n  var mid = Math.floor(length / 2),  // \n    left = array.slice(0, mid),\n    right = array.slice(mid, length);\n  return merge(mergeSortRec(left), mergeSortRec(right));  // \n};\n\nthis.mergeSort = function () {\n  array = mergeSortRec(array);\n};\n```\n\n\n```js\narray = createNonSortedArray();\nexpect(array.toString()).toBe('1,3,5,4,2');\narray.insertionSort();\nexpect(array.toString()).toBe('1,2,3,4,5');\n```\n\n## \n\n n  (n log n)  (n2)  (n log n) inner loop\n\n\n\n- \"\"pivot\n- partition\n- recursive\n\n\n\n\n\n```\n35142\n```\n\n\n\n```\n//  35142 left  21 3right  45\n21 3 45\n```\n\n\n\n```\n//  21 left  1 2right \n1 2 3 45\n```\n\n\n\n```\n//  45 left  4right  5\n1 2 3 4 5\n```\n\n\n\n- \n- \n- \n- \n\n\n\n```js  \nvar quick = function (array) {\n  var length = array.length;\n  if (length <= 1)\n    return array.slice(0);\n  var left = [];\n  var right = [];\n  var mid = [array[0]];\n  for (var i = 1; i < length; i++) {\n    if (array[i] < mid[0])\n      left.push(array[i]);\n    else\n      right.push(array[i]);\n  }\n  return quick(left).concat(mid.concat(quick(right)));\n};\n\nthis.quickSort = function () {\n  array = quick(array);\n};\n```\n\n## \n\nO(n)\n\n```js\nthis.sequentialSearch = function (item) {\n  for (var i = 0; i < array.length; i++) {\n    if (array[i] === item) {\n      return i;\n    }\n  }\n  return -1;\n};\n```\n\n## \n\nbinary searchhalf-interval searchlogarithmic search**** O(log(n))\n\n\n\n```js\nthis.binarySearch = function (item) {\n  this.quickSort();\n\n  var low = 0,\n    high = array.length - 1,\n    mid, element;\n\n  while (low <= high) {\n    mid = Math.floor((low + high) / 2);\n    element = array[mid];\n    if (element < item) {\n      low = mid + 1;\n    } else if (element > item) {\n      high = mid - 1;\n    } else {\n      return mid;\n    }\n  }\n  return -1;\n};\n```\n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>","slug":"sort-and-search","published":1,"updated":"2019-05-01T08:02:12.989Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvmu003etgytyvqop8o2","content":"<p></p>\n<a id=\"more\"></a>\n<h2 id=\"-ArrayList-\"><a href=\"#-ArrayList-\" class=\"headerlink\" title=\" ArrayList \"></a> ArrayList </h2><p> <code>ArrayList</code>  <code>array</code> <code>insert</code>  <code>toString</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">ArrayList</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> array = [];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.insert = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">item</span>) </span>&#123;</span><br><span class=\"line\">    array.push(item);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.toString = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> array.toString();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>O(n^2)</p>\n<p> n-1 </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 3 5 4 2</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 3 5 4 2  // 1&lt;3 </span><br><span class=\"line\">1 3 5 4 2  // 3&lt;5 </span><br><span class=\"line\">1 3 4 5 2  // 5&gt;4 </span><br><span class=\"line\">1 3 4 2 5  // 5&gt;2 </span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 3 4 2 5  // 1&lt;3 </span><br><span class=\"line\">1 3 4 2 5  // 3&lt;4 </span><br><span class=\"line\">1 3 2 4 5  // 4&gt;2 </span><br></pre></td></tr></table></figure></p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 3 2 4 5  // 1&lt;3 </span><br><span class=\"line\">1 2 3 4 5  // 3&gt;2 </span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 2 3 4 5  // 1&lt;2 </span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> swap = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">index1, index2</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> aux = array[index1];</span><br><span class=\"line\">  array[index1] = array[index2];</span><br><span class=\"line\">  array[index2] = aux;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.bubbleSort = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> length = array.length;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;  <span class=\"comment\">//  n-1 </span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> j = <span class=\"number\">0</span>; j &lt; length - <span class=\"number\">1</span> - i; j++) &#123;  <span class=\"comment\">// i n - i  </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (array[j] &gt; array[j + <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">        swap(j, j + <span class=\"number\">1</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>53</p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createNonSortedArray</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> array = <span class=\"keyword\">new</span> ArrayList();</span><br><span class=\"line\">  array.insert(<span class=\"number\">1</span>);</span><br><span class=\"line\">  array.insert(<span class=\"number\">3</span>);</span><br><span class=\"line\">  array.insert(<span class=\"number\">5</span>);</span><br><span class=\"line\">  array.insert(<span class=\"number\">4</span>);</span><br><span class=\"line\">  array.insert(<span class=\"number\">2</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> array = createNonSortedArray();</span><br><span class=\"line\">expect(array.toString()).toBe(<span class=\"string\">'1,3,5,4,2'</span>);</span><br><span class=\"line\">array.bubbleSort();</span><br><span class=\"line\">expect(array.toString()).toBe(<span class=\"string\">'1,2,3,4,5'</span>);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>O(n^2)<strong></strong><strong></strong><strong></strong></p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 3 5 4 2</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 3 5 4 2  // 11</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 2 5 4 3  // 23</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 2 3 4 5  // 35</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 2 3 4 5  // 44</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.selectionSort = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> length = array.length,</span><br><span class=\"line\">    indexMin;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; length - <span class=\"number\">1</span>; i++) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">    indexMin = i;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> j = i; j &lt; length; j++) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (array[indexMin] &gt; array[j]) &#123;</span><br><span class=\"line\">        indexMin = j;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i !== indexMin) &#123;</span><br><span class=\"line\">      swap(i, indexMin);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">array = createNonSortedArray();</span><br><span class=\"line\">expect(array.toString()).toBe(<span class=\"string\">'1,3,5,4,2'</span>);</span><br><span class=\"line\">array.selectionSort();</span><br><span class=\"line\">expect(array.toString()).toBe(<span class=\"string\">'1,2,3,4,5'</span>);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>O(n^2)<strong></strong></p>\n<ul>\n<li><strong></strong></li>\n<li><strong></strong></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">3 5 1 4 2</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">3 5 1 4 2  // 5&gt;3</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 3 5 4 2  // 1&lt;51&lt;3</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 3 4 5 2  // 4&lt;54&gt;3</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 2 3 4 5  // 2&lt;52&gt;42&lt;3</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.insertionSort = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> length = array.length,</span><br><span class=\"line\">    j, temp;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">1</span>; i &lt; length; i++) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">    temp = array[i];</span><br><span class=\"line\">    j = i;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (j &gt; <span class=\"number\">0</span> &amp;&amp; array[j - <span class=\"number\">1</span>] &gt; temp) &#123; <span class=\"comment\">// </span></span><br><span class=\"line\">      array[j] = array[j - <span class=\"number\">1</span>];</span><br><span class=\"line\">      j--;</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    array[j] = temp;  <span class=\"comment\">// </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">array = createNonSortedArray(<span class=\"number\">5</span>);</span><br><span class=\"line\">expect(array.toString()).toBe(<span class=\"string\">'5,4,3,2,1'</span>);</span><br><span class=\"line\">array.insertionSort();</span><br><span class=\"line\">expect(array.toString()).toBe(<span class=\"string\">'1,2,3,4,5'</span>);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>O( nlogn ) Mozilla Firefox  <code>Array.prototype.sort</code>  Chrome </p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">13542</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">13 542</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">13 5 42</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 3 5 4 2</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">13 5 24</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">13 245</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">12345</span><br></pre></td></tr></table></figure>\n<p><strong></strong> <strong></strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> mergeSortRec = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">array</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> merge = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">left, right</span>) </span>&#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> final = [];</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (left.length &amp;&amp; right.length)</span><br><span class=\"line\">      final.push(left[<span class=\"number\">0</span>] &lt;= right[<span class=\"number\">0</span>] ? left.shift() : right.shift());</span><br><span class=\"line\">    <span class=\"keyword\">return</span> final.concat(left.concat(right));</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">var</span> length = array.length;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (length === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> mid = <span class=\"built_in\">Math</span>.floor(length / <span class=\"number\">2</span>),  <span class=\"comment\">// </span></span><br><span class=\"line\">    left = array.slice(<span class=\"number\">0</span>, mid),</span><br><span class=\"line\">    right = array.slice(mid, length);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> merge(mergeSortRec(left), mergeSortRec(right));  <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.mergeSort = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  array = mergeSortRec(array);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">array = createNonSortedArray();</span><br><span class=\"line\">expect(array.toString()).toBe(<span class=\"string\">'1,3,5,4,2'</span>);</span><br><span class=\"line\">array.insertionSort();</span><br><span class=\"line\">expect(array.toString()).toBe(<span class=\"string\">'1,2,3,4,5'</span>);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> n  (n log n)  (n2)  (n log n) inner loop</p>\n<p></p>\n<ul>\n<li>pivot</li>\n<li>partition</li>\n<li>recursive</li>\n</ul>\n<p></p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">35142</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//  35142 left  21 3right  45</span><br><span class=\"line\">21 3 45</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//  21 left  1 2right </span><br><span class=\"line\">1 2 3 45</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//  45 left  4right  5</span><br><span class=\"line\">1 2 3 4 5</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> quick = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">array</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> length = array.length;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (length &lt;= <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> array.slice(<span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> left = [];</span><br><span class=\"line\">  <span class=\"keyword\">var</span> right = [];</span><br><span class=\"line\">  <span class=\"keyword\">var</span> mid = [array[<span class=\"number\">0</span>]];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">1</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (array[i] &lt; mid[<span class=\"number\">0</span>])</span><br><span class=\"line\">      left.push(array[i]);</span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">      right.push(array[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> quick(left).concat(mid.concat(quick(right)));</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.quickSort = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  array = quick(array);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>O(n)</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.sequentialSearch = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">item</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (array[i] === item) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>binary searchhalf-interval searchlogarithmic search<strong></strong> O(log(n))</p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.binarySearch = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">item</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.quickSort();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> low = <span class=\"number\">0</span>,</span><br><span class=\"line\">    high = array.length - <span class=\"number\">1</span>,</span><br><span class=\"line\">    mid, element;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (low &lt;= high) &#123;</span><br><span class=\"line\">    mid = <span class=\"built_in\">Math</span>.floor((low + high) / <span class=\"number\">2</span>);</span><br><span class=\"line\">    element = array[mid];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (element &lt; item) &#123;</span><br><span class=\"line\">      low = mid + <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (element &gt; item) &#123;</span><br><span class=\"line\">      high = mid - <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> mid;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>\n","site":{"data":{}},"excerpt":"<p></p>","more":"<h2 id=\"-ArrayList-\"><a href=\"#-ArrayList-\" class=\"headerlink\" title=\" ArrayList \"></a> ArrayList </h2><p> <code>ArrayList</code>  <code>array</code> <code>insert</code>  <code>toString</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">ArrayList</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> array = [];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.insert = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">item</span>) </span>&#123;</span><br><span class=\"line\">    array.push(item);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.toString = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> array.toString();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>O(n^2)</p>\n<p> n-1 </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 3 5 4 2</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 3 5 4 2  // 1&lt;3 </span><br><span class=\"line\">1 3 5 4 2  // 3&lt;5 </span><br><span class=\"line\">1 3 4 5 2  // 5&gt;4 </span><br><span class=\"line\">1 3 4 2 5  // 5&gt;2 </span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 3 4 2 5  // 1&lt;3 </span><br><span class=\"line\">1 3 4 2 5  // 3&lt;4 </span><br><span class=\"line\">1 3 2 4 5  // 4&gt;2 </span><br></pre></td></tr></table></figure></p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 3 2 4 5  // 1&lt;3 </span><br><span class=\"line\">1 2 3 4 5  // 3&gt;2 </span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 2 3 4 5  // 1&lt;2 </span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> swap = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">index1, index2</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> aux = array[index1];</span><br><span class=\"line\">  array[index1] = array[index2];</span><br><span class=\"line\">  array[index2] = aux;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.bubbleSort = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> length = array.length;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;  <span class=\"comment\">//  n-1 </span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> j = <span class=\"number\">0</span>; j &lt; length - <span class=\"number\">1</span> - i; j++) &#123;  <span class=\"comment\">// i n - i  </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (array[j] &gt; array[j + <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">        swap(j, j + <span class=\"number\">1</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>53</p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createNonSortedArray</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> array = <span class=\"keyword\">new</span> ArrayList();</span><br><span class=\"line\">  array.insert(<span class=\"number\">1</span>);</span><br><span class=\"line\">  array.insert(<span class=\"number\">3</span>);</span><br><span class=\"line\">  array.insert(<span class=\"number\">5</span>);</span><br><span class=\"line\">  array.insert(<span class=\"number\">4</span>);</span><br><span class=\"line\">  array.insert(<span class=\"number\">2</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> array = createNonSortedArray();</span><br><span class=\"line\">expect(array.toString()).toBe(<span class=\"string\">'1,3,5,4,2'</span>);</span><br><span class=\"line\">array.bubbleSort();</span><br><span class=\"line\">expect(array.toString()).toBe(<span class=\"string\">'1,2,3,4,5'</span>);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>O(n^2)<strong></strong><strong></strong><strong></strong></p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 3 5 4 2</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 3 5 4 2  // 11</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 2 5 4 3  // 23</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 2 3 4 5  // 35</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 2 3 4 5  // 44</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.selectionSort = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> length = array.length,</span><br><span class=\"line\">    indexMin;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; length - <span class=\"number\">1</span>; i++) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">    indexMin = i;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> j = i; j &lt; length; j++) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (array[indexMin] &gt; array[j]) &#123;</span><br><span class=\"line\">        indexMin = j;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i !== indexMin) &#123;</span><br><span class=\"line\">      swap(i, indexMin);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">array = createNonSortedArray();</span><br><span class=\"line\">expect(array.toString()).toBe(<span class=\"string\">'1,3,5,4,2'</span>);</span><br><span class=\"line\">array.selectionSort();</span><br><span class=\"line\">expect(array.toString()).toBe(<span class=\"string\">'1,2,3,4,5'</span>);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>O(n^2)<strong></strong></p>\n<ul>\n<li><strong></strong></li>\n<li><strong></strong></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">3 5 1 4 2</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">3 5 1 4 2  // 5&gt;3</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 3 5 4 2  // 1&lt;51&lt;3</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 3 4 5 2  // 4&lt;54&gt;3</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 2 3 4 5  // 2&lt;52&gt;42&lt;3</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.insertionSort = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> length = array.length,</span><br><span class=\"line\">    j, temp;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">1</span>; i &lt; length; i++) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">    temp = array[i];</span><br><span class=\"line\">    j = i;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (j &gt; <span class=\"number\">0</span> &amp;&amp; array[j - <span class=\"number\">1</span>] &gt; temp) &#123; <span class=\"comment\">// </span></span><br><span class=\"line\">      array[j] = array[j - <span class=\"number\">1</span>];</span><br><span class=\"line\">      j--;</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    array[j] = temp;  <span class=\"comment\">// </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">array = createNonSortedArray(<span class=\"number\">5</span>);</span><br><span class=\"line\">expect(array.toString()).toBe(<span class=\"string\">'5,4,3,2,1'</span>);</span><br><span class=\"line\">array.insertionSort();</span><br><span class=\"line\">expect(array.toString()).toBe(<span class=\"string\">'1,2,3,4,5'</span>);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>O( nlogn ) Mozilla Firefox  <code>Array.prototype.sort</code>  Chrome </p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">13542</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">13 542</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">13 5 42</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 3 5 4 2</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">13 5 24</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">13 245</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">12345</span><br></pre></td></tr></table></figure>\n<p><strong></strong> <strong></strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> mergeSortRec = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">array</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> merge = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">left, right</span>) </span>&#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> final = [];</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (left.length &amp;&amp; right.length)</span><br><span class=\"line\">      final.push(left[<span class=\"number\">0</span>] &lt;= right[<span class=\"number\">0</span>] ? left.shift() : right.shift());</span><br><span class=\"line\">    <span class=\"keyword\">return</span> final.concat(left.concat(right));</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">var</span> length = array.length;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (length === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> mid = <span class=\"built_in\">Math</span>.floor(length / <span class=\"number\">2</span>),  <span class=\"comment\">// </span></span><br><span class=\"line\">    left = array.slice(<span class=\"number\">0</span>, mid),</span><br><span class=\"line\">    right = array.slice(mid, length);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> merge(mergeSortRec(left), mergeSortRec(right));  <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.mergeSort = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  array = mergeSortRec(array);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">array = createNonSortedArray();</span><br><span class=\"line\">expect(array.toString()).toBe(<span class=\"string\">'1,3,5,4,2'</span>);</span><br><span class=\"line\">array.insertionSort();</span><br><span class=\"line\">expect(array.toString()).toBe(<span class=\"string\">'1,2,3,4,5'</span>);</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> n  (n log n)  (n2)  (n log n) inner loop</p>\n<p></p>\n<ul>\n<li>pivot</li>\n<li>partition</li>\n<li>recursive</li>\n</ul>\n<p></p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">35142</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//  35142 left  21 3right  45</span><br><span class=\"line\">21 3 45</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//  21 left  1 2right </span><br><span class=\"line\">1 2 3 45</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//  45 left  4right  5</span><br><span class=\"line\">1 2 3 4 5</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> quick = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">array</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> length = array.length;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (length &lt;= <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> array.slice(<span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> left = [];</span><br><span class=\"line\">  <span class=\"keyword\">var</span> right = [];</span><br><span class=\"line\">  <span class=\"keyword\">var</span> mid = [array[<span class=\"number\">0</span>]];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">1</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (array[i] &lt; mid[<span class=\"number\">0</span>])</span><br><span class=\"line\">      left.push(array[i]);</span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">      right.push(array[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> quick(left).concat(mid.concat(quick(right)));</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.quickSort = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  array = quick(array);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>O(n)</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.sequentialSearch = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">item</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (array[i] === item) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>binary searchhalf-interval searchlogarithmic search<strong></strong> O(log(n))</p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.binarySearch = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">item</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.quickSort();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> low = <span class=\"number\">0</span>,</span><br><span class=\"line\">    high = array.length - <span class=\"number\">1</span>,</span><br><span class=\"line\">    mid, element;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (low &lt;= high) &#123;</span><br><span class=\"line\">    mid = <span class=\"built_in\">Math</span>.floor((low + high) / <span class=\"number\">2</span>);</span><br><span class=\"line\">    element = array[mid];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (element &lt; item) &#123;</span><br><span class=\"line\">      low = mid + <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (element &gt; item) &#123;</span><br><span class=\"line\">      high = mid - <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> mid;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>"},{"title":"JavaScript ","date":"2017-02-15T02:46:00.000Z","_content":"\n\n\n<!--more-->\n\n## \n\nLIFO\n\n- \n- \n- \n\n![](https://ws1.sinaimg.cn/mw690/83900b4ely1fcqywbcbrjj20hz08dq2s)\n\n\n##  JavaScript \n\n JavaScript  JavaScript  Array \n\n[ JavaScript ](https://lewis617.github.io/2017/02/15/construcor-function-create-class/)\n\n```js\nfunction Stack(){\n  ...\n}\n\nmodule.exports = Stack;\n```\n\n### \n\n `items` `items` `items`  `items`\n\n```js\nfunction Stack() {\n  //  items\n  var items = [];\n}\n```\n\n###  push pop toString \n\n `push` `pop`  `toString` \n\n```js\n//  stack \nvar stack = new Stack();\nstack.push(5);\nstack.push(8);\n\n//  stack '5,8'\nexpect(stack.toString()).toBe('5,8');\n\n//  stack 8\nexpect(stack.pop()).toBe(8);\n//  stack '5'\nexpect(stack.toString()).toBe('5');\n```\n\n> TDD Jest  Jest [Jest ](https://lewis617.github.io/2017/02/15/start-jest/)\n\n\n `push` `pop`  `toString`   Array   `push` `pop`  `toString`  \n\n```js\nfunction Stack() {\n  //  items\n  var items = [];\n  \n  //  push\n  this.push = function (element) {\n    items.push(element);\n  };\n  \n  // \n  this.pop = function () {\n    return items.pop();\n  };\n  \n  // \n  this.toString = function () {\n    return items.toString();\n  };\n}\n\n```\n\n###  peek isEmptyclearsize \n\n `peek` `isEmpty``clear``size` \n\n```js\n//  stack \nvar stack = new Stack();\nstack.push(5);\nstack.push(8);\n\n//  stack 8\nexpect(stack.peek()).toBe(8);\n//  stack 2\nexpect(stack.size()).toBe(2);\n//  stack \nexpect(stack.isEmpty()).toBeFalsy();\n\nstack.clear();\n//  stack 0\nexpect(stack.size()).toBe(0);\n```\n\n\n\n```js\nfunction Stack() {\n  //  items\n  var items = [];\n  \n  // \n  this.peek = function () {\n    return items[items.length - 1];\n  };\n  // \n  this.isEmpty = function () {\n    return items.length == 0;\n  };\n  // \n  this.clear = function () {\n    items = [];\n  };\n  // \n  this.size = function () {\n    return items.length;\n  };\n}\n```\n\n\n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>","source":"_posts/stack.md","raw":"---\ntitle:  JavaScript \ndate:  2017-02-15 10:46:00\ntags: []\n---\n\n\n\n<!--more-->\n\n## \n\nLIFO\n\n- \n- \n- \n\n![](https://ws1.sinaimg.cn/mw690/83900b4ely1fcqywbcbrjj20hz08dq2s)\n\n\n##  JavaScript \n\n JavaScript  JavaScript  Array \n\n[ JavaScript ](https://lewis617.github.io/2017/02/15/construcor-function-create-class/)\n\n```js\nfunction Stack(){\n  ...\n}\n\nmodule.exports = Stack;\n```\n\n### \n\n `items` `items` `items`  `items`\n\n```js\nfunction Stack() {\n  //  items\n  var items = [];\n}\n```\n\n###  push pop toString \n\n `push` `pop`  `toString` \n\n```js\n//  stack \nvar stack = new Stack();\nstack.push(5);\nstack.push(8);\n\n//  stack '5,8'\nexpect(stack.toString()).toBe('5,8');\n\n//  stack 8\nexpect(stack.pop()).toBe(8);\n//  stack '5'\nexpect(stack.toString()).toBe('5');\n```\n\n> TDD Jest  Jest [Jest ](https://lewis617.github.io/2017/02/15/start-jest/)\n\n\n `push` `pop`  `toString`   Array   `push` `pop`  `toString`  \n\n```js\nfunction Stack() {\n  //  items\n  var items = [];\n  \n  //  push\n  this.push = function (element) {\n    items.push(element);\n  };\n  \n  // \n  this.pop = function () {\n    return items.pop();\n  };\n  \n  // \n  this.toString = function () {\n    return items.toString();\n  };\n}\n\n```\n\n###  peek isEmptyclearsize \n\n `peek` `isEmpty``clear``size` \n\n```js\n//  stack \nvar stack = new Stack();\nstack.push(5);\nstack.push(8);\n\n//  stack 8\nexpect(stack.peek()).toBe(8);\n//  stack 2\nexpect(stack.size()).toBe(2);\n//  stack \nexpect(stack.isEmpty()).toBeFalsy();\n\nstack.clear();\n//  stack 0\nexpect(stack.size()).toBe(0);\n```\n\n\n\n```js\nfunction Stack() {\n  //  items\n  var items = [];\n  \n  // \n  this.peek = function () {\n    return items[items.length - 1];\n  };\n  // \n  this.isEmpty = function () {\n    return items.length == 0;\n  };\n  // \n  this.clear = function () {\n    items = [];\n  };\n  // \n  this.size = function () {\n    return items.length;\n  };\n}\n```\n\n\n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>","slug":"stack","published":1,"updated":"2019-05-01T08:02:13.088Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvmw003gtgytoyylr48f","content":"<p></p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>LIFO</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p><img src=\"https://ws1.sinaimg.cn/mw690/83900b4ely1fcqywbcbrjj20hz08dq2s\" alt=\"\"></p>\n<h2 id=\"-JavaScript-\"><a href=\"#-JavaScript-\" class=\"headerlink\" title=\" JavaScript \"></a> JavaScript </h2><p> JavaScript  JavaScript  Array </p>\n<p><a href=\"https://lewis617.github.io/2017/02/15/construcor-function-create-class/\" target=\"_blank\" rel=\"noopener\"> JavaScript </a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Stack</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = Stack;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>items</code> <code>items</code> <code>items</code>  <code>items</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Stack</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//  items</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> items = [];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-push-pop-toString-\"><a href=\"#-push-pop-toString-\" class=\"headerlink\" title=\" push pop toString \"></a> push pop toString </h3><p> <code>push</code> <code>pop</code>  <code>toString</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  stack </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> stack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\">stack.push(<span class=\"number\">5</span>);</span><br><span class=\"line\">stack.push(<span class=\"number\">8</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  stack '5,8'</span></span><br><span class=\"line\">expect(stack.toString()).toBe(<span class=\"string\">'5,8'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  stack 8</span></span><br><span class=\"line\">expect(stack.pop()).toBe(<span class=\"number\">8</span>);</span><br><span class=\"line\"><span class=\"comment\">//  stack '5'</span></span><br><span class=\"line\">expect(stack.toString()).toBe(<span class=\"string\">'5'</span>);</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>TDD Jest  Jest <a href=\"https://lewis617.github.io/2017/02/15/start-jest/\" target=\"_blank\" rel=\"noopener\">Jest </a></p>\n</blockquote>\n<p> <code>push</code> <code>pop</code>  <code>toString</code>   Array   <code>push</code> <code>pop</code>  <code>toString</code>  </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Stack</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//  items</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> items = [];</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//  push</span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.push = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element</span>) </span>&#123;</span><br><span class=\"line\">    items.push(element);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.pop = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items.pop();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.toString = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items.toString();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-peek-isEmptyclearsize-\"><a href=\"#-peek-isEmptyclearsize-\" class=\"headerlink\" title=\" peek isEmptyclearsize \"></a> peek isEmptyclearsize </h3><p> <code>peek</code> <code>isEmpty</code><code>clear</code><code>size</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  stack </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> stack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\">stack.push(<span class=\"number\">5</span>);</span><br><span class=\"line\">stack.push(<span class=\"number\">8</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  stack 8</span></span><br><span class=\"line\">expect(stack.peek()).toBe(<span class=\"number\">8</span>);</span><br><span class=\"line\"><span class=\"comment\">//  stack 2</span></span><br><span class=\"line\">expect(stack.size()).toBe(<span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"comment\">//  stack </span></span><br><span class=\"line\">expect(stack.isEmpty()).toBeFalsy();</span><br><span class=\"line\"></span><br><span class=\"line\">stack.clear();</span><br><span class=\"line\"><span class=\"comment\">//  stack 0</span></span><br><span class=\"line\">expect(stack.size()).toBe(<span class=\"number\">0</span>);</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Stack</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//  items</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> items = [];</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.peek = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items[items.length - <span class=\"number\">1</span>];</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.isEmpty = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items.length == <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.clear = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    items = [];</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.size = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items.length;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>\n","site":{"data":{}},"excerpt":"<p></p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>LIFO</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p><img src=\"https://ws1.sinaimg.cn/mw690/83900b4ely1fcqywbcbrjj20hz08dq2s\" alt=\"\"></p>\n<h2 id=\"-JavaScript-\"><a href=\"#-JavaScript-\" class=\"headerlink\" title=\" JavaScript \"></a> JavaScript </h2><p> JavaScript  JavaScript  Array </p>\n<p><a href=\"https://lewis617.github.io/2017/02/15/construcor-function-create-class/\" target=\"_blank\" rel=\"noopener\"> JavaScript </a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Stack</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = Stack;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>items</code> <code>items</code> <code>items</code>  <code>items</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Stack</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//  items</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> items = [];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-push-pop-toString-\"><a href=\"#-push-pop-toString-\" class=\"headerlink\" title=\" push pop toString \"></a> push pop toString </h3><p> <code>push</code> <code>pop</code>  <code>toString</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  stack </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> stack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\">stack.push(<span class=\"number\">5</span>);</span><br><span class=\"line\">stack.push(<span class=\"number\">8</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  stack '5,8'</span></span><br><span class=\"line\">expect(stack.toString()).toBe(<span class=\"string\">'5,8'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  stack 8</span></span><br><span class=\"line\">expect(stack.pop()).toBe(<span class=\"number\">8</span>);</span><br><span class=\"line\"><span class=\"comment\">//  stack '5'</span></span><br><span class=\"line\">expect(stack.toString()).toBe(<span class=\"string\">'5'</span>);</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>TDD Jest  Jest <a href=\"https://lewis617.github.io/2017/02/15/start-jest/\" target=\"_blank\" rel=\"noopener\">Jest </a></p>\n</blockquote>\n<p> <code>push</code> <code>pop</code>  <code>toString</code>   Array   <code>push</code> <code>pop</code>  <code>toString</code>  </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Stack</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//  items</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> items = [];</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//  push</span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.push = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element</span>) </span>&#123;</span><br><span class=\"line\">    items.push(element);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.pop = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items.pop();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.toString = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items.toString();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-peek-isEmptyclearsize-\"><a href=\"#-peek-isEmptyclearsize-\" class=\"headerlink\" title=\" peek isEmptyclearsize \"></a> peek isEmptyclearsize </h3><p> <code>peek</code> <code>isEmpty</code><code>clear</code><code>size</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  stack </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> stack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\">stack.push(<span class=\"number\">5</span>);</span><br><span class=\"line\">stack.push(<span class=\"number\">8</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  stack 8</span></span><br><span class=\"line\">expect(stack.peek()).toBe(<span class=\"number\">8</span>);</span><br><span class=\"line\"><span class=\"comment\">//  stack 2</span></span><br><span class=\"line\">expect(stack.size()).toBe(<span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"comment\">//  stack </span></span><br><span class=\"line\">expect(stack.isEmpty()).toBeFalsy();</span><br><span class=\"line\"></span><br><span class=\"line\">stack.clear();</span><br><span class=\"line\"><span class=\"comment\">//  stack 0</span></span><br><span class=\"line\">expect(stack.size()).toBe(<span class=\"number\">0</span>);</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Stack</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//  items</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> items = [];</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.peek = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items[items.length - <span class=\"number\">1</span>];</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.isEmpty = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items.length == <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.clear = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    items = [];</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.size = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items.length;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>"},{"title":"Jest ","date":"2017-02-15T01:50:00.000Z","_content":"\n Jest \n\n<!--more-->\n\n## \n\n Jest \n\n- \n- \n- \n- \n- \n\n\n\n##  Jest \n\n Jest React React  Jest  Facebook \n\n Jest\n\n```sh\nnpm install --save-dev jest\n```\n\nStack\n\nStack.js\n```js\nfunction Stack() {\n  //  items\n  var items = [];\n  //  push\n  this.push = function (element) {\n    items.push(element);\n  };\n  // \n  this.pop = function () {\n    return items.pop();\n  };\n}\n```\n\n Stack.test.js\n\nStack.test.js\n\n```js\n//  Stack\nvar Stack = require('./Stack');\n\ntest('Stack', function () {\n  //  stack \n  var stack = new Stack();\n\n  stack.push(8);\n  //  stack 8\n  expect(stack.pop()).toBe(8);\n});\n```\n package.json \n\n```json\n\"scripts\": {\n  \"test\": \"jest\"\n}\n```\n\n\n\n```sh\nnpm test\n```\n\n\n\n```sh\nPASS  Stack.test.js\n\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   0 total\nTime:        0.386s\nRan all test suites.\n\n```\n\n## \n\n `expect().toBe()`  assertion`expect().toBe()` \n\n- `expect().toEqual()`\n- `expect().toBeFalsy()`\n- `expect().toBeTruthy()`\n\n\nJest \n\nhttps://facebook.github.io/jest/\n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>\n\n## \n\n<http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/>","source":"_posts/start-jest.md","raw":"---\ntitle: Jest \ndate: 2017-02-15 09:50:00\ntags: [Jest, , ]\n---\n\n Jest \n\n<!--more-->\n\n## \n\n Jest \n\n- \n- \n- \n- \n- \n\n\n\n##  Jest \n\n Jest React React  Jest  Facebook \n\n Jest\n\n```sh\nnpm install --save-dev jest\n```\n\nStack\n\nStack.js\n```js\nfunction Stack() {\n  //  items\n  var items = [];\n  //  push\n  this.push = function (element) {\n    items.push(element);\n  };\n  // \n  this.pop = function () {\n    return items.pop();\n  };\n}\n```\n\n Stack.test.js\n\nStack.test.js\n\n```js\n//  Stack\nvar Stack = require('./Stack');\n\ntest('Stack', function () {\n  //  stack \n  var stack = new Stack();\n\n  stack.push(8);\n  //  stack 8\n  expect(stack.pop()).toBe(8);\n});\n```\n package.json \n\n```json\n\"scripts\": {\n  \"test\": \"jest\"\n}\n```\n\n\n\n```sh\nnpm test\n```\n\n\n\n```sh\nPASS  Stack.test.js\n\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   0 total\nTime:        0.386s\nRan all test suites.\n\n```\n\n## \n\n `expect().toBe()`  assertion`expect().toBe()` \n\n- `expect().toEqual()`\n- `expect().toBeFalsy()`\n- `expect().toBeTruthy()`\n\n\nJest \n\nhttps://facebook.github.io/jest/\n\n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>\n\n## \n\n<http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/>","slug":"start-jest","published":1,"updated":"2019-05-01T08:02:13.145Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvmx003jtgytvosf8uih","content":"<p> Jest </p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Jest </p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<h2 id=\"-Jest-\"><a href=\"#-Jest-\" class=\"headerlink\" title=\" Jest \"></a> Jest </h2><p> Jest React React  Jest  Facebook </p>\n<p> Jest</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install --save-dev jest</span><br></pre></td></tr></table></figure>\n<p>Stack</p>\n<p>Stack.js<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Stack</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//  items</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> items = [];</span><br><span class=\"line\">  <span class=\"comment\">//  push</span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.push = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element</span>) </span>&#123;</span><br><span class=\"line\">    items.push(element);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.pop = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items.pop();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p> Stack.test.js</p>\n<p>Stack.test.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  Stack</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> Stack = <span class=\"built_in\">require</span>(<span class=\"string\">'./Stack'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">test(<span class=\"string\">'Stack'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//  stack </span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> stack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\"></span><br><span class=\"line\">  stack.push(<span class=\"number\">8</span>);</span><br><span class=\"line\">  <span class=\"comment\">//  stack 8</span></span><br><span class=\"line\">  expect(stack.pop()).toBe(<span class=\"number\">8</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p> package.json </p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\"scripts\": &#123;</span><br><span class=\"line\">  \"test\": \"jest\"</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm <span class=\"built_in\">test</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PASS  Stack.test.js</span><br><span class=\"line\"></span><br><span class=\"line\">Test Suites: 1 passed, 1 total</span><br><span class=\"line\">Tests:       1 passed, 1 total</span><br><span class=\"line\">Snapshots:   0 total</span><br><span class=\"line\">Time:        0.386s</span><br><span class=\"line\">Ran all <span class=\"built_in\">test</span> suites.</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>expect().toBe()</code>  assertion<code>expect().toBe()</code> </p>\n<ul>\n<li><code>expect().toEqual()</code></li>\n<li><code>expect().toBeFalsy()</code></li>\n<li><code>expect().toBeTruthy()</code></li>\n</ul>\n<p>Jest </p>\n<p><a href=\"https://facebook.github.io/jest/\" target=\"_blank\" rel=\"noopener\">https://facebook.github.io/jest/</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/\">http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/</a></p>\n","site":{"data":{}},"excerpt":"<p> Jest </p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Jest </p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<h2 id=\"-Jest-\"><a href=\"#-Jest-\" class=\"headerlink\" title=\" Jest \"></a> Jest </h2><p> Jest React React  Jest  Facebook </p>\n<p> Jest</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install --save-dev jest</span><br></pre></td></tr></table></figure>\n<p>Stack</p>\n<p>Stack.js<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Stack</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//  items</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> items = [];</span><br><span class=\"line\">  <span class=\"comment\">//  push</span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.push = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element</span>) </span>&#123;</span><br><span class=\"line\">    items.push(element);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.pop = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> items.pop();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p> Stack.test.js</p>\n<p>Stack.test.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  Stack</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> Stack = <span class=\"built_in\">require</span>(<span class=\"string\">'./Stack'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">test(<span class=\"string\">'Stack'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//  stack </span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> stack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\"></span><br><span class=\"line\">  stack.push(<span class=\"number\">8</span>);</span><br><span class=\"line\">  <span class=\"comment\">//  stack 8</span></span><br><span class=\"line\">  expect(stack.pop()).toBe(<span class=\"number\">8</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p> package.json </p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\"scripts\": &#123;</span><br><span class=\"line\">  \"test\": \"jest\"</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm <span class=\"built_in\">test</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PASS  Stack.test.js</span><br><span class=\"line\"></span><br><span class=\"line\">Test Suites: 1 passed, 1 total</span><br><span class=\"line\">Tests:       1 passed, 1 total</span><br><span class=\"line\">Snapshots:   0 total</span><br><span class=\"line\">Time:        0.386s</span><br><span class=\"line\">Ran all <span class=\"built_in\">test</span> suites.</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>expect().toBe()</code>  assertion<code>expect().toBe()</code> </p>\n<ul>\n<li><code>expect().toEqual()</code></li>\n<li><code>expect().toBeFalsy()</code></li>\n<li><code>expect().toBeTruthy()</code></li>\n</ul>\n<p>Jest </p>\n<p><a href=\"https://facebook.github.io/jest/\" target=\"_blank\" rel=\"noopener\">https://facebook.github.io/jest/</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/\">http://www.liuyiqi.cn/tags/%E6%B5%8B%E8%AF%95/</a></p>"},{"title":"SVG","date":"2017-09-27T11:00:00.000Z","_content":"XTracker\n\n![](/css/images/198.gif)\n\n\n\n> \n\n\n<!--more-->\n\n## \n\nSVG\n\n```html\n<svg width=\"500\" height=\"500\">\n  <circle r=\"5\" cx=\"50\" cy=\"55\" fill=\"red\"></circle>\n</svg>\n```\n\n![](/css/images/187.jpg)\n\n\njs\n\n```js\nfunction createCircles() {\n  var r = \"5\",\n    fill = \"red\",\n    // circleGroup\n    circleGroup = document.querySelector(\"#circle-group\");\n  // pointList\n  pointList.forEach(function(point) {\n    var circle = document.createElementNS(\n      \"http://www.w3.org/2000/svg\",\n      \"circle\"\n    );\n    circle.setAttribute(\"r\", r);\n    circle.setAttribute(\"cx\", point[0]);\n    circle.setAttribute(\"cy\", point[1]);\n    circle.setAttribute(\"fill\", fill);\n    circleGroup.appendChild(circle);\n  });\n}\n```\n\n![](/css/images/188.jpg)\n\n\n## \n\n\n\n### \n\nSVGpath\n\n- \n\t![](/css/images/189.jpg)\n- \n\t![](/css/images/190.jpg)\n- \n\t![](/css/images/191.jpg)\n\nSVGpath\n\n```html\nM x1 y1 Q x2 y2 x3 y3\n```\n\n`x1 y1``x2 y2``x3 y3`demo\n\n```html\n<svg width=\"320px\" height=\"320px\">\n  <path id=\"line1\" stroke=\"black\" fill=\"none\" d=\"M 0 50 Q 25 10 50 50\"/>\n</svg>\n```\n\n\n\n![](/css/images/192.jpg)\n\n### \n\n\n\n- \n- \n- ABBA\n\n\n\n- \n- \n- \n\n\n\n![](/css/images/193.jpg)\n\n- `angle`\n- `offset`40\n- \n\t- `offsetX = Math.sin(angle) * offset;`\n\t- `offsetY = -Math.cos(angle) * offset;`\n\n\n\n```js\nfunction getCtlPoint(startX, startY, endX, endY, offset) {\n  var offset = offset || 40;\n  var angle = Math.atan2(endY - startY, endX - startX);\n  var offsetX = Math.sin(angle) * offset;\n  var offsetY = -Math.cos(angle) * offset;\n  var ctlX = (startX + endX) / 2 + offsetX;\n  var ctlY = (startY + endY) / 2 + offsetY;\n  return [ctlX, ctlY];\n}\n```\n\n### \n\n\n\n![](/css/images/195.jpg)\n\n\nPath\n\n```\nA rx ry x-axis-rotation large-arc-flag sweep-flag x y\n```\n\n- Axy\n- `x-axis-rotation`\n- `large-arc-flag`18001\n- `sweep-flag`01\n- \n\n> Ahttps://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial/Paths \n\n\n\n- \n- \n- 180\n\n\n\n- xy10\n- `x-axis-rotation`0\n- `large-arc-flag`1180\n- `sweep-flag`101\n\n\n\n```html\n<svg width=\"320px\" height=\"320px\">\n  <path id=\"line1\" stroke=\"black\" fill=\"none\" d=\"M 50 50 A 10 10 0 1 1 50 50.1\"/>\n</svg>\n```\n\n\n\n![](https://wx3.sinaimg.cn/mw690/83900b4egy1fjy8a993prj203e032a9t.jpg)\n\nd\n\n```js\nfunction getD(startX, startY, endX, endY) {\n  var ctlPoint = getCtlPoint(startX, startY, endX, endY, 40);\n  var d = [\"M\", startX, startY].join(\" \");\n  if (startX !== endX || startY !== endY) {\n    d += [\" Q\", ctlPoint[0], ctlPoint[1], endX, endY].join(\" \");\n  } else {\n    d += [\" A\", 10, 10, 0, 1, 1, endX, endY + 0.1].join(\" \");\n  }\n  return d;\n}\n```\n\ndemo\n\nhttps://codepen.io/lewis617/pen/JrWMBy/\n\n\n## \n\n\n\n```html\nM x1 y1 Q x2 y2 x3 y3 Q x4 y4 x5 y5\n```\n\n\n\n```js\nfunction getD(pointList){\n  var offset = offset || 40;\n  var d = (['M' ,pointList[0][0], pointList[0][1]]).join(' ');\n  pointList.forEach(function(point, i){\n    if(i>0){\n      var startX = pointList[i-1][0],\n          startY = pointList[i-1][1],\n          endX = point[0], \n          endY = point[1];\n      \n      var ctlPoint = getCtlPoint(startX, startY, endX, endY, offset);\n      \n      if(startX !== endX || startY !== endY){\n        d+=([' Q', ctlPoint[0], ctlPoint[1], endX, endY]).join(' ');\n      }else{\n        d+=([' A', 10, 10, 0, 1, 1, endX, endY + 0.1]).join(' ');\n      }\n    }\n  })\n  return d;\n}\n\n```\n\n`pointList`\n\n```js\nvar pointList = [\n  [0, 50],\n  [0, 50],\n  [50, 50],\n  [100, 50],\n  [0, 100],\n  [50, 100],\n  [100, 100],\n];\n```\n\n\n\n![](/css/images/196.jpg)\n\n\ndemo\n\nhttps://codepen.io/lewis617/pen/wrJpGY/\n\n## \n\n\n\n[stroke-dasharray](https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute/stroke-dasharray)\n\n[stroke-dashoffset](https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute/stroke-dashoffset)dash\n\n- `stroke-dasharray` `\"length length\"`\n- `stroke-dashoffset`\"\"\n- `stroke-dashoffset`0\n\n[SVG SMIL animation](https://developer.mozilla.org/zh-CN/docs/Web/SVG/SVG_animation_with_SMIL)\n\n\n\n```js\nvar length = path.getTotalLength();\npath.setAttribute(\"stroke-dasharray\", length + \" \" + length);\npath.setAttribute(\"stroke-dashoffset\", length);\npath.innerHTML= '<animate attributeName=\"stroke-dashoffset\" to=\"0\"  dur=\"7s\" begin=\"0s\" fill=\"freeze\" repeatCount=\"indefinite\"/>';\n```\n\ndemo\n\n![](/css/images/197.gif)\n\nhttps://codepen.io/lewis617/pen/vexjyp/\n\n## \n\n\n\n- circle\n- \n\n[animateMotion](https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element/animateMotion)\n\n\n\n```js\nfunction createPathHead(pathObj, d){\n  var r = 3;\n  var head = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n  head.setAttribute(\"id\", pathObj.id + \"-head\");\n  head.setAttribute(\"r\", r);\n  head.setAttribute(\"fill\", pathObj.stroke);\n  \n  var animateMotion = document.createElementNS(\"http://www.w3.org/2000/svg\", \"animateMotion\");\n  animateMotion.setAttribute(\"path\", d);\n  animateMotion.setAttribute(\"begin\", \"indefinite\");\n  animateMotion.setAttribute(\"dur\", \"7s\");\n  animateMotion.setAttribute(\"fill\", \"freeze\");\n  animateMotion.setAttribute(\"rotate\", \"auto\");\n  head.appendChild(animateMotion);\n  \n  return head;\n}\n```\n\n\n\n![](https://wx1.sinaimg.cn/mw690/83900b4egy1fk1jn3atyng204h04ead8.gif)\n\ndemo\n\nhttps://codepen.io/lewis617/pen/RLpxPj/","source":"_posts/svg-path-playback.md","raw":"---\ntitle: SVG\ndate: 2017-09-27 19:00:00\ntags: [SVG, ,SVG SMIL animation]\n---\nXTracker\n\n![](/css/images/198.gif)\n\n\n\n> \n\n\n<!--more-->\n\n## \n\nSVG\n\n```html\n<svg width=\"500\" height=\"500\">\n  <circle r=\"5\" cx=\"50\" cy=\"55\" fill=\"red\"></circle>\n</svg>\n```\n\n![](/css/images/187.jpg)\n\n\njs\n\n```js\nfunction createCircles() {\n  var r = \"5\",\n    fill = \"red\",\n    // circleGroup\n    circleGroup = document.querySelector(\"#circle-group\");\n  // pointList\n  pointList.forEach(function(point) {\n    var circle = document.createElementNS(\n      \"http://www.w3.org/2000/svg\",\n      \"circle\"\n    );\n    circle.setAttribute(\"r\", r);\n    circle.setAttribute(\"cx\", point[0]);\n    circle.setAttribute(\"cy\", point[1]);\n    circle.setAttribute(\"fill\", fill);\n    circleGroup.appendChild(circle);\n  });\n}\n```\n\n![](/css/images/188.jpg)\n\n\n## \n\n\n\n### \n\nSVGpath\n\n- \n\t![](/css/images/189.jpg)\n- \n\t![](/css/images/190.jpg)\n- \n\t![](/css/images/191.jpg)\n\nSVGpath\n\n```html\nM x1 y1 Q x2 y2 x3 y3\n```\n\n`x1 y1``x2 y2``x3 y3`demo\n\n```html\n<svg width=\"320px\" height=\"320px\">\n  <path id=\"line1\" stroke=\"black\" fill=\"none\" d=\"M 0 50 Q 25 10 50 50\"/>\n</svg>\n```\n\n\n\n![](/css/images/192.jpg)\n\n### \n\n\n\n- \n- \n- ABBA\n\n\n\n- \n- \n- \n\n\n\n![](/css/images/193.jpg)\n\n- `angle`\n- `offset`40\n- \n\t- `offsetX = Math.sin(angle) * offset;`\n\t- `offsetY = -Math.cos(angle) * offset;`\n\n\n\n```js\nfunction getCtlPoint(startX, startY, endX, endY, offset) {\n  var offset = offset || 40;\n  var angle = Math.atan2(endY - startY, endX - startX);\n  var offsetX = Math.sin(angle) * offset;\n  var offsetY = -Math.cos(angle) * offset;\n  var ctlX = (startX + endX) / 2 + offsetX;\n  var ctlY = (startY + endY) / 2 + offsetY;\n  return [ctlX, ctlY];\n}\n```\n\n### \n\n\n\n![](/css/images/195.jpg)\n\n\nPath\n\n```\nA rx ry x-axis-rotation large-arc-flag sweep-flag x y\n```\n\n- Axy\n- `x-axis-rotation`\n- `large-arc-flag`18001\n- `sweep-flag`01\n- \n\n> Ahttps://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial/Paths \n\n\n\n- \n- \n- 180\n\n\n\n- xy10\n- `x-axis-rotation`0\n- `large-arc-flag`1180\n- `sweep-flag`101\n\n\n\n```html\n<svg width=\"320px\" height=\"320px\">\n  <path id=\"line1\" stroke=\"black\" fill=\"none\" d=\"M 50 50 A 10 10 0 1 1 50 50.1\"/>\n</svg>\n```\n\n\n\n![](https://wx3.sinaimg.cn/mw690/83900b4egy1fjy8a993prj203e032a9t.jpg)\n\nd\n\n```js\nfunction getD(startX, startY, endX, endY) {\n  var ctlPoint = getCtlPoint(startX, startY, endX, endY, 40);\n  var d = [\"M\", startX, startY].join(\" \");\n  if (startX !== endX || startY !== endY) {\n    d += [\" Q\", ctlPoint[0], ctlPoint[1], endX, endY].join(\" \");\n  } else {\n    d += [\" A\", 10, 10, 0, 1, 1, endX, endY + 0.1].join(\" \");\n  }\n  return d;\n}\n```\n\ndemo\n\nhttps://codepen.io/lewis617/pen/JrWMBy/\n\n\n## \n\n\n\n```html\nM x1 y1 Q x2 y2 x3 y3 Q x4 y4 x5 y5\n```\n\n\n\n```js\nfunction getD(pointList){\n  var offset = offset || 40;\n  var d = (['M' ,pointList[0][0], pointList[0][1]]).join(' ');\n  pointList.forEach(function(point, i){\n    if(i>0){\n      var startX = pointList[i-1][0],\n          startY = pointList[i-1][1],\n          endX = point[0], \n          endY = point[1];\n      \n      var ctlPoint = getCtlPoint(startX, startY, endX, endY, offset);\n      \n      if(startX !== endX || startY !== endY){\n        d+=([' Q', ctlPoint[0], ctlPoint[1], endX, endY]).join(' ');\n      }else{\n        d+=([' A', 10, 10, 0, 1, 1, endX, endY + 0.1]).join(' ');\n      }\n    }\n  })\n  return d;\n}\n\n```\n\n`pointList`\n\n```js\nvar pointList = [\n  [0, 50],\n  [0, 50],\n  [50, 50],\n  [100, 50],\n  [0, 100],\n  [50, 100],\n  [100, 100],\n];\n```\n\n\n\n![](/css/images/196.jpg)\n\n\ndemo\n\nhttps://codepen.io/lewis617/pen/wrJpGY/\n\n## \n\n\n\n[stroke-dasharray](https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute/stroke-dasharray)\n\n[stroke-dashoffset](https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute/stroke-dashoffset)dash\n\n- `stroke-dasharray` `\"length length\"`\n- `stroke-dashoffset`\"\"\n- `stroke-dashoffset`0\n\n[SVG SMIL animation](https://developer.mozilla.org/zh-CN/docs/Web/SVG/SVG_animation_with_SMIL)\n\n\n\n```js\nvar length = path.getTotalLength();\npath.setAttribute(\"stroke-dasharray\", length + \" \" + length);\npath.setAttribute(\"stroke-dashoffset\", length);\npath.innerHTML= '<animate attributeName=\"stroke-dashoffset\" to=\"0\"  dur=\"7s\" begin=\"0s\" fill=\"freeze\" repeatCount=\"indefinite\"/>';\n```\n\ndemo\n\n![](/css/images/197.gif)\n\nhttps://codepen.io/lewis617/pen/vexjyp/\n\n## \n\n\n\n- circle\n- \n\n[animateMotion](https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element/animateMotion)\n\n\n\n```js\nfunction createPathHead(pathObj, d){\n  var r = 3;\n  var head = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n  head.setAttribute(\"id\", pathObj.id + \"-head\");\n  head.setAttribute(\"r\", r);\n  head.setAttribute(\"fill\", pathObj.stroke);\n  \n  var animateMotion = document.createElementNS(\"http://www.w3.org/2000/svg\", \"animateMotion\");\n  animateMotion.setAttribute(\"path\", d);\n  animateMotion.setAttribute(\"begin\", \"indefinite\");\n  animateMotion.setAttribute(\"dur\", \"7s\");\n  animateMotion.setAttribute(\"fill\", \"freeze\");\n  animateMotion.setAttribute(\"rotate\", \"auto\");\n  head.appendChild(animateMotion);\n  \n  return head;\n}\n```\n\n\n\n![](https://wx1.sinaimg.cn/mw690/83900b4egy1fk1jn3atyng204h04ead8.gif)\n\ndemo\n\nhttps://codepen.io/lewis617/pen/RLpxPj/","slug":"svg-path-playback","published":1,"updated":"2019-05-01T08:10:30.537Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvmy003ltgyt0z5dqt8p","content":"<p>XTracker</p>\n<p><img src=\"/css/images/198.gif\" alt=\"\"></p>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>SVG</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">svg</span> <span class=\"attr\">width</span>=<span class=\"string\">\"500\"</span> <span class=\"attr\">height</span>=<span class=\"string\">\"500\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">circle</span> <span class=\"attr\">r</span>=<span class=\"string\">\"5\"</span> <span class=\"attr\">cx</span>=<span class=\"string\">\"50\"</span> <span class=\"attr\">cy</span>=<span class=\"string\">\"55\"</span> <span class=\"attr\">fill</span>=<span class=\"string\">\"red\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">circle</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">svg</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"/css/images/187.jpg\" alt=\"\"></p>\n<p>js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createCircles</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> r = <span class=\"string\">\"5\"</span>,</span><br><span class=\"line\">    fill = <span class=\"string\">\"red\"</span>,</span><br><span class=\"line\">    <span class=\"comment\">// circleGroup</span></span><br><span class=\"line\">    circleGroup = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">\"#circle-group\"</span>);</span><br><span class=\"line\">  <span class=\"comment\">// pointList</span></span><br><span class=\"line\">  pointList.forEach(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">point</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> circle = <span class=\"built_in\">document</span>.createElementNS(</span><br><span class=\"line\">      <span class=\"string\">\"http://www.w3.org/2000/svg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"circle\"</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">    circle.setAttribute(<span class=\"string\">\"r\"</span>, r);</span><br><span class=\"line\">    circle.setAttribute(<span class=\"string\">\"cx\"</span>, point[<span class=\"number\">0</span>]);</span><br><span class=\"line\">    circle.setAttribute(<span class=\"string\">\"cy\"</span>, point[<span class=\"number\">1</span>]);</span><br><span class=\"line\">    circle.setAttribute(<span class=\"string\">\"fill\"</span>, fill);</span><br><span class=\"line\">    circleGroup.appendChild(circle);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"/css/images/188.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>SVGpath</p>\n<ul>\n<li><br>  <img src=\"/css/images/189.jpg\" alt=\"\"></li>\n<li><br>  <img src=\"/css/images/190.jpg\" alt=\"\"></li>\n<li><br>  <img src=\"/css/images/191.jpg\" alt=\"\"></li>\n</ul>\n<p>SVGpath</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">M x1 y1 Q x2 y2 x3 y3</span><br></pre></td></tr></table></figure>\n<p><code>x1 y1</code><code>x2 y2</code><code>x3 y3</code>demo</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">svg</span> <span class=\"attr\">width</span>=<span class=\"string\">\"320px\"</span> <span class=\"attr\">height</span>=<span class=\"string\">\"320px\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">id</span>=<span class=\"string\">\"line1\"</span> <span class=\"attr\">stroke</span>=<span class=\"string\">\"black\"</span> <span class=\"attr\">fill</span>=<span class=\"string\">\"none\"</span> <span class=\"attr\">d</span>=<span class=\"string\">\"M 0 50 Q 25 10 50 50\"</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">svg</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/css/images/192.jpg\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<ul>\n<li></li>\n<li></li>\n<li>ABBA</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<p><img src=\"/css/images/193.jpg\" alt=\"\"></p>\n<ul>\n<li><code>angle</code></li>\n<li><code>offset</code>40</li>\n<li><ul>\n<li><code>offsetX = Math.sin(angle) * offset;</code></li>\n<li><code>offsetY = -Math.cos(angle) * offset;</code></li>\n</ul>\n</li>\n</ul>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCtlPoint</span>(<span class=\"params\">startX, startY, endX, endY, offset</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> offset = offset || <span class=\"number\">40</span>;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> angle = <span class=\"built_in\">Math</span>.atan2(endY - startY, endX - startX);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> offsetX = <span class=\"built_in\">Math</span>.sin(angle) * offset;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> offsetY = -<span class=\"built_in\">Math</span>.cos(angle) * offset;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> ctlX = (startX + endX) / <span class=\"number\">2</span> + offsetX;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> ctlY = (startY + endY) / <span class=\"number\">2</span> + offsetY;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> [ctlX, ctlY];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><img src=\"/css/images/195.jpg\" alt=\"\"></p>\n<p>Path</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">A rx ry x-axis-rotation large-arc-flag sweep-flag x y</span><br></pre></td></tr></table></figure>\n<ul>\n<li>Axy</li>\n<li><code>x-axis-rotation</code></li>\n<li><code>large-arc-flag</code>18001</li>\n<li><code>sweep-flag</code>01</li>\n<li></li>\n</ul>\n<blockquote>\n<p>A<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial/Paths\" target=\"_blank\" rel=\"noopener\">https://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial/Paths</a> </p>\n</blockquote>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li>180</li>\n</ul>\n<p></p>\n<ul>\n<li>xy10</li>\n<li><code>x-axis-rotation</code>0</li>\n<li><code>large-arc-flag</code>1180</li>\n<li><code>sweep-flag</code>101</li>\n</ul>\n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">svg</span> <span class=\"attr\">width</span>=<span class=\"string\">\"320px\"</span> <span class=\"attr\">height</span>=<span class=\"string\">\"320px\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">id</span>=<span class=\"string\">\"line1\"</span> <span class=\"attr\">stroke</span>=<span class=\"string\">\"black\"</span> <span class=\"attr\">fill</span>=<span class=\"string\">\"none\"</span> <span class=\"attr\">d</span>=<span class=\"string\">\"M 50 50 A 10 10 0 1 1 50 50.1\"</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">svg</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"https://wx3.sinaimg.cn/mw690/83900b4egy1fjy8a993prj203e032a9t.jpg\" alt=\"\"></p>\n<p>d</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getD</span>(<span class=\"params\">startX, startY, endX, endY</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> ctlPoint = getCtlPoint(startX, startY, endX, endY, <span class=\"number\">40</span>);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> d = [<span class=\"string\">\"M\"</span>, startX, startY].join(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (startX !== endX || startY !== endY) &#123;</span><br><span class=\"line\">    d += [<span class=\"string\">\" Q\"</span>, ctlPoint[<span class=\"number\">0</span>], ctlPoint[<span class=\"number\">1</span>], endX, endY].join(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    d += [<span class=\"string\">\" A\"</span>, <span class=\"number\">10</span>, <span class=\"number\">10</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, endX, endY + <span class=\"number\">0.1</span>].join(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> d;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>demo</p>\n<p><a href=\"https://codepen.io/lewis617/pen/JrWMBy/\" target=\"_blank\" rel=\"noopener\">https://codepen.io/lewis617/pen/JrWMBy/</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">M x1 y1 Q x2 y2 x3 y3 Q x4 y4 x5 y5</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getD</span>(<span class=\"params\">pointList</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> offset = offset || <span class=\"number\">40</span>;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> d = ([<span class=\"string\">'M'</span> ,pointList[<span class=\"number\">0</span>][<span class=\"number\">0</span>], pointList[<span class=\"number\">0</span>][<span class=\"number\">1</span>]]).join(<span class=\"string\">' '</span>);</span><br><span class=\"line\">  pointList.forEach(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">point, i</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(i&gt;<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> startX = pointList[i<span class=\"number\">-1</span>][<span class=\"number\">0</span>],</span><br><span class=\"line\">          startY = pointList[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>],</span><br><span class=\"line\">          endX = point[<span class=\"number\">0</span>], </span><br><span class=\"line\">          endY = point[<span class=\"number\">1</span>];</span><br><span class=\"line\">      </span><br><span class=\"line\">      <span class=\"keyword\">var</span> ctlPoint = getCtlPoint(startX, startY, endX, endY, offset);</span><br><span class=\"line\">      </span><br><span class=\"line\">      <span class=\"keyword\">if</span>(startX !== endX || startY !== endY)&#123;</span><br><span class=\"line\">        d+=([<span class=\"string\">' Q'</span>, ctlPoint[<span class=\"number\">0</span>], ctlPoint[<span class=\"number\">1</span>], endX, endY]).join(<span class=\"string\">' '</span>);</span><br><span class=\"line\">      &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        d+=([<span class=\"string\">' A'</span>, <span class=\"number\">10</span>, <span class=\"number\">10</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, endX, endY + <span class=\"number\">0.1</span>]).join(<span class=\"string\">' '</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  <span class=\"keyword\">return</span> d;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>pointList</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> pointList = [</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">50</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">50</span>],</span><br><span class=\"line\">  [<span class=\"number\">50</span>, <span class=\"number\">50</span>],</span><br><span class=\"line\">  [<span class=\"number\">100</span>, <span class=\"number\">50</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">100</span>],</span><br><span class=\"line\">  [<span class=\"number\">50</span>, <span class=\"number\">100</span>],</span><br><span class=\"line\">  [<span class=\"number\">100</span>, <span class=\"number\">100</span>],</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/css/images/196.jpg\" alt=\"\"></p>\n<p>demo</p>\n<p><a href=\"https://codepen.io/lewis617/pen/wrJpGY/\" target=\"_blank\" rel=\"noopener\">https://codepen.io/lewis617/pen/wrJpGY/</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute/stroke-dasharray\" target=\"_blank\" rel=\"noopener\">stroke-dasharray</a></p>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute/stroke-dashoffset\" target=\"_blank\" rel=\"noopener\">stroke-dashoffset</a>dash</p>\n<ul>\n<li><code>stroke-dasharray</code> <code>&quot;length length&quot;</code></li>\n<li><code>stroke-dashoffset</code></li>\n<li><code>stroke-dashoffset</code>0</li>\n</ul>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/SVG/SVG_animation_with_SMIL\" target=\"_blank\" rel=\"noopener\">SVG SMIL animation</a></p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> length = path.getTotalLength();</span><br><span class=\"line\">path.setAttribute(<span class=\"string\">\"stroke-dasharray\"</span>, length + <span class=\"string\">\" \"</span> + length);</span><br><span class=\"line\">path.setAttribute(<span class=\"string\">\"stroke-dashoffset\"</span>, length);</span><br><span class=\"line\">path.innerHTML= <span class=\"string\">'&lt;animate attributeName=\"stroke-dashoffset\" to=\"0\"  dur=\"7s\" begin=\"0s\" fill=\"freeze\" repeatCount=\"indefinite\"/&gt;'</span>;</span><br></pre></td></tr></table></figure>\n<p>demo</p>\n<p><img src=\"/css/images/197.gif\" alt=\"\"></p>\n<p><a href=\"https://codepen.io/lewis617/pen/vexjyp/\" target=\"_blank\" rel=\"noopener\">https://codepen.io/lewis617/pen/vexjyp/</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li>circle</li>\n<li></li>\n</ul>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element/animateMotion\" target=\"_blank\" rel=\"noopener\">animateMotion</a></p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createPathHead</span>(<span class=\"params\">pathObj, d</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> r = <span class=\"number\">3</span>;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> head = <span class=\"built_in\">document</span>.createElementNS(<span class=\"string\">\"http://www.w3.org/2000/svg\"</span>, <span class=\"string\">\"circle\"</span>);</span><br><span class=\"line\">  head.setAttribute(<span class=\"string\">\"id\"</span>, pathObj.id + <span class=\"string\">\"-head\"</span>);</span><br><span class=\"line\">  head.setAttribute(<span class=\"string\">\"r\"</span>, r);</span><br><span class=\"line\">  head.setAttribute(<span class=\"string\">\"fill\"</span>, pathObj.stroke);</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">var</span> animateMotion = <span class=\"built_in\">document</span>.createElementNS(<span class=\"string\">\"http://www.w3.org/2000/svg\"</span>, <span class=\"string\">\"animateMotion\"</span>);</span><br><span class=\"line\">  animateMotion.setAttribute(<span class=\"string\">\"path\"</span>, d);</span><br><span class=\"line\">  animateMotion.setAttribute(<span class=\"string\">\"begin\"</span>, <span class=\"string\">\"indefinite\"</span>);</span><br><span class=\"line\">  animateMotion.setAttribute(<span class=\"string\">\"dur\"</span>, <span class=\"string\">\"7s\"</span>);</span><br><span class=\"line\">  animateMotion.setAttribute(<span class=\"string\">\"fill\"</span>, <span class=\"string\">\"freeze\"</span>);</span><br><span class=\"line\">  animateMotion.setAttribute(<span class=\"string\">\"rotate\"</span>, <span class=\"string\">\"auto\"</span>);</span><br><span class=\"line\">  head.appendChild(animateMotion);</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">return</span> head;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"https://wx1.sinaimg.cn/mw690/83900b4egy1fk1jn3atyng204h04ead8.gif\" alt=\"\"></p>\n<p>demo</p>\n<p><a href=\"https://codepen.io/lewis617/pen/RLpxPj/\" target=\"_blank\" rel=\"noopener\">https://codepen.io/lewis617/pen/RLpxPj/</a></p>\n","site":{"data":{}},"excerpt":"<p>XTracker</p>\n<p><img src=\"/css/images/198.gif\" alt=\"\"></p>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>SVG</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">svg</span> <span class=\"attr\">width</span>=<span class=\"string\">\"500\"</span> <span class=\"attr\">height</span>=<span class=\"string\">\"500\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">circle</span> <span class=\"attr\">r</span>=<span class=\"string\">\"5\"</span> <span class=\"attr\">cx</span>=<span class=\"string\">\"50\"</span> <span class=\"attr\">cy</span>=<span class=\"string\">\"55\"</span> <span class=\"attr\">fill</span>=<span class=\"string\">\"red\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">circle</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">svg</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"/css/images/187.jpg\" alt=\"\"></p>\n<p>js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createCircles</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> r = <span class=\"string\">\"5\"</span>,</span><br><span class=\"line\">    fill = <span class=\"string\">\"red\"</span>,</span><br><span class=\"line\">    <span class=\"comment\">// circleGroup</span></span><br><span class=\"line\">    circleGroup = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">\"#circle-group\"</span>);</span><br><span class=\"line\">  <span class=\"comment\">// pointList</span></span><br><span class=\"line\">  pointList.forEach(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">point</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> circle = <span class=\"built_in\">document</span>.createElementNS(</span><br><span class=\"line\">      <span class=\"string\">\"http://www.w3.org/2000/svg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"circle\"</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">    circle.setAttribute(<span class=\"string\">\"r\"</span>, r);</span><br><span class=\"line\">    circle.setAttribute(<span class=\"string\">\"cx\"</span>, point[<span class=\"number\">0</span>]);</span><br><span class=\"line\">    circle.setAttribute(<span class=\"string\">\"cy\"</span>, point[<span class=\"number\">1</span>]);</span><br><span class=\"line\">    circle.setAttribute(<span class=\"string\">\"fill\"</span>, fill);</span><br><span class=\"line\">    circleGroup.appendChild(circle);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"/css/images/188.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>SVGpath</p>\n<ul>\n<li><br>  <img src=\"/css/images/189.jpg\" alt=\"\"></li>\n<li><br>  <img src=\"/css/images/190.jpg\" alt=\"\"></li>\n<li><br>  <img src=\"/css/images/191.jpg\" alt=\"\"></li>\n</ul>\n<p>SVGpath</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">M x1 y1 Q x2 y2 x3 y3</span><br></pre></td></tr></table></figure>\n<p><code>x1 y1</code><code>x2 y2</code><code>x3 y3</code>demo</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">svg</span> <span class=\"attr\">width</span>=<span class=\"string\">\"320px\"</span> <span class=\"attr\">height</span>=<span class=\"string\">\"320px\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">id</span>=<span class=\"string\">\"line1\"</span> <span class=\"attr\">stroke</span>=<span class=\"string\">\"black\"</span> <span class=\"attr\">fill</span>=<span class=\"string\">\"none\"</span> <span class=\"attr\">d</span>=<span class=\"string\">\"M 0 50 Q 25 10 50 50\"</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">svg</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/css/images/192.jpg\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<ul>\n<li></li>\n<li></li>\n<li>ABBA</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<p><img src=\"/css/images/193.jpg\" alt=\"\"></p>\n<ul>\n<li><code>angle</code></li>\n<li><code>offset</code>40</li>\n<li><ul>\n<li><code>offsetX = Math.sin(angle) * offset;</code></li>\n<li><code>offsetY = -Math.cos(angle) * offset;</code></li>\n</ul>\n</li>\n</ul>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCtlPoint</span>(<span class=\"params\">startX, startY, endX, endY, offset</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> offset = offset || <span class=\"number\">40</span>;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> angle = <span class=\"built_in\">Math</span>.atan2(endY - startY, endX - startX);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> offsetX = <span class=\"built_in\">Math</span>.sin(angle) * offset;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> offsetY = -<span class=\"built_in\">Math</span>.cos(angle) * offset;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> ctlX = (startX + endX) / <span class=\"number\">2</span> + offsetX;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> ctlY = (startY + endY) / <span class=\"number\">2</span> + offsetY;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> [ctlX, ctlY];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><img src=\"/css/images/195.jpg\" alt=\"\"></p>\n<p>Path</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">A rx ry x-axis-rotation large-arc-flag sweep-flag x y</span><br></pre></td></tr></table></figure>\n<ul>\n<li>Axy</li>\n<li><code>x-axis-rotation</code></li>\n<li><code>large-arc-flag</code>18001</li>\n<li><code>sweep-flag</code>01</li>\n<li></li>\n</ul>\n<blockquote>\n<p>A<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial/Paths\" target=\"_blank\" rel=\"noopener\">https://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial/Paths</a> </p>\n</blockquote>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li>180</li>\n</ul>\n<p></p>\n<ul>\n<li>xy10</li>\n<li><code>x-axis-rotation</code>0</li>\n<li><code>large-arc-flag</code>1180</li>\n<li><code>sweep-flag</code>101</li>\n</ul>\n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">svg</span> <span class=\"attr\">width</span>=<span class=\"string\">\"320px\"</span> <span class=\"attr\">height</span>=<span class=\"string\">\"320px\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">id</span>=<span class=\"string\">\"line1\"</span> <span class=\"attr\">stroke</span>=<span class=\"string\">\"black\"</span> <span class=\"attr\">fill</span>=<span class=\"string\">\"none\"</span> <span class=\"attr\">d</span>=<span class=\"string\">\"M 50 50 A 10 10 0 1 1 50 50.1\"</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">svg</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"https://wx3.sinaimg.cn/mw690/83900b4egy1fjy8a993prj203e032a9t.jpg\" alt=\"\"></p>\n<p>d</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getD</span>(<span class=\"params\">startX, startY, endX, endY</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> ctlPoint = getCtlPoint(startX, startY, endX, endY, <span class=\"number\">40</span>);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> d = [<span class=\"string\">\"M\"</span>, startX, startY].join(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (startX !== endX || startY !== endY) &#123;</span><br><span class=\"line\">    d += [<span class=\"string\">\" Q\"</span>, ctlPoint[<span class=\"number\">0</span>], ctlPoint[<span class=\"number\">1</span>], endX, endY].join(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    d += [<span class=\"string\">\" A\"</span>, <span class=\"number\">10</span>, <span class=\"number\">10</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, endX, endY + <span class=\"number\">0.1</span>].join(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> d;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>demo</p>\n<p><a href=\"https://codepen.io/lewis617/pen/JrWMBy/\" target=\"_blank\" rel=\"noopener\">https://codepen.io/lewis617/pen/JrWMBy/</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">M x1 y1 Q x2 y2 x3 y3 Q x4 y4 x5 y5</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getD</span>(<span class=\"params\">pointList</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> offset = offset || <span class=\"number\">40</span>;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> d = ([<span class=\"string\">'M'</span> ,pointList[<span class=\"number\">0</span>][<span class=\"number\">0</span>], pointList[<span class=\"number\">0</span>][<span class=\"number\">1</span>]]).join(<span class=\"string\">' '</span>);</span><br><span class=\"line\">  pointList.forEach(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">point, i</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(i&gt;<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> startX = pointList[i<span class=\"number\">-1</span>][<span class=\"number\">0</span>],</span><br><span class=\"line\">          startY = pointList[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>],</span><br><span class=\"line\">          endX = point[<span class=\"number\">0</span>], </span><br><span class=\"line\">          endY = point[<span class=\"number\">1</span>];</span><br><span class=\"line\">      </span><br><span class=\"line\">      <span class=\"keyword\">var</span> ctlPoint = getCtlPoint(startX, startY, endX, endY, offset);</span><br><span class=\"line\">      </span><br><span class=\"line\">      <span class=\"keyword\">if</span>(startX !== endX || startY !== endY)&#123;</span><br><span class=\"line\">        d+=([<span class=\"string\">' Q'</span>, ctlPoint[<span class=\"number\">0</span>], ctlPoint[<span class=\"number\">1</span>], endX, endY]).join(<span class=\"string\">' '</span>);</span><br><span class=\"line\">      &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        d+=([<span class=\"string\">' A'</span>, <span class=\"number\">10</span>, <span class=\"number\">10</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, endX, endY + <span class=\"number\">0.1</span>]).join(<span class=\"string\">' '</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  <span class=\"keyword\">return</span> d;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>pointList</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> pointList = [</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">50</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">50</span>],</span><br><span class=\"line\">  [<span class=\"number\">50</span>, <span class=\"number\">50</span>],</span><br><span class=\"line\">  [<span class=\"number\">100</span>, <span class=\"number\">50</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">100</span>],</span><br><span class=\"line\">  [<span class=\"number\">50</span>, <span class=\"number\">100</span>],</span><br><span class=\"line\">  [<span class=\"number\">100</span>, <span class=\"number\">100</span>],</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/css/images/196.jpg\" alt=\"\"></p>\n<p>demo</p>\n<p><a href=\"https://codepen.io/lewis617/pen/wrJpGY/\" target=\"_blank\" rel=\"noopener\">https://codepen.io/lewis617/pen/wrJpGY/</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute/stroke-dasharray\" target=\"_blank\" rel=\"noopener\">stroke-dasharray</a></p>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute/stroke-dashoffset\" target=\"_blank\" rel=\"noopener\">stroke-dashoffset</a>dash</p>\n<ul>\n<li><code>stroke-dasharray</code> <code>&quot;length length&quot;</code></li>\n<li><code>stroke-dashoffset</code></li>\n<li><code>stroke-dashoffset</code>0</li>\n</ul>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/SVG/SVG_animation_with_SMIL\" target=\"_blank\" rel=\"noopener\">SVG SMIL animation</a></p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> length = path.getTotalLength();</span><br><span class=\"line\">path.setAttribute(<span class=\"string\">\"stroke-dasharray\"</span>, length + <span class=\"string\">\" \"</span> + length);</span><br><span class=\"line\">path.setAttribute(<span class=\"string\">\"stroke-dashoffset\"</span>, length);</span><br><span class=\"line\">path.innerHTML= <span class=\"string\">'&lt;animate attributeName=\"stroke-dashoffset\" to=\"0\"  dur=\"7s\" begin=\"0s\" fill=\"freeze\" repeatCount=\"indefinite\"/&gt;'</span>;</span><br></pre></td></tr></table></figure>\n<p>demo</p>\n<p><img src=\"/css/images/197.gif\" alt=\"\"></p>\n<p><a href=\"https://codepen.io/lewis617/pen/vexjyp/\" target=\"_blank\" rel=\"noopener\">https://codepen.io/lewis617/pen/vexjyp/</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li>circle</li>\n<li></li>\n</ul>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element/animateMotion\" target=\"_blank\" rel=\"noopener\">animateMotion</a></p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createPathHead</span>(<span class=\"params\">pathObj, d</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> r = <span class=\"number\">3</span>;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> head = <span class=\"built_in\">document</span>.createElementNS(<span class=\"string\">\"http://www.w3.org/2000/svg\"</span>, <span class=\"string\">\"circle\"</span>);</span><br><span class=\"line\">  head.setAttribute(<span class=\"string\">\"id\"</span>, pathObj.id + <span class=\"string\">\"-head\"</span>);</span><br><span class=\"line\">  head.setAttribute(<span class=\"string\">\"r\"</span>, r);</span><br><span class=\"line\">  head.setAttribute(<span class=\"string\">\"fill\"</span>, pathObj.stroke);</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">var</span> animateMotion = <span class=\"built_in\">document</span>.createElementNS(<span class=\"string\">\"http://www.w3.org/2000/svg\"</span>, <span class=\"string\">\"animateMotion\"</span>);</span><br><span class=\"line\">  animateMotion.setAttribute(<span class=\"string\">\"path\"</span>, d);</span><br><span class=\"line\">  animateMotion.setAttribute(<span class=\"string\">\"begin\"</span>, <span class=\"string\">\"indefinite\"</span>);</span><br><span class=\"line\">  animateMotion.setAttribute(<span class=\"string\">\"dur\"</span>, <span class=\"string\">\"7s\"</span>);</span><br><span class=\"line\">  animateMotion.setAttribute(<span class=\"string\">\"fill\"</span>, <span class=\"string\">\"freeze\"</span>);</span><br><span class=\"line\">  animateMotion.setAttribute(<span class=\"string\">\"rotate\"</span>, <span class=\"string\">\"auto\"</span>);</span><br><span class=\"line\">  head.appendChild(animateMotion);</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">return</span> head;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"https://wx1.sinaimg.cn/mw690/83900b4egy1fk1jn3atyng204h04ead8.gif\" alt=\"\"></p>\n<p>demo</p>\n<p><a href=\"https://codepen.io/lewis617/pen/RLpxPj/\" target=\"_blank\" rel=\"noopener\">https://codepen.io/lewis617/pen/RLpxPj/</a></p>"},{"title":"Emily Gorcenski","date":"2017-11-02T10:12:00.000Z","_content":"\n YouTube \n\nhttps://www.youtube.com/watch?v=xLL7Fo_em2E\n\n![](/css/images/199.jpg)\n\n<!--more-->\n\n Emily Gorcenski JavaScript  JavaScript  JavaScript PPT\n\n- \n- \n- \n\n![](/css/images/200.jpg)\n\n\n\n JavaScript \n\n![](/css/images/201.jpg)\n\n\n\n\n\n![](/css/images/202.jpg)\n\n Uber  JavaScript 30\n\n![](/css/images/203.jpg)\n\n Uber   Uber \n\n[](https://zh.wikipedia.org/wiki/%E6%9C%89%E8%BD%A8%E7%94%B5%E8%BD%A6%E9%9A%BE%E9%A2%98)\n\n![](/css/images/204.jpg)\n\nPPT[](https://zh.wikipedia.org/wiki/%E7%B6%B2%E8%B7%AF%E7%88%86%E7%B4%85%E4%BA%8B%E7%89%A9)\n\n![](/css/images/205.jpg)\n\n - \n\n![](/css/images/206.jpg)\n\n JavaScript  JavaScript  ACM  I888 \n\n\n\n![](/css/images/207.jpg)\n\n **** ********\n\n![](/css/images/208.jpg)\n\nMiri  DDoS  DDoS \n\n Twitter\n\n![](/css/images/209.jpg)\n\n TLS  TLS  Web  TLS  JavaScript `\"undefined\" is not a function`\n\n\n\n![](/css/images/210.jpg)\n\n [Microsoft Band](https://zh.wikipedia.org/wiki/Microsoft_Band)120 [Fitbit](https://en.wikipedia.org/wiki/Fitbit)\n\n2015 ()  Fitbit FitBit \n\n![](/css/images/211.jpg)\n\n120 FitBit  \n\n![](/css/images/212.jpg)\n\n CNN  Fitbit  Fitbit Fitbit \n\n![](/css/images/213.jpg)\n\n   \n\n![](/css/images/214.jpg)\n\n Google  - \n\n![](/css/images/215.jpg)\n\n Google SUV \n\n![](/css/images/216.jpg)\n\nGoogle   Google \n\n\n\n![](/css/images/217.jpg)\n\n    \n\n IoT  \n\n JavaScript  [left-pad ](http://taobaofed.org/blog/2016/03/31/what-can-we-learn-from-left-pad-event/)\n\n![](/css/images/218.jpg)\n\n Ashley  left-pad left-pad JavaScript  left-pad left-pad  fork   left-pad NPM NPM NPM NPM 201620182020NPM 70 IoT\n\n![](/css/images/219.jpg)\n\n    \n\n![](/css/images/220.jpg)","source":"_posts/the-ethics-of-the-internet-of-things.md","raw":"---\ntitle: Emily Gorcenski\ndate: 2017-11-02 18:12:00\ntags: [, , , , left-pad, Miri , Fitbit, ]\n---\n\n YouTube \n\nhttps://www.youtube.com/watch?v=xLL7Fo_em2E\n\n![](/css/images/199.jpg)\n\n<!--more-->\n\n Emily Gorcenski JavaScript  JavaScript  JavaScript PPT\n\n- \n- \n- \n\n![](/css/images/200.jpg)\n\n\n\n JavaScript \n\n![](/css/images/201.jpg)\n\n\n\n\n\n![](/css/images/202.jpg)\n\n Uber  JavaScript 30\n\n![](/css/images/203.jpg)\n\n Uber   Uber \n\n[](https://zh.wikipedia.org/wiki/%E6%9C%89%E8%BD%A8%E7%94%B5%E8%BD%A6%E9%9A%BE%E9%A2%98)\n\n![](/css/images/204.jpg)\n\nPPT[](https://zh.wikipedia.org/wiki/%E7%B6%B2%E8%B7%AF%E7%88%86%E7%B4%85%E4%BA%8B%E7%89%A9)\n\n![](/css/images/205.jpg)\n\n - \n\n![](/css/images/206.jpg)\n\n JavaScript  JavaScript  ACM  I888 \n\n\n\n![](/css/images/207.jpg)\n\n **** ********\n\n![](/css/images/208.jpg)\n\nMiri  DDoS  DDoS \n\n Twitter\n\n![](/css/images/209.jpg)\n\n TLS  TLS  Web  TLS  JavaScript `\"undefined\" is not a function`\n\n\n\n![](/css/images/210.jpg)\n\n [Microsoft Band](https://zh.wikipedia.org/wiki/Microsoft_Band)120 [Fitbit](https://en.wikipedia.org/wiki/Fitbit)\n\n2015 ()  Fitbit FitBit \n\n![](/css/images/211.jpg)\n\n120 FitBit  \n\n![](/css/images/212.jpg)\n\n CNN  Fitbit  Fitbit Fitbit \n\n![](/css/images/213.jpg)\n\n   \n\n![](/css/images/214.jpg)\n\n Google  - \n\n![](/css/images/215.jpg)\n\n Google SUV \n\n![](/css/images/216.jpg)\n\nGoogle   Google \n\n\n\n![](/css/images/217.jpg)\n\n    \n\n IoT  \n\n JavaScript  [left-pad ](http://taobaofed.org/blog/2016/03/31/what-can-we-learn-from-left-pad-event/)\n\n![](/css/images/218.jpg)\n\n Ashley  left-pad left-pad JavaScript  left-pad left-pad  fork   left-pad NPM NPM NPM NPM 201620182020NPM 70 IoT\n\n![](/css/images/219.jpg)\n\n    \n\n![](/css/images/220.jpg)","slug":"the-ethics-of-the-internet-of-things","published":1,"updated":"2019-05-01T08:10:30.575Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvn0003ntgytugfy9wsi","content":"<p> YouTube </p>\n<p><a href=\"https://www.youtube.com/watch?v=xLL7Fo_em2E\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=xLL7Fo_em2E</a></p>\n<p><img src=\"/css/images/199.jpg\" alt=\"\"></p>\n<a id=\"more\"></a>\n<p> Emily Gorcenski JavaScript  JavaScript  JavaScript PPT</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p><img src=\"/css/images/200.jpg\" alt=\"\"></p>\n<p></p>\n<p> JavaScript </p>\n<p><img src=\"/css/images/201.jpg\" alt=\"\"></p>\n<p></p>\n<p></p>\n<p><img src=\"/css/images/202.jpg\" alt=\"\"></p>\n<p> Uber  JavaScript 30</p>\n<p><img src=\"/css/images/203.jpg\" alt=\"\"></p>\n<p> Uber   Uber </p>\n<p><a href=\"https://zh.wikipedia.org/wiki/%E6%9C%89%E8%BD%A8%E7%94%B5%E8%BD%A6%E9%9A%BE%E9%A2%98\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><img src=\"/css/images/204.jpg\" alt=\"\"></p>\n<p>PPT<a href=\"https://zh.wikipedia.org/wiki/%E7%B6%B2%E8%B7%AF%E7%88%86%E7%B4%85%E4%BA%8B%E7%89%A9\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><img src=\"/css/images/205.jpg\" alt=\"\"></p>\n<p> - </p>\n<p><img src=\"/css/images/206.jpg\" alt=\"\"></p>\n<p> JavaScript  JavaScript  ACM  I888 </p>\n<p></p>\n<p><img src=\"/css/images/207.jpg\" alt=\"\"></p>\n<p> <strong></strong> <strong></strong><strong></strong></p>\n<p><img src=\"/css/images/208.jpg\" alt=\"\"></p>\n<p>Miri  DDoS  DDoS </p>\n<p> Twitter</p>\n<p><img src=\"/css/images/209.jpg\" alt=\"\"></p>\n<p> TLS  TLS  Web  TLS  JavaScript <code>&quot;undefined&quot; is not a function</code></p>\n<p></p>\n<p><img src=\"/css/images/210.jpg\" alt=\"\"></p>\n<p> <a href=\"https://zh.wikipedia.org/wiki/Microsoft_Band\" target=\"_blank\" rel=\"noopener\">Microsoft Band</a>120 <a href=\"https://en.wikipedia.org/wiki/Fitbit\" target=\"_blank\" rel=\"noopener\">Fitbit</a></p>\n<p>2015 ()  Fitbit FitBit </p>\n<p><img src=\"/css/images/211.jpg\" alt=\"\"></p>\n<p>120 FitBit  </p>\n<p><img src=\"/css/images/212.jpg\" alt=\"\"></p>\n<p> CNN  Fitbit  Fitbit Fitbit </p>\n<p><img src=\"/css/images/213.jpg\" alt=\"\"></p>\n<p>   </p>\n<p><img src=\"/css/images/214.jpg\" alt=\"\"></p>\n<p> Google  - </p>\n<p><img src=\"/css/images/215.jpg\" alt=\"\"></p>\n<p> Google SUV </p>\n<p><img src=\"/css/images/216.jpg\" alt=\"\"></p>\n<p>Google   Google </p>\n<p></p>\n<p><img src=\"/css/images/217.jpg\" alt=\"\"></p>\n<p>    </p>\n<p> IoT  </p>\n<p> JavaScript  <a href=\"http://taobaofed.org/blog/2016/03/31/what-can-we-learn-from-left-pad-event/\" target=\"_blank\" rel=\"noopener\">left-pad </a></p>\n<p><img src=\"/css/images/218.jpg\" alt=\"\"></p>\n<p> Ashley  left-pad left-pad JavaScript  left-pad left-pad  fork   left-pad NPM NPM NPM NPM 201620182020NPM 70 IoT</p>\n<p><img src=\"/css/images/219.jpg\" alt=\"\"></p>\n<p>    </p>\n<p><img src=\"/css/images/220.jpg\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"<p> YouTube </p>\n<p><a href=\"https://www.youtube.com/watch?v=xLL7Fo_em2E\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=xLL7Fo_em2E</a></p>\n<p><img src=\"/css/images/199.jpg\" alt=\"\"></p>","more":"<p> Emily Gorcenski JavaScript  JavaScript  JavaScript PPT</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p><img src=\"/css/images/200.jpg\" alt=\"\"></p>\n<p></p>\n<p> JavaScript </p>\n<p><img src=\"/css/images/201.jpg\" alt=\"\"></p>\n<p></p>\n<p></p>\n<p><img src=\"/css/images/202.jpg\" alt=\"\"></p>\n<p> Uber  JavaScript 30</p>\n<p><img src=\"/css/images/203.jpg\" alt=\"\"></p>\n<p> Uber   Uber </p>\n<p><a href=\"https://zh.wikipedia.org/wiki/%E6%9C%89%E8%BD%A8%E7%94%B5%E8%BD%A6%E9%9A%BE%E9%A2%98\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><img src=\"/css/images/204.jpg\" alt=\"\"></p>\n<p>PPT<a href=\"https://zh.wikipedia.org/wiki/%E7%B6%B2%E8%B7%AF%E7%88%86%E7%B4%85%E4%BA%8B%E7%89%A9\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><img src=\"/css/images/205.jpg\" alt=\"\"></p>\n<p> - </p>\n<p><img src=\"/css/images/206.jpg\" alt=\"\"></p>\n<p> JavaScript  JavaScript  ACM  I888 </p>\n<p></p>\n<p><img src=\"/css/images/207.jpg\" alt=\"\"></p>\n<p> <strong></strong> <strong></strong><strong></strong></p>\n<p><img src=\"/css/images/208.jpg\" alt=\"\"></p>\n<p>Miri  DDoS  DDoS </p>\n<p> Twitter</p>\n<p><img src=\"/css/images/209.jpg\" alt=\"\"></p>\n<p> TLS  TLS  Web  TLS  JavaScript <code>&quot;undefined&quot; is not a function</code></p>\n<p></p>\n<p><img src=\"/css/images/210.jpg\" alt=\"\"></p>\n<p> <a href=\"https://zh.wikipedia.org/wiki/Microsoft_Band\" target=\"_blank\" rel=\"noopener\">Microsoft Band</a>120 <a href=\"https://en.wikipedia.org/wiki/Fitbit\" target=\"_blank\" rel=\"noopener\">Fitbit</a></p>\n<p>2015 ()  Fitbit FitBit </p>\n<p><img src=\"/css/images/211.jpg\" alt=\"\"></p>\n<p>120 FitBit  </p>\n<p><img src=\"/css/images/212.jpg\" alt=\"\"></p>\n<p> CNN  Fitbit  Fitbit Fitbit </p>\n<p><img src=\"/css/images/213.jpg\" alt=\"\"></p>\n<p>   </p>\n<p><img src=\"/css/images/214.jpg\" alt=\"\"></p>\n<p> Google  - </p>\n<p><img src=\"/css/images/215.jpg\" alt=\"\"></p>\n<p> Google SUV </p>\n<p><img src=\"/css/images/216.jpg\" alt=\"\"></p>\n<p>Google   Google </p>\n<p></p>\n<p><img src=\"/css/images/217.jpg\" alt=\"\"></p>\n<p>    </p>\n<p> IoT  </p>\n<p> JavaScript  <a href=\"http://taobaofed.org/blog/2016/03/31/what-can-we-learn-from-left-pad-event/\" target=\"_blank\" rel=\"noopener\">left-pad </a></p>\n<p><img src=\"/css/images/218.jpg\" alt=\"\"></p>\n<p> Ashley  left-pad left-pad JavaScript  left-pad left-pad  fork   left-pad NPM NPM NPM NPM 201620182020NPM 70 IoT</p>\n<p><img src=\"/css/images/219.jpg\" alt=\"\"></p>\n<p>    </p>\n<p><img src=\"/css/images/220.jpg\" alt=\"\"></p>"},{"title":"JavaScript ","date":"2017-02-18T05:15:00.000Z","_content":"\n\n\n<!--more-->\n\n## \n\n\n\n- \n- BST() ()()\n- AVL1\n- http://goo.gl/OxED8K\n- http://goo.gl/SFlhW6\n\n\n\n- \n- \n- \n- \n-  DOM DOM2  DOM NodeIterator  TreeWalker DOM depth-first\n- \n\n\n\n\n\n##  JavaScript \n\n JavaScript \n\n### \n\n `Node`\n\n```js\nvar Node = function (key) {\n  this.key = key;\n  this.left = null;\n  this.right = null;\n};\n```\n\n `root`\n\n```js\nvar root = null;\n```\n\n\n\n```js\n      11\n    7   13\n  5   9 \n3\n```\n\n\n```js\n{\n  key: 11,  // root  key  11 \n  left: {\n    key: 7,\n    left:  { \n      key: 5, \n      left: {\n        key: 3,\n        left: null,  \n        right: null  \n      },  \n      right: null  \n    },\n    right:  {  \n      key: 9,  \n      left: null,  \n      right: null  \n    } \n  },\n  right: {  \n    key: 13,  \n    left: null,  \n    right: null  \n  }  \n}\n```\n\n###  insert \n\n `insert` () ()()\n\n- \n- \n- \n\n `insert` \n\n```js\n// \nvar insertNode = function (node, newNode) {\n  if (newNode.key < node.key) {  \n    if (node.left === null) {\n      node.left = newNode; // \n    } else {\n      insertNode(node.left, newNode); // \n    }\n  } else {\n    if (node.right === null) {\n      node.right = newNode; // \n    } else {\n      insertNode(node.right, newNode);  // \n    }\n  }\n};\n\nthis.insert = function (key) {\n\n  var newNode = new Node(key);\n\n  if (root === null) {\n    root = newNode; // \n  } else {\n    insertNode(root, newNode);  // \n  }\n};\n```\n\n### \n\n `values`  push \n\n```js\nvar binarySearchTree = new BinarySearchTree();\n\nbinarySearchTree.insert(11);\nbinarySearchTree.insert(7);\nbinarySearchTree.insert(13);\nbinarySearchTree.insert(5);\nbinarySearchTree.insert(3);\nbinarySearchTree.insert(9);\n\nexpect(binarySearchTree.values('inOrderTraverse')).toEqual([3, 5, 7, 9, 11, 13]);\nexpect(binarySearchTree.values('preOrderTraverse')).toEqual([11, 7, 5, 3, 9, 13]);\nexpect(binarySearchTree.values('postOrderTraverse')).toEqual([3, 5, 9, 7, 13, 11]);\n```\n\n****\n\n```js\nvar inOrderTraverseNode = function (node, callback) {\n  if (node !== null) {  // \n    inOrderTraverseNode(node.left, callback);\n    callback(node.key);\n    inOrderTraverseNode(node.right, callback);\n  }\n};\n\nthis.inOrderTraverse = function (callback) {\n  inOrderTraverseNode(root, callback);\n};\n```\n\n\n\n```js\nvar preOrderTraverseNode = function (node, callback) {\n  if (node !== null) {  // \n    callback(node.key);\n    preOrderTraverseNode(node.left, callback);\n    preOrderTraverseNode(node.right, callback);\n  }\n};\n\nthis.preOrderTraverse = function (callback) {\n  preOrderTraverseNode(root, callback);\n};\n```\n\n\n\n```js\nvar postOrderTraverseNode = function (node, callback) {\n  if (node !== null) {  // \n    postOrderTraverseNode(node.left, callback);\n    postOrderTraverseNode(node.right, callback);\n    callback(node.key);\n  }\n};\n\nthis.postOrderTraverse = function (callback) {\n  postOrderTraverseNode(root, callback);\n};\n```\n\n `values` \n\n```js\nthis.values = function (traverseFuc) {\n  var keyList = [];\n  this[traverseFuc](function (key) {\n    keyList.push(key);\n  });\n  return keyList;\n};\n```\n\n`values` \n\n###  \n\n\n\n\n\n-  push \n-  pop \n- \n- \n\n\n\n- \n- \n- \n- \n\n\n\n```js\nthis.inOrderTraverseUnRec = function (callback) {\n  if (root !== null) {\n    var stack = new Stack(),\n      node = root;\n    while (!stack.isEmpty() || node) {\n      if (node) {   // \n        stack.push(node); // \n        node = node.left;\n      } else {   // \n        node = stack.pop(); // \n        callback(node.key);\n        node = node.right;\n      }\n    }\n  }\n};\n```\n\n\n\n-  push \n-  pop \n\n\n\n- \n- \n- \n\n\n\n```js\nthis.preOrderTraverseUnRec = function (callback) {\n  if (root !== null) {\n    var stack = new Stack();\n    stack.push(root);\n    while (!stack.isEmpty()) {\n      var node = stack.pop(); // \n      if (callback) {  // \n        callback(node.key);\n      }\n      if (node.right) {  // \n        stack.push(node.right);\n      }\n      if (node.left) {\n        stack.push(node.left);\n      }\n    }\n  }\n};\n```\n\n********\n\n\n\n```js\n this.postOrderTraverseUnRec = function (callback) {\n   if (root !== null) {\n     var stack = new Stack(),\n       outputStack = new Stack(),\n       node;\n     stack.push(root);\n     while (!stack.isEmpty()) {\n       node = stack.pop();\n       outputStack.push(node);  // \n       if (node.left) {\n         stack.push(node.left);\n       }\n       if (node.right) {\n         stack.push(node.right);\n       }\n     }\n     while (!outputStack.isEmpty()) {\n       node = outputStack.pop();  // \n       if (callback) {\n         callback(node.key);\n       }\n     }\n   }\n };\n```\n\n\n\n \n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>","source":"_posts/tree.md","raw":"---\ntitle: JavaScript \ndate: 2017-02-18 13:15:00\ntags: []\n---\n\n\n\n<!--more-->\n\n## \n\n\n\n- \n- BST() ()()\n- AVL1\n- http://goo.gl/OxED8K\n- http://goo.gl/SFlhW6\n\n\n\n- \n- \n- \n- \n-  DOM DOM2  DOM NodeIterator  TreeWalker DOM depth-first\n- \n\n\n\n\n\n##  JavaScript \n\n JavaScript \n\n### \n\n `Node`\n\n```js\nvar Node = function (key) {\n  this.key = key;\n  this.left = null;\n  this.right = null;\n};\n```\n\n `root`\n\n```js\nvar root = null;\n```\n\n\n\n```js\n      11\n    7   13\n  5   9 \n3\n```\n\n\n```js\n{\n  key: 11,  // root  key  11 \n  left: {\n    key: 7,\n    left:  { \n      key: 5, \n      left: {\n        key: 3,\n        left: null,  \n        right: null  \n      },  \n      right: null  \n    },\n    right:  {  \n      key: 9,  \n      left: null,  \n      right: null  \n    } \n  },\n  right: {  \n    key: 13,  \n    left: null,  \n    right: null  \n  }  \n}\n```\n\n###  insert \n\n `insert` () ()()\n\n- \n- \n- \n\n `insert` \n\n```js\n// \nvar insertNode = function (node, newNode) {\n  if (newNode.key < node.key) {  \n    if (node.left === null) {\n      node.left = newNode; // \n    } else {\n      insertNode(node.left, newNode); // \n    }\n  } else {\n    if (node.right === null) {\n      node.right = newNode; // \n    } else {\n      insertNode(node.right, newNode);  // \n    }\n  }\n};\n\nthis.insert = function (key) {\n\n  var newNode = new Node(key);\n\n  if (root === null) {\n    root = newNode; // \n  } else {\n    insertNode(root, newNode);  // \n  }\n};\n```\n\n### \n\n `values`  push \n\n```js\nvar binarySearchTree = new BinarySearchTree();\n\nbinarySearchTree.insert(11);\nbinarySearchTree.insert(7);\nbinarySearchTree.insert(13);\nbinarySearchTree.insert(5);\nbinarySearchTree.insert(3);\nbinarySearchTree.insert(9);\n\nexpect(binarySearchTree.values('inOrderTraverse')).toEqual([3, 5, 7, 9, 11, 13]);\nexpect(binarySearchTree.values('preOrderTraverse')).toEqual([11, 7, 5, 3, 9, 13]);\nexpect(binarySearchTree.values('postOrderTraverse')).toEqual([3, 5, 9, 7, 13, 11]);\n```\n\n****\n\n```js\nvar inOrderTraverseNode = function (node, callback) {\n  if (node !== null) {  // \n    inOrderTraverseNode(node.left, callback);\n    callback(node.key);\n    inOrderTraverseNode(node.right, callback);\n  }\n};\n\nthis.inOrderTraverse = function (callback) {\n  inOrderTraverseNode(root, callback);\n};\n```\n\n\n\n```js\nvar preOrderTraverseNode = function (node, callback) {\n  if (node !== null) {  // \n    callback(node.key);\n    preOrderTraverseNode(node.left, callback);\n    preOrderTraverseNode(node.right, callback);\n  }\n};\n\nthis.preOrderTraverse = function (callback) {\n  preOrderTraverseNode(root, callback);\n};\n```\n\n\n\n```js\nvar postOrderTraverseNode = function (node, callback) {\n  if (node !== null) {  // \n    postOrderTraverseNode(node.left, callback);\n    postOrderTraverseNode(node.right, callback);\n    callback(node.key);\n  }\n};\n\nthis.postOrderTraverse = function (callback) {\n  postOrderTraverseNode(root, callback);\n};\n```\n\n `values` \n\n```js\nthis.values = function (traverseFuc) {\n  var keyList = [];\n  this[traverseFuc](function (key) {\n    keyList.push(key);\n  });\n  return keyList;\n};\n```\n\n`values` \n\n###  \n\n\n\n\n\n-  push \n-  pop \n- \n- \n\n\n\n- \n- \n- \n- \n\n\n\n```js\nthis.inOrderTraverseUnRec = function (callback) {\n  if (root !== null) {\n    var stack = new Stack(),\n      node = root;\n    while (!stack.isEmpty() || node) {\n      if (node) {   // \n        stack.push(node); // \n        node = node.left;\n      } else {   // \n        node = stack.pop(); // \n        callback(node.key);\n        node = node.right;\n      }\n    }\n  }\n};\n```\n\n\n\n-  push \n-  pop \n\n\n\n- \n- \n- \n\n\n\n```js\nthis.preOrderTraverseUnRec = function (callback) {\n  if (root !== null) {\n    var stack = new Stack();\n    stack.push(root);\n    while (!stack.isEmpty()) {\n      var node = stack.pop(); // \n      if (callback) {  // \n        callback(node.key);\n      }\n      if (node.right) {  // \n        stack.push(node.right);\n      }\n      if (node.left) {\n        stack.push(node.left);\n      }\n    }\n  }\n};\n```\n\n********\n\n\n\n```js\n this.postOrderTraverseUnRec = function (callback) {\n   if (root !== null) {\n     var stack = new Stack(),\n       outputStack = new Stack(),\n       node;\n     stack.push(root);\n     while (!stack.isEmpty()) {\n       node = stack.pop();\n       outputStack.push(node);  // \n       if (node.left) {\n         stack.push(node.left);\n       }\n       if (node.right) {\n         stack.push(node.right);\n       }\n     }\n     while (!outputStack.isEmpty()) {\n       node = outputStack.pop();  // \n       if (callback) {\n         callback(node.key);\n       }\n     }\n   }\n };\n```\n\n\n\n \n## \n\n<https://github.com/lewis617/javascript-datastructures-algorithms>\n\n<http://www.liuyiqi.cn/tags//>","slug":"tree","published":1,"updated":"2019-05-01T08:02:13.414Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvn2003qtgytbavpvy6b","content":"<p></p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li></li>\n<li>BST() ()()</li>\n<li>AVL1</li>\n<li><a href=\"http://goo.gl/OxED8K\" target=\"_blank\" rel=\"noopener\">http://goo.gl/OxED8K</a></li>\n<li><a href=\"http://goo.gl/SFlhW6\" target=\"_blank\" rel=\"noopener\">http://goo.gl/SFlhW6</a></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li> DOM DOM2  DOM NodeIterator  TreeWalker DOM depth-first</li>\n<li></li>\n</ul>\n<p></p>\n<h2 id=\"-JavaScript-\"><a href=\"#-JavaScript-\" class=\"headerlink\" title=\" JavaScript \"></a> JavaScript </h2><p> JavaScript </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>Node</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> Node = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.key = key;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.left = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.right = <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p> <code>root</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> root = <span class=\"literal\">null</span>;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">      <span class=\"number\">11</span></span><br><span class=\"line\">    <span class=\"number\">7</span>   <span class=\"number\">13</span></span><br><span class=\"line\">  <span class=\"number\">5</span>   <span class=\"number\">9</span> </span><br><span class=\"line\"><span class=\"number\">3</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  key: <span class=\"number\">11</span>,  <span class=\"comment\">// root  key  11 </span></span><br><span class=\"line\">  left: &#123;</span><br><span class=\"line\">    key: <span class=\"number\">7</span>,</span><br><span class=\"line\">    left:  &#123; </span><br><span class=\"line\">      key: <span class=\"number\">5</span>, </span><br><span class=\"line\">      left: &#123;</span><br><span class=\"line\">        key: <span class=\"number\">3</span>,</span><br><span class=\"line\">        left: <span class=\"literal\">null</span>,  </span><br><span class=\"line\">        right: <span class=\"literal\">null</span>  </span><br><span class=\"line\">      &#125;,  </span><br><span class=\"line\">      right: <span class=\"literal\">null</span>  </span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    right:  &#123;  </span><br><span class=\"line\">      key: <span class=\"number\">9</span>,  </span><br><span class=\"line\">      left: <span class=\"literal\">null</span>,  </span><br><span class=\"line\">      right: <span class=\"literal\">null</span>  </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  right: &#123;  </span><br><span class=\"line\">    key: <span class=\"number\">13</span>,  </span><br><span class=\"line\">    left: <span class=\"literal\">null</span>,  </span><br><span class=\"line\">    right: <span class=\"literal\">null</span>  </span><br><span class=\"line\">  &#125;  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-insert-\"><a href=\"#-insert-\" class=\"headerlink\" title=\" insert \"></a> insert </h3><p> <code>insert</code> () ()()</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p> <code>insert</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> insertNode = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">node, newNode</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (newNode.key &lt; node.key) &#123;  </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node.left === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      node.left = newNode; <span class=\"comment\">// </span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      insertNode(node.left, newNode); <span class=\"comment\">// </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node.right === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      node.right = newNode; <span class=\"comment\">// </span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      insertNode(node.right, newNode);  <span class=\"comment\">// </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.insert = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> newNode = <span class=\"keyword\">new</span> Node(key);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (root === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    root = newNode; <span class=\"comment\">// </span></span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    insertNode(root, newNode);  <span class=\"comment\">// </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>values</code>  push </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> binarySearchTree = <span class=\"keyword\">new</span> BinarySearchTree();</span><br><span class=\"line\"></span><br><span class=\"line\">binarySearchTree.insert(<span class=\"number\">11</span>);</span><br><span class=\"line\">binarySearchTree.insert(<span class=\"number\">7</span>);</span><br><span class=\"line\">binarySearchTree.insert(<span class=\"number\">13</span>);</span><br><span class=\"line\">binarySearchTree.insert(<span class=\"number\">5</span>);</span><br><span class=\"line\">binarySearchTree.insert(<span class=\"number\">3</span>);</span><br><span class=\"line\">binarySearchTree.insert(<span class=\"number\">9</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">expect(binarySearchTree.values(<span class=\"string\">'inOrderTraverse'</span>)).toEqual([<span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">7</span>, <span class=\"number\">9</span>, <span class=\"number\">11</span>, <span class=\"number\">13</span>]);</span><br><span class=\"line\">expect(binarySearchTree.values(<span class=\"string\">'preOrderTraverse'</span>)).toEqual([<span class=\"number\">11</span>, <span class=\"number\">7</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">9</span>, <span class=\"number\">13</span>]);</span><br><span class=\"line\">expect(binarySearchTree.values(<span class=\"string\">'postOrderTraverse'</span>)).toEqual([<span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">9</span>, <span class=\"number\">7</span>, <span class=\"number\">13</span>, <span class=\"number\">11</span>]);</span><br></pre></td></tr></table></figure>\n<p><strong></strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> inOrderTraverseNode = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">node, callback</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (node !== <span class=\"literal\">null</span>) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">    inOrderTraverseNode(node.left, callback);</span><br><span class=\"line\">    callback(node.key);</span><br><span class=\"line\">    inOrderTraverseNode(node.right, callback);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.inOrderTraverse = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123;</span><br><span class=\"line\">  inOrderTraverseNode(root, callback);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> preOrderTraverseNode = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">node, callback</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (node !== <span class=\"literal\">null</span>) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">    callback(node.key);</span><br><span class=\"line\">    preOrderTraverseNode(node.left, callback);</span><br><span class=\"line\">    preOrderTraverseNode(node.right, callback);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.preOrderTraverse = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123;</span><br><span class=\"line\">  preOrderTraverseNode(root, callback);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> postOrderTraverseNode = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">node, callback</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (node !== <span class=\"literal\">null</span>) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">    postOrderTraverseNode(node.left, callback);</span><br><span class=\"line\">    postOrderTraverseNode(node.right, callback);</span><br><span class=\"line\">    callback(node.key);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.postOrderTraverse = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123;</span><br><span class=\"line\">  postOrderTraverseNode(root, callback);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p> <code>values</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.values = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">traverseFuc</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> keyList = [];</span><br><span class=\"line\">  <span class=\"keyword\">this</span>[traverseFuc](<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">    keyList.push(key);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> keyList;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p><code>values</code> </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p></p>\n<ul>\n<li> push </li>\n<li> pop </li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.inOrderTraverseUnRec = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (root !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> stack = <span class=\"keyword\">new</span> Stack(),</span><br><span class=\"line\">      node = root;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (!stack.isEmpty() || node) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node) &#123;   <span class=\"comment\">// </span></span><br><span class=\"line\">        stack.push(node); <span class=\"comment\">// </span></span><br><span class=\"line\">        node = node.left;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;   <span class=\"comment\">// </span></span><br><span class=\"line\">        node = stack.pop(); <span class=\"comment\">// </span></span><br><span class=\"line\">        callback(node.key);</span><br><span class=\"line\">        node = node.right;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li> push </li>\n<li> pop </li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.preOrderTraverseUnRec = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (root !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> stack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\">    stack.push(root);</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (!stack.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> node = stack.pop(); <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (callback) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">        callback(node.key);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.right) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">        stack.push(node.right);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.left) &#123;</span><br><span class=\"line\">        stack.push(node.left);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p><strong></strong><strong></strong></p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.postOrderTraverseUnRec = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (root !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> stack = <span class=\"keyword\">new</span> Stack(),</span><br><span class=\"line\">      outputStack = <span class=\"keyword\">new</span> Stack(),</span><br><span class=\"line\">      node;</span><br><span class=\"line\">    stack.push(root);</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (!stack.isEmpty()) &#123;</span><br><span class=\"line\">      node = stack.pop();</span><br><span class=\"line\">      outputStack.push(node);  <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.left) &#123;</span><br><span class=\"line\">        stack.push(node.left);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.right) &#123;</span><br><span class=\"line\">        stack.push(node.right);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (!outputStack.isEmpty()) &#123;</span><br><span class=\"line\">      node = outputStack.pop();  <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (callback) &#123;</span><br><span class=\"line\">        callback(node.key);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>\n","site":{"data":{}},"excerpt":"<p></p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li></li>\n<li>BST() ()()</li>\n<li>AVL1</li>\n<li><a href=\"http://goo.gl/OxED8K\" target=\"_blank\" rel=\"noopener\">http://goo.gl/OxED8K</a></li>\n<li><a href=\"http://goo.gl/SFlhW6\" target=\"_blank\" rel=\"noopener\">http://goo.gl/SFlhW6</a></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li> DOM DOM2  DOM NodeIterator  TreeWalker DOM depth-first</li>\n<li></li>\n</ul>\n<p></p>\n<h2 id=\"-JavaScript-\"><a href=\"#-JavaScript-\" class=\"headerlink\" title=\" JavaScript \"></a> JavaScript </h2><p> JavaScript </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>Node</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> Node = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.key = key;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.left = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.right = <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p> <code>root</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> root = <span class=\"literal\">null</span>;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">      <span class=\"number\">11</span></span><br><span class=\"line\">    <span class=\"number\">7</span>   <span class=\"number\">13</span></span><br><span class=\"line\">  <span class=\"number\">5</span>   <span class=\"number\">9</span> </span><br><span class=\"line\"><span class=\"number\">3</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  key: <span class=\"number\">11</span>,  <span class=\"comment\">// root  key  11 </span></span><br><span class=\"line\">  left: &#123;</span><br><span class=\"line\">    key: <span class=\"number\">7</span>,</span><br><span class=\"line\">    left:  &#123; </span><br><span class=\"line\">      key: <span class=\"number\">5</span>, </span><br><span class=\"line\">      left: &#123;</span><br><span class=\"line\">        key: <span class=\"number\">3</span>,</span><br><span class=\"line\">        left: <span class=\"literal\">null</span>,  </span><br><span class=\"line\">        right: <span class=\"literal\">null</span>  </span><br><span class=\"line\">      &#125;,  </span><br><span class=\"line\">      right: <span class=\"literal\">null</span>  </span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    right:  &#123;  </span><br><span class=\"line\">      key: <span class=\"number\">9</span>,  </span><br><span class=\"line\">      left: <span class=\"literal\">null</span>,  </span><br><span class=\"line\">      right: <span class=\"literal\">null</span>  </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  right: &#123;  </span><br><span class=\"line\">    key: <span class=\"number\">13</span>,  </span><br><span class=\"line\">    left: <span class=\"literal\">null</span>,  </span><br><span class=\"line\">    right: <span class=\"literal\">null</span>  </span><br><span class=\"line\">  &#125;  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-insert-\"><a href=\"#-insert-\" class=\"headerlink\" title=\" insert \"></a> insert </h3><p> <code>insert</code> () ()()</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p> <code>insert</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> insertNode = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">node, newNode</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (newNode.key &lt; node.key) &#123;  </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node.left === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      node.left = newNode; <span class=\"comment\">// </span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      insertNode(node.left, newNode); <span class=\"comment\">// </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node.right === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      node.right = newNode; <span class=\"comment\">// </span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      insertNode(node.right, newNode);  <span class=\"comment\">// </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.insert = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> newNode = <span class=\"keyword\">new</span> Node(key);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (root === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    root = newNode; <span class=\"comment\">// </span></span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    insertNode(root, newNode);  <span class=\"comment\">// </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>values</code>  push </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> binarySearchTree = <span class=\"keyword\">new</span> BinarySearchTree();</span><br><span class=\"line\"></span><br><span class=\"line\">binarySearchTree.insert(<span class=\"number\">11</span>);</span><br><span class=\"line\">binarySearchTree.insert(<span class=\"number\">7</span>);</span><br><span class=\"line\">binarySearchTree.insert(<span class=\"number\">13</span>);</span><br><span class=\"line\">binarySearchTree.insert(<span class=\"number\">5</span>);</span><br><span class=\"line\">binarySearchTree.insert(<span class=\"number\">3</span>);</span><br><span class=\"line\">binarySearchTree.insert(<span class=\"number\">9</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">expect(binarySearchTree.values(<span class=\"string\">'inOrderTraverse'</span>)).toEqual([<span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">7</span>, <span class=\"number\">9</span>, <span class=\"number\">11</span>, <span class=\"number\">13</span>]);</span><br><span class=\"line\">expect(binarySearchTree.values(<span class=\"string\">'preOrderTraverse'</span>)).toEqual([<span class=\"number\">11</span>, <span class=\"number\">7</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">9</span>, <span class=\"number\">13</span>]);</span><br><span class=\"line\">expect(binarySearchTree.values(<span class=\"string\">'postOrderTraverse'</span>)).toEqual([<span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">9</span>, <span class=\"number\">7</span>, <span class=\"number\">13</span>, <span class=\"number\">11</span>]);</span><br></pre></td></tr></table></figure>\n<p><strong></strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> inOrderTraverseNode = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">node, callback</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (node !== <span class=\"literal\">null</span>) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">    inOrderTraverseNode(node.left, callback);</span><br><span class=\"line\">    callback(node.key);</span><br><span class=\"line\">    inOrderTraverseNode(node.right, callback);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.inOrderTraverse = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123;</span><br><span class=\"line\">  inOrderTraverseNode(root, callback);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> preOrderTraverseNode = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">node, callback</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (node !== <span class=\"literal\">null</span>) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">    callback(node.key);</span><br><span class=\"line\">    preOrderTraverseNode(node.left, callback);</span><br><span class=\"line\">    preOrderTraverseNode(node.right, callback);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.preOrderTraverse = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123;</span><br><span class=\"line\">  preOrderTraverseNode(root, callback);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> postOrderTraverseNode = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">node, callback</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (node !== <span class=\"literal\">null</span>) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">    postOrderTraverseNode(node.left, callback);</span><br><span class=\"line\">    postOrderTraverseNode(node.right, callback);</span><br><span class=\"line\">    callback(node.key);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">this</span>.postOrderTraverse = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123;</span><br><span class=\"line\">  postOrderTraverseNode(root, callback);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p> <code>values</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.values = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">traverseFuc</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> keyList = [];</span><br><span class=\"line\">  <span class=\"keyword\">this</span>[traverseFuc](<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">    keyList.push(key);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> keyList;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p><code>values</code> </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p></p>\n<ul>\n<li> push </li>\n<li> pop </li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.inOrderTraverseUnRec = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (root !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> stack = <span class=\"keyword\">new</span> Stack(),</span><br><span class=\"line\">      node = root;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (!stack.isEmpty() || node) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node) &#123;   <span class=\"comment\">// </span></span><br><span class=\"line\">        stack.push(node); <span class=\"comment\">// </span></span><br><span class=\"line\">        node = node.left;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;   <span class=\"comment\">// </span></span><br><span class=\"line\">        node = stack.pop(); <span class=\"comment\">// </span></span><br><span class=\"line\">        callback(node.key);</span><br><span class=\"line\">        node = node.right;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li> push </li>\n<li> pop </li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.preOrderTraverseUnRec = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (root !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> stack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\">    stack.push(root);</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (!stack.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> node = stack.pop(); <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (callback) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">        callback(node.key);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.right) &#123;  <span class=\"comment\">// </span></span><br><span class=\"line\">        stack.push(node.right);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.left) &#123;</span><br><span class=\"line\">        stack.push(node.left);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p><strong></strong><strong></strong></p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.postOrderTraverseUnRec = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (root !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> stack = <span class=\"keyword\">new</span> Stack(),</span><br><span class=\"line\">      outputStack = <span class=\"keyword\">new</span> Stack(),</span><br><span class=\"line\">      node;</span><br><span class=\"line\">    stack.push(root);</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (!stack.isEmpty()) &#123;</span><br><span class=\"line\">      node = stack.pop();</span><br><span class=\"line\">      outputStack.push(node);  <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.left) &#123;</span><br><span class=\"line\">        stack.push(node.left);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.right) &#123;</span><br><span class=\"line\">        stack.push(node.right);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (!outputStack.isEmpty()) &#123;</span><br><span class=\"line\">      node = outputStack.pop();  <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (callback) &#123;</span><br><span class=\"line\">        callback(node.key);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/javascript-datastructures-algorithms\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/javascript-datastructures-algorithms</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags//\">http://www.liuyiqi.cn/tags//</a></p>"},{"title":"TypeScript: Angular 2 ","date":"2016-12-23T19:24:00.000Z","_content":"\nDan Wahlinng-conftalk\n\nhttps://www.youtube.com/watch?v=e3djIqAGqZo\n\n/css/images/221.jpg\n\n<!--more-->\n\n## \n\n\n\n- ng-conf\n- TypeScriptJavaScript\n- TypeScript\n\nDan WahlinTypeScript\n\n## Type Support\n\n[TypeScript Playground](https://www.typescriptlang.org/play/)\n\n![](/css/images/222.jpg)\n\n\nTypeScriptJavaScript`x``y``number``string``number`\n\n![](/css/images/223.jpg)\n\n`string``number``boolean``Array``any`\n\n![](/css/images/224.jpg)\n\n`name``string``age``number``isEnabled``boolean``accessories`Union Type`string``string`Angular 2\n\nng2`add``total``number`\n![](/css/images/225.jpg)\n\n\n\n## Tooling Support\n\nTypeScriptPromise JSONTypeScriptTypeScriptWebstormVSCAtomObserable`response.`\n\n![](/css/images/226.jpg)\n\n\n\n1. Code Help/ Intellisensenice\n2. Refactoring\n3. Peek/Go To\n4. Find References\n\n`dataService`ServiceAngular2`getCustomers`Observable`this.http.`\n\n![](/css/images/227.jpg)\n\nHTTPPeek Definition\n\n![](/css/images/228.jpg)\n\ngetCustomersFind All References\n\n![](/css/images/229.jpg)\n\n\n## Interfaces\n\nTypeScriptJavaScriptTypeScriptng2Code Contract\n\n![](/css/images/230.jpg)\n\n\n\n![](/css/images/231.jpg)\n\n`ICustomer``class`TypeScript`firstName``lastName`\n\n![](/css/images/232.jpg)\n\n`getCustomers``subsribe`Observable of any`subscribe``ICustomer[]`\n\n![](/css/images/233.jpg)\n\n`ngOnInit``ngoninit` `OnInit` `implements`\n\n![](/css/images/234.jpg)\n\n`ngoninit``ngOnInit`\n\n## Generics\n\nCode TemplateHalloween\n\n![](/css/images/235.jpg)\n\n`class``number``string``T``add``new List<ICustomer>()``ICustomer``number``string``add``firstName``lastName``add``205`\n\n![](/css/images/236.jpg)\n\n`dataService``getCustomers``subscribe`Observable of all`getCustomers``Observable<Icustomer[]>``getCustomers``subscribe`Observable of ICustomer[]`subscribe`\n\n![](/css/images/237.jpg)\n\n![](/css/images/238.jpg)\n\n## The Future Today\n\nJavaScriptTypescriptJavaScriptAngular2DecoratorsInjectableasync/await\n\n![](/css/images/239.jpg)\n\n## \n\nTypeScript\n\n![](/css/images/240.jpg)\n\nTypeScriptApp\n\n---\n\n## \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>\n","source":"_posts/typescript-angular2-secret-weapon.md","raw":"---\ntitle: \"TypeScript: Angular 2 \"\ndate: 2016-12-24 03:24:00\ntags: [, TypeScript, Angular2]\n---\n\nDan Wahlinng-conftalk\n\nhttps://www.youtube.com/watch?v=e3djIqAGqZo\n\n/css/images/221.jpg\n\n<!--more-->\n\n## \n\n\n\n- ng-conf\n- TypeScriptJavaScript\n- TypeScript\n\nDan WahlinTypeScript\n\n## Type Support\n\n[TypeScript Playground](https://www.typescriptlang.org/play/)\n\n![](/css/images/222.jpg)\n\n\nTypeScriptJavaScript`x``y``number``string``number`\n\n![](/css/images/223.jpg)\n\n`string``number``boolean``Array``any`\n\n![](/css/images/224.jpg)\n\n`name``string``age``number``isEnabled``boolean``accessories`Union Type`string``string`Angular 2\n\nng2`add``total``number`\n![](/css/images/225.jpg)\n\n\n\n## Tooling Support\n\nTypeScriptPromise JSONTypeScriptTypeScriptWebstormVSCAtomObserable`response.`\n\n![](/css/images/226.jpg)\n\n\n\n1. Code Help/ Intellisensenice\n2. Refactoring\n3. Peek/Go To\n4. Find References\n\n`dataService`ServiceAngular2`getCustomers`Observable`this.http.`\n\n![](/css/images/227.jpg)\n\nHTTPPeek Definition\n\n![](/css/images/228.jpg)\n\ngetCustomersFind All References\n\n![](/css/images/229.jpg)\n\n\n## Interfaces\n\nTypeScriptJavaScriptTypeScriptng2Code Contract\n\n![](/css/images/230.jpg)\n\n\n\n![](/css/images/231.jpg)\n\n`ICustomer``class`TypeScript`firstName``lastName`\n\n![](/css/images/232.jpg)\n\n`getCustomers``subsribe`Observable of any`subscribe``ICustomer[]`\n\n![](/css/images/233.jpg)\n\n`ngOnInit``ngoninit` `OnInit` `implements`\n\n![](/css/images/234.jpg)\n\n`ngoninit``ngOnInit`\n\n## Generics\n\nCode TemplateHalloween\n\n![](/css/images/235.jpg)\n\n`class``number``string``T``add``new List<ICustomer>()``ICustomer``number``string``add``firstName``lastName``add``205`\n\n![](/css/images/236.jpg)\n\n`dataService``getCustomers``subscribe`Observable of all`getCustomers``Observable<Icustomer[]>``getCustomers``subscribe`Observable of ICustomer[]`subscribe`\n\n![](/css/images/237.jpg)\n\n![](/css/images/238.jpg)\n\n## The Future Today\n\nJavaScriptTypescriptJavaScriptAngular2DecoratorsInjectableasync/await\n\n![](/css/images/239.jpg)\n\n## \n\nTypeScript\n\n![](/css/images/240.jpg)\n\nTypeScriptApp\n\n---\n\n## \n\n<https://github.com/lewis617/angular2-tutorial>\n\n<http://www.liuyiqi.cn/tags/Angular2/>\n","slug":"typescript-angular2-secret-weapon","published":1,"updated":"2019-05-01T08:10:30.623Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvn4003stgytahs38doa","content":"<p>Dan Wahlinng-conftalk</p>\n<p><a href=\"https://www.youtube.com/watch?v=e3djIqAGqZo\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=e3djIqAGqZo</a></p>\n<p>/css/images/221.jpg</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li>ng-conf</li>\n<li>TypeScriptJavaScript</li>\n<li>TypeScript</li>\n</ul>\n<p>Dan WahlinTypeScript</p>\n<h2 id=\"Type-Support\"><a href=\"#Type-Support\" class=\"headerlink\" title=\"Type Support\"></a>Type Support</h2><p><a href=\"https://www.typescriptlang.org/play/\" target=\"_blank\" rel=\"noopener\">TypeScript Playground</a></p>\n<p><img src=\"/css/images/222.jpg\" alt=\"\"></p>\n<p>TypeScriptJavaScript<code>x</code><code>y</code><code>number</code><code>string</code><code>number</code></p>\n<p><img src=\"/css/images/223.jpg\" alt=\"\"></p>\n<p><code>string</code><code>number</code><code>boolean</code><code>Array</code><code>any</code></p>\n<p><img src=\"/css/images/224.jpg\" alt=\"\"></p>\n<p><code>name</code><code>string</code><code>age</code><code>number</code><code>isEnabled</code><code>boolean</code><code>accessories</code>Union Type<code>string</code><code>string</code>Angular 2</p>\n<p>ng2<code>add</code><code>total</code><code>number</code><br><img src=\"/css/images/225.jpg\" alt=\"\"></p>\n<p></p>\n<h2 id=\"Tooling-Support\"><a href=\"#Tooling-Support\" class=\"headerlink\" title=\"Tooling Support\"></a>Tooling Support</h2><p>TypeScriptPromise JSONTypeScriptTypeScriptWebstormVSCAtomObserable<code>response.</code></p>\n<p><img src=\"/css/images/226.jpg\" alt=\"\"></p>\n<p></p>\n<ol>\n<li>Code Help/ Intellisensenice</li>\n<li>Refactoring</li>\n<li>Peek/Go To</li>\n<li>Find References</li>\n</ol>\n<p><code>dataService</code>ServiceAngular2<code>getCustomers</code>Observable<code>this.http.</code></p>\n<p><img src=\"/css/images/227.jpg\" alt=\"\"></p>\n<p>HTTPPeek Definition</p>\n<p><img src=\"/css/images/228.jpg\" alt=\"\"></p>\n<p>getCustomersFind All References</p>\n<p><img src=\"/css/images/229.jpg\" alt=\"\"></p>\n<h2 id=\"Interfaces\"><a href=\"#Interfaces\" class=\"headerlink\" title=\"Interfaces\"></a>Interfaces</h2><p>TypeScriptJavaScriptTypeScriptng2Code Contract</p>\n<p><img src=\"/css/images/230.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"/css/images/231.jpg\" alt=\"\"></p>\n<p><code>ICustomer</code><code>class</code>TypeScript<code>firstName</code><code>lastName</code></p>\n<p><img src=\"/css/images/232.jpg\" alt=\"\"></p>\n<p><code>getCustomers</code><code>subsribe</code>Observable of any<code>subscribe</code><code>ICustomer[]</code></p>\n<p><img src=\"/css/images/233.jpg\" alt=\"\"></p>\n<p><code>ngOnInit</code><code>ngoninit</code> <code>OnInit</code> <code>implements</code></p>\n<p><img src=\"/css/images/234.jpg\" alt=\"\"></p>\n<p><code>ngoninit</code><code>ngOnInit</code></p>\n<h2 id=\"Generics\"><a href=\"#Generics\" class=\"headerlink\" title=\"Generics\"></a>Generics</h2><p>Code TemplateHalloween</p>\n<p><img src=\"/css/images/235.jpg\" alt=\"\"></p>\n<p><code>class</code><code>number</code><code>string</code><code>T</code><code>add</code><code>new List&lt;ICustomer&gt;()</code><code>ICustomer</code><code>number</code><code>string</code><code>add</code><code>firstName</code><code>lastName</code><code>add</code><code>205</code></p>\n<p><img src=\"/css/images/236.jpg\" alt=\"\"></p>\n<p><code>dataService</code><code>getCustomers</code><code>subscribe</code>Observable of all<code>getCustomers</code><code>Observable&lt;Icustomer[]&gt;</code><code>getCustomers</code><code>subscribe</code>Observable of ICustomer[]<code>subscribe</code></p>\n<p><img src=\"/css/images/237.jpg\" alt=\"\"></p>\n<p><img src=\"/css/images/238.jpg\" alt=\"\"></p>\n<h2 id=\"The-Future-Today\"><a href=\"#The-Future-Today\" class=\"headerlink\" title=\"The Future Today\"></a>The Future Today</h2><p>JavaScriptTypescriptJavaScriptAngular2DecoratorsInjectableasync/await</p>\n<p><img src=\"/css/images/239.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>TypeScript</p>\n<p><img src=\"/css/images/240.jpg\" alt=\"\"></p>\n<p>TypeScriptApp</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>\n","site":{"data":{}},"excerpt":"<p>Dan Wahlinng-conftalk</p>\n<p><a href=\"https://www.youtube.com/watch?v=e3djIqAGqZo\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=e3djIqAGqZo</a></p>\n<p>/css/images/221.jpg</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li>ng-conf</li>\n<li>TypeScriptJavaScript</li>\n<li>TypeScript</li>\n</ul>\n<p>Dan WahlinTypeScript</p>\n<h2 id=\"Type-Support\"><a href=\"#Type-Support\" class=\"headerlink\" title=\"Type Support\"></a>Type Support</h2><p><a href=\"https://www.typescriptlang.org/play/\" target=\"_blank\" rel=\"noopener\">TypeScript Playground</a></p>\n<p><img src=\"/css/images/222.jpg\" alt=\"\"></p>\n<p>TypeScriptJavaScript<code>x</code><code>y</code><code>number</code><code>string</code><code>number</code></p>\n<p><img src=\"/css/images/223.jpg\" alt=\"\"></p>\n<p><code>string</code><code>number</code><code>boolean</code><code>Array</code><code>any</code></p>\n<p><img src=\"/css/images/224.jpg\" alt=\"\"></p>\n<p><code>name</code><code>string</code><code>age</code><code>number</code><code>isEnabled</code><code>boolean</code><code>accessories</code>Union Type<code>string</code><code>string</code>Angular 2</p>\n<p>ng2<code>add</code><code>total</code><code>number</code><br><img src=\"/css/images/225.jpg\" alt=\"\"></p>\n<p></p>\n<h2 id=\"Tooling-Support\"><a href=\"#Tooling-Support\" class=\"headerlink\" title=\"Tooling Support\"></a>Tooling Support</h2><p>TypeScriptPromise JSONTypeScriptTypeScriptWebstormVSCAtomObserable<code>response.</code></p>\n<p><img src=\"/css/images/226.jpg\" alt=\"\"></p>\n<p></p>\n<ol>\n<li>Code Help/ Intellisensenice</li>\n<li>Refactoring</li>\n<li>Peek/Go To</li>\n<li>Find References</li>\n</ol>\n<p><code>dataService</code>ServiceAngular2<code>getCustomers</code>Observable<code>this.http.</code></p>\n<p><img src=\"/css/images/227.jpg\" alt=\"\"></p>\n<p>HTTPPeek Definition</p>\n<p><img src=\"/css/images/228.jpg\" alt=\"\"></p>\n<p>getCustomersFind All References</p>\n<p><img src=\"/css/images/229.jpg\" alt=\"\"></p>\n<h2 id=\"Interfaces\"><a href=\"#Interfaces\" class=\"headerlink\" title=\"Interfaces\"></a>Interfaces</h2><p>TypeScriptJavaScriptTypeScriptng2Code Contract</p>\n<p><img src=\"/css/images/230.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"/css/images/231.jpg\" alt=\"\"></p>\n<p><code>ICustomer</code><code>class</code>TypeScript<code>firstName</code><code>lastName</code></p>\n<p><img src=\"/css/images/232.jpg\" alt=\"\"></p>\n<p><code>getCustomers</code><code>subsribe</code>Observable of any<code>subscribe</code><code>ICustomer[]</code></p>\n<p><img src=\"/css/images/233.jpg\" alt=\"\"></p>\n<p><code>ngOnInit</code><code>ngoninit</code> <code>OnInit</code> <code>implements</code></p>\n<p><img src=\"/css/images/234.jpg\" alt=\"\"></p>\n<p><code>ngoninit</code><code>ngOnInit</code></p>\n<h2 id=\"Generics\"><a href=\"#Generics\" class=\"headerlink\" title=\"Generics\"></a>Generics</h2><p>Code TemplateHalloween</p>\n<p><img src=\"/css/images/235.jpg\" alt=\"\"></p>\n<p><code>class</code><code>number</code><code>string</code><code>T</code><code>add</code><code>new List&lt;ICustomer&gt;()</code><code>ICustomer</code><code>number</code><code>string</code><code>add</code><code>firstName</code><code>lastName</code><code>add</code><code>205</code></p>\n<p><img src=\"/css/images/236.jpg\" alt=\"\"></p>\n<p><code>dataService</code><code>getCustomers</code><code>subscribe</code>Observable of all<code>getCustomers</code><code>Observable&lt;Icustomer[]&gt;</code><code>getCustomers</code><code>subscribe</code>Observable of ICustomer[]<code>subscribe</code></p>\n<p><img src=\"/css/images/237.jpg\" alt=\"\"></p>\n<p><img src=\"/css/images/238.jpg\" alt=\"\"></p>\n<h2 id=\"The-Future-Today\"><a href=\"#The-Future-Today\" class=\"headerlink\" title=\"The Future Today\"></a>The Future Today</h2><p>JavaScriptTypescriptJavaScriptAngular2DecoratorsInjectableasync/await</p>\n<p><img src=\"/css/images/239.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>TypeScript</p>\n<p><img src=\"/css/images/240.jpg\" alt=\"\"></p>\n<p>TypeScriptApp</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/angular2-tutorial\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/angular2-tutorial</a></p>\n<p><a href=\"http://www.liuyiqi.cn/tags/Angular2/\">http://www.liuyiqi.cn/tags/Angular2/</a></p>"},{"title":" JavaScript ","date":"2017-11-03T02:36:00.000Z","_content":"\n JavaScript \b\n\n\n\n<https://github.com/lewis617/practical-node/blob/master/src/weiboBackup.js>\n\n<!--more-->\n\n## \n\n\n\n```js\n/**\n * \n * \n * jsconsole\n */\n\nvar nodeArray = Array.from(document.querySelectorAll('.list_con .WB_text'));\n\nvar textArray = nodeArray.map(function (node) {\n  return Array.from(node.childNodes).map(function (childNode) {\n    var value;\n    // \n    if (childNode.nodeName === '#text') value = childNode.nodeValue;\n    // \n    else if (childNode.nodeName === 'IMG') value = childNode.alt;\n    // \n    else if (childNode.nodeName === 'A') value = childNode.lastChild.nodeValue;\n    return value.replace(/(\\s+$)|(^\\s+)/g, '');\n  }).join('');\n});\n\nconsole.log(textArray.join('\\n'));\n```\n\n JavaScript \n\n## \n\n\b\n\n1<http://www.weibo.com/2207255374/Eqkmf0pL4>\n\n![](/css/images/241.jpg)\n\n\n\n2 \bJavaScript  console \n\n```\nGeo\ndev_zk[][]\ndev_zk\n```\n\n\n\n## \n\n\n [Array.from](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from)  [document.querySelectorAll](https://developer.mozilla.org/zh-CN/docs/Web/API/Document/querySelectorAll)  [NodeList](https://developer.mozilla.org/en-US/docs/Web/API/NodeList) ES6  `NodeList` \n\n```js\nvar nodeArray = Array.from(document.querySelectorAll('.list_con .WB_text'));\n```\n\n\b [nodeName](https://developer.mozilla.org/zh-CN/docs/Web/API/Node/nodeName)[nodeValue](https://developer.mozilla.org/zh-CN/docs/Web/API/Node/nodeValue)[lastChild](https://developer.mozilla.org/zh-CN/docs/Web/API/Node/lastChild)  `Node`  `replace(/(\\s+$)|(^\\s+)/g, '')`  `join` \n\n```js\nvar textArray = nodeArray.map(function (node) {\n  return Array.from(node.childNodes).map(function (childNode) {\n    var value;\n    // \n    if (childNode.nodeName === '#text') value = childNode.nodeValue;\n    // \n    else if (childNode.nodeName === 'IMG') value = childNode.alt;\n    // \n    else if (childNode.nodeName === 'A') value = childNode.lastChild.nodeValue;\n    return value.replace(/(\\s+$)|(^\\s+)/g, '');\n  }).join('');\n});\n```\n\n\n\n```js\nconsole.log(textArray.join('\\n'));\n```\n\n## \n\n<https://github.com/lewis617/practical-js>","source":"_posts/use-js-to-get-weibo-comments.md","raw":"---\ntitle:  JavaScript \ndate: 2017-11-03 10:36:00\ntags: [practical-js, ]\n---\n\n JavaScript \b\n\n\n\n<https://github.com/lewis617/practical-node/blob/master/src/weiboBackup.js>\n\n<!--more-->\n\n## \n\n\n\n```js\n/**\n * \n * \n * jsconsole\n */\n\nvar nodeArray = Array.from(document.querySelectorAll('.list_con .WB_text'));\n\nvar textArray = nodeArray.map(function (node) {\n  return Array.from(node.childNodes).map(function (childNode) {\n    var value;\n    // \n    if (childNode.nodeName === '#text') value = childNode.nodeValue;\n    // \n    else if (childNode.nodeName === 'IMG') value = childNode.alt;\n    // \n    else if (childNode.nodeName === 'A') value = childNode.lastChild.nodeValue;\n    return value.replace(/(\\s+$)|(^\\s+)/g, '');\n  }).join('');\n});\n\nconsole.log(textArray.join('\\n'));\n```\n\n JavaScript \n\n## \n\n\b\n\n1<http://www.weibo.com/2207255374/Eqkmf0pL4>\n\n![](/css/images/241.jpg)\n\n\n\n2 \bJavaScript  console \n\n```\nGeo\ndev_zk[][]\ndev_zk\n```\n\n\n\n## \n\n\n [Array.from](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from)  [document.querySelectorAll](https://developer.mozilla.org/zh-CN/docs/Web/API/Document/querySelectorAll)  [NodeList](https://developer.mozilla.org/en-US/docs/Web/API/NodeList) ES6  `NodeList` \n\n```js\nvar nodeArray = Array.from(document.querySelectorAll('.list_con .WB_text'));\n```\n\n\b [nodeName](https://developer.mozilla.org/zh-CN/docs/Web/API/Node/nodeName)[nodeValue](https://developer.mozilla.org/zh-CN/docs/Web/API/Node/nodeValue)[lastChild](https://developer.mozilla.org/zh-CN/docs/Web/API/Node/lastChild)  `Node`  `replace(/(\\s+$)|(^\\s+)/g, '')`  `join` \n\n```js\nvar textArray = nodeArray.map(function (node) {\n  return Array.from(node.childNodes).map(function (childNode) {\n    var value;\n    // \n    if (childNode.nodeName === '#text') value = childNode.nodeValue;\n    // \n    else if (childNode.nodeName === 'IMG') value = childNode.alt;\n    // \n    else if (childNode.nodeName === 'A') value = childNode.lastChild.nodeValue;\n    return value.replace(/(\\s+$)|(^\\s+)/g, '');\n  }).join('');\n});\n```\n\n\n\n```js\nconsole.log(textArray.join('\\n'));\n```\n\n## \n\n<https://github.com/lewis617/practical-js>","slug":"use-js-to-get-weibo-comments","published":1,"updated":"2019-05-01T08:10:30.635Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjv4xxvn5003vtgytw9e8iku5","content":"<p> JavaScript \b</p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/practical-node/blob/master/src/weiboBackup.js\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/practical-node/blob/master/src/weiboBackup.js</a></p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> * jsconsole</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> nodeArray = <span class=\"built_in\">Array</span>.from(<span class=\"built_in\">document</span>.querySelectorAll(<span class=\"string\">'.list_con .WB_text'</span>));</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> textArray = nodeArray.map(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">node</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Array</span>.from(node.childNodes).map(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">childNode</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> value;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (childNode.nodeName === <span class=\"string\">'#text'</span>) value = childNode.nodeValue;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (childNode.nodeName === <span class=\"string\">'IMG'</span>) value = childNode.alt;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (childNode.nodeName === <span class=\"string\">'A'</span>) value = childNode.lastChild.nodeValue;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> value.replace(<span class=\"regexp\">/(\\s+$)|(^\\s+)/g</span>, <span class=\"string\">''</span>);</span><br><span class=\"line\">  &#125;).join(<span class=\"string\">''</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(textArray.join(<span class=\"string\">'\\n'</span>));</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>\b</p>\n<p>1<a href=\"http://www.weibo.com/2207255374/Eqkmf0pL4\" target=\"_blank\" rel=\"noopener\">http://www.weibo.com/2207255374/Eqkmf0pL4</a></p>\n<p><img src=\"/css/images/241.jpg\" alt=\"\"></p>\n<p></p>\n<p>2 \bJavaScript  console </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Geo</span><br><span class=\"line\">dev_zk[][]</span><br><span class=\"line\">dev_zk</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from\" target=\"_blank\" rel=\"noopener\">Array.from</a>  <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Document/querySelectorAll\" target=\"_blank\" rel=\"noopener\">document.querySelectorAll</a>  <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/NodeList\" target=\"_blank\" rel=\"noopener\">NodeList</a> ES6  <code>NodeList</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> nodeArray = <span class=\"built_in\">Array</span>.from(<span class=\"built_in\">document</span>.querySelectorAll(<span class=\"string\">'.list_con .WB_text'</span>));</span><br></pre></td></tr></table></figure>\n<p>\b <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Node/nodeName\" target=\"_blank\" rel=\"noopener\">nodeName</a><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Node/nodeValue\" target=\"_blank\" rel=\"noopener\">nodeValue</a><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Node/lastChild\" target=\"_blank\" rel=\"noopener\">lastChild</a>  <code>Node</code>  <code>replace(/(\\s+$)|(^\\s+)/g, &#39;&#39;)</code>  <code>join</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> textArray = nodeArray.map(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">node</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Array</span>.from(node.childNodes).map(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">childNode</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> value;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (childNode.nodeName === <span class=\"string\">'#text'</span>) value = childNode.nodeValue;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (childNode.nodeName === <span class=\"string\">'IMG'</span>) value = childNode.alt;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (childNode.nodeName === <span class=\"string\">'A'</span>) value = childNode.lastChild.nodeValue;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> value.replace(<span class=\"regexp\">/(\\s+$)|(^\\s+)/g</span>, <span class=\"string\">''</span>);</span><br><span class=\"line\">  &#125;).join(<span class=\"string\">''</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log(textArray.join(<span class=\"string\">'\\n'</span>));</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/practical-js\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/practical-js</a></p>\n","site":{"data":{}},"excerpt":"<p> JavaScript \b</p>\n<p></p>\n<p><a href=\"https://github.com/lewis617/practical-node/blob/master/src/weiboBackup.js\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/practical-node/blob/master/src/weiboBackup.js</a></p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> * jsconsole</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> nodeArray = <span class=\"built_in\">Array</span>.from(<span class=\"built_in\">document</span>.querySelectorAll(<span class=\"string\">'.list_con .WB_text'</span>));</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> textArray = nodeArray.map(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">node</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Array</span>.from(node.childNodes).map(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">childNode</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> value;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (childNode.nodeName === <span class=\"string\">'#text'</span>) value = childNode.nodeValue;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (childNode.nodeName === <span class=\"string\">'IMG'</span>) value = childNode.alt;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (childNode.nodeName === <span class=\"string\">'A'</span>) value = childNode.lastChild.nodeValue;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> value.replace(<span class=\"regexp\">/(\\s+$)|(^\\s+)/g</span>, <span class=\"string\">''</span>);</span><br><span class=\"line\">  &#125;).join(<span class=\"string\">''</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(textArray.join(<span class=\"string\">'\\n'</span>));</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>\b</p>\n<p>1<a href=\"http://www.weibo.com/2207255374/Eqkmf0pL4\" target=\"_blank\" rel=\"noopener\">http://www.weibo.com/2207255374/Eqkmf0pL4</a></p>\n<p><img src=\"/css/images/241.jpg\" alt=\"\"></p>\n<p></p>\n<p>2 \bJavaScript  console </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Geo</span><br><span class=\"line\">dev_zk[][]</span><br><span class=\"line\">dev_zk</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from\" target=\"_blank\" rel=\"noopener\">Array.from</a>  <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Document/querySelectorAll\" target=\"_blank\" rel=\"noopener\">document.querySelectorAll</a>  <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/NodeList\" target=\"_blank\" rel=\"noopener\">NodeList</a> ES6  <code>NodeList</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> nodeArray = <span class=\"built_in\">Array</span>.from(<span class=\"built_in\">document</span>.querySelectorAll(<span class=\"string\">'.list_con .WB_text'</span>));</span><br></pre></td></tr></table></figure>\n<p>\b <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Node/nodeName\" target=\"_blank\" rel=\"noopener\">nodeName</a><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Node/nodeValue\" target=\"_blank\" rel=\"noopener\">nodeValue</a><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Node/lastChild\" target=\"_blank\" rel=\"noopener\">lastChild</a>  <code>Node</code>  <code>replace(/(\\s+$)|(^\\s+)/g, &#39;&#39;)</code>  <code>join</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> textArray = nodeArray.map(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">node</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Array</span>.from(node.childNodes).map(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">childNode</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> value;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (childNode.nodeName === <span class=\"string\">'#text'</span>) value = childNode.nodeValue;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (childNode.nodeName === <span class=\"string\">'IMG'</span>) value = childNode.alt;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (childNode.nodeName === <span class=\"string\">'A'</span>) value = childNode.lastChild.nodeValue;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> value.replace(<span class=\"regexp\">/(\\s+$)|(^\\s+)/g</span>, <span class=\"string\">''</span>);</span><br><span class=\"line\">  &#125;).join(<span class=\"string\">''</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log(textArray.join(<span class=\"string\">'\\n'</span>));</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/lewis617/practical-js\" target=\"_blank\" rel=\"noopener\">https://github.com/lewis617/practical-js</a></p>"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"cjv4xxvkq0001tgyth49yc47m","tag_id":"cjv4xxvkw0003tgytu4t7p17d","_id":"cjv4xxvl7000ctgyt2p05aak1"},{"post_id":"cjv4xxvkq0001tgyth49yc47m","tag_id":"cjv4xxvl10007tgyt9i8a2wec","_id":"cjv4xxvl8000etgytpwdz8ve7"},{"post_id":"cjv4xxvl6000btgytyftxx0tp","tag_id":"cjv4xxvkw0003tgytu4t7p17d","_id":"cjv4xxvl9000htgytus0xvtd5"},{"post_id":"cjv4xxvl8000gtgytutwdje3f","tag_id":"cjv4xxvkw0003tgytu4t7p17d","_id":"cjv4xxvla000jtgytesvfu1gs"},{"post_id":"cjv4xxvl9000itgytjq6n6uui","tag_id":"cjv4xxvkw0003tgytu4t7p17d","_id":"cjv4xxvlb000mtgyta96v3j3o"},{"post_id":"cjv4xxvl9000itgytjq6n6uui","tag_id":"cjv4xxvl10007tgyt9i8a2wec","_id":"cjv4xxvlc000otgytoxwf0181"},{"post_id":"cjv4xxvla000ltgytepkeftoo","tag_id":"cjv4xxvkw0003tgytu4t7p17d","_id":"cjv4xxvld000rtgytycdu6ry4"},{"post_id":"cjv4xxvlb000ntgytvnxwfb3a","tag_id":"cjv4xxvkw0003tgytu4t7p17d","_id":"cjv4xxvle000ttgytwjlshq4z"},{"post_id":"cjv4xxvlb000ntgytvnxwfb3a","tag_id":"cjv4xxvl10007tgyt9i8a2wec","_id":"cjv4xxvli000wtgytdh9t0znl"},{"post_id":"cjv4xxvku0002tgyt388dwszg","tag_id":"cjv4xxvl5000atgytgddssb80","_id":"cjv4xxvlj000ytgyt8q1s4gdv"},{"post_id":"cjv4xxvku0002tgyt388dwszg","tag_id":"cjv4xxvl8000ftgyty3s7ieqf","_id":"cjv4xxvll0011tgytu2vu1j0n"},{"post_id":"cjv4xxvku0002tgyt388dwszg","tag_id":"cjv4xxvla000ktgytdrrypd8w","_id":"cjv4xxvlm0013tgythx6j2jtn"},{"post_id":"cjv4xxvku0002tgyt388dwszg","tag_id":"cjv4xxvld000qtgyt3hy7rris","_id":"cjv4xxvln0016tgyt6yky99wq"},{"post_id":"cjv4xxvlm0014tgytc4v6h6pp","tag_id":"cjv4xxvkw0003tgytu4t7p17d","_id":"cjv4xxvlo0018tgytn2ftkder"},{"post_id":"cjv4xxvkx0004tgytnxauiukn","tag_id":"cjv4xxvl5000atgytgddssb80","_id":"cjv4xxvlt001ftgytc4fb04u4"},{"post_id":"cjv4xxvkx0004tgytnxauiukn","tag_id":"cjv4xxvl8000ftgyty3s7ieqf","_id":"cjv4xxvlu001htgytijehopag"},{"post_id":"cjv4xxvkx0004tgytnxauiukn","tag_id":"cjv4xxvla000ktgytdrrypd8w","_id":"cjv4xxvlv001ktgytuc2c7dr5"},{"post_id":"cjv4xxvkx0004tgytnxauiukn","tag_id":"cjv4xxvlq001atgytq7vvxex8","_id":"cjv4xxvlw001mtgytbxd83ovo"},{"post_id":"cjv4xxvls001etgyt4pcsd5y1","tag_id":"cjv4xxvkw0003tgytu4t7p17d","_id":"cjv4xxvlx001ptgyt5ly4ljbf"},{"post_id":"cjv4xxvls001etgyt4pcsd5y1","tag_id":"cjv4xxvl10007tgyt9i8a2wec","_id":"cjv4xxvly001rtgytt3j00yv2"},{"post_id":"cjv4xxvkz0005tgytoyohak5w","tag_id":"cjv4xxvls001dtgyt6r0kaux5","_id":"cjv4xxvm1001ytgytszyw8ho2"},{"post_id":"cjv4xxvkz0005tgytoyohak5w","tag_id":"cjv4xxvl5000atgytgddssb80","_id":"cjv4xxvm20020tgyte2wlf5ds"},{"post_id":"cjv4xxvkz0005tgytoyohak5w","tag_id":"cjv4xxvlw001ntgytnvthd8k0","_id":"cjv4xxvm30023tgytrtal0wp7"},{"post_id":"cjv4xxvkz0005tgytoyohak5w","tag_id":"cjv4xxvly001ttgytbeaqnath","_id":"cjv4xxvm40025tgyt5c17zjj9"},{"post_id":"cjv4xxvl10006tgytlkr0qvhp","tag_id":"cjv4xxvkw0003tgytu4t7p17d","_id":"cjv4xxvm50028tgytsnnwgyy8"},{"post_id":"cjv4xxvl10006tgytlkr0qvhp","tag_id":"cjv4xxvl10007tgyt9i8a2wec","_id":"cjv4xxvm6002atgytegbv7rmy"},{"post_id":"cjv4xxvl30008tgytbzl2u0sa","tag_id":"cjv4xxvm20021tgytxyvglkew","_id":"cjv4xxvm7002dtgytlccenmvg"},{"post_id":"cjv4xxvm50029tgyto8p2oe6q","tag_id":"cjv4xxvkw0003tgytu4t7p17d","_id":"cjv4xxvm8002ftgyt8guccjqb"},{"post_id":"cjv4xxvl40009tgytlhxoft20","tag_id":"cjv4xxvm40026tgythqjxwqyl","_id":"cjv4xxvma002itgytkrtib4bc"},{"post_id":"cjv4xxvl40009tgytlhxoft20","tag_id":"cjv4xxvm6002btgyt6zjm1sjj","_id":"cjv4xxvmb002ktgyt7wc18c8n"},{"post_id":"cjv4xxvl7000dtgyt0usvwnem","tag_id":"cjv4xxvm9002htgyt35nmrjye","_id":"cjv4xxvmo0030tgytboop5dse"},{"post_id":"cjv4xxvl7000dtgyt0usvwnem","tag_id":"cjv4xxvls001dtgyt6r0kaux5","_id":"cjv4xxvmp0032tgytoy20qfoi"},{"post_id":"cjv4xxvl7000dtgyt0usvwnem","tag_id":"cjv4xxvl5000atgytgddssb80","_id":"cjv4xxvmq0035tgytdliqvfi5"},{"post_id":"cjv4xxvl7000dtgyt0usvwnem","tag_id":"cjv4xxvlw001ntgytnvthd8k0","_id":"cjv4xxvmr0037tgytgc6x7w1v"},{"post_id":"cjv4xxvl7000dtgyt0usvwnem","tag_id":"cjv4xxvmh002stgytp07va8ij","_id":"cjv4xxvmt003atgyti97kfto7"},{"post_id":"cjv4xxvl7000dtgyt0usvwnem","tag_id":"cjv4xxvly001ttgytbeaqnath","_id":"cjv4xxvmu003ctgytmrk58hpa"},{"post_id":"cjv4xxvlc000ptgytt770quys","tag_id":"cjv4xxvl5000atgytgddssb80","_id":"cjv4xxvmv003ftgytzlx1bl6x"},{"post_id":"cjv4xxvlc000ptgytt770quys","tag_id":"cjv4xxvlw001ntgytnvthd8k0","_id":"cjv4xxvmx003htgyt7p5evllr"},{"post_id":"cjv4xxvlc000ptgytt770quys","tag_id":"cjv4xxvly001ttgytbeaqnath","_id":"cjv4xxvmy003ktgytl63wys75"},{"post_id":"cjv4xxvlc000ptgytt770quys","tag_id":"cjv4xxvls001dtgyt6r0kaux5","_id":"cjv4xxvmz003mtgyti3ny5cr7"},{"post_id":"cjv4xxvmt003btgyttbye6ch5","tag_id":"cjv4xxvkw0003tgytu4t7p17d","_id":"cjv4xxvn1003ptgyt18pqxpn1"},{"post_id":"cjv4xxvmu003etgytyvqop8o2","tag_id":"cjv4xxvkw0003tgytu4t7p17d","_id":"cjv4xxvn3003rtgytaxr8u9dz"},{"post_id":"cjv4xxvmw003gtgytoyylr48f","tag_id":"cjv4xxvkw0003tgytu4t7p17d","_id":"cjv4xxvn5003utgytgv0xml0g"},{"post_id":"cjv4xxvld000stgytxr4vebuy","tag_id":"cjv4xxvmu003dtgyt0cics33d","_id":"cjv4xxvn6003wtgytd6m7sppv"},{"post_id":"cjv4xxvld000stgytxr4vebuy","tag_id":"cjv4xxvmx003itgytmg03v96l","_id":"cjv4xxvn7003xtgyt20bb427s"},{"post_id":"cjv4xxvld000stgytxr4vebuy","tag_id":"cjv4xxvl5000atgytgddssb80","_id":"cjv4xxvn7003ztgytu3926vud"},{"post_id":"cjv4xxvn2003qtgytbavpvy6b","tag_id":"cjv4xxvkw0003tgytu4t7p17d","_id":"cjv4xxvn70040tgytyxcslk87"},{"post_id":"cjv4xxvle000utgytac6f35sw","tag_id":"cjv4xxvn1003otgytiljplp6s","_id":"cjv4xxvn70042tgyt2c5uhy37"},{"post_id":"cjv4xxvli000xtgytp8mmn6yn","tag_id":"cjv4xxvn5003ttgytgshvpmcs","_id":"cjv4xxvn90049tgytwrgw2md7"},{"post_id":"cjv4xxvli000xtgytp8mmn6yn","tag_id":"cjv4xxvn7003ytgyt5yu1x79o","_id":"cjv4xxvn9004atgyt0vueoxi4"},{"post_id":"cjv4xxvli000xtgytp8mmn6yn","tag_id":"cjv4xxvn70041tgytniok5qj6","_id":"cjv4xxvna004ctgyt13v2lhqp"},{"post_id":"cjv4xxvli000xtgytp8mmn6yn","tag_id":"cjv4xxvkw0003tgytu4t7p17d","_id":"cjv4xxvna004dtgytbytd97fv"},{"post_id":"cjv4xxvli000xtgytp8mmn6yn","tag_id":"cjv4xxvn80043tgyt7w6pizpr","_id":"cjv4xxvna004ftgyt4b1u6xx2"},{"post_id":"cjv4xxvli000xtgytp8mmn6yn","tag_id":"cjv4xxvn80044tgytwx12aobd","_id":"cjv4xxvna004gtgytunovdudd"},{"post_id":"cjv4xxvli000xtgytp8mmn6yn","tag_id":"cjv4xxvn80045tgytik6y40n6","_id":"cjv4xxvnb004itgytxw4oeifb"},{"post_id":"cjv4xxvli000xtgytp8mmn6yn","tag_id":"cjv4xxvn80046tgyt69oemefu","_id":"cjv4xxvnb004jtgyt35ezx250"},{"post_id":"cjv4xxvli000xtgytp8mmn6yn","tag_id":"cjv4xxvn80047tgytnwenlkwx","_id":"cjv4xxvnc004ltgytv1q1ofwi"},{"post_id":"cjv4xxvlj000ztgytugiwdp1s","tag_id":"cjv4xxvn80048tgytn8f833u6","_id":"cjv4xxvnc004mtgytyibdrh5h"},{"post_id":"cjv4xxvlj000ztgytugiwdp1s","tag_id":"cjv4xxvmx003itgytmg03v96l","_id":"cjv4xxvnc004ntgyt88fpic2j"},{"post_id":"cjv4xxvlj000ztgytugiwdp1s","tag_id":"cjv4xxvl5000atgytgddssb80","_id":"cjv4xxvnc004ptgytyrwzd4s8"},{"post_id":"cjv4xxvll0012tgyttufavdv8","tag_id":"cjv4xxvna004etgytfxtb2s2u","_id":"cjv4xxvnd004rtgytp3z3042h"},{"post_id":"cjv4xxvll0012tgyttufavdv8","tag_id":"cjv4xxvna004htgytnluotna0","_id":"cjv4xxvnd004stgytwrijn182"},{"post_id":"cjv4xxvll0012tgyttufavdv8","tag_id":"cjv4xxvnb004ktgytnbn392zg","_id":"cjv4xxvne004utgytzo977yvk"},{"post_id":"cjv4xxvll0012tgyttufavdv8","tag_id":"cjv4xxvnc004otgyt7kmrtxgq","_id":"cjv4xxvne004vtgytl246vu4n"},{"post_id":"cjv4xxvln0017tgytaza9k50e","tag_id":"cjv4xxvn80048tgytn8f833u6","_id":"cjv4xxvne004xtgytyviurdbz"},{"post_id":"cjv4xxvln0017tgytaza9k50e","tag_id":"cjv4xxvmx003itgytmg03v96l","_id":"cjv4xxvnf004ytgyto09ia6sd"},{"post_id":"cjv4xxvln0017tgytaza9k50e","tag_id":"cjv4xxvl5000atgytgddssb80","_id":"cjv4xxvnf0050tgyt2vapw3gt"},{"post_id":"cjv4xxvlp0019tgyt4qbp3m47","tag_id":"cjv4xxvne004wtgytmesjovds","_id":"cjv4xxvng0053tgytvv9j8yn3"},{"post_id":"cjv4xxvlp0019tgyt4qbp3m47","tag_id":"cjv4xxvnf004ztgyt558hpgrh","_id":"cjv4xxvng0054tgyt6hbyw9os"},{"post_id":"cjv4xxvlp0019tgyt4qbp3m47","tag_id":"cjv4xxvnf0051tgytsoiu0q0m","_id":"cjv4xxvng0056tgytzayf2q5n"},{"post_id":"cjv4xxvlq001btgytxhr3mleh","tag_id":"cjv4xxvne004wtgytmesjovds","_id":"cjv4xxvnh0058tgyt7xaxw2nf"},{"post_id":"cjv4xxvlq001btgytxhr3mleh","tag_id":"cjv4xxvng0055tgytlktuj9ce","_id":"cjv4xxvnh0059tgytdufbf5db"},{"post_id":"cjv4xxvlr001ctgyt9eevwxhv","tag_id":"cjv4xxvne004wtgytmesjovds","_id":"cjv4xxvni005ctgyt5szjojv6"},{"post_id":"cjv4xxvlr001ctgyt9eevwxhv","tag_id":"cjv4xxvnh005atgytumk1t4ja","_id":"cjv4xxvni005dtgytb2i75j4b"},{"post_id":"cjv4xxvlt001gtgytcahle8ii","tag_id":"cjv4xxvnh005btgytw81efm7k","_id":"cjv4xxvnj005ftgytg05m7j27"},{"post_id":"cjv4xxvlu001jtgyt7m7oklj2","tag_id":"cjv4xxvnh005btgytw81efm7k","_id":"cjv4xxvnk005htgytijvvc5vw"},{"post_id":"cjv4xxvlv001ltgyti3vo5oru","tag_id":"cjv4xxvnh005btgytw81efm7k","_id":"cjv4xxvnk005jtgyt5y3v33ny"},{"post_id":"cjv4xxvlw001otgyt5zscodws","tag_id":"cjv4xxvnh005btgytw81efm7k","_id":"cjv4xxvnl005ltgytuas9ed0y"},{"post_id":"cjv4xxvlx001qtgytrnw083fg","tag_id":"cjv4xxvnh005btgytw81efm7k","_id":"cjv4xxvnm005ntgytgabxuq31"},{"post_id":"cjv4xxvly001stgytfy2wuc7h","tag_id":"cjv4xxvnh005btgytw81efm7k","_id":"cjv4xxvnm005ptgytn6ato6dr"},{"post_id":"cjv4xxvlz001utgytq694duzk","tag_id":"cjv4xxvnh005btgytw81efm7k","_id":"cjv4xxvnn005rtgyt8oofu16s"},{"post_id":"cjv4xxvlz001vtgytjhmxc861","tag_id":"cjv4xxvnh005btgytw81efm7k","_id":"cjv4xxvno005ttgytifb7ghqo"},{"post_id":"cjv4xxvm1001xtgytt8k1o575","tag_id":"cjv4xxvnh005btgytw81efm7k","_id":"cjv4xxvno005vtgyt5sauh92z"},{"post_id":"cjv4xxvm1001ztgytc6oggr1j","tag_id":"cjv4xxvnh005btgytw81efm7k","_id":"cjv4xxvnp005xtgyt3iw3cloz"},{"post_id":"cjv4xxvm20022tgytlxx68xrd","tag_id":"cjv4xxvno005wtgyt8xliyvi1","_id":"cjv4xxvnr0065tgyt5sotcaae"},{"post_id":"cjv4xxvm20022tgytlxx68xrd","tag_id":"cjv4xxvnp005ytgytkogjquhi","_id":"cjv4xxvnr0066tgytp8kvdeb7"},{"post_id":"cjv4xxvm20022tgytlxx68xrd","tag_id":"cjv4xxvnp005ztgytampn2er1","_id":"cjv4xxvnr0068tgytxxkrxi8n"},{"post_id":"cjv4xxvm20022tgytlxx68xrd","tag_id":"cjv4xxvnp0060tgyty3eluatf","_id":"cjv4xxvnr0069tgytips3pvl8"},{"post_id":"cjv4xxvm20022tgytlxx68xrd","tag_id":"cjv4xxvnq0061tgytqc6iejc0","_id":"cjv4xxvns006btgytu6bbthiw"},{"post_id":"cjv4xxvm20022tgytlxx68xrd","tag_id":"cjv4xxvnq0062tgytngvpq6r1","_id":"cjv4xxvns006ctgytxhbmsz4n"},{"post_id":"cjv4xxvm20022tgytlxx68xrd","tag_id":"cjv4xxvnq0063tgytxv56u0hk","_id":"cjv4xxvnt006etgyte6viuiv2"},{"post_id":"cjv4xxvm30024tgyt271d9618","tag_id":"cjv4xxvnq0064tgytfniz89hx","_id":"cjv4xxvnt006ftgyt1bnnhxue"},{"post_id":"cjv4xxvm30024tgyt271d9618","tag_id":"cjv4xxvnr0067tgytxkjl3d70","_id":"cjv4xxvnt006htgytvkw44eyk"},{"post_id":"cjv4xxvm30024tgyt271d9618","tag_id":"cjv4xxvm6002btgyt6zjm1sjj","_id":"cjv4xxvnt006itgytfgw20qdu"},{"post_id":"cjv4xxvm40027tgyt5rcgyvyg","tag_id":"cjv4xxvn5003ttgytgshvpmcs","_id":"cjv4xxvnu006ntgytkodiu4ql"},{"post_id":"cjv4xxvm40027tgyt5rcgyvyg","tag_id":"cjv4xxvnt006gtgyt461t55sp","_id":"cjv4xxvnv006otgyt4ioy6eqm"},{"post_id":"cjv4xxvm40027tgyt5rcgyvyg","tag_id":"cjv4xxvnt006jtgytw3r802kx","_id":"cjv4xxvnv006qtgyttqbwdl1d"},{"post_id":"cjv4xxvm40027tgyt5rcgyvyg","tag_id":"cjv4xxvnt006ktgytee6ny893","_id":"cjv4xxvnv006rtgytl9hbaud0"},{"post_id":"cjv4xxvm40027tgyt5rcgyvyg","tag_id":"cjv4xxvnu006ltgyt7utpnfkd","_id":"cjv4xxvnw006ttgytwjh4tm2l"},{"post_id":"cjv4xxvm6002ctgytglfh2c6c","tag_id":"cjv4xxvnf004ztgyt558hpgrh","_id":"cjv4xxvnw006utgytrhso12yb"},{"post_id":"cjv4xxvm6002ctgytglfh2c6c","tag_id":"cjv4xxvnf0051tgytsoiu0q0m","_id":"cjv4xxvnw006wtgytjt7uev1a"},{"post_id":"cjv4xxvm7002etgytzw7l2am1","tag_id":"cjv4xxvnh005btgytw81efm7k","_id":"cjv4xxvnw006xtgytbio2dwli"},{"post_id":"cjv4xxvm8002gtgytjj70h966","tag_id":"cjv4xxvnf004ztgyt558hpgrh","_id":"cjv4xxvnx0070tgytzy5yv7sg"},{"post_id":"cjv4xxvm8002gtgytjj70h966","tag_id":"cjv4xxvnf0051tgytsoiu0q0m","_id":"cjv4xxvny0071tgyt7e9mgh1c"},{"post_id":"cjv4xxvma002jtgytwkaah8z1","tag_id":"cjv4xxvnf004ztgyt558hpgrh","_id":"cjv4xxvo0007atgyt9fpl83hq"},{"post_id":"cjv4xxvma002jtgytwkaah8z1","tag_id":"cjv4xxvnf0051tgytsoiu0q0m","_id":"cjv4xxvo1007btgyty2q12v04"},{"post_id":"cjv4xxvma002jtgytwkaah8z1","tag_id":"cjv4xxvny0073tgytse0pup5p","_id":"cjv4xxvo1007dtgytq7ehdy78"},{"post_id":"cjv4xxvma002jtgytwkaah8z1","tag_id":"cjv4xxvny0074tgytj2jqiav1","_id":"cjv4xxvo1007etgyt66cwk2x2"},{"post_id":"cjv4xxvma002jtgytwkaah8z1","tag_id":"cjv4xxvnp005ytgytkogjquhi","_id":"cjv4xxvo2007gtgyt7hhilqc6"},{"post_id":"cjv4xxvma002jtgytwkaah8z1","tag_id":"cjv4xxvnz0076tgyt4s96znvc","_id":"cjv4xxvo2007htgytep8tbevt"},{"post_id":"cjv4xxvma002jtgytwkaah8z1","tag_id":"cjv4xxvn7003ytgyt5yu1x79o","_id":"cjv4xxvo2007jtgytl08jvr38"},{"post_id":"cjv4xxvma002jtgytwkaah8z1","tag_id":"cjv4xxvnz0078tgytjozdrg95","_id":"cjv4xxvo2007ktgytvapg45y8"},{"post_id":"cjv4xxvmb002ltgytz4hwaazf","tag_id":"cjv4xxvnf004ztgyt558hpgrh","_id":"cjv4xxvo3007mtgyt5zgq0zdk"},{"post_id":"cjv4xxvmb002ltgytz4hwaazf","tag_id":"cjv4xxvnf0051tgytsoiu0q0m","_id":"cjv4xxvo3007ntgytovu6k0ok"},{"post_id":"cjv4xxvmc002ntgytfauad7uo","tag_id":"cjv4xxvnf004ztgyt558hpgrh","_id":"cjv4xxvo4007ptgyt2n9i1dh3"},{"post_id":"cjv4xxvmc002ntgytfauad7uo","tag_id":"cjv4xxvnf0051tgytsoiu0q0m","_id":"cjv4xxvo4007qtgytjz4dbsbd"},{"post_id":"cjv4xxvmd002otgytcjvygyxg","tag_id":"cjv4xxvnf004ztgyt558hpgrh","_id":"cjv4xxvo4007stgyty7kf1jkj"},{"post_id":"cjv4xxvmd002otgytcjvygyxg","tag_id":"cjv4xxvnf0051tgytsoiu0q0m","_id":"cjv4xxvo4007ttgyt0k1z5m99"},{"post_id":"cjv4xxvme002qtgyt8og0s0lq","tag_id":"cjv4xxvnf004ztgyt558hpgrh","_id":"cjv4xxvo5007wtgyt2ekxrp8c"},{"post_id":"cjv4xxvme002qtgyt8og0s0lq","tag_id":"cjv4xxvnf0051tgytsoiu0q0m","_id":"cjv4xxvo6007xtgytyulemecs"},{"post_id":"cjv4xxvmg002rtgyt27nd9c56","tag_id":"cjv4xxvnf004ztgyt558hpgrh","_id":"cjv4xxvo70080tgytluzdiru3"},{"post_id":"cjv4xxvmg002rtgyt27nd9c56","tag_id":"cjv4xxvnf0051tgytsoiu0q0m","_id":"cjv4xxvo70081tgyt2h17m8v4"},{"post_id":"cjv4xxvmh002ttgytg79fa7es","tag_id":"cjv4xxvnf004ztgyt558hpgrh","_id":"cjv4xxvo80084tgyte7yt75md"},{"post_id":"cjv4xxvmh002ttgytg79fa7es","tag_id":"cjv4xxvnf0051tgytsoiu0q0m","_id":"cjv4xxvo80085tgytk27sb7tt"},{"post_id":"cjv4xxvmi002utgyt72c70504","tag_id":"cjv4xxvnf004ztgyt558hpgrh","_id":"cjv4xxvo90088tgytqkrcwlrt"},{"post_id":"cjv4xxvmi002utgyt72c70504","tag_id":"cjv4xxvo80086tgytyto7ugai","_id":"cjv4xxvo90089tgytsiwi31mc"},{"post_id":"cjv4xxvmj002wtgyt6hxogny1","tag_id":"cjv4xxvnf0051tgytsoiu0q0m","_id":"cjv4xxvoa008ctgyt8ebib6bo"},{"post_id":"cjv4xxvmj002wtgyt6hxogny1","tag_id":"cjv4xxvo9008atgythn9kh6ub","_id":"cjv4xxvoa008dtgytmdsv5edm"},{"post_id":"cjv4xxvmk002xtgyth2kw7i3d","tag_id":"cjv4xxvnf004ztgyt558hpgrh","_id":"cjv4xxvob008htgytuq91uekd"},{"post_id":"cjv4xxvmk002xtgyth2kw7i3d","tag_id":"cjv4xxvoa008etgyt6mrbpfpn","_id":"cjv4xxvob008itgyt5k3ssvbu"},{"post_id":"cjv4xxvmk002xtgyth2kw7i3d","tag_id":"cjv4xxvl5000atgytgddssb80","_id":"cjv4xxvob008ktgyt30mk4zdn"},{"post_id":"cjv4xxvmk002xtgyth2kw7i3d","tag_id":"cjv4xxvmx003itgytmg03v96l","_id":"cjv4xxvob008ltgyt1n82b34y"},{"post_id":"cjv4xxvmm002ztgytdsfu4xgk","tag_id":"cjv4xxvng0055tgytlktuj9ce","_id":"cjv4xxvoc008ntgytufr8mzbz"},{"post_id":"cjv4xxvmm002ztgytdsfu4xgk","tag_id":"cjv4xxvob008jtgytqrk5ofni","_id":"cjv4xxvoc008otgytepm6ymmr"},{"post_id":"cjv4xxvmo0031tgyty25fy1us","tag_id":"cjv4xxvng0055tgytlktuj9ce","_id":"cjv4xxvod008qtgytflvva4ej"},{"post_id":"cjv4xxvmp0034tgytk5m037f1","tag_id":"cjv4xxvng0055tgytlktuj9ce","_id":"cjv4xxvof008vtgytdxqsjlc4"},{"post_id":"cjv4xxvmp0034tgytk5m037f1","tag_id":"cjv4xxvod008rtgyt9cz3tv1p","_id":"cjv4xxvof008wtgyt2te6vjor"},{"post_id":"cjv4xxvmp0034tgytk5m037f1","tag_id":"cjv4xxvod008stgytrods0l4a","_id":"cjv4xxvof008ytgyt1m5vsum5"},{"post_id":"cjv4xxvmp0034tgytk5m037f1","tag_id":"cjv4xxvny0074tgytj2jqiav1","_id":"cjv4xxvof008ztgyt44vy9pgy"},{"post_id":"cjv4xxvmq0036tgytagepmnuf","tag_id":"cjv4xxvn5003ttgytgshvpmcs","_id":"cjv4xxvog0093tgyt492rridx"},{"post_id":"cjv4xxvmq0036tgytagepmnuf","tag_id":"cjv4xxvof008xtgytg7q15n4q","_id":"cjv4xxvoh0094tgytu3kpjzsz"},{"post_id":"cjv4xxvmq0036tgytagepmnuf","tag_id":"cjv4xxvnf0051tgytsoiu0q0m","_id":"cjv4xxvoh0096tgyte4ioicx9"},{"post_id":"cjv4xxvmq0036tgytagepmnuf","tag_id":"cjv4xxvnf004ztgyt558hpgrh","_id":"cjv4xxvoh0097tgyt3ra48ojg"},{"post_id":"cjv4xxvms0039tgytubgcoh7w","tag_id":"cjv4xxvn5003ttgytgshvpmcs","_id":"cjv4xxvon009btgyt1gos8p98"},{"post_id":"cjv4xxvms0039tgytubgcoh7w","tag_id":"cjv4xxvof008xtgytg7q15n4q","_id":"cjv4xxvoo009ctgyto4y90w9e"},{"post_id":"cjv4xxvms0039tgytubgcoh7w","tag_id":"cjv4xxvnf0051tgytsoiu0q0m","_id":"cjv4xxvoo009etgytrygmpvsw"},{"post_id":"cjv4xxvms0039tgytubgcoh7w","tag_id":"cjv4xxvnf004ztgyt558hpgrh","_id":"cjv4xxvoo009ftgytlehyqk1d"},{"post_id":"cjv4xxvmx003jtgytvosf8uih","tag_id":"cjv4xxvm9002htgyt35nmrjye","_id":"cjv4xxvoo009htgyt509cmkbg"},{"post_id":"cjv4xxvmx003jtgytvosf8uih","tag_id":"cjv4xxvmx003itgytmg03v96l","_id":"cjv4xxvoo009itgyttm8icfbo"},{"post_id":"cjv4xxvmx003jtgytvosf8uih","tag_id":"cjv4xxvl5000atgytgddssb80","_id":"cjv4xxvop009ktgytomphkb6r"},{"post_id":"cjv4xxvmy003ltgyt0z5dqt8p","tag_id":"cjv4xxvoo009dtgyt69h87d3u","_id":"cjv4xxvop009mtgyt5tzjy4t3"},{"post_id":"cjv4xxvmy003ltgyt0z5dqt8p","tag_id":"cjv4xxvoo009gtgytsxtvdxfq","_id":"cjv4xxvop009ntgyt5u6243gq"},{"post_id":"cjv4xxvmy003ltgyt0z5dqt8p","tag_id":"cjv4xxvop009jtgytbcc3xw6i","_id":"cjv4xxvoq009ptgyty9fgaxo1"},{"post_id":"cjv4xxvn0003ntgytugfy9wsi","tag_id":"cjv4xxvn5003ttgytgshvpmcs","_id":"cjv4xxvos009xtgyta1dz5t7s"},{"post_id":"cjv4xxvn0003ntgytugfy9wsi","tag_id":"cjv4xxvop009otgytwq31k3c6","_id":"cjv4xxvos009ytgyt9nevvrf7"},{"post_id":"cjv4xxvn0003ntgytugfy9wsi","tag_id":"cjv4xxvoq009qtgytdgrhnmfn","_id":"cjv4xxvos00a0tgytf18ljj6l"},{"post_id":"cjv4xxvn0003ntgytugfy9wsi","tag_id":"cjv4xxvoq009rtgytqm2rxcjp","_id":"cjv4xxvos00a1tgyt8ae1fic5"},{"post_id":"cjv4xxvn0003ntgytugfy9wsi","tag_id":"cjv4xxvoq009stgyto0ur03jy","_id":"cjv4xxvos00a3tgytw3q5tnx8"},{"post_id":"cjv4xxvn0003ntgytugfy9wsi","tag_id":"cjv4xxvoq009ttgyt4w19rbe2","_id":"cjv4xxvot00a4tgyte37k5371"},{"post_id":"cjv4xxvn0003ntgytugfy9wsi","tag_id":"cjv4xxvor009utgyteg8m6ef4","_id":"cjv4xxvot00a6tgyth8s2p1e0"},{"post_id":"cjv4xxvn0003ntgytugfy9wsi","tag_id":"cjv4xxvor009vtgytbybw2ncm","_id":"cjv4xxvot00a7tgyt8ur6gezi"},{"post_id":"cjv4xxvn4003stgytahs38doa","tag_id":"cjv4xxvn5003ttgytgshvpmcs","_id":"cjv4xxvou00a9tgytd5sw3hpx"},{"post_id":"cjv4xxvn4003stgytahs38doa","tag_id":"cjv4xxvos009ztgyt7yjh4u4y","_id":"cjv4xxvou00aatgyti2tmpars"},{"post_id":"cjv4xxvn4003stgytahs38doa","tag_id":"cjv4xxvnh005btgytw81efm7k","_id":"cjv4xxvou00abtgytvfsdevxd"},{"post_id":"cjv4xxvn5003vtgytw9e8iku5","tag_id":"cjv4xxvno005wtgyt8xliyvi1","_id":"cjv4xxvou00actgytjtbd9azz"},{"post_id":"cjv4xxvn5003vtgytw9e8iku5","tag_id":"cjv4xxvnq0063tgytxv56u0hk","_id":"cjv4xxvou00adtgytfxg4ktvv"}],"Tag":[{"name":"","_id":"cjv4xxvkw0003tgytu4t7p17d"},{"name":"LeetCode","_id":"cjv4xxvl10007tgyt9i8a2wec"},{"name":"","_id":"cjv4xxvl5000atgytgddssb80"},{"name":"","_id":"cjv4xxvl8000ftgyty3s7ieqf"},{"name":"Appium","_id":"cjv4xxvla000ktgytdrrypd8w"},{"name":"Android","_id":"cjv4xxvld000qtgyt3hy7rris"},{"name":"IOS","_id":"cjv4xxvlq001atgytq7vvxex8"},{"name":"Puppeteer","_id":"cjv4xxvls001dtgyt6r0kaux5"},{"name":"","_id":"cjv4xxvlw001ntgytnvthd8k0"},{"name":"e2e","_id":"cjv4xxvly001ttgytbeaqnath"},{"name":"","_id":"cjv4xxvm20021tgytxyvglkew"},{"name":"Jinja2","_id":"cjv4xxvm40026tgythqjxwqyl"},{"name":"Flask","_id":"cjv4xxvm6002btgyt6zjm1sjj"},{"name":"Jest","_id":"cjv4xxvm9002htgyt35nmrjye"},{"name":"","_id":"cjv4xxvmh002stgytp07va8ij"},{"name":"DOM","_id":"cjv4xxvmu003dtgyt0cics33d"},{"name":"","_id":"cjv4xxvmx003itgytmg03v96l"},{"name":"JS ","_id":"cjv4xxvn1003otgytiljplp6s"},{"name":"","_id":"cjv4xxvn5003ttgytgshvpmcs"},{"name":"","_id":"cjv4xxvn7003ytgyt5yu1x79o"},{"name":"","_id":"cjv4xxvn70041tgytniok5qj6"},{"name":"","_id":"cjv4xxvn80043tgyt7w6pizpr"},{"name":"Trie ","_id":"cjv4xxvn80044tgytwx12aobd"},{"name":"Mori","_id":"cjv4xxvn80045tgytik6y40n6"},{"name":"Immutable.js","_id":"cjv4xxvn80046tgyt69oemefu"},{"name":"Clojure","_id":"cjv4xxvn80047tgytnwenlkwx"},{"name":"Karma","_id":"cjv4xxvn80048tgytn8f833u6"},{"name":"","_id":"cjv4xxvna004etgytfxtb2s2u"},{"name":"TensorFlow","_id":"cjv4xxvna004htgytnluotna0"},{"name":"Object Detection API","_id":"cjv4xxvnb004ktgytnbn392zg"},{"name":"","_id":"cjv4xxvnc004otgyt7kmrtxgq"},{"name":"Angular","_id":"cjv4xxvne004wtgytmesjovds"},{"name":"React","_id":"cjv4xxvnf004ztgyt558hpgrh"},{"name":"Redux","_id":"cjv4xxvnf0051tgytsoiu0q0m"},{"name":"RequireJs","_id":"cjv4xxvng0055tgytlktuj9ce"},{"name":"jQuery","_id":"cjv4xxvnh005atgytumk1t4ja"},{"name":"Angular2","_id":"cjv4xxvnh005btgytw81efm7k"},{"name":"practical-js","_id":"cjv4xxvno005wtgyt8xliyvi1"},{"name":"Node","_id":"cjv4xxvnp005ytgytkogjquhi"},{"name":"","_id":"cjv4xxvnp005ztgytampn2er1"},{"name":"superagent","_id":"cjv4xxvnp0060tgyty3eluatf"},{"name":"cheerio","_id":"cjv4xxvnq0061tgytqc6iejc0"},{"name":"","_id":"cjv4xxvnq0062tgytngvpq6r1"},{"name":"","_id":"cjv4xxvnq0063tgytxv56u0hk"},{"name":"nginx","_id":"cjv4xxvnq0064tgytfniz89hx"},{"name":"","_id":"cjv4xxvnr0067tgytxkjl3d70"},{"name":"Preact","_id":"cjv4xxvnt006gtgyt461t55sp"},{"name":"JSX","_id":"cjv4xxvnt006jtgytw3r802kx"},{"name":"DOM","_id":"cjv4xxvnt006ktgytee6ny893"},{"name":"","_id":"cjv4xxvnu006ltgyt7utpnfkd"},{"name":"Babel","_id":"cjv4xxvny0073tgytse0pup5p"},{"name":"Webpack","_id":"cjv4xxvny0074tgytj2jqiav1"},{"name":"Universal","_id":"cjv4xxvnz0076tgyt4s96znvc"},{"name":"","_id":"cjv4xxvnz0078tgytjozdrg95"},{"name":"Reflux","_id":"cjv4xxvo80086tgytyto7ugai"},{"name":"redux-amrc","_id":"cjv4xxvo9008atgythn9kh6ub"},{"name":"render-react-components","_id":"cjv4xxvoa008etgyt6mrbpfpn"},{"name":"Bootstrap","_id":"cjv4xxvob008jtgytqrk5ofni"},{"name":"r.js","_id":"cjv4xxvod008rtgyt9cz3tv1p"},{"name":"Gulp","_id":"cjv4xxvod008stgytrods0l4a"},{"name":"RxJS","_id":"cjv4xxvof008xtgytg7q15n4q"},{"name":"SVG","_id":"cjv4xxvoo009dtgyt69h87d3u"},{"name":"","_id":"cjv4xxvoo009gtgytsxtvdxfq"},{"name":"SVG SMIL animation","_id":"cjv4xxvop009jtgytbcc3xw6i"},{"name":"","_id":"cjv4xxvop009otgytwq31k3c6"},{"name":"","_id":"cjv4xxvoq009qtgytdgrhnmfn"},{"name":"","_id":"cjv4xxvoq009rtgytqm2rxcjp"},{"name":"left-pad","_id":"cjv4xxvoq009stgyto0ur03jy"},{"name":"Miri ","_id":"cjv4xxvoq009ttgyt4w19rbe2"},{"name":"Fitbit","_id":"cjv4xxvor009utgyteg8m6ef4"},{"name":"","_id":"cjv4xxvor009vtgytbybw2ncm"},{"name":"TypeScript","_id":"cjv4xxvos009ztgyt7yjh4u4y"}]}}